/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/_app"],{

/***/ "./node_modules/@datadog/browser-core/esm/boot/init.js":
/*!*************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/boot/init.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"defineGlobal\": function() { return /* binding */ defineGlobal; },\n/* harmony export */   \"makePublicApi\": function() { return /* binding */ makePublicApi; }\n/* harmony export */ });\n/* harmony import */ var _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/catchUserErrors */ \"./node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n\n\nfunction makePublicApi(stub) {\n    var publicApi = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.assign)({\n        version: \"4.11.3\",\n        // This API method is intentionally not monitored, since the only thing executed is the\n        // user-provided 'callback'.  All SDK usages executed in the callback should be monitored, and\n        // we don't want to interfere with the user uncaught exceptions.\n        onReady: function (callback) {\n            callback();\n        },\n    }, stub);\n    // Add a \"hidden\" property to set debug mode. We define it that way to hide it\n    // as much as possible but of course it's not a real protection.\n    Object.defineProperty(publicApi, '_setDebug', {\n        get: function () {\n            return _tools_monitor__WEBPACK_IMPORTED_MODULE_1__.setDebugMode;\n        },\n        enumerable: false,\n    });\n    return publicApi;\n}\nfunction defineGlobal(global, name, api) {\n    var existingGlobalVariable = global[name];\n    global[name] = api;\n    if (existingGlobalVariable && existingGlobalVariable.q) {\n        existingGlobalVariable.q.forEach(function (fn) { return (0,_tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__.catchUserErrors)(fn, 'onReady callback threw an error:')(); });\n    }\n}\n//# sourceMappingURL=init.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9ib290L2luaXQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkQ7QUFDWDtBQUNSO0FBQ2pDO0FBQ1Asb0JBQW9CLG9EQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0RBQVk7QUFDL0IsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxPQUFPLHVFQUFlLDZDQUE2QztBQUM1SDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYm9vdC9pbml0LmpzPzZjMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2F0Y2hVc2VyRXJyb3JzIH0gZnJvbSAnLi4vdG9vbHMvY2F0Y2hVc2VyRXJyb3JzJztcbmltcG9ydCB7IHNldERlYnVnTW9kZSB9IGZyb20gJy4uL3Rvb2xzL21vbml0b3InO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMnO1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQdWJsaWNBcGkoc3R1Yikge1xuICAgIHZhciBwdWJsaWNBcGkgPSBhc3NpZ24oe1xuICAgICAgICB2ZXJzaW9uOiBcIjQuMTEuM1wiLFxuICAgICAgICAvLyBUaGlzIEFQSSBtZXRob2QgaXMgaW50ZW50aW9uYWxseSBub3QgbW9uaXRvcmVkLCBzaW5jZSB0aGUgb25seSB0aGluZyBleGVjdXRlZCBpcyB0aGVcbiAgICAgICAgLy8gdXNlci1wcm92aWRlZCAnY2FsbGJhY2snLiAgQWxsIFNESyB1c2FnZXMgZXhlY3V0ZWQgaW4gdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBtb25pdG9yZWQsIGFuZFxuICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGludGVyZmVyZSB3aXRoIHRoZSB1c2VyIHVuY2F1Z2h0IGV4Y2VwdGlvbnMuXG4gICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSxcbiAgICB9LCBzdHViKTtcbiAgICAvLyBBZGQgYSBcImhpZGRlblwiIHByb3BlcnR5IHRvIHNldCBkZWJ1ZyBtb2RlLiBXZSBkZWZpbmUgaXQgdGhhdCB3YXkgdG8gaGlkZSBpdFxuICAgIC8vIGFzIG11Y2ggYXMgcG9zc2libGUgYnV0IG9mIGNvdXJzZSBpdCdzIG5vdCBhIHJlYWwgcHJvdGVjdGlvbi5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHVibGljQXBpLCAnX3NldERlYnVnJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXREZWJ1Z01vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xuICAgIHJldHVybiBwdWJsaWNBcGk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lR2xvYmFsKGdsb2JhbCwgbmFtZSwgYXBpKSB7XG4gICAgdmFyIGV4aXN0aW5nR2xvYmFsVmFyaWFibGUgPSBnbG9iYWxbbmFtZV07XG4gICAgZ2xvYmFsW25hbWVdID0gYXBpO1xuICAgIGlmIChleGlzdGluZ0dsb2JhbFZhcmlhYmxlICYmIGV4aXN0aW5nR2xvYmFsVmFyaWFibGUucSkge1xuICAgICAgICBleGlzdGluZ0dsb2JhbFZhcmlhYmxlLnEuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGNhdGNoVXNlckVycm9ycyhmbiwgJ29uUmVhZHkgY2FsbGJhY2sgdGhyZXcgYW4gZXJyb3I6JykoKTsgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/boot/init.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/browser/cookie.js":
/*!******************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/browser/cookie.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"COOKIE_ACCESS_DELAY\": function() { return /* binding */ COOKIE_ACCESS_DELAY; },\n/* harmony export */   \"areCookiesAuthorized\": function() { return /* binding */ areCookiesAuthorized; },\n/* harmony export */   \"deleteCookie\": function() { return /* binding */ deleteCookie; },\n/* harmony export */   \"getCookie\": function() { return /* binding */ getCookie; },\n/* harmony export */   \"getCurrentSite\": function() { return /* binding */ getCurrentSite; },\n/* harmony export */   \"setCookie\": function() { return /* binding */ setCookie; }\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/display */ \"./node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n\nvar COOKIE_ACCESS_DELAY = _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND;\nfunction setCookie(name, value, expireDelay, options) {\n    var date = new Date();\n    date.setTime(date.getTime() + expireDelay);\n    var expires = \"expires=\".concat(date.toUTCString());\n    var sameSite = options && options.crossSite ? 'none' : 'strict';\n    var domain = options && options.domain ? \";domain=\".concat(options.domain) : '';\n    var secure = options && options.secure ? ';secure' : '';\n    document.cookie = \"\".concat(name, \"=\").concat(value, \";\").concat(expires, \";path=/;samesite=\").concat(sameSite).concat(domain).concat(secure);\n}\nfunction getCookie(name) {\n    return (0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.findCommaSeparatedValue)(document.cookie, name);\n}\nfunction deleteCookie(name, options) {\n    setCookie(name, '', 0, options);\n}\nfunction areCookiesAuthorized(options) {\n    if (document.cookie === undefined || document.cookie === null) {\n        return false;\n    }\n    try {\n        // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during\n        // the test cookie lifetime\n        var testCookieName = \"dd_cookie_test_\".concat((0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)());\n        var testCookieValue = 'test';\n        setCookie(testCookieName, testCookieValue, _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND, options);\n        var isCookieCorrectlySet = getCookie(testCookieName) === testCookieValue;\n        deleteCookie(testCookieName, options);\n        return isCookieCorrectlySet;\n    }\n    catch (error) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_1__.display.error(error);\n        return false;\n    }\n}\n/**\n * No API to retrieve it, number of levels for subdomain and suffix are unknown\n * strategy: find the minimal domain on which cookies are allowed to be set\n * https://web.dev/same-site-same-origin/#site\n */\nvar getCurrentSiteCache;\nfunction getCurrentSite() {\n    if (getCurrentSiteCache === undefined) {\n        // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during\n        // the test cookie lifetime\n        var testCookieName = \"dd_site_test_\".concat((0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)());\n        var testCookieValue = 'test';\n        var domainLevels = window.location.hostname.split('.');\n        var candidateDomain = domainLevels.pop();\n        while (domainLevels.length && !getCookie(testCookieName)) {\n            candidateDomain = \"\".concat(domainLevels.pop(), \".\").concat(candidateDomain);\n            setCookie(testCookieName, testCookieValue, _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND, { domain: candidateDomain });\n        }\n        deleteCookie(testCookieName, { domain: candidateDomain });\n        getCurrentSiteCache = candidateDomain;\n    }\n    return getCurrentSiteCache;\n}\n//# sourceMappingURL=cookie.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9icm93c2VyL2Nvb2tpZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyQztBQUN3QztBQUM1RSwwQkFBMEIsb0RBQVU7QUFDcEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQywrQ0FBK0M7QUFDL0MsMkRBQTJELHFCQUFxQixPQUFPO0FBQ3ZGO0FBQ087QUFDUCxXQUFXLHFFQUF1QjtBQUNsQztBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDBEQUFZO0FBQ2xFO0FBQ0EsbURBQW1ELG9EQUFVO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlEQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELDBEQUFZO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsb0RBQVUsSUFBSSx5QkFBeUI7QUFDOUY7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9jb29raWUuanM/OGI5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi4vdG9vbHMvZGlzcGxheSc7XG5pbXBvcnQgeyBmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZSwgZ2VuZXJhdGVVVUlELCBPTkVfU0VDT05EIH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMnO1xuZXhwb3J0IHZhciBDT09LSUVfQUNDRVNTX0RFTEFZID0gT05FX1NFQ09ORDtcbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29raWUobmFtZSwgdmFsdWUsIGV4cGlyZURlbGF5LCBvcHRpb25zKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIGV4cGlyZURlbGF5KTtcbiAgICB2YXIgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIi5jb25jYXQoZGF0ZS50b1VUQ1N0cmluZygpKTtcbiAgICB2YXIgc2FtZVNpdGUgPSBvcHRpb25zICYmIG9wdGlvbnMuY3Jvc3NTaXRlID8gJ25vbmUnIDogJ3N0cmljdCc7XG4gICAgdmFyIGRvbWFpbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kb21haW4gPyBcIjtkb21haW49XCIuY29uY2F0KG9wdGlvbnMuZG9tYWluKSA6ICcnO1xuICAgIHZhciBzZWN1cmUgPSBvcHRpb25zICYmIG9wdGlvbnMuc2VjdXJlID8gJztzZWN1cmUnIDogJyc7XG4gICAgZG9jdW1lbnQuY29va2llID0gXCJcIi5jb25jYXQobmFtZSwgXCI9XCIpLmNvbmNhdCh2YWx1ZSwgXCI7XCIpLmNvbmNhdChleHBpcmVzLCBcIjtwYXRoPS87c2FtZXNpdGU9XCIpLmNvbmNhdChzYW1lU2l0ZSkuY29uY2F0KGRvbWFpbikuY29uY2F0KHNlY3VyZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHtcbiAgICByZXR1cm4gZmluZENvbW1hU2VwYXJhdGVkVmFsdWUoZG9jdW1lbnQuY29va2llLCBuYW1lKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDb29raWUobmFtZSwgb3B0aW9ucykge1xuICAgIHNldENvb2tpZShuYW1lLCAnJywgMCwgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJlQ29va2llc0F1dGhvcml6ZWQob3B0aW9ucykge1xuICAgIGlmIChkb2N1bWVudC5jb29raWUgPT09IHVuZGVmaW5lZCB8fCBkb2N1bWVudC5jb29raWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyBVc2UgYSB1bmlxdWUgY29va2llIG5hbWUgdG8gYXZvaWQgaXNzdWVzIHdoZW4gdGhlIFNESyBpcyBpbml0aWFsaXplZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmdcbiAgICAgICAgLy8gdGhlIHRlc3QgY29va2llIGxpZmV0aW1lXG4gICAgICAgIHZhciB0ZXN0Q29va2llTmFtZSA9IFwiZGRfY29va2llX3Rlc3RfXCIuY29uY2F0KGdlbmVyYXRlVVVJRCgpKTtcbiAgICAgICAgdmFyIHRlc3RDb29raWVWYWx1ZSA9ICd0ZXN0JztcbiAgICAgICAgc2V0Q29va2llKHRlc3RDb29raWVOYW1lLCB0ZXN0Q29va2llVmFsdWUsIE9ORV9TRUNPTkQsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgaXNDb29raWVDb3JyZWN0bHlTZXQgPSBnZXRDb29raWUodGVzdENvb2tpZU5hbWUpID09PSB0ZXN0Q29va2llVmFsdWU7XG4gICAgICAgIGRlbGV0ZUNvb2tpZSh0ZXN0Q29va2llTmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBpc0Nvb2tpZUNvcnJlY3RseVNldDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGRpc3BsYXkuZXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBObyBBUEkgdG8gcmV0cmlldmUgaXQsIG51bWJlciBvZiBsZXZlbHMgZm9yIHN1YmRvbWFpbiBhbmQgc3VmZml4IGFyZSB1bmtub3duXG4gKiBzdHJhdGVneTogZmluZCB0aGUgbWluaW1hbCBkb21haW4gb24gd2hpY2ggY29va2llcyBhcmUgYWxsb3dlZCB0byBiZSBzZXRcbiAqIGh0dHBzOi8vd2ViLmRldi9zYW1lLXNpdGUtc2FtZS1vcmlnaW4vI3NpdGVcbiAqL1xudmFyIGdldEN1cnJlbnRTaXRlQ2FjaGU7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFNpdGUoKSB7XG4gICAgaWYgKGdldEN1cnJlbnRTaXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBVc2UgYSB1bmlxdWUgY29va2llIG5hbWUgdG8gYXZvaWQgaXNzdWVzIHdoZW4gdGhlIFNESyBpcyBpbml0aWFsaXplZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmdcbiAgICAgICAgLy8gdGhlIHRlc3QgY29va2llIGxpZmV0aW1lXG4gICAgICAgIHZhciB0ZXN0Q29va2llTmFtZSA9IFwiZGRfc2l0ZV90ZXN0X1wiLmNvbmNhdChnZW5lcmF0ZVVVSUQoKSk7XG4gICAgICAgIHZhciB0ZXN0Q29va2llVmFsdWUgPSAndGVzdCc7XG4gICAgICAgIHZhciBkb21haW5MZXZlbHMgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZURvbWFpbiA9IGRvbWFpbkxldmVscy5wb3AoKTtcbiAgICAgICAgd2hpbGUgKGRvbWFpbkxldmVscy5sZW5ndGggJiYgIWdldENvb2tpZSh0ZXN0Q29va2llTmFtZSkpIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZURvbWFpbiA9IFwiXCIuY29uY2F0KGRvbWFpbkxldmVscy5wb3AoKSwgXCIuXCIpLmNvbmNhdChjYW5kaWRhdGVEb21haW4pO1xuICAgICAgICAgICAgc2V0Q29va2llKHRlc3RDb29raWVOYW1lLCB0ZXN0Q29va2llVmFsdWUsIE9ORV9TRUNPTkQsIHsgZG9tYWluOiBjYW5kaWRhdGVEb21haW4gfSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlQ29va2llKHRlc3RDb29raWVOYW1lLCB7IGRvbWFpbjogY2FuZGlkYXRlRG9tYWluIH0pO1xuICAgICAgICBnZXRDdXJyZW50U2l0ZUNhY2hlID0gY2FuZGlkYXRlRG9tYWluO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Q3VycmVudFNpdGVDYWNoZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvb2tpZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/browser/cookie.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/browser/fetchObservable.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/browser/fetchObservable.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initFetchObservable\": function() { return /* binding */ initFetchObservable; }\n/* harmony export */ });\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/instrumentMethod */ \"./node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"./node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/timeUtils */ \"./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\");\n/* harmony import */ var _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/urlPolyfill */ \"./node_modules/@datadog/browser-core/esm/tools/urlPolyfill.js\");\n\n\n\n\n\nvar fetchObservable;\nfunction initFetchObservable() {\n    if (!fetchObservable) {\n        fetchObservable = createFetchObservable();\n    }\n    return fetchObservable;\n}\nfunction createFetchObservable() {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        if (!window.fetch) {\n            return;\n        }\n        var stop = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethod)(window, 'fetch', function (originalFetch) {\n            return function (input, init) {\n                var responsePromise;\n                var context = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.callMonitored)(beforeSend, null, [observable, input, init]);\n                if (context) {\n                    responsePromise = originalFetch.call(this, context.input, context.init);\n                    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.callMonitored)(afterSend, null, [observable, responsePromise, context]);\n                }\n                else {\n                    responsePromise = originalFetch.call(this, input, init);\n                }\n                return responsePromise;\n            };\n        }).stop;\n        return stop;\n    });\n    return observable;\n}\nfunction beforeSend(observable, input, init) {\n    var method = (init && init.method) || (typeof input === 'object' && input.method) || 'GET';\n    var url = (0,_tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_3__.normalizeUrl)((typeof input === 'object' && input.url) || input);\n    var startClocks = (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__.clocksNow)();\n    var context = {\n        state: 'start',\n        init: init,\n        input: input,\n        method: method,\n        startClocks: startClocks,\n        url: url,\n    };\n    observable.notify(context);\n    return context;\n}\nfunction afterSend(observable, responsePromise, startContext) {\n    var reportFetch = function (response) {\n        var context = startContext;\n        context.state = 'complete';\n        context.duration = (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__.elapsed)(context.startClocks.timeStamp, (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__.timeStampNow)());\n        if ('stack' in response || response instanceof Error) {\n            context.status = 0;\n            context.isAborted = response instanceof DOMException && response.code === DOMException.ABORT_ERR;\n            context.error = response;\n            observable.notify(context);\n        }\n        else if ('status' in response) {\n            context.response = response;\n            context.responseType = response.type;\n            context.status = response.status;\n            context.isAborted = false;\n            observable.notify(context);\n        }\n    };\n    responsePromise.then((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(reportFetch), (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(reportFetch));\n}\n//# sourceMappingURL=fetchObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9icm93c2VyL2ZldGNoT2JzZXJ2YWJsZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNkQ7QUFDSDtBQUNUO0FBQ3FCO0FBQ2xCO0FBQ3BEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIseURBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlFQUFnQjtBQUNuQztBQUNBO0FBQ0EsOEJBQThCLDZEQUFhO0FBQzNDO0FBQ0E7QUFDQSxvQkFBb0IsNkRBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnRUFBWTtBQUMxQixzQkFBc0IsMkRBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlEQUFPLGdDQUFnQyw4REFBWTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFPLGVBQWUsdURBQU87QUFDdEQ7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9icm93c2VyL2ZldGNoT2JzZXJ2YWJsZS5qcz8wNTI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluc3RydW1lbnRNZXRob2QgfSBmcm9tICcuLi90b29scy9pbnN0cnVtZW50TWV0aG9kJztcbmltcG9ydCB7IGNhbGxNb25pdG9yZWQsIG1vbml0b3IgfSBmcm9tICcuLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi90b29scy9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGVsYXBzZWQsIGNsb2Nrc05vdywgdGltZVN0YW1wTm93IH0gZnJvbSAnLi4vdG9vbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IG5vcm1hbGl6ZVVybCB9IGZyb20gJy4uL3Rvb2xzL3VybFBvbHlmaWxsJztcbnZhciBmZXRjaE9ic2VydmFibGU7XG5leHBvcnQgZnVuY3Rpb24gaW5pdEZldGNoT2JzZXJ2YWJsZSgpIHtcbiAgICBpZiAoIWZldGNoT2JzZXJ2YWJsZSkge1xuICAgICAgICBmZXRjaE9ic2VydmFibGUgPSBjcmVhdGVGZXRjaE9ic2VydmFibGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZldGNoT2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZldGNoT2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF3aW5kb3cuZmV0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RvcCA9IGluc3RydW1lbnRNZXRob2Qod2luZG93LCAnZmV0Y2gnLCBmdW5jdGlvbiAob3JpZ2luYWxGZXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCwgaW5pdCkge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZVByb21pc2U7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjYWxsTW9uaXRvcmVkKGJlZm9yZVNlbmQsIG51bGwsIFtvYnNlcnZhYmxlLCBpbnB1dCwgaW5pdF0pO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZSA9IG9yaWdpbmFsRmV0Y2guY2FsbCh0aGlzLCBjb250ZXh0LmlucHV0LCBjb250ZXh0LmluaXQpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsTW9uaXRvcmVkKGFmdGVyU2VuZCwgbnVsbCwgW29ic2VydmFibGUsIHJlc3BvbnNlUHJvbWlzZSwgY29udGV4dF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlID0gb3JpZ2luYWxGZXRjaC5jYWxsKHRoaXMsIGlucHV0LCBpbml0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlUHJvbWlzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLnN0b3A7XG4gICAgICAgIHJldHVybiBzdG9wO1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gYmVmb3JlU2VuZChvYnNlcnZhYmxlLCBpbnB1dCwgaW5pdCkge1xuICAgIHZhciBtZXRob2QgPSAoaW5pdCAmJiBpbml0Lm1ldGhvZCkgfHwgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQubWV0aG9kKSB8fCAnR0VUJztcbiAgICB2YXIgdXJsID0gbm9ybWFsaXplVXJsKCh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0LnVybCkgfHwgaW5wdXQpO1xuICAgIHZhciBzdGFydENsb2NrcyA9IGNsb2Nrc05vdygpO1xuICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICBzdGF0ZTogJ3N0YXJ0JyxcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgaW5wdXQ6IGlucHV0LFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgc3RhcnRDbG9ja3M6IHN0YXJ0Q2xvY2tzLFxuICAgICAgICB1cmw6IHVybCxcbiAgICB9O1xuICAgIG9ic2VydmFibGUubm90aWZ5KGNvbnRleHQpO1xuICAgIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gYWZ0ZXJTZW5kKG9ic2VydmFibGUsIHJlc3BvbnNlUHJvbWlzZSwgc3RhcnRDb250ZXh0KSB7XG4gICAgdmFyIHJlcG9ydEZldGNoID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gc3RhcnRDb250ZXh0O1xuICAgICAgICBjb250ZXh0LnN0YXRlID0gJ2NvbXBsZXRlJztcbiAgICAgICAgY29udGV4dC5kdXJhdGlvbiA9IGVsYXBzZWQoY29udGV4dC5zdGFydENsb2Nrcy50aW1lU3RhbXAsIHRpbWVTdGFtcE5vdygpKTtcbiAgICAgICAgaWYgKCdzdGFjaycgaW4gcmVzcG9uc2UgfHwgcmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgY29udGV4dC5zdGF0dXMgPSAwO1xuICAgICAgICAgICAgY29udGV4dC5pc0Fib3J0ZWQgPSByZXNwb25zZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiByZXNwb25zZS5jb2RlID09PSBET01FeGNlcHRpb24uQUJPUlRfRVJSO1xuICAgICAgICAgICAgY29udGV4dC5lcnJvciA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoJ3N0YXR1cycgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgIGNvbnRleHQucmVzcG9uc2VUeXBlID0gcmVzcG9uc2UudHlwZTtcbiAgICAgICAgICAgIGNvbnRleHQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgY29udGV4dC5pc0Fib3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG9ic2VydmFibGUubm90aWZ5KGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXNwb25zZVByb21pc2UudGhlbihtb25pdG9yKHJlcG9ydEZldGNoKSwgbW9uaXRvcihyZXBvcnRGZXRjaCkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV0Y2hPYnNlcnZhYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/browser/fetchObservable.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/browser/xhrObservable.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/browser/xhrObservable.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initXhrObservable\": function() { return /* binding */ initXhrObservable; }\n/* harmony export */ });\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/instrumentMethod */ \"./node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"./node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/timeUtils */ \"./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\");\n/* harmony import */ var _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/urlPolyfill */ \"./node_modules/@datadog/browser-core/esm/tools/urlPolyfill.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n\n\n\n\n\nvar xhrObservable;\nvar xhrContexts = new WeakMap();\nfunction initXhrObservable() {\n    if (!xhrObservable) {\n        xhrObservable = createXhrObservable();\n    }\n    return xhrObservable;\n}\nfunction createXhrObservable() {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var stopInstrumentingStart = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(XMLHttpRequest.prototype, 'open', {\n            before: openXhr,\n        }).stop;\n        var stopInstrumentingSend = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(XMLHttpRequest.prototype, 'send', {\n            before: function () {\n                sendXhr.call(this, observable);\n            },\n        }).stop;\n        var stopInstrumentingAbort = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(XMLHttpRequest.prototype, 'abort', {\n            before: abortXhr,\n        }).stop;\n        return function () {\n            stopInstrumentingStart();\n            stopInstrumentingSend();\n            stopInstrumentingAbort();\n        };\n    });\n    return observable;\n}\nfunction openXhr(method, url) {\n    xhrContexts.set(this, {\n        state: 'open',\n        method: method,\n        url: (0,_tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_2__.normalizeUrl)(url.toString()),\n    });\n}\nfunction sendXhr(observable) {\n    var _this = this;\n    var context = xhrContexts.get(this);\n    if (!context) {\n        return;\n    }\n    var startContext = context;\n    startContext.state = 'start';\n    startContext.startTime = (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_3__.relativeNow)();\n    startContext.startClocks = (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_3__.clocksNow)();\n    startContext.isAborted = false;\n    startContext.xhr = this;\n    var hasBeenReported = false;\n    var stopInstrumentingOnReadyStateChange = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(this, 'onreadystatechange', {\n        before: function () {\n            if (this.readyState === XMLHttpRequest.DONE) {\n                // Try to report the XHR as soon as possible, because the XHR may be mutated by the\n                // application during a future event. For example, Angular is calling .abort() on\n                // completed requests during a onreadystatechange event, so the status becomes '0'\n                // before the request is collected.\n                onEnd();\n            }\n        },\n    }).stop;\n    var onEnd = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_4__.monitor)(function () {\n        _this.removeEventListener('loadend', onEnd);\n        stopInstrumentingOnReadyStateChange();\n        if (hasBeenReported) {\n            return;\n        }\n        hasBeenReported = true;\n        var completeContext = context;\n        completeContext.state = 'complete';\n        completeContext.duration = (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_3__.elapsed)(startContext.startClocks.timeStamp, (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_3__.timeStampNow)());\n        completeContext.status = _this.status;\n        observable.notify((0,_tools_utils__WEBPACK_IMPORTED_MODULE_5__.shallowClone)(completeContext));\n    });\n    this.addEventListener('loadend', onEnd);\n    observable.notify(startContext);\n}\nfunction abortXhr() {\n    var context = xhrContexts.get(this);\n    if (context) {\n        context.isAborted = true;\n    }\n}\n//# sourceMappingURL=xhrObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9icm93c2VyL3hock9ic2VydmFibGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE0RTtBQUNqQztBQUNNO0FBQ2tDO0FBQy9CO0FBQ047QUFDOUM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlEQUFVO0FBQ25DLHFDQUFxQyx3RkFBK0I7QUFDcEU7QUFDQSxTQUFTO0FBQ1Qsb0NBQW9DLHdGQUErQjtBQUNuRTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxxQ0FBcUMsd0ZBQStCO0FBQ3BFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnRUFBWTtBQUN6QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDZEQUFXO0FBQ3hDLCtCQUErQiwyREFBUztBQUN4QztBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsd0ZBQStCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLGdCQUFnQix1REFBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHlEQUFPLHFDQUFxQyw4REFBWTtBQUMzRjtBQUNBLDBCQUEwQiwwREFBWTtBQUN0QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci94aHJPYnNlcnZhYmxlLmpzP2E2MTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCB9IGZyb20gJy4uL3Rvb2xzL2luc3RydW1lbnRNZXRob2QnO1xuaW1wb3J0IHsgbW9uaXRvciB9IGZyb20gJy4uL3Rvb2xzL21vbml0b3InO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgZWxhcHNlZCwgcmVsYXRpdmVOb3csIGNsb2Nrc05vdywgdGltZVN0YW1wTm93IH0gZnJvbSAnLi4vdG9vbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IG5vcm1hbGl6ZVVybCB9IGZyb20gJy4uL3Rvb2xzL3VybFBvbHlmaWxsJztcbmltcG9ydCB7IHNoYWxsb3dDbG9uZSB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzJztcbnZhciB4aHJPYnNlcnZhYmxlO1xudmFyIHhockNvbnRleHRzID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBmdW5jdGlvbiBpbml0WGhyT2JzZXJ2YWJsZSgpIHtcbiAgICBpZiAoIXhock9ic2VydmFibGUpIHtcbiAgICAgICAgeGhyT2JzZXJ2YWJsZSA9IGNyZWF0ZVhock9ic2VydmFibGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHhock9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBjcmVhdGVYaHJPYnNlcnZhYmxlKCkge1xuICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdTdGFydCA9IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLCAnb3BlbicsIHtcbiAgICAgICAgICAgIGJlZm9yZTogb3BlblhocixcbiAgICAgICAgfSkuc3RvcDtcbiAgICAgICAgdmFyIHN0b3BJbnN0cnVtZW50aW5nU2VuZCA9IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLCAnc2VuZCcsIHtcbiAgICAgICAgICAgIGJlZm9yZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbmRYaHIuY2FsbCh0aGlzLCBvYnNlcnZhYmxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLnN0b3A7XG4gICAgICAgIHZhciBzdG9wSW5zdHJ1bWVudGluZ0Fib3J0ID0gaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbChYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUsICdhYm9ydCcsIHtcbiAgICAgICAgICAgIGJlZm9yZTogYWJvcnRYaHIsXG4gICAgICAgIH0pLnN0b3A7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wSW5zdHJ1bWVudGluZ1N0YXJ0KCk7XG4gICAgICAgICAgICBzdG9wSW5zdHJ1bWVudGluZ1NlbmQoKTtcbiAgICAgICAgICAgIHN0b3BJbnN0cnVtZW50aW5nQWJvcnQoKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIG9wZW5YaHIobWV0aG9kLCB1cmwpIHtcbiAgICB4aHJDb250ZXh0cy5zZXQodGhpcywge1xuICAgICAgICBzdGF0ZTogJ29wZW4nLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgdXJsOiBub3JtYWxpemVVcmwodXJsLnRvU3RyaW5nKCkpLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gc2VuZFhocihvYnNlcnZhYmxlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgY29udGV4dCA9IHhockNvbnRleHRzLmdldCh0aGlzKTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc3RhcnRDb250ZXh0ID0gY29udGV4dDtcbiAgICBzdGFydENvbnRleHQuc3RhdGUgPSAnc3RhcnQnO1xuICAgIHN0YXJ0Q29udGV4dC5zdGFydFRpbWUgPSByZWxhdGl2ZU5vdygpO1xuICAgIHN0YXJ0Q29udGV4dC5zdGFydENsb2NrcyA9IGNsb2Nrc05vdygpO1xuICAgIHN0YXJ0Q29udGV4dC5pc0Fib3J0ZWQgPSBmYWxzZTtcbiAgICBzdGFydENvbnRleHQueGhyID0gdGhpcztcbiAgICB2YXIgaGFzQmVlblJlcG9ydGVkID0gZmFsc2U7XG4gICAgdmFyIHN0b3BJbnN0cnVtZW50aW5nT25SZWFkeVN0YXRlQ2hhbmdlID0gaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCh0aGlzLCAnb25yZWFkeXN0YXRlY2hhbmdlJywge1xuICAgICAgICBiZWZvcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHtcbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gcmVwb3J0IHRoZSBYSFIgYXMgc29vbiBhcyBwb3NzaWJsZSwgYmVjYXVzZSB0aGUgWEhSIG1heSBiZSBtdXRhdGVkIGJ5IHRoZVxuICAgICAgICAgICAgICAgIC8vIGFwcGxpY2F0aW9uIGR1cmluZyBhIGZ1dHVyZSBldmVudC4gRm9yIGV4YW1wbGUsIEFuZ3VsYXIgaXMgY2FsbGluZyAuYWJvcnQoKSBvblxuICAgICAgICAgICAgICAgIC8vIGNvbXBsZXRlZCByZXF1ZXN0cyBkdXJpbmcgYSBvbnJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQsIHNvIHRoZSBzdGF0dXMgYmVjb21lcyAnMCdcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmUgdGhlIHJlcXVlc3QgaXMgY29sbGVjdGVkLlxuICAgICAgICAgICAgICAgIG9uRW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSkuc3RvcDtcbiAgICB2YXIgb25FbmQgPSBtb25pdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIG9uRW5kKTtcbiAgICAgICAgc3RvcEluc3RydW1lbnRpbmdPblJlYWR5U3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgaWYgKGhhc0JlZW5SZXBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhc0JlZW5SZXBvcnRlZCA9IHRydWU7XG4gICAgICAgIHZhciBjb21wbGV0ZUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb21wbGV0ZUNvbnRleHQuc3RhdGUgPSAnY29tcGxldGUnO1xuICAgICAgICBjb21wbGV0ZUNvbnRleHQuZHVyYXRpb24gPSBlbGFwc2VkKHN0YXJ0Q29udGV4dC5zdGFydENsb2Nrcy50aW1lU3RhbXAsIHRpbWVTdGFtcE5vdygpKTtcbiAgICAgICAgY29tcGxldGVDb250ZXh0LnN0YXR1cyA9IF90aGlzLnN0YXR1cztcbiAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoc2hhbGxvd0Nsb25lKGNvbXBsZXRlQ29udGV4dCkpO1xuICAgIH0pO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIG9uRW5kKTtcbiAgICBvYnNlcnZhYmxlLm5vdGlmeShzdGFydENvbnRleHQpO1xufVxuZnVuY3Rpb24gYWJvcnRYaHIoKSB7XG4gICAgdmFyIGNvbnRleHQgPSB4aHJDb250ZXh0cy5nZXQodGhpcyk7XG4gICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5pc0Fib3J0ZWQgPSB0cnVlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXhock9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/browser/xhrObservable.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultPrivacyLevel\": function() { return /* binding */ DefaultPrivacyLevel; },\n/* harmony export */   \"buildCookieOptions\": function() { return /* binding */ buildCookieOptions; },\n/* harmony export */   \"validateAndBuildConfiguration\": function() { return /* binding */ validateAndBuildConfiguration; }\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../browser/cookie */ \"./node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/catchUserErrors */ \"./node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\");\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/display */ \"./node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony import */ var _experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./experimentalFeatures */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/experimentalFeatures.js\");\n/* harmony import */ var _transportConfiguration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./transportConfiguration */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js\");\n\n\n\n\n\n\nvar DefaultPrivacyLevel = {\n    ALLOW: 'allow',\n    MASK: 'mask',\n    MASK_USER_INPUT: 'mask-user-input',\n};\nfunction validateAndBuildConfiguration(initConfiguration) {\n    var _a, _b;\n    if (!initConfiguration || !initConfiguration.clientToken) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Client Token is not configured, we will not send any data.');\n        return;\n    }\n    if (initConfiguration.sampleRate !== undefined && !(0,_tools_utils__WEBPACK_IMPORTED_MODULE_1__.isPercentage)(initConfiguration.sampleRate)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    if (initConfiguration.telemetrySampleRate !== undefined && !(0,_tools_utils__WEBPACK_IMPORTED_MODULE_1__.isPercentage)(initConfiguration.telemetrySampleRate)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Telemetry Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    // Set the experimental feature flags as early as possible, so we can use them in most places\n    (0,_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.updateExperimentalFeatures)(initConfiguration.enableExperimentalFeatures);\n    return (0,_tools_utils__WEBPACK_IMPORTED_MODULE_1__.assign)({\n        beforeSend: initConfiguration.beforeSend && (0,_tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_3__.catchUserErrors)(initConfiguration.beforeSend, 'beforeSend threw an error:'),\n        cookieOptions: buildCookieOptions(initConfiguration),\n        sampleRate: (_a = initConfiguration.sampleRate) !== null && _a !== void 0 ? _a : 100,\n        telemetrySampleRate: (_b = initConfiguration.telemetrySampleRate) !== null && _b !== void 0 ? _b : 20,\n        service: initConfiguration.service,\n        silentMultipleInit: !!initConfiguration.silentMultipleInit,\n        /**\n         * beacon payload max queue size implementation is 64kb\n         * ensure that we leave room for logs, rum and potential other users\n         */\n        batchBytesLimit: (0,_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.isExperimentalFeatureEnabled)('lower-batch-size') ? 10 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_KILO_BYTE : 16 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_KILO_BYTE,\n        eventRateLimiterThreshold: 3000,\n        maxTelemetryEventsPerPage: 15,\n        /**\n         * flush automatically, aim to be lower than ALB connection timeout\n         * to maximize connection reuse.\n         */\n        flushTimeout: 30 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND,\n        /**\n         * Logs intake limit\n         */\n        batchMessagesLimit: 50,\n        messageBytesLimit: 256 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_KILO_BYTE,\n    }, (0,_transportConfiguration__WEBPACK_IMPORTED_MODULE_4__.computeTransportConfiguration)(initConfiguration));\n}\nfunction buildCookieOptions(initConfiguration) {\n    var cookieOptions = {};\n    cookieOptions.secure = mustUseSecureCookie(initConfiguration);\n    cookieOptions.crossSite = !!initConfiguration.useCrossSiteSessionCookie;\n    if (initConfiguration.trackSessionAcrossSubdomains) {\n        cookieOptions.domain = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_5__.getCurrentSite)();\n    }\n    return cookieOptions;\n}\nfunction mustUseSecureCookie(initConfiguration) {\n    return !!initConfiguration.useSecureSessionCookie || !!initConfiguration.useCrossSiteSessionCookie;\n}\n//# sourceMappingURL=configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9jb25maWd1cmF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNRO0FBQ2hCO0FBQ3NDO0FBQ2M7QUFDekI7QUFDbEU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLFFBQVEseURBQWE7QUFDckI7QUFDQTtBQUNBLHVEQUF1RCwwREFBWTtBQUNuRSxRQUFRLHlEQUFhO0FBQ3JCO0FBQ0E7QUFDQSxnRUFBZ0UsMERBQVk7QUFDNUUsUUFBUSx5REFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxJQUFJLGlGQUEwQjtBQUM5QixXQUFXLG9EQUFNO0FBQ2pCLG9EQUFvRCx1RUFBZTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUZBQTRCLDRCQUE0Qix1REFBYSxRQUFRLHVEQUFhO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1REFBYTtBQUM5QyxLQUFLLEVBQUUsc0ZBQTZCO0FBQ3BDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrREFBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9jb25maWd1cmF0aW9uLmpzPzYwZTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q3VycmVudFNpdGUgfSBmcm9tICcuLi8uLi9icm93c2VyL2Nvb2tpZSc7XG5pbXBvcnQgeyBjYXRjaFVzZXJFcnJvcnMgfSBmcm9tICcuLi8uLi90b29scy9jYXRjaFVzZXJFcnJvcnMnO1xuaW1wb3J0IHsgZGlzcGxheSB9IGZyb20gJy4uLy4uL3Rvb2xzL2Rpc3BsYXknO1xuaW1wb3J0IHsgYXNzaWduLCBpc1BlcmNlbnRhZ2UsIE9ORV9LSUxPX0JZVEUsIE9ORV9TRUNPTkQgfSBmcm9tICcuLi8uLi90b29scy91dGlscyc7XG5pbXBvcnQgeyBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkLCB1cGRhdGVFeHBlcmltZW50YWxGZWF0dXJlcyB9IGZyb20gJy4vZXhwZXJpbWVudGFsRmVhdHVyZXMnO1xuaW1wb3J0IHsgY29tcHV0ZVRyYW5zcG9ydENvbmZpZ3VyYXRpb24gfSBmcm9tICcuL3RyYW5zcG9ydENvbmZpZ3VyYXRpb24nO1xuZXhwb3J0IHZhciBEZWZhdWx0UHJpdmFjeUxldmVsID0ge1xuICAgIEFMTE9XOiAnYWxsb3cnLFxuICAgIE1BU0s6ICdtYXNrJyxcbiAgICBNQVNLX1VTRVJfSU5QVVQ6ICdtYXNrLXVzZXItaW5wdXQnLFxufTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUFuZEJ1aWxkQ29uZmlndXJhdGlvbihpbml0Q29uZmlndXJhdGlvbikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCFpbml0Q29uZmlndXJhdGlvbiB8fCAhaW5pdENvbmZpZ3VyYXRpb24uY2xpZW50VG9rZW4pIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignQ2xpZW50IFRva2VuIGlzIG5vdCBjb25maWd1cmVkLCB3ZSB3aWxsIG5vdCBzZW5kIGFueSBkYXRhLicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi5zYW1wbGVSYXRlICE9PSB1bmRlZmluZWQgJiYgIWlzUGVyY2VudGFnZShpbml0Q29uZmlndXJhdGlvbi5zYW1wbGVSYXRlKSkge1xuICAgICAgICBkaXNwbGF5LmVycm9yKCdTYW1wbGUgUmF0ZSBzaG91bGQgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkICYmICFpc1BlcmNlbnRhZ2UoaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSkpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignVGVsZW1ldHJ5IFNhbXBsZSBSYXRlIHNob3VsZCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNldCB0aGUgZXhwZXJpbWVudGFsIGZlYXR1cmUgZmxhZ3MgYXMgZWFybHkgYXMgcG9zc2libGUsIHNvIHdlIGNhbiB1c2UgdGhlbSBpbiBtb3N0IHBsYWNlc1xuICAgIHVwZGF0ZUV4cGVyaW1lbnRhbEZlYXR1cmVzKGluaXRDb25maWd1cmF0aW9uLmVuYWJsZUV4cGVyaW1lbnRhbEZlYXR1cmVzKTtcbiAgICByZXR1cm4gYXNzaWduKHtcbiAgICAgICAgYmVmb3JlU2VuZDogaW5pdENvbmZpZ3VyYXRpb24uYmVmb3JlU2VuZCAmJiBjYXRjaFVzZXJFcnJvcnMoaW5pdENvbmZpZ3VyYXRpb24uYmVmb3JlU2VuZCwgJ2JlZm9yZVNlbmQgdGhyZXcgYW4gZXJyb3I6JyksXG4gICAgICAgIGNvb2tpZU9wdGlvbnM6IGJ1aWxkQ29va2llT3B0aW9ucyhpbml0Q29uZmlndXJhdGlvbiksXG4gICAgICAgIHNhbXBsZVJhdGU6IChfYSA9IGluaXRDb25maWd1cmF0aW9uLnNhbXBsZVJhdGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEwMCxcbiAgICAgICAgdGVsZW1ldHJ5U2FtcGxlUmF0ZTogKF9iID0gaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMjAsXG4gICAgICAgIHNlcnZpY2U6IGluaXRDb25maWd1cmF0aW9uLnNlcnZpY2UsXG4gICAgICAgIHNpbGVudE11bHRpcGxlSW5pdDogISFpbml0Q29uZmlndXJhdGlvbi5zaWxlbnRNdWx0aXBsZUluaXQsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBiZWFjb24gcGF5bG9hZCBtYXggcXVldWUgc2l6ZSBpbXBsZW1lbnRhdGlvbiBpcyA2NGtiXG4gICAgICAgICAqIGVuc3VyZSB0aGF0IHdlIGxlYXZlIHJvb20gZm9yIGxvZ3MsIHJ1bSBhbmQgcG90ZW50aWFsIG90aGVyIHVzZXJzXG4gICAgICAgICAqL1xuICAgICAgICBiYXRjaEJ5dGVzTGltaXQ6IGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ2xvd2VyLWJhdGNoLXNpemUnKSA/IDEwICogT05FX0tJTE9fQllURSA6IDE2ICogT05FX0tJTE9fQllURSxcbiAgICAgICAgZXZlbnRSYXRlTGltaXRlclRocmVzaG9sZDogMzAwMCxcbiAgICAgICAgbWF4VGVsZW1ldHJ5RXZlbnRzUGVyUGFnZTogMTUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmbHVzaCBhdXRvbWF0aWNhbGx5LCBhaW0gdG8gYmUgbG93ZXIgdGhhbiBBTEIgY29ubmVjdGlvbiB0aW1lb3V0XG4gICAgICAgICAqIHRvIG1heGltaXplIGNvbm5lY3Rpb24gcmV1c2UuXG4gICAgICAgICAqL1xuICAgICAgICBmbHVzaFRpbWVvdXQ6IDMwICogT05FX1NFQ09ORCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvZ3MgaW50YWtlIGxpbWl0XG4gICAgICAgICAqL1xuICAgICAgICBiYXRjaE1lc3NhZ2VzTGltaXQ6IDUwLFxuICAgICAgICBtZXNzYWdlQnl0ZXNMaW1pdDogMjU2ICogT05FX0tJTE9fQllURSxcbiAgICB9LCBjb21wdXRlVHJhbnNwb3J0Q29uZmlndXJhdGlvbihpbml0Q29uZmlndXJhdGlvbikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQ29va2llT3B0aW9ucyhpbml0Q29uZmlndXJhdGlvbikge1xuICAgIHZhciBjb29raWVPcHRpb25zID0ge307XG4gICAgY29va2llT3B0aW9ucy5zZWN1cmUgPSBtdXN0VXNlU2VjdXJlQ29va2llKGluaXRDb25maWd1cmF0aW9uKTtcbiAgICBjb29raWVPcHRpb25zLmNyb3NzU2l0ZSA9ICEhaW5pdENvbmZpZ3VyYXRpb24udXNlQ3Jvc3NTaXRlU2Vzc2lvbkNvb2tpZTtcbiAgICBpZiAoaW5pdENvbmZpZ3VyYXRpb24udHJhY2tTZXNzaW9uQWNyb3NzU3ViZG9tYWlucykge1xuICAgICAgICBjb29raWVPcHRpb25zLmRvbWFpbiA9IGdldEN1cnJlbnRTaXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBjb29raWVPcHRpb25zO1xufVxuZnVuY3Rpb24gbXVzdFVzZVNlY3VyZUNvb2tpZShpbml0Q29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiAhIWluaXRDb25maWd1cmF0aW9uLnVzZVNlY3VyZVNlc3Npb25Db29raWUgfHwgISFpbml0Q29uZmlndXJhdGlvbi51c2VDcm9zc1NpdGVTZXNzaW9uQ29va2llO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlndXJhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ENDPOINTS\": function() { return /* binding */ ENDPOINTS; },\n/* harmony export */   \"createEndpointBuilder\": function() { return /* binding */ createEndpointBuilder; }\n/* harmony export */ });\n/* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/timeUtils */ \"./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\");\n/* harmony import */ var _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/urlPolyfill */ \"./node_modules/@datadog/browser-core/esm/tools/urlPolyfill.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony import */ var _intakeSites__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./intakeSites */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n\n\n\n\nvar ENDPOINTS = {\n    logs: 'logs',\n    rum: 'rum',\n    sessionReplay: 'session-replay',\n};\nvar INTAKE_TRACKS = {\n    logs: 'logs',\n    rum: 'rum',\n    sessionReplay: 'replay',\n};\nfunction createEndpointBuilder(initConfiguration, endpointType, tags) {\n    var _a = initConfiguration.site, site = _a === void 0 ? _intakeSites__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_US1 : _a, clientToken = initConfiguration.clientToken;\n    var domainParts = site.split('.');\n    var extension = domainParts.pop();\n    var host = \"\".concat(ENDPOINTS[endpointType], \".browser-intake-\").concat(domainParts.join('-'), \".\").concat(extension);\n    var baseUrl = \"https://\".concat(host, \"/api/v2/\").concat(INTAKE_TRACKS[endpointType]);\n    var proxyUrl = initConfiguration.proxyUrl && (0,_tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_1__.normalizeUrl)(initConfiguration.proxyUrl);\n    return {\n        build: function () {\n            var parameters = 'ddsource=browser' +\n                \"&ddtags=\".concat(encodeURIComponent([\"sdk_version:\".concat(\"4.11.3\")].concat(tags).join(','))) +\n                \"&dd-api-key=\".concat(clientToken) +\n                \"&dd-evp-origin-version=\".concat(encodeURIComponent(\"4.11.3\")) +\n                '&dd-evp-origin=browser' +\n                \"&dd-request-id=\".concat((0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.generateUUID)());\n            if (endpointType === 'rum') {\n                parameters += \"&batch_time=\".concat((0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_3__.timeStampNow)());\n            }\n            var endpointUrl = \"\".concat(baseUrl, \"?\").concat(parameters);\n            return proxyUrl ? \"\".concat(proxyUrl, \"?ddforward=\").concat(encodeURIComponent(endpointUrl)) : endpointUrl;\n        },\n        buildIntakeUrl: function () {\n            return proxyUrl ? \"\".concat(proxyUrl, \"?ddforward\") : baseUrl;\n        },\n        endpointType: endpointType,\n    };\n}\n//# sourceMappingURL=endpointBuilder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9lbmRwb2ludEJ1aWxkZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFEO0FBQ0U7QUFDTjtBQUNEO0FBQ3pDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw0REFBNEQseURBQWU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsZ0VBQVk7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsMERBQVk7QUFDckQ7QUFDQSxvREFBb0QsOERBQVk7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vZW5kcG9pbnRCdWlsZGVyLmpzPzgwZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGltZVN0YW1wTm93IH0gZnJvbSAnLi4vLi4vdG9vbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IG5vcm1hbGl6ZVVybCB9IGZyb20gJy4uLy4uL3Rvb2xzL3VybFBvbHlmaWxsJztcbmltcG9ydCB7IGdlbmVyYXRlVVVJRCB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJztcbmltcG9ydCB7IElOVEFLRV9TSVRFX1VTMSB9IGZyb20gJy4vaW50YWtlU2l0ZXMnO1xuZXhwb3J0IHZhciBFTkRQT0lOVFMgPSB7XG4gICAgbG9nczogJ2xvZ3MnLFxuICAgIHJ1bTogJ3J1bScsXG4gICAgc2Vzc2lvblJlcGxheTogJ3Nlc3Npb24tcmVwbGF5Jyxcbn07XG52YXIgSU5UQUtFX1RSQUNLUyA9IHtcbiAgICBsb2dzOiAnbG9ncycsXG4gICAgcnVtOiAncnVtJyxcbiAgICBzZXNzaW9uUmVwbGF5OiAncmVwbGF5Jyxcbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW5kcG9pbnRCdWlsZGVyKGluaXRDb25maWd1cmF0aW9uLCBlbmRwb2ludFR5cGUsIHRhZ3MpIHtcbiAgICB2YXIgX2EgPSBpbml0Q29uZmlndXJhdGlvbi5zaXRlLCBzaXRlID0gX2EgPT09IHZvaWQgMCA/IElOVEFLRV9TSVRFX1VTMSA6IF9hLCBjbGllbnRUb2tlbiA9IGluaXRDb25maWd1cmF0aW9uLmNsaWVudFRva2VuO1xuICAgIHZhciBkb21haW5QYXJ0cyA9IHNpdGUuc3BsaXQoJy4nKTtcbiAgICB2YXIgZXh0ZW5zaW9uID0gZG9tYWluUGFydHMucG9wKCk7XG4gICAgdmFyIGhvc3QgPSBcIlwiLmNvbmNhdChFTkRQT0lOVFNbZW5kcG9pbnRUeXBlXSwgXCIuYnJvd3Nlci1pbnRha2UtXCIpLmNvbmNhdChkb21haW5QYXJ0cy5qb2luKCctJyksIFwiLlwiKS5jb25jYXQoZXh0ZW5zaW9uKTtcbiAgICB2YXIgYmFzZVVybCA9IFwiaHR0cHM6Ly9cIi5jb25jYXQoaG9zdCwgXCIvYXBpL3YyL1wiKS5jb25jYXQoSU5UQUtFX1RSQUNLU1tlbmRwb2ludFR5cGVdKTtcbiAgICB2YXIgcHJveHlVcmwgPSBpbml0Q29uZmlndXJhdGlvbi5wcm94eVVybCAmJiBub3JtYWxpemVVcmwoaW5pdENvbmZpZ3VyYXRpb24ucHJveHlVcmwpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGJ1aWxkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1ldGVycyA9ICdkZHNvdXJjZT1icm93c2VyJyArXG4gICAgICAgICAgICAgICAgXCImZGR0YWdzPVwiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoW1wic2RrX3ZlcnNpb246XCIuY29uY2F0KFwiNC4xMS4zXCIpXS5jb25jYXQodGFncykuam9pbignLCcpKSkgK1xuICAgICAgICAgICAgICAgIFwiJmRkLWFwaS1rZXk9XCIuY29uY2F0KGNsaWVudFRva2VuKSArXG4gICAgICAgICAgICAgICAgXCImZGQtZXZwLW9yaWdpbi12ZXJzaW9uPVwiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoXCI0LjExLjNcIikpICtcbiAgICAgICAgICAgICAgICAnJmRkLWV2cC1vcmlnaW49YnJvd3NlcicgK1xuICAgICAgICAgICAgICAgIFwiJmRkLXJlcXVlc3QtaWQ9XCIuY29uY2F0KGdlbmVyYXRlVVVJRCgpKTtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludFR5cGUgPT09ICdydW0nKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycyArPSBcIiZiYXRjaF90aW1lPVwiLmNvbmNhdCh0aW1lU3RhbXBOb3coKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZW5kcG9pbnRVcmwgPSBcIlwiLmNvbmNhdChiYXNlVXJsLCBcIj9cIikuY29uY2F0KHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHByb3h5VXJsID8gXCJcIi5jb25jYXQocHJveHlVcmwsIFwiP2RkZm9yd2FyZD1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlbmRwb2ludFVybCkpIDogZW5kcG9pbnRVcmw7XG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkSW50YWtlVXJsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJveHlVcmwgPyBcIlwiLmNvbmNhdChwcm94eVVybCwgXCI/ZGRmb3J3YXJkXCIpIDogYmFzZVVybDtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kcG9pbnRUeXBlOiBlbmRwb2ludFR5cGUsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuZHBvaW50QnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/configuration/experimentalFeatures.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/configuration/experimentalFeatures.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isExperimentalFeatureEnabled\": function() { return /* binding */ isExperimentalFeatureEnabled; },\n/* harmony export */   \"resetExperimentalFeatures\": function() { return /* binding */ resetExperimentalFeatures; },\n/* harmony export */   \"updateExperimentalFeatures\": function() { return /* binding */ updateExperimentalFeatures; }\n/* harmony export */ });\n/**\n * LIMITATION:\n * For NPM setup, this feature flag singleton is shared between RUM and Logs product.\n * This means that an experimental flag set on the RUM product will be set on the Logs product.\n * So keep in mind that in certain configurations, your experimental feature flag may affect other products.\n */\nvar enabledExperimentalFeatures;\nfunction updateExperimentalFeatures(enabledFeatures) {\n    // Safely handle external data\n    if (!Array.isArray(enabledFeatures)) {\n        return;\n    }\n    if (!enabledExperimentalFeatures) {\n        enabledExperimentalFeatures = new Set(enabledFeatures);\n    }\n    enabledFeatures\n        .filter(function (flag) { return typeof flag === 'string'; })\n        .forEach(function (flag) {\n        enabledExperimentalFeatures.add(flag);\n    });\n}\nfunction isExperimentalFeatureEnabled(featureName) {\n    return !!enabledExperimentalFeatures && enabledExperimentalFeatures.has(featureName);\n}\nfunction resetExperimentalFeatures() {\n    enabledExperimentalFeatures = new Set();\n}\n//# sourceMappingURL=experimentalFeatures.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9leHBlcmltZW50YWxGZWF0dXJlcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxrQ0FBa0M7QUFDcEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9jb25maWd1cmF0aW9uL2V4cGVyaW1lbnRhbEZlYXR1cmVzLmpzPzAyNTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMSU1JVEFUSU9OOlxuICogRm9yIE5QTSBzZXR1cCwgdGhpcyBmZWF0dXJlIGZsYWcgc2luZ2xldG9uIGlzIHNoYXJlZCBiZXR3ZWVuIFJVTSBhbmQgTG9ncyBwcm9kdWN0LlxuICogVGhpcyBtZWFucyB0aGF0IGFuIGV4cGVyaW1lbnRhbCBmbGFnIHNldCBvbiB0aGUgUlVNIHByb2R1Y3Qgd2lsbCBiZSBzZXQgb24gdGhlIExvZ3MgcHJvZHVjdC5cbiAqIFNvIGtlZXAgaW4gbWluZCB0aGF0IGluIGNlcnRhaW4gY29uZmlndXJhdGlvbnMsIHlvdXIgZXhwZXJpbWVudGFsIGZlYXR1cmUgZmxhZyBtYXkgYWZmZWN0IG90aGVyIHByb2R1Y3RzLlxuICovXG52YXIgZW5hYmxlZEV4cGVyaW1lbnRhbEZlYXR1cmVzO1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUV4cGVyaW1lbnRhbEZlYXR1cmVzKGVuYWJsZWRGZWF0dXJlcykge1xuICAgIC8vIFNhZmVseSBoYW5kbGUgZXh0ZXJuYWwgZGF0YVxuICAgIGlmICghQXJyYXkuaXNBcnJheShlbmFibGVkRmVhdHVyZXMpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMpIHtcbiAgICAgICAgZW5hYmxlZEV4cGVyaW1lbnRhbEZlYXR1cmVzID0gbmV3IFNldChlbmFibGVkRmVhdHVyZXMpO1xuICAgIH1cbiAgICBlbmFibGVkRmVhdHVyZXNcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZmxhZykgeyByZXR1cm4gdHlwZW9mIGZsYWcgPT09ICdzdHJpbmcnOyB9KVxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoZmxhZykge1xuICAgICAgICBlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMuYWRkKGZsYWcpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoZmVhdHVyZU5hbWUpIHtcbiAgICByZXR1cm4gISFlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMgJiYgZW5hYmxlZEV4cGVyaW1lbnRhbEZlYXR1cmVzLmhhcyhmZWF0dXJlTmFtZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXRFeHBlcmltZW50YWxGZWF0dXJlcygpIHtcbiAgICBlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMgPSBuZXcgU2V0KCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHBlcmltZW50YWxGZWF0dXJlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/configuration/experimentalFeatures.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/configuration/index.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/configuration/index.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultPrivacyLevel\": function() { return /* reexport safe */ _configuration__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel; },\n/* harmony export */   \"buildCookieOptions\": function() { return /* reexport safe */ _configuration__WEBPACK_IMPORTED_MODULE_0__.buildCookieOptions; },\n/* harmony export */   \"createEndpointBuilder\": function() { return /* reexport safe */ _endpointBuilder__WEBPACK_IMPORTED_MODULE_1__.createEndpointBuilder; },\n/* harmony export */   \"isExperimentalFeatureEnabled\": function() { return /* reexport safe */ _experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.isExperimentalFeatureEnabled; },\n/* harmony export */   \"resetExperimentalFeatures\": function() { return /* reexport safe */ _experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.resetExperimentalFeatures; },\n/* harmony export */   \"updateExperimentalFeatures\": function() { return /* reexport safe */ _experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.updateExperimentalFeatures; },\n/* harmony export */   \"validateAndBuildConfiguration\": function() { return /* reexport safe */ _configuration__WEBPACK_IMPORTED_MODULE_0__.validateAndBuildConfiguration; }\n/* harmony export */ });\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configuration */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\");\n/* harmony import */ var _endpointBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./endpointBuilder */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js\");\n/* harmony import */ var _experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./experimentalFeatures */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/experimentalFeatures.js\");\n/* harmony import */ var _intakeSites__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./intakeSites */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _intakeSites__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"buildCookieOptions\",\"DefaultPrivacyLevel\",\"validateAndBuildConfiguration\",\"createEndpointBuilder\",\"isExperimentalFeatureEnabled\",\"updateExperimentalFeatures\",\"resetExperimentalFeatures\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _intakeSites__WEBPACK_IMPORTED_MODULE_3__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUEwRztBQUNoRDtBQUNvRTtBQUNoRztBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9pbmRleC5qcz9hNmZhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGJ1aWxkQ29va2llT3B0aW9ucywgRGVmYXVsdFByaXZhY3lMZXZlbCwgdmFsaWRhdGVBbmRCdWlsZENvbmZpZ3VyYXRpb24sIH0gZnJvbSAnLi9jb25maWd1cmF0aW9uJztcbmV4cG9ydCB7IGNyZWF0ZUVuZHBvaW50QnVpbGRlciB9IGZyb20gJy4vZW5kcG9pbnRCdWlsZGVyJztcbmV4cG9ydCB7IGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQsIHVwZGF0ZUV4cGVyaW1lbnRhbEZlYXR1cmVzLCByZXNldEV4cGVyaW1lbnRhbEZlYXR1cmVzLCB9IGZyb20gJy4vZXhwZXJpbWVudGFsRmVhdHVyZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRha2VTaXRlcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/configuration/index.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"INTAKE_SITE_STAGING\": function() { return /* binding */ INTAKE_SITE_STAGING; },\n/* harmony export */   \"INTAKE_SITE_US1\": function() { return /* binding */ INTAKE_SITE_US1; },\n/* harmony export */   \"INTAKE_SITE_US1_FED\": function() { return /* binding */ INTAKE_SITE_US1_FED; }\n/* harmony export */ });\nvar INTAKE_SITE_STAGING = 'datad0g.com';\nvar INTAKE_SITE_US1 = 'datadoghq.com';\nvar INTAKE_SITE_US1_FED = 'ddog-gov.com';\n//# sourceMappingURL=intakeSites.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9pbnRha2VTaXRlcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTztBQUNBO0FBQ0E7QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9pbnRha2VTaXRlcy5qcz8wMjZhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgSU5UQUtFX1NJVEVfU1RBR0lORyA9ICdkYXRhZDBnLmNvbSc7XG5leHBvcnQgdmFyIElOVEFLRV9TSVRFX1VTMSA9ICdkYXRhZG9naHEuY29tJztcbmV4cG9ydCB2YXIgSU5UQUtFX1NJVEVfVVMxX0ZFRCA9ICdkZG9nLWdvdi5jb20nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50YWtlU2l0ZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/configuration/tags.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/configuration/tags.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TAG_SIZE_LIMIT\": function() { return /* binding */ TAG_SIZE_LIMIT; },\n/* harmony export */   \"buildTag\": function() { return /* binding */ buildTag; },\n/* harmony export */   \"buildTags\": function() { return /* binding */ buildTags; }\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/display */ \"./node_modules/@datadog/browser-core/esm/tools/display.js\");\n\nvar TAG_SIZE_LIMIT = 200;\nfunction buildTags(configuration) {\n    var env = configuration.env, service = configuration.service, version = configuration.version, datacenter = configuration.datacenter;\n    var tags = [];\n    if (env) {\n        tags.push(buildTag('env', env));\n    }\n    if (service) {\n        tags.push(buildTag('service', service));\n    }\n    if (version) {\n        tags.push(buildTag('version', version));\n    }\n    if (datacenter) {\n        tags.push(buildTag('datacenter', datacenter));\n    }\n    return tags;\n}\nvar FORBIDDEN_CHARACTERS = /[^a-z0-9_:./-]/;\nfunction buildTag(key, rawValue) {\n    // See https://docs.datadoghq.com/getting_started/tagging/#defining-tags for tags syntax. Note\n    // that the backend may not follow the exact same rules, so we only want to display an informal\n    // warning.\n    var valueSizeLimit = TAG_SIZE_LIMIT - key.length - 1;\n    if (rawValue.length > valueSizeLimit || FORBIDDEN_CHARACTERS.test(rawValue)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.warn(\"\".concat(key, \" value doesn't meet tag requirements and will be sanitized\"));\n    }\n    // Let the backend do most of the sanitization, but still make sure multiple tags can't be crafted\n    // by forging a value containing commas.\n    var sanitizedValue = rawValue.replace(/,/g, '_');\n    return \"\".concat(key, \":\").concat(sanitizedValue);\n}\n//# sourceMappingURL=tags.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi90YWdzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFDdkM7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdEQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9jb25maWd1cmF0aW9uL3RhZ3MuanM/NmJjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi4vLi4vdG9vbHMvZGlzcGxheSc7XG5leHBvcnQgdmFyIFRBR19TSVpFX0xJTUlUID0gMjAwO1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkVGFncyhjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIGVudiA9IGNvbmZpZ3VyYXRpb24uZW52LCBzZXJ2aWNlID0gY29uZmlndXJhdGlvbi5zZXJ2aWNlLCB2ZXJzaW9uID0gY29uZmlndXJhdGlvbi52ZXJzaW9uLCBkYXRhY2VudGVyID0gY29uZmlndXJhdGlvbi5kYXRhY2VudGVyO1xuICAgIHZhciB0YWdzID0gW107XG4gICAgaWYgKGVudikge1xuICAgICAgICB0YWdzLnB1c2goYnVpbGRUYWcoJ2VudicsIGVudikpO1xuICAgIH1cbiAgICBpZiAoc2VydmljZSkge1xuICAgICAgICB0YWdzLnB1c2goYnVpbGRUYWcoJ3NlcnZpY2UnLCBzZXJ2aWNlKSk7XG4gICAgfVxuICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgIHRhZ3MucHVzaChidWlsZFRhZygndmVyc2lvbicsIHZlcnNpb24pKTtcbiAgICB9XG4gICAgaWYgKGRhdGFjZW50ZXIpIHtcbiAgICAgICAgdGFncy5wdXNoKGJ1aWxkVGFnKCdkYXRhY2VudGVyJywgZGF0YWNlbnRlcikpO1xuICAgIH1cbiAgICByZXR1cm4gdGFncztcbn1cbnZhciBGT1JCSURERU5fQ0hBUkFDVEVSUyA9IC9bXmEtejAtOV86Li8tXS87XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRUYWcoa2V5LCByYXdWYWx1ZSkge1xuICAgIC8vIFNlZSBodHRwczovL2RvY3MuZGF0YWRvZ2hxLmNvbS9nZXR0aW5nX3N0YXJ0ZWQvdGFnZ2luZy8jZGVmaW5pbmctdGFncyBmb3IgdGFncyBzeW50YXguIE5vdGVcbiAgICAvLyB0aGF0IHRoZSBiYWNrZW5kIG1heSBub3QgZm9sbG93IHRoZSBleGFjdCBzYW1lIHJ1bGVzLCBzbyB3ZSBvbmx5IHdhbnQgdG8gZGlzcGxheSBhbiBpbmZvcm1hbFxuICAgIC8vIHdhcm5pbmcuXG4gICAgdmFyIHZhbHVlU2l6ZUxpbWl0ID0gVEFHX1NJWkVfTElNSVQgLSBrZXkubGVuZ3RoIC0gMTtcbiAgICBpZiAocmF3VmFsdWUubGVuZ3RoID4gdmFsdWVTaXplTGltaXQgfHwgRk9SQklEREVOX0NIQVJBQ1RFUlMudGVzdChyYXdWYWx1ZSkpIHtcbiAgICAgICAgZGlzcGxheS53YXJuKFwiXCIuY29uY2F0KGtleSwgXCIgdmFsdWUgZG9lc24ndCBtZWV0IHRhZyByZXF1aXJlbWVudHMgYW5kIHdpbGwgYmUgc2FuaXRpemVkXCIpKTtcbiAgICB9XG4gICAgLy8gTGV0IHRoZSBiYWNrZW5kIGRvIG1vc3Qgb2YgdGhlIHNhbml0aXphdGlvbiwgYnV0IHN0aWxsIG1ha2Ugc3VyZSBtdWx0aXBsZSB0YWdzIGNhbid0IGJlIGNyYWZ0ZWRcbiAgICAvLyBieSBmb3JnaW5nIGEgdmFsdWUgY29udGFpbmluZyBjb21tYXMuXG4gICAgdmFyIHNhbml0aXplZFZhbHVlID0gcmF3VmFsdWUucmVwbGFjZSgvLC9nLCAnXycpO1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChrZXksIFwiOlwiKS5jb25jYXQoc2FuaXRpemVkVmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFncy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/configuration/tags.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeTransportConfiguration\": function() { return /* binding */ computeTransportConfiguration; }\n/* harmony export */ });\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony import */ var _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./endpointBuilder */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js\");\n/* harmony import */ var _tags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tags */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/tags.js\");\n/* harmony import */ var _intakeSites__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./intakeSites */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n\n\n\n\nfunction computeTransportConfiguration(initConfiguration) {\n    var tags = (0,_tags__WEBPACK_IMPORTED_MODULE_0__.buildTags)(initConfiguration);\n    var endpointBuilders = computeEndpointBuilders(initConfiguration, tags);\n    var intakeEndpoints = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_1__.objectValues)(endpointBuilders).map(function (builder) { return builder.buildIntakeUrl(); });\n    var replicaConfiguration = computeReplicaConfiguration(initConfiguration, intakeEndpoints, tags);\n    return (0,_tools_utils__WEBPACK_IMPORTED_MODULE_1__.assign)({\n        isIntakeUrl: function (url) { return intakeEndpoints.some(function (intakeEndpoint) { return url.indexOf(intakeEndpoint) === 0; }); },\n        replica: replicaConfiguration,\n        site: initConfiguration.site || _intakeSites__WEBPACK_IMPORTED_MODULE_2__.INTAKE_SITE_US1,\n    }, endpointBuilders);\n}\nfunction computeEndpointBuilders(initConfiguration, tags) {\n    return {\n        logsEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(initConfiguration, 'logs', tags),\n        rumEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(initConfiguration, 'rum', tags),\n        sessionReplayEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(initConfiguration, 'sessionReplay', tags),\n    };\n}\nfunction computeReplicaConfiguration(initConfiguration, intakeEndpoints, tags) {\n    if (!initConfiguration.replica) {\n        return;\n    }\n    var replicaConfiguration = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_1__.assign)({}, initConfiguration, {\n        site: _intakeSites__WEBPACK_IMPORTED_MODULE_2__.INTAKE_SITE_US1,\n        clientToken: initConfiguration.replica.clientToken,\n    });\n    var replicaEndpointBuilders = {\n        logsEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(replicaConfiguration, 'logs', tags),\n        rumEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(replicaConfiguration, 'rum', tags),\n    };\n    intakeEndpoints.push.apply(intakeEndpoints, (0,_tools_utils__WEBPACK_IMPORTED_MODULE_1__.objectValues)(replicaEndpointBuilders).map(function (builder) { return builder.buildIntakeUrl(); }));\n    return (0,_tools_utils__WEBPACK_IMPORTED_MODULE_1__.assign)({ applicationId: initConfiguration.replica.applicationId }, replicaEndpointBuilders);\n}\n//# sourceMappingURL=transportConfiguration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi90cmFuc3BvcnRDb25maWd1cmF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlEO0FBQ0M7QUFDdkI7QUFDYTtBQUN6QztBQUNQLGVBQWUsZ0RBQVM7QUFDeEI7QUFDQSwwQkFBMEIsMERBQVksNENBQTRDLGtDQUFrQztBQUNwSDtBQUNBLFdBQVcsb0RBQU07QUFDakIsc0NBQXNDLHdEQUF3RCwyQ0FBMkMsSUFBSTtBQUM3STtBQUNBLHdDQUF3Qyx5REFBZTtBQUN2RCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVFQUFxQjtBQUNsRCw0QkFBNEIsdUVBQXFCO0FBQ2pELHNDQUFzQyx1RUFBcUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9EQUFNLEdBQUc7QUFDeEMsY0FBYyx5REFBZTtBQUM3QjtBQUNBLEtBQUs7QUFDTDtBQUNBLDZCQUE2Qix1RUFBcUI7QUFDbEQsNEJBQTRCLHVFQUFxQjtBQUNqRDtBQUNBLGdEQUFnRCwwREFBWSxtREFBbUQsa0NBQWtDO0FBQ2pKLFdBQVcsb0RBQU0sR0FBRyx3REFBd0Q7QUFDNUU7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi90cmFuc3BvcnRDb25maWd1cmF0aW9uLmpzPzczOGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzaWduLCBvYmplY3RWYWx1ZXMgfSBmcm9tICcuLi8uLi90b29scy91dGlscyc7XG5pbXBvcnQgeyBjcmVhdGVFbmRwb2ludEJ1aWxkZXIgfSBmcm9tICcuL2VuZHBvaW50QnVpbGRlcic7XG5pbXBvcnQgeyBidWlsZFRhZ3MgfSBmcm9tICcuL3RhZ3MnO1xuaW1wb3J0IHsgSU5UQUtFX1NJVEVfVVMxIH0gZnJvbSAnLi9pbnRha2VTaXRlcyc7XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVRyYW5zcG9ydENvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgdGFncyA9IGJ1aWxkVGFncyhpbml0Q29uZmlndXJhdGlvbik7XG4gICAgdmFyIGVuZHBvaW50QnVpbGRlcnMgPSBjb21wdXRlRW5kcG9pbnRCdWlsZGVycyhpbml0Q29uZmlndXJhdGlvbiwgdGFncyk7XG4gICAgdmFyIGludGFrZUVuZHBvaW50cyA9IG9iamVjdFZhbHVlcyhlbmRwb2ludEJ1aWxkZXJzKS5tYXAoZnVuY3Rpb24gKGJ1aWxkZXIpIHsgcmV0dXJuIGJ1aWxkZXIuYnVpbGRJbnRha2VVcmwoKTsgfSk7XG4gICAgdmFyIHJlcGxpY2FDb25maWd1cmF0aW9uID0gY29tcHV0ZVJlcGxpY2FDb25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uLCBpbnRha2VFbmRwb2ludHMsIHRhZ3MpO1xuICAgIHJldHVybiBhc3NpZ24oe1xuICAgICAgICBpc0ludGFrZVVybDogZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gaW50YWtlRW5kcG9pbnRzLnNvbWUoZnVuY3Rpb24gKGludGFrZUVuZHBvaW50KSB7IHJldHVybiB1cmwuaW5kZXhPZihpbnRha2VFbmRwb2ludCkgPT09IDA7IH0pOyB9LFxuICAgICAgICByZXBsaWNhOiByZXBsaWNhQ29uZmlndXJhdGlvbixcbiAgICAgICAgc2l0ZTogaW5pdENvbmZpZ3VyYXRpb24uc2l0ZSB8fCBJTlRBS0VfU0lURV9VUzEsXG4gICAgfSwgZW5kcG9pbnRCdWlsZGVycyk7XG59XG5mdW5jdGlvbiBjb21wdXRlRW5kcG9pbnRCdWlsZGVycyhpbml0Q29uZmlndXJhdGlvbiwgdGFncykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvZ3NFbmRwb2ludEJ1aWxkZXI6IGNyZWF0ZUVuZHBvaW50QnVpbGRlcihpbml0Q29uZmlndXJhdGlvbiwgJ2xvZ3MnLCB0YWdzKSxcbiAgICAgICAgcnVtRW5kcG9pbnRCdWlsZGVyOiBjcmVhdGVFbmRwb2ludEJ1aWxkZXIoaW5pdENvbmZpZ3VyYXRpb24sICdydW0nLCB0YWdzKSxcbiAgICAgICAgc2Vzc2lvblJlcGxheUVuZHBvaW50QnVpbGRlcjogY3JlYXRlRW5kcG9pbnRCdWlsZGVyKGluaXRDb25maWd1cmF0aW9uLCAnc2Vzc2lvblJlcGxheScsIHRhZ3MpLFxuICAgIH07XG59XG5mdW5jdGlvbiBjb21wdXRlUmVwbGljYUNvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24sIGludGFrZUVuZHBvaW50cywgdGFncykge1xuICAgIGlmICghaW5pdENvbmZpZ3VyYXRpb24ucmVwbGljYSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXBsaWNhQ29uZmlndXJhdGlvbiA9IGFzc2lnbih7fSwgaW5pdENvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgc2l0ZTogSU5UQUtFX1NJVEVfVVMxLFxuICAgICAgICBjbGllbnRUb2tlbjogaW5pdENvbmZpZ3VyYXRpb24ucmVwbGljYS5jbGllbnRUb2tlbixcbiAgICB9KTtcbiAgICB2YXIgcmVwbGljYUVuZHBvaW50QnVpbGRlcnMgPSB7XG4gICAgICAgIGxvZ3NFbmRwb2ludEJ1aWxkZXI6IGNyZWF0ZUVuZHBvaW50QnVpbGRlcihyZXBsaWNhQ29uZmlndXJhdGlvbiwgJ2xvZ3MnLCB0YWdzKSxcbiAgICAgICAgcnVtRW5kcG9pbnRCdWlsZGVyOiBjcmVhdGVFbmRwb2ludEJ1aWxkZXIocmVwbGljYUNvbmZpZ3VyYXRpb24sICdydW0nLCB0YWdzKSxcbiAgICB9O1xuICAgIGludGFrZUVuZHBvaW50cy5wdXNoLmFwcGx5KGludGFrZUVuZHBvaW50cywgb2JqZWN0VmFsdWVzKHJlcGxpY2FFbmRwb2ludEJ1aWxkZXJzKS5tYXAoZnVuY3Rpb24gKGJ1aWxkZXIpIHsgcmV0dXJuIGJ1aWxkZXIuYnVpbGRJbnRha2VVcmwoKTsgfSkpO1xuICAgIHJldHVybiBhc3NpZ24oeyBhcHBsaWNhdGlvbklkOiBpbml0Q29uZmlndXJhdGlvbi5yZXBsaWNhLmFwcGxpY2F0aW9uSWQgfSwgcmVwbGljYUVuZHBvaW50QnVpbGRlcnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNwb3J0Q29uZmlndXJhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initConsoleObservable\": function() { return /* binding */ initConsoleObservable; }\n/* harmony export */ });\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tracekit */ \"./node_modules/@datadog/browser-core/esm/domain/tracekit/index.js\");\n/* harmony import */ var _tools_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/error */ \"./node_modules/@datadog/browser-core/esm/tools/error.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/observable */ \"./node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/display */ \"./node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n\n\n\n\n\n\nvar consoleObservablesByApi = {};\nfunction initConsoleObservable(apis) {\n    var consoleObservables = apis.map(function (api) {\n        if (!consoleObservablesByApi[api]) {\n            consoleObservablesByApi[api] = createConsoleObservable(api);\n        }\n        return consoleObservablesByApi[api];\n    });\n    return _tools_observable__WEBPACK_IMPORTED_MODULE_0__.mergeObservables.apply(void 0, consoleObservables);\n}\n/* eslint-disable no-console */\nfunction createConsoleObservable(api) {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var originalConsoleApi = console[api];\n        console[api] = function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            originalConsoleApi.apply(console, params);\n            var handlingStack = (0,_tools_error__WEBPACK_IMPORTED_MODULE_1__.createHandlingStack)();\n            (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.callMonitored)(function () {\n                observable.notify(buildConsoleLog(params, api, handlingStack));\n            });\n        };\n        return function () {\n            console[api] = originalConsoleApi;\n        };\n    });\n    return observable;\n}\nfunction buildConsoleLog(params, api, handlingStack) {\n    // Todo: remove console error prefix in the next major version\n    var message = params.map(function (param) { return formatConsoleParameters(param); }).join(' ');\n    var stack;\n    if (api === _tools_display__WEBPACK_IMPORTED_MODULE_3__.ConsoleApiName.error) {\n        var firstErrorParam = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_4__.find)(params, function (param) { return param instanceof Error; });\n        stack = firstErrorParam ? (0,_tools_error__WEBPACK_IMPORTED_MODULE_1__.toStackTraceString)((0,_tracekit__WEBPACK_IMPORTED_MODULE_5__.computeStackTrace)(firstErrorParam)) : undefined;\n        message = \"console error: \".concat(message);\n    }\n    return {\n        api: api,\n        message: message,\n        stack: stack,\n        handlingStack: handlingStack,\n    };\n}\nfunction formatConsoleParameters(param) {\n    if (typeof param === 'string') {\n        return param;\n    }\n    if (param instanceof Error) {\n        return (0,_tools_error__WEBPACK_IMPORTED_MODULE_1__.formatErrorMessage)((0,_tracekit__WEBPACK_IMPORTED_MODULE_5__.computeStackTrace)(param));\n    }\n    return (0,_tools_utils__WEBPACK_IMPORTED_MODULE_4__.jsonStringify)(param, undefined, 2);\n}\n//# sourceMappingURL=consoleObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uc29sZS9jb25zb2xlT2JzZXJ2YWJsZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWdEO0FBQ2dEO0FBQzFCO0FBQ2Q7QUFDSDtBQUNEO0FBQ3BEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcscUVBQXNCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5REFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUJBQXVCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpRUFBbUI7QUFDbkQsWUFBWSw2REFBYTtBQUN6QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx3Q0FBd0M7QUFDeEY7QUFDQSxnQkFBZ0IsZ0VBQW9CO0FBQ3BDLDhCQUE4QixrREFBSSw0QkFBNEIsZ0NBQWdDO0FBQzlGLGtDQUFrQyxnRUFBa0IsQ0FBQyw0REFBaUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0VBQWtCLENBQUMsNERBQWlCO0FBQ25EO0FBQ0EsV0FBVywyREFBYTtBQUN4QjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9jb25zb2xlL2NvbnNvbGVPYnNlcnZhYmxlLmpzP2RmYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tcHV0ZVN0YWNrVHJhY2UgfSBmcm9tICcuLi90cmFjZWtpdCc7XG5pbXBvcnQgeyBjcmVhdGVIYW5kbGluZ1N0YWNrLCBmb3JtYXRFcnJvck1lc3NhZ2UsIHRvU3RhY2tUcmFjZVN0cmluZyB9IGZyb20gJy4uLy4uL3Rvb2xzL2Vycm9yJztcbmltcG9ydCB7IG1lcmdlT2JzZXJ2YWJsZXMsIE9ic2VydmFibGUgfSBmcm9tICcuLi8uLi90b29scy9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGZpbmQsIGpzb25TdHJpbmdpZnkgfSBmcm9tICcuLi8uLi90b29scy91dGlscyc7XG5pbXBvcnQgeyBDb25zb2xlQXBpTmFtZSB9IGZyb20gJy4uLy4uL3Rvb2xzL2Rpc3BsYXknO1xuaW1wb3J0IHsgY2FsbE1vbml0b3JlZCB9IGZyb20gJy4uLy4uL3Rvb2xzL21vbml0b3InO1xudmFyIGNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpID0ge307XG5leHBvcnQgZnVuY3Rpb24gaW5pdENvbnNvbGVPYnNlcnZhYmxlKGFwaXMpIHtcbiAgICB2YXIgY29uc29sZU9ic2VydmFibGVzID0gYXBpcy5tYXAoZnVuY3Rpb24gKGFwaSkge1xuICAgICAgICBpZiAoIWNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpW2FwaV0pIHtcbiAgICAgICAgICAgIGNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpW2FwaV0gPSBjcmVhdGVDb25zb2xlT2JzZXJ2YWJsZShhcGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25zb2xlT2JzZXJ2YWJsZXNCeUFwaVthcGldO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZU9ic2VydmFibGVzLmFwcGx5KHZvaWQgMCwgY29uc29sZU9ic2VydmFibGVzKTtcbn1cbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbnNvbGVPYnNlcnZhYmxlKGFwaSkge1xuICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3JpZ2luYWxDb25zb2xlQXBpID0gY29uc29sZVthcGldO1xuICAgICAgICBjb25zb2xlW2FwaV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHBhcmFtc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3JpZ2luYWxDb25zb2xlQXBpLmFwcGx5KGNvbnNvbGUsIHBhcmFtcyk7XG4gICAgICAgICAgICB2YXIgaGFuZGxpbmdTdGFjayA9IGNyZWF0ZUhhbmRsaW5nU3RhY2soKTtcbiAgICAgICAgICAgIGNhbGxNb25pdG9yZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG9ic2VydmFibGUubm90aWZ5KGJ1aWxkQ29uc29sZUxvZyhwYXJhbXMsIGFwaSwgaGFuZGxpbmdTdGFjaykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlW2FwaV0gPSBvcmlnaW5hbENvbnNvbGVBcGk7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBidWlsZENvbnNvbGVMb2cocGFyYW1zLCBhcGksIGhhbmRsaW5nU3RhY2spIHtcbiAgICAvLyBUb2RvOiByZW1vdmUgY29uc29sZSBlcnJvciBwcmVmaXggaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvblxuICAgIHZhciBtZXNzYWdlID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuIGZvcm1hdENvbnNvbGVQYXJhbWV0ZXJzKHBhcmFtKTsgfSkuam9pbignICcpO1xuICAgIHZhciBzdGFjaztcbiAgICBpZiAoYXBpID09PSBDb25zb2xlQXBpTmFtZS5lcnJvcikge1xuICAgICAgICB2YXIgZmlyc3RFcnJvclBhcmFtID0gZmluZChwYXJhbXMsIGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0gaW5zdGFuY2VvZiBFcnJvcjsgfSk7XG4gICAgICAgIHN0YWNrID0gZmlyc3RFcnJvclBhcmFtID8gdG9TdGFja1RyYWNlU3RyaW5nKGNvbXB1dGVTdGFja1RyYWNlKGZpcnN0RXJyb3JQYXJhbSkpIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlID0gXCJjb25zb2xlIGVycm9yOiBcIi5jb25jYXQobWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFwaTogYXBpLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICBzdGFjazogc3RhY2ssXG4gICAgICAgIGhhbmRsaW5nU3RhY2s6IGhhbmRsaW5nU3RhY2ssXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdENvbnNvbGVQYXJhbWV0ZXJzKHBhcmFtKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHBhcmFtO1xuICAgIH1cbiAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gZm9ybWF0RXJyb3JNZXNzYWdlKGNvbXB1dGVTdGFja1RyYWNlKHBhcmFtKSk7XG4gICAgfVxuICAgIHJldHVybiBqc29uU3RyaW5naWZ5KHBhcmFtLCB1bmRlZmluZWQsIDIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc29sZU9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"trackRuntimeError\": function() { return /* binding */ trackRuntimeError; }\n/* harmony export */ });\n/* harmony import */ var _tools_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/error */ \"./node_modules/@datadog/browser-core/esm/tools/error.js\");\n/* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/timeUtils */ \"./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\");\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tracekit */ \"./node_modules/@datadog/browser-core/esm/domain/tracekit/index.js\");\n\n\n\nfunction trackRuntimeError(errorObservable) {\n    return (0,_tracekit__WEBPACK_IMPORTED_MODULE_0__.startUnhandledErrorCollection)(function (stackTrace, errorObject) {\n        var _a = (0,_tools_error__WEBPACK_IMPORTED_MODULE_1__.formatUnknownError)(stackTrace, errorObject, 'Uncaught'), stack = _a.stack, message = _a.message, type = _a.type;\n        errorObservable.notify({\n            message: message,\n            stack: stack,\n            type: type,\n            source: _tools_error__WEBPACK_IMPORTED_MODULE_1__.ErrorSource.SOURCE,\n            startClocks: (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(),\n            originalError: errorObject,\n            handling: \"unhandled\" /* UNHANDLED */,\n        });\n    });\n}\n//# sourceMappingURL=trackRuntimeError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vZXJyb3IvdHJhY2tSdW50aW1lRXJyb3IuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRTtBQUNsQjtBQUNVO0FBQ3JEO0FBQ1AsV0FBVyx3RUFBNkI7QUFDeEMsaUJBQWlCLGdFQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBa0I7QUFDdEMseUJBQXlCLDJEQUFTO0FBQ2xDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2Vycm9yL3RyYWNrUnVudGltZUVycm9yLmpzP2RjYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXJyb3JTb3VyY2UsIGZvcm1hdFVua25vd25FcnJvciB9IGZyb20gJy4uLy4uL3Rvb2xzL2Vycm9yJztcbmltcG9ydCB7IGNsb2Nrc05vdyB9IGZyb20gJy4uLy4uL3Rvb2xzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBzdGFydFVuaGFuZGxlZEVycm9yQ29sbGVjdGlvbiB9IGZyb20gJy4uL3RyYWNla2l0JztcbmV4cG9ydCBmdW5jdGlvbiB0cmFja1J1bnRpbWVFcnJvcihlcnJvck9ic2VydmFibGUpIHtcbiAgICByZXR1cm4gc3RhcnRVbmhhbmRsZWRFcnJvckNvbGxlY3Rpb24oZnVuY3Rpb24gKHN0YWNrVHJhY2UsIGVycm9yT2JqZWN0KSB7XG4gICAgICAgIHZhciBfYSA9IGZvcm1hdFVua25vd25FcnJvcihzdGFja1RyYWNlLCBlcnJvck9iamVjdCwgJ1VuY2F1Z2h0JyksIHN0YWNrID0gX2Euc3RhY2ssIG1lc3NhZ2UgPSBfYS5tZXNzYWdlLCB0eXBlID0gX2EudHlwZTtcbiAgICAgICAgZXJyb3JPYnNlcnZhYmxlLm5vdGlmeSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgc3RhY2s6IHN0YWNrLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuU09VUkNFLFxuICAgICAgICAgICAgc3RhcnRDbG9ja3M6IGNsb2Nrc05vdygpLFxuICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JPYmplY3QsXG4gICAgICAgICAgICBoYW5kbGluZzogXCJ1bmhhbmRsZWRcIiAvKiBVTkhBTkRMRUQgKi8sXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2tSdW50aW1lRXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RawReportType\": function() { return /* binding */ RawReportType; },\n/* harmony export */   \"initReportObservable\": function() { return /* binding */ initReportObservable; }\n/* harmony export */ });\n/* harmony import */ var _tools_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/error */ \"./node_modules/@datadog/browser-core/esm/tools/error.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/observable */ \"./node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n\n\n\nvar RawReportType = {\n    intervention: 'intervention',\n    deprecation: 'deprecation',\n    cspViolation: 'csp_violation',\n};\nfunction initReportObservable(apis) {\n    var observables = [];\n    if ((0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.includes)(apis, RawReportType.cspViolation)) {\n        observables.push(createCspViolationReportObservable());\n    }\n    var reportTypes = apis.filter(function (api) { return api !== RawReportType.cspViolation; });\n    if (reportTypes.length) {\n        observables.push(createReportObservable(reportTypes));\n    }\n    return _tools_observable__WEBPACK_IMPORTED_MODULE_1__.mergeObservables.apply(void 0, observables);\n}\nfunction createReportObservable(reportTypes) {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable(function () {\n        if (!window.ReportingObserver) {\n            return;\n        }\n        var handleReports = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (reports) {\n            return reports.forEach(function (report) {\n                observable.notify(buildRawReportFromReport(report));\n            });\n        });\n        var observer = new window.ReportingObserver(handleReports, {\n            types: reportTypes,\n            buffered: true,\n        });\n        observer.observe();\n        return function () {\n            observer.disconnect();\n        };\n    });\n    return observable;\n}\nfunction createCspViolationReportObservable() {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable(function () {\n        var handleCspViolation = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (event) {\n            observable.notify(buildRawReportFromCspViolation(event));\n        });\n        var stop = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(document, \"securitypolicyviolation\" /* SECURITY_POLICY_VIOLATION */, handleCspViolation).stop;\n        return stop;\n    });\n    return observable;\n}\nfunction buildRawReportFromReport(_a) {\n    var type = _a.type, body = _a.body;\n    return {\n        type: type,\n        subtype: body.id,\n        message: \"\".concat(type, \": \").concat(body.message),\n        stack: buildStack(body.id, body.message, body.sourceFile, body.lineNumber, body.columnNumber),\n    };\n}\nfunction buildRawReportFromCspViolation(event) {\n    var type = RawReportType.cspViolation;\n    var message = \"'\".concat(event.blockedURI, \"' blocked by '\").concat(event.effectiveDirective, \"' directive\");\n    return {\n        type: RawReportType.cspViolation,\n        subtype: event.effectiveDirective,\n        message: \"\".concat(type, \": \").concat(message),\n        stack: buildStack(event.effectiveDirective, \"\".concat(message, \" of the policy \\\"\").concat((0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.safeTruncate)(event.originalPolicy, 100, '...'), \"\\\"\"), event.sourceFile, event.lineNumber, event.columnNumber),\n    };\n}\nfunction buildStack(name, message, sourceFile, lineNumber, columnNumber) {\n    return (sourceFile &&\n        (0,_tools_error__WEBPACK_IMPORTED_MODULE_3__.toStackTraceString)({\n            name: name,\n            message: message,\n            stack: [\n                {\n                    func: '?',\n                    url: sourceFile,\n                    line: lineNumber,\n                    column: columnNumber,\n                },\n            ],\n        }));\n}\n//# sourceMappingURL=reportObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vcmVwb3J0L3JlcG9ydE9ic2VydmFibGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVEO0FBQ1Q7QUFDd0I7QUFDTztBQUN0RTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFFBQVEsc0RBQVE7QUFDaEI7QUFDQTtBQUNBLG1EQUFtRCw0Q0FBNEM7QUFDL0Y7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxRUFBc0I7QUFDakM7QUFDQTtBQUNBLHlCQUF5Qix5REFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdURBQU87QUFDbkM7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5REFBVTtBQUNuQyxpQ0FBaUMsdURBQU87QUFDeEM7QUFDQSxTQUFTO0FBQ1QsbUJBQW1CLDhEQUFnQjtBQUNuQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcsMERBQVk7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdFQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3JlcG9ydC9yZXBvcnRPYnNlcnZhYmxlLmpzP2VmYjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9TdGFja1RyYWNlU3RyaW5nIH0gZnJvbSAnLi4vLi4vdG9vbHMvZXJyb3InO1xuaW1wb3J0IHsgbW9uaXRvciB9IGZyb20gJy4uLy4uL3Rvb2xzL21vbml0b3InO1xuaW1wb3J0IHsgbWVyZ2VPYnNlcnZhYmxlcywgT2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgaW5jbHVkZXMsIGFkZEV2ZW50TGlzdGVuZXIsIHNhZmVUcnVuY2F0ZSB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJztcbmV4cG9ydCB2YXIgUmF3UmVwb3J0VHlwZSA9IHtcbiAgICBpbnRlcnZlbnRpb246ICdpbnRlcnZlbnRpb24nLFxuICAgIGRlcHJlY2F0aW9uOiAnZGVwcmVjYXRpb24nLFxuICAgIGNzcFZpb2xhdGlvbjogJ2NzcF92aW9sYXRpb24nLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBpbml0UmVwb3J0T2JzZXJ2YWJsZShhcGlzKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgaWYgKGluY2x1ZGVzKGFwaXMsIFJhd1JlcG9ydFR5cGUuY3NwVmlvbGF0aW9uKSkge1xuICAgICAgICBvYnNlcnZhYmxlcy5wdXNoKGNyZWF0ZUNzcFZpb2xhdGlvblJlcG9ydE9ic2VydmFibGUoKSk7XG4gICAgfVxuICAgIHZhciByZXBvcnRUeXBlcyA9IGFwaXMuZmlsdGVyKGZ1bmN0aW9uIChhcGkpIHsgcmV0dXJuIGFwaSAhPT0gUmF3UmVwb3J0VHlwZS5jc3BWaW9sYXRpb247IH0pO1xuICAgIGlmIChyZXBvcnRUeXBlcy5sZW5ndGgpIHtcbiAgICAgICAgb2JzZXJ2YWJsZXMucHVzaChjcmVhdGVSZXBvcnRPYnNlcnZhYmxlKHJlcG9ydFR5cGVzKSk7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZU9ic2VydmFibGVzLmFwcGx5KHZvaWQgMCwgb2JzZXJ2YWJsZXMpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVwb3J0T2JzZXJ2YWJsZShyZXBvcnRUeXBlcykge1xuICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXdpbmRvdy5SZXBvcnRpbmdPYnNlcnZlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYW5kbGVSZXBvcnRzID0gbW9uaXRvcihmdW5jdGlvbiAocmVwb3J0cykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcG9ydHMuZm9yRWFjaChmdW5jdGlvbiAocmVwb3J0KSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoYnVpbGRSYXdSZXBvcnRGcm9tUmVwb3J0KHJlcG9ydCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgd2luZG93LlJlcG9ydGluZ09ic2VydmVyKGhhbmRsZVJlcG9ydHMsIHtcbiAgICAgICAgICAgIHR5cGVzOiByZXBvcnRUeXBlcyxcbiAgICAgICAgICAgIGJ1ZmZlcmVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSgpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gY3JlYXRlQ3NwVmlvbGF0aW9uUmVwb3J0T2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhhbmRsZUNzcFZpb2xhdGlvbiA9IG1vbml0b3IoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeShidWlsZFJhd1JlcG9ydEZyb21Dc3BWaW9sYXRpb24oZXZlbnQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzdG9wID0gYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJzZWN1cml0eXBvbGljeXZpb2xhdGlvblwiIC8qIFNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04gKi8sIGhhbmRsZUNzcFZpb2xhdGlvbikuc3RvcDtcbiAgICAgICAgcmV0dXJuIHN0b3A7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBidWlsZFJhd1JlcG9ydEZyb21SZXBvcnQoX2EpIHtcbiAgICB2YXIgdHlwZSA9IF9hLnR5cGUsIGJvZHkgPSBfYS5ib2R5O1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIHN1YnR5cGU6IGJvZHkuaWQsXG4gICAgICAgIG1lc3NhZ2U6IFwiXCIuY29uY2F0KHR5cGUsIFwiOiBcIikuY29uY2F0KGJvZHkubWVzc2FnZSksXG4gICAgICAgIHN0YWNrOiBidWlsZFN0YWNrKGJvZHkuaWQsIGJvZHkubWVzc2FnZSwgYm9keS5zb3VyY2VGaWxlLCBib2R5LmxpbmVOdW1iZXIsIGJvZHkuY29sdW1uTnVtYmVyKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRSYXdSZXBvcnRGcm9tQ3NwVmlvbGF0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHR5cGUgPSBSYXdSZXBvcnRUeXBlLmNzcFZpb2xhdGlvbjtcbiAgICB2YXIgbWVzc2FnZSA9IFwiJ1wiLmNvbmNhdChldmVudC5ibG9ja2VkVVJJLCBcIicgYmxvY2tlZCBieSAnXCIpLmNvbmNhdChldmVudC5lZmZlY3RpdmVEaXJlY3RpdmUsIFwiJyBkaXJlY3RpdmVcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmF3UmVwb3J0VHlwZS5jc3BWaW9sYXRpb24sXG4gICAgICAgIHN1YnR5cGU6IGV2ZW50LmVmZmVjdGl2ZURpcmVjdGl2ZSxcbiAgICAgICAgbWVzc2FnZTogXCJcIi5jb25jYXQodHlwZSwgXCI6IFwiKS5jb25jYXQobWVzc2FnZSksXG4gICAgICAgIHN0YWNrOiBidWlsZFN0YWNrKGV2ZW50LmVmZmVjdGl2ZURpcmVjdGl2ZSwgXCJcIi5jb25jYXQobWVzc2FnZSwgXCIgb2YgdGhlIHBvbGljeSBcXFwiXCIpLmNvbmNhdChzYWZlVHJ1bmNhdGUoZXZlbnQub3JpZ2luYWxQb2xpY3ksIDEwMCwgJy4uLicpLCBcIlxcXCJcIiksIGV2ZW50LnNvdXJjZUZpbGUsIGV2ZW50LmxpbmVOdW1iZXIsIGV2ZW50LmNvbHVtbk51bWJlciksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkU3RhY2sobmFtZSwgbWVzc2FnZSwgc291cmNlRmlsZSwgbGluZU51bWJlciwgY29sdW1uTnVtYmVyKSB7XG4gICAgcmV0dXJuIChzb3VyY2VGaWxlICYmXG4gICAgICAgIHRvU3RhY2tUcmFjZVN0cmluZyh7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmdW5jOiAnPycsXG4gICAgICAgICAgICAgICAgICAgIHVybDogc291cmNlRmlsZSxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogbGluZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW5OdW1iZXIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydE9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LOGS_SESSION_KEY\": function() { return /* binding */ LOGS_SESSION_KEY; },\n/* harmony export */   \"OLD_LOGS_COOKIE_NAME\": function() { return /* binding */ OLD_LOGS_COOKIE_NAME; },\n/* harmony export */   \"OLD_RUM_COOKIE_NAME\": function() { return /* binding */ OLD_RUM_COOKIE_NAME; },\n/* harmony export */   \"OLD_SESSION_COOKIE_NAME\": function() { return /* binding */ OLD_SESSION_COOKIE_NAME; },\n/* harmony export */   \"RUM_SESSION_KEY\": function() { return /* binding */ RUM_SESSION_KEY; },\n/* harmony export */   \"tryOldCookiesMigration\": function() { return /* binding */ tryOldCookiesMigration; }\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../browser/cookie */ \"./node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _sessionCookieStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sessionCookieStore */ \"./node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js\");\n\n\nvar OLD_SESSION_COOKIE_NAME = '_dd';\nvar OLD_RUM_COOKIE_NAME = '_dd_r';\nvar OLD_LOGS_COOKIE_NAME = '_dd_l';\n// duplicate values to avoid dependency issues\nvar RUM_SESSION_KEY = 'rum';\nvar LOGS_SESSION_KEY = 'logs';\n/**\n * This migration should remain in the codebase as long as older versions are available/live\n * to allow older sdk versions to be upgraded to newer versions without compatibility issues.\n */\nfunction tryOldCookiesMigration(options) {\n    var sessionString = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(_sessionCookieStore__WEBPACK_IMPORTED_MODULE_1__.SESSION_COOKIE_NAME);\n    var oldSessionId = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(OLD_SESSION_COOKIE_NAME);\n    var oldRumType = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(OLD_RUM_COOKIE_NAME);\n    var oldLogsType = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(OLD_LOGS_COOKIE_NAME);\n    if (!sessionString) {\n        var session = {};\n        if (oldSessionId) {\n            session.id = oldSessionId;\n        }\n        if (oldLogsType && /^[01]$/.test(oldLogsType)) {\n            session[LOGS_SESSION_KEY] = oldLogsType;\n        }\n        if (oldRumType && /^[012]$/.test(oldRumType)) {\n            session[RUM_SESSION_KEY] = oldRumType;\n        }\n        (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_1__.persistSession)(session, options);\n    }\n}\n//# sourceMappingURL=oldCookiesMigration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9vbGRDb29raWVzTWlncmF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWlEO0FBQzBCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNQO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx3QkFBd0IsMERBQVMsQ0FBQyxvRUFBbUI7QUFDckQsdUJBQXVCLDBEQUFTO0FBQ2hDLHFCQUFxQiwwREFBUztBQUM5QixzQkFBc0IsMERBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsbUVBQWM7QUFDdEI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9zZXNzaW9uL29sZENvb2tpZXNNaWdyYXRpb24uanM/MTIyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDb29raWUgfSBmcm9tICcuLi8uLi9icm93c2VyL2Nvb2tpZSc7XG5pbXBvcnQgeyBTRVNTSU9OX0NPT0tJRV9OQU1FLCBwZXJzaXN0U2Vzc2lvbiB9IGZyb20gJy4vc2Vzc2lvbkNvb2tpZVN0b3JlJztcbmV4cG9ydCB2YXIgT0xEX1NFU1NJT05fQ09PS0lFX05BTUUgPSAnX2RkJztcbmV4cG9ydCB2YXIgT0xEX1JVTV9DT09LSUVfTkFNRSA9ICdfZGRfcic7XG5leHBvcnQgdmFyIE9MRF9MT0dTX0NPT0tJRV9OQU1FID0gJ19kZF9sJztcbi8vIGR1cGxpY2F0ZSB2YWx1ZXMgdG8gYXZvaWQgZGVwZW5kZW5jeSBpc3N1ZXNcbmV4cG9ydCB2YXIgUlVNX1NFU1NJT05fS0VZID0gJ3J1bSc7XG5leHBvcnQgdmFyIExPR1NfU0VTU0lPTl9LRVkgPSAnbG9ncyc7XG4vKipcbiAqIFRoaXMgbWlncmF0aW9uIHNob3VsZCByZW1haW4gaW4gdGhlIGNvZGViYXNlIGFzIGxvbmcgYXMgb2xkZXIgdmVyc2lvbnMgYXJlIGF2YWlsYWJsZS9saXZlXG4gKiB0byBhbGxvdyBvbGRlciBzZGsgdmVyc2lvbnMgdG8gYmUgdXBncmFkZWQgdG8gbmV3ZXIgdmVyc2lvbnMgd2l0aG91dCBjb21wYXRpYmlsaXR5IGlzc3Vlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyeU9sZENvb2tpZXNNaWdyYXRpb24ob3B0aW9ucykge1xuICAgIHZhciBzZXNzaW9uU3RyaW5nID0gZ2V0Q29va2llKFNFU1NJT05fQ09PS0lFX05BTUUpO1xuICAgIHZhciBvbGRTZXNzaW9uSWQgPSBnZXRDb29raWUoT0xEX1NFU1NJT05fQ09PS0lFX05BTUUpO1xuICAgIHZhciBvbGRSdW1UeXBlID0gZ2V0Q29va2llKE9MRF9SVU1fQ09PS0lFX05BTUUpO1xuICAgIHZhciBvbGRMb2dzVHlwZSA9IGdldENvb2tpZShPTERfTE9HU19DT09LSUVfTkFNRSk7XG4gICAgaWYgKCFzZXNzaW9uU3RyaW5nKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0ge307XG4gICAgICAgIGlmIChvbGRTZXNzaW9uSWQpIHtcbiAgICAgICAgICAgIHNlc3Npb24uaWQgPSBvbGRTZXNzaW9uSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZExvZ3NUeXBlICYmIC9eWzAxXSQvLnRlc3Qob2xkTG9nc1R5cGUpKSB7XG4gICAgICAgICAgICBzZXNzaW9uW0xPR1NfU0VTU0lPTl9LRVldID0gb2xkTG9nc1R5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZFJ1bVR5cGUgJiYgL15bMDEyXSQvLnRlc3Qob2xkUnVtVHlwZSkpIHtcbiAgICAgICAgICAgIHNlc3Npb25bUlVNX1NFU1NJT05fS0VZXSA9IG9sZFJ1bVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgcGVyc2lzdFNlc3Npb24oc2Vzc2lvbiwgb3B0aW9ucyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2xkQ29va2llc01pZ3JhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SESSION_EXPIRATION_DELAY\": function() { return /* binding */ SESSION_EXPIRATION_DELAY; },\n/* harmony export */   \"SESSION_TIME_OUT_DELAY\": function() { return /* binding */ SESSION_TIME_OUT_DELAY; }\n/* harmony export */ });\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\nvar SESSION_TIME_OUT_DELAY = 4 * _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_HOUR;\nvar SESSION_EXPIRATION_DELAY = 15 * _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\n//# sourceMappingURL=sessionConstants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9zZXNzaW9uQ29uc3RhbnRzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5RDtBQUNsRCxpQ0FBaUMsa0RBQVE7QUFDekMsb0NBQW9DLG9EQUFVO0FBQ3JEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9zZXNzaW9uL3Nlc3Npb25Db25zdGFudHMuanM/YjVjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPTkVfSE9VUiwgT05FX01JTlVURSB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJztcbmV4cG9ydCB2YXIgU0VTU0lPTl9USU1FX09VVF9ERUxBWSA9IDQgKiBPTkVfSE9VUjtcbmV4cG9ydCB2YXIgU0VTU0lPTl9FWFBJUkFUSU9OX0RFTEFZID0gMTUgKiBPTkVfTUlOVVRFO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvbkNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LOCK_RETRY_DELAY\": function() { return /* binding */ LOCK_RETRY_DELAY; },\n/* harmony export */   \"MAX_NUMBER_OF_LOCK_RETRIES\": function() { return /* binding */ MAX_NUMBER_OF_LOCK_RETRIES; },\n/* harmony export */   \"SESSION_COOKIE_NAME\": function() { return /* binding */ SESSION_COOKIE_NAME; },\n/* harmony export */   \"persistSession\": function() { return /* binding */ persistSession; },\n/* harmony export */   \"retrieveSession\": function() { return /* binding */ retrieveSession; },\n/* harmony export */   \"toSessionString\": function() { return /* binding */ toSessionString; },\n/* harmony export */   \"withCookieLockAccess\": function() { return /* binding */ withCookieLockAccess; }\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../browser/cookie */ \"./node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _tools_browserDetection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/browserDetection */ \"./node_modules/@datadog/browser-core/esm/tools/browserDetection.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sessionConstants */ \"./node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n\n\n\n\n\nvar SESSION_ENTRY_REGEXP = /^([a-z]+)=([a-z0-9-]+)$/;\nvar SESSION_ENTRY_SEPARATOR = '&';\nvar SESSION_COOKIE_NAME = '_dd_s';\n// arbitrary values\nvar LOCK_RETRY_DELAY = 10;\nvar MAX_NUMBER_OF_LOCK_RETRIES = 100;\nvar bufferedOperations = [];\nvar ongoingOperations;\nfunction withCookieLockAccess(operations, numberOfRetries) {\n    var _a;\n    if (numberOfRetries === void 0) { numberOfRetries = 0; }\n    if (!ongoingOperations) {\n        ongoingOperations = operations;\n    }\n    if (operations !== ongoingOperations) {\n        bufferedOperations.push(operations);\n        return;\n    }\n    if (numberOfRetries >= MAX_NUMBER_OF_LOCK_RETRIES) {\n        next();\n        return;\n    }\n    var currentLock;\n    var currentSession = retrieveSession();\n    if (isCookieLockEnabled()) {\n        // if someone has lock, retry later\n        if (currentSession.lock) {\n            retryLater(operations, numberOfRetries);\n            return;\n        }\n        // acquire lock\n        currentLock = _tools_utils__WEBPACK_IMPORTED_MODULE_0__.generateUUID();\n        currentSession.lock = currentLock;\n        setSession(currentSession, operations.options);\n        // if lock is not acquired, retry later\n        currentSession = retrieveSession();\n        if (currentSession.lock !== currentLock) {\n            retryLater(operations, numberOfRetries);\n            return;\n        }\n    }\n    var processedSession = operations.process(currentSession);\n    if (isCookieLockEnabled()) {\n        // if lock corrupted after process, retry later\n        currentSession = retrieveSession();\n        if (currentSession.lock !== currentLock) {\n            retryLater(operations, numberOfRetries);\n            return;\n        }\n    }\n    if (processedSession) {\n        persistSession(processedSession, operations.options);\n    }\n    if (isCookieLockEnabled()) {\n        // correctly handle lock around expiration would require to handle this case properly at several levels\n        // since we don't have evidence of lock issues around expiration, let's just not do the corruption check for it\n        if (!(processedSession && isExpiredState(processedSession))) {\n            // if lock corrupted after persist, retry later\n            currentSession = retrieveSession();\n            if (currentSession.lock !== currentLock) {\n                retryLater(operations, numberOfRetries);\n                return;\n            }\n            delete currentSession.lock;\n            setSession(currentSession, operations.options);\n            processedSession = currentSession;\n        }\n    }\n    // call after even if session is not persisted in order to perform operations on\n    // up-to-date cookie value, the value could have been modified by another tab\n    (_a = operations.after) === null || _a === void 0 ? void 0 : _a.call(operations, processedSession || currentSession);\n    next();\n}\n/**\n * Cookie lock strategy allows mitigating issues due to concurrent access to cookie.\n * This issue concerns only chromium browsers and enabling this on firefox increase cookie write failures.\n */\nfunction isCookieLockEnabled() {\n    return (0,_tools_browserDetection__WEBPACK_IMPORTED_MODULE_1__.isChromium)();\n}\nfunction retryLater(operations, currentNumberOfRetries) {\n    setTimeout((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function () {\n        withCookieLockAccess(operations, currentNumberOfRetries + 1);\n    }), LOCK_RETRY_DELAY);\n}\nfunction next() {\n    ongoingOperations = undefined;\n    var nextOperations = bufferedOperations.shift();\n    if (nextOperations) {\n        withCookieLockAccess(nextOperations);\n    }\n}\nfunction persistSession(session, options) {\n    if (isExpiredState(session)) {\n        clearSession(options);\n        return;\n    }\n    session.expire = String(Date.now() + _sessionConstants__WEBPACK_IMPORTED_MODULE_3__.SESSION_EXPIRATION_DELAY);\n    setSession(session, options);\n}\nfunction setSession(session, options) {\n    (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_4__.setCookie)(SESSION_COOKIE_NAME, toSessionString(session), _sessionConstants__WEBPACK_IMPORTED_MODULE_3__.SESSION_EXPIRATION_DELAY, options);\n}\nfunction toSessionString(session) {\n    return _tools_utils__WEBPACK_IMPORTED_MODULE_0__.objectEntries(session)\n        .map(function (_a) {\n        var key = _a[0], value = _a[1];\n        return \"\".concat(key, \"=\").concat(value);\n    })\n        .join(SESSION_ENTRY_SEPARATOR);\n}\nfunction retrieveSession() {\n    var sessionString = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_4__.getCookie)(SESSION_COOKIE_NAME);\n    var session = {};\n    if (isValidSessionString(sessionString)) {\n        sessionString.split(SESSION_ENTRY_SEPARATOR).forEach(function (entry) {\n            var matches = SESSION_ENTRY_REGEXP.exec(entry);\n            if (matches !== null) {\n                var key = matches[1], value = matches[2];\n                session[key] = value;\n            }\n        });\n    }\n    return session;\n}\nfunction isValidSessionString(sessionString) {\n    return (sessionString !== undefined &&\n        (sessionString.indexOf(SESSION_ENTRY_SEPARATOR) !== -1 || SESSION_ENTRY_REGEXP.test(sessionString)));\n}\nfunction isExpiredState(session) {\n    return _tools_utils__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject(session);\n}\nfunction clearSession(options) {\n    (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_4__.setCookie)(SESSION_COOKIE_NAME, '', 0, options);\n}\n//# sourceMappingURL=sessionCookieStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9zZXNzaW9uQ29va2llU3RvcmUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQTREO0FBQ0Y7QUFDWjtBQUNIO0FBQ21CO0FBQzlEO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0RBQWtCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtRUFBVTtBQUNyQjtBQUNBO0FBQ0EsZUFBZSx1REFBTztBQUN0QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx1RUFBd0I7QUFDakU7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwREFBUyxnREFBZ0QsdUVBQXdCO0FBQ3JGO0FBQ087QUFDUCxXQUFXLHVEQUNXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCx3QkFBd0IsMERBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1REFBbUI7QUFDOUI7QUFDQTtBQUNBLElBQUksMERBQVM7QUFDYjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9zZXNzaW9uL3Nlc3Npb25Db29raWVTdG9yZS5qcz9iODg2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENvb2tpZSwgc2V0Q29va2llIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9jb29raWUnO1xuaW1wb3J0IHsgaXNDaHJvbWl1bSB9IGZyb20gJy4uLy4uL3Rvb2xzL2Jyb3dzZXJEZXRlY3Rpb24nO1xuaW1wb3J0IHsgbW9uaXRvciB9IGZyb20gJy4uLy4uL3Rvb2xzL21vbml0b3InO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMnO1xuaW1wb3J0IHsgU0VTU0lPTl9FWFBJUkFUSU9OX0RFTEFZIH0gZnJvbSAnLi9zZXNzaW9uQ29uc3RhbnRzJztcbnZhciBTRVNTSU9OX0VOVFJZX1JFR0VYUCA9IC9eKFthLXpdKyk9KFthLXowLTktXSspJC87XG52YXIgU0VTU0lPTl9FTlRSWV9TRVBBUkFUT1IgPSAnJic7XG5leHBvcnQgdmFyIFNFU1NJT05fQ09PS0lFX05BTUUgPSAnX2RkX3MnO1xuLy8gYXJiaXRyYXJ5IHZhbHVlc1xuZXhwb3J0IHZhciBMT0NLX1JFVFJZX0RFTEFZID0gMTA7XG5leHBvcnQgdmFyIE1BWF9OVU1CRVJfT0ZfTE9DS19SRVRSSUVTID0gMTAwO1xudmFyIGJ1ZmZlcmVkT3BlcmF0aW9ucyA9IFtdO1xudmFyIG9uZ29pbmdPcGVyYXRpb25zO1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhDb29raWVMb2NrQWNjZXNzKG9wZXJhdGlvbnMsIG51bWJlck9mUmV0cmllcykge1xuICAgIHZhciBfYTtcbiAgICBpZiAobnVtYmVyT2ZSZXRyaWVzID09PSB2b2lkIDApIHsgbnVtYmVyT2ZSZXRyaWVzID0gMDsgfVxuICAgIGlmICghb25nb2luZ09wZXJhdGlvbnMpIHtcbiAgICAgICAgb25nb2luZ09wZXJhdGlvbnMgPSBvcGVyYXRpb25zO1xuICAgIH1cbiAgICBpZiAob3BlcmF0aW9ucyAhPT0gb25nb2luZ09wZXJhdGlvbnMpIHtcbiAgICAgICAgYnVmZmVyZWRPcGVyYXRpb25zLnB1c2gob3BlcmF0aW9ucyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG51bWJlck9mUmV0cmllcyA+PSBNQVhfTlVNQkVSX09GX0xPQ0tfUkVUUklFUykge1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnRMb2NrO1xuICAgIHZhciBjdXJyZW50U2Vzc2lvbiA9IHJldHJpZXZlU2Vzc2lvbigpO1xuICAgIGlmIChpc0Nvb2tpZUxvY2tFbmFibGVkKCkpIHtcbiAgICAgICAgLy8gaWYgc29tZW9uZSBoYXMgbG9jaywgcmV0cnkgbGF0ZXJcbiAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uLmxvY2spIHtcbiAgICAgICAgICAgIHJldHJ5TGF0ZXIob3BlcmF0aW9ucywgbnVtYmVyT2ZSZXRyaWVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBhY3F1aXJlIGxvY2tcbiAgICAgICAgY3VycmVudExvY2sgPSB1dGlscy5nZW5lcmF0ZVVVSUQoKTtcbiAgICAgICAgY3VycmVudFNlc3Npb24ubG9jayA9IGN1cnJlbnRMb2NrO1xuICAgICAgICBzZXRTZXNzaW9uKGN1cnJlbnRTZXNzaW9uLCBvcGVyYXRpb25zLm9wdGlvbnMpO1xuICAgICAgICAvLyBpZiBsb2NrIGlzIG5vdCBhY3F1aXJlZCwgcmV0cnkgbGF0ZXJcbiAgICAgICAgY3VycmVudFNlc3Npb24gPSByZXRyaWV2ZVNlc3Npb24oKTtcbiAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uLmxvY2sgIT09IGN1cnJlbnRMb2NrKSB7XG4gICAgICAgICAgICByZXRyeUxhdGVyKG9wZXJhdGlvbnMsIG51bWJlck9mUmV0cmllcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHByb2Nlc3NlZFNlc3Npb24gPSBvcGVyYXRpb25zLnByb2Nlc3MoY3VycmVudFNlc3Npb24pO1xuICAgIGlmIChpc0Nvb2tpZUxvY2tFbmFibGVkKCkpIHtcbiAgICAgICAgLy8gaWYgbG9jayBjb3JydXB0ZWQgYWZ0ZXIgcHJvY2VzcywgcmV0cnkgbGF0ZXJcbiAgICAgICAgY3VycmVudFNlc3Npb24gPSByZXRyaWV2ZVNlc3Npb24oKTtcbiAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uLmxvY2sgIT09IGN1cnJlbnRMb2NrKSB7XG4gICAgICAgICAgICByZXRyeUxhdGVyKG9wZXJhdGlvbnMsIG51bWJlck9mUmV0cmllcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3NlZFNlc3Npb24pIHtcbiAgICAgICAgcGVyc2lzdFNlc3Npb24ocHJvY2Vzc2VkU2Vzc2lvbiwgb3BlcmF0aW9ucy5vcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzQ29va2llTG9ja0VuYWJsZWQoKSkge1xuICAgICAgICAvLyBjb3JyZWN0bHkgaGFuZGxlIGxvY2sgYXJvdW5kIGV4cGlyYXRpb24gd291bGQgcmVxdWlyZSB0byBoYW5kbGUgdGhpcyBjYXNlIHByb3Blcmx5IGF0IHNldmVyYWwgbGV2ZWxzXG4gICAgICAgIC8vIHNpbmNlIHdlIGRvbid0IGhhdmUgZXZpZGVuY2Ugb2YgbG9jayBpc3N1ZXMgYXJvdW5kIGV4cGlyYXRpb24sIGxldCdzIGp1c3Qgbm90IGRvIHRoZSBjb3JydXB0aW9uIGNoZWNrIGZvciBpdFxuICAgICAgICBpZiAoIShwcm9jZXNzZWRTZXNzaW9uICYmIGlzRXhwaXJlZFN0YXRlKHByb2Nlc3NlZFNlc3Npb24pKSkge1xuICAgICAgICAgICAgLy8gaWYgbG9jayBjb3JydXB0ZWQgYWZ0ZXIgcGVyc2lzdCwgcmV0cnkgbGF0ZXJcbiAgICAgICAgICAgIGN1cnJlbnRTZXNzaW9uID0gcmV0cmlldmVTZXNzaW9uKCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNlc3Npb24ubG9jayAhPT0gY3VycmVudExvY2spIHtcbiAgICAgICAgICAgICAgICByZXRyeUxhdGVyKG9wZXJhdGlvbnMsIG51bWJlck9mUmV0cmllcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRTZXNzaW9uLmxvY2s7XG4gICAgICAgICAgICBzZXRTZXNzaW9uKGN1cnJlbnRTZXNzaW9uLCBvcGVyYXRpb25zLm9wdGlvbnMpO1xuICAgICAgICAgICAgcHJvY2Vzc2VkU2Vzc2lvbiA9IGN1cnJlbnRTZXNzaW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNhbGwgYWZ0ZXIgZXZlbiBpZiBzZXNzaW9uIGlzIG5vdCBwZXJzaXN0ZWQgaW4gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uXG4gICAgLy8gdXAtdG8tZGF0ZSBjb29raWUgdmFsdWUsIHRoZSB2YWx1ZSBjb3VsZCBoYXZlIGJlZW4gbW9kaWZpZWQgYnkgYW5vdGhlciB0YWJcbiAgICAoX2EgPSBvcGVyYXRpb25zLmFmdGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvcGVyYXRpb25zLCBwcm9jZXNzZWRTZXNzaW9uIHx8IGN1cnJlbnRTZXNzaW9uKTtcbiAgICBuZXh0KCk7XG59XG4vKipcbiAqIENvb2tpZSBsb2NrIHN0cmF0ZWd5IGFsbG93cyBtaXRpZ2F0aW5nIGlzc3VlcyBkdWUgdG8gY29uY3VycmVudCBhY2Nlc3MgdG8gY29va2llLlxuICogVGhpcyBpc3N1ZSBjb25jZXJucyBvbmx5IGNocm9taXVtIGJyb3dzZXJzIGFuZCBlbmFibGluZyB0aGlzIG9uIGZpcmVmb3ggaW5jcmVhc2UgY29va2llIHdyaXRlIGZhaWx1cmVzLlxuICovXG5mdW5jdGlvbiBpc0Nvb2tpZUxvY2tFbmFibGVkKCkge1xuICAgIHJldHVybiBpc0Nocm9taXVtKCk7XG59XG5mdW5jdGlvbiByZXRyeUxhdGVyKG9wZXJhdGlvbnMsIGN1cnJlbnROdW1iZXJPZlJldHJpZXMpIHtcbiAgICBzZXRUaW1lb3V0KG1vbml0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICB3aXRoQ29va2llTG9ja0FjY2VzcyhvcGVyYXRpb25zLCBjdXJyZW50TnVtYmVyT2ZSZXRyaWVzICsgMSk7XG4gICAgfSksIExPQ0tfUkVUUllfREVMQVkpO1xufVxuZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBvbmdvaW5nT3BlcmF0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB2YXIgbmV4dE9wZXJhdGlvbnMgPSBidWZmZXJlZE9wZXJhdGlvbnMuc2hpZnQoKTtcbiAgICBpZiAobmV4dE9wZXJhdGlvbnMpIHtcbiAgICAgICAgd2l0aENvb2tpZUxvY2tBY2Nlc3MobmV4dE9wZXJhdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBwZXJzaXN0U2Vzc2lvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgaWYgKGlzRXhwaXJlZFN0YXRlKHNlc3Npb24pKSB7XG4gICAgICAgIGNsZWFyU2Vzc2lvbihvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXNzaW9uLmV4cGlyZSA9IFN0cmluZyhEYXRlLm5vdygpICsgU0VTU0lPTl9FWFBJUkFUSU9OX0RFTEFZKTtcbiAgICBzZXRTZXNzaW9uKHNlc3Npb24sIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gc2V0U2Vzc2lvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgc2V0Q29va2llKFNFU1NJT05fQ09PS0lFX05BTUUsIHRvU2Vzc2lvblN0cmluZyhzZXNzaW9uKSwgU0VTU0lPTl9FWFBJUkFUSU9OX0RFTEFZLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1Nlc3Npb25TdHJpbmcoc2Vzc2lvbikge1xuICAgIHJldHVybiB1dGlsc1xuICAgICAgICAub2JqZWN0RW50cmllcyhzZXNzaW9uKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIga2V5ID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChrZXksIFwiPVwiKS5jb25jYXQodmFsdWUpO1xuICAgIH0pXG4gICAgICAgIC5qb2luKFNFU1NJT05fRU5UUllfU0VQQVJBVE9SKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXRyaWV2ZVNlc3Npb24oKSB7XG4gICAgdmFyIHNlc3Npb25TdHJpbmcgPSBnZXRDb29raWUoU0VTU0lPTl9DT09LSUVfTkFNRSk7XG4gICAgdmFyIHNlc3Npb24gPSB7fTtcbiAgICBpZiAoaXNWYWxpZFNlc3Npb25TdHJpbmcoc2Vzc2lvblN0cmluZykpIHtcbiAgICAgICAgc2Vzc2lvblN0cmluZy5zcGxpdChTRVNTSU9OX0VOVFJZX1NFUEFSQVRPUikuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gU0VTU0lPTl9FTlRSWV9SRUdFWFAuZXhlYyhlbnRyeSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBtYXRjaGVzWzFdLCB2YWx1ZSA9IG1hdGNoZXNbMl07XG4gICAgICAgICAgICAgICAgc2Vzc2lvbltrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2Vzc2lvbjtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRTZXNzaW9uU3RyaW5nKHNlc3Npb25TdHJpbmcpIHtcbiAgICByZXR1cm4gKHNlc3Npb25TdHJpbmcgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAoc2Vzc2lvblN0cmluZy5pbmRleE9mKFNFU1NJT05fRU5UUllfU0VQQVJBVE9SKSAhPT0gLTEgfHwgU0VTU0lPTl9FTlRSWV9SRUdFWFAudGVzdChzZXNzaW9uU3RyaW5nKSkpO1xufVxuZnVuY3Rpb24gaXNFeHBpcmVkU3RhdGUoc2Vzc2lvbikge1xuICAgIHJldHVybiB1dGlscy5pc0VtcHR5T2JqZWN0KHNlc3Npb24pO1xufVxuZnVuY3Rpb24gY2xlYXJTZXNzaW9uKG9wdGlvbnMpIHtcbiAgICBzZXRDb29raWUoU0VTU0lPTl9DT09LSUVfTkFNRSwgJycsIDAsIG9wdGlvbnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvbkNvb2tpZVN0b3JlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VISIBILITY_CHECK_DELAY\": function() { return /* binding */ VISIBILITY_CHECK_DELAY; },\n/* harmony export */   \"startSessionManager\": function() { return /* binding */ startSessionManager; },\n/* harmony export */   \"stopSessionManager\": function() { return /* binding */ stopSessionManager; }\n/* harmony export */ });\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony import */ var _tools_contextHistory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/contextHistory */ \"./node_modules/@datadog/browser-core/esm/tools/contextHistory.js\");\n/* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/timeUtils */ \"./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _oldCookiesMigration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./oldCookiesMigration */ \"./node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js\");\n/* harmony import */ var _sessionStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sessionStore */ \"./node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sessionConstants */ \"./node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n\n\n\n\n\n\n\nvar VISIBILITY_CHECK_DELAY = _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\nvar SESSION_CONTEXT_TIMEOUT_DELAY = _sessionConstants__WEBPACK_IMPORTED_MODULE_1__.SESSION_TIME_OUT_DELAY;\nvar stopCallbacks = [];\nfunction startSessionManager(options, productKey, computeSessionState) {\n    (0,_oldCookiesMigration__WEBPACK_IMPORTED_MODULE_2__.tryOldCookiesMigration)(options);\n    var sessionStore = (0,_sessionStore__WEBPACK_IMPORTED_MODULE_3__.startSessionStore)(options, productKey, computeSessionState);\n    stopCallbacks.push(function () { return sessionStore.stop(); });\n    var sessionContextHistory = new _tools_contextHistory__WEBPACK_IMPORTED_MODULE_4__.ContextHistory(SESSION_CONTEXT_TIMEOUT_DELAY);\n    stopCallbacks.push(function () { return sessionContextHistory.stop(); });\n    sessionStore.renewObservable.subscribe(function () {\n        sessionContextHistory.add(buildSessionContext(), (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_5__.relativeNow)());\n    });\n    sessionStore.expireObservable.subscribe(function () {\n        sessionContextHistory.closeActive((0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_5__.relativeNow)());\n    });\n    sessionStore.expandOrRenewSession();\n    sessionContextHistory.add(buildSessionContext(), (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_5__.clocksOrigin)().relative);\n    trackActivity(function () { return sessionStore.expandOrRenewSession(); });\n    trackVisibility(function () { return sessionStore.expandSession(); });\n    function buildSessionContext() {\n        return {\n            id: sessionStore.getSession().id,\n            trackingType: sessionStore.getSession()[productKey],\n        };\n    }\n    return {\n        findActiveSession: function (startTime) { return sessionContextHistory.find(startTime); },\n        renewObservable: sessionStore.renewObservable,\n        expireObservable: sessionStore.expireObservable,\n    };\n}\nfunction stopSessionManager() {\n    stopCallbacks.forEach(function (e) { return e(); });\n    stopCallbacks = [];\n}\nfunction trackActivity(expandOrRenewSession) {\n    var stop = _tools_utils__WEBPACK_IMPORTED_MODULE_0__.addEventListeners(window, [\"click\" /* CLICK */, \"touchstart\" /* TOUCH_START */, \"keydown\" /* KEY_DOWN */, \"scroll\" /* SCROLL */], expandOrRenewSession, { capture: true, passive: true }).stop;\n    stopCallbacks.push(stop);\n}\nfunction trackVisibility(expandSession) {\n    var expandSessionWhenVisible = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_6__.monitor)(function () {\n        if (document.visibilityState === 'visible') {\n            expandSession();\n        }\n    });\n    var stop = _tools_utils__WEBPACK_IMPORTED_MODULE_0__.addEventListener(document, \"visibilitychange\" /* VISIBILITY_CHANGE */, expandSessionWhenVisible).stop;\n    stopCallbacks.push(stop);\n    var visibilityCheckInterval = setInterval(expandSessionWhenVisible, VISIBILITY_CHECK_DELAY);\n    stopCallbacks.push(function () {\n        clearInterval(visibilityCheckInterval);\n    });\n}\n//# sourceMappingURL=sessionManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9zZXNzaW9uTWFuYWdlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ2lCO0FBQ007QUFDcEI7QUFDaUI7QUFDWjtBQUNTO0FBQ3JELDZCQUE2QixvREFBZ0I7QUFDcEQsb0NBQW9DLHFFQUFzQjtBQUMxRDtBQUNPO0FBQ1AsSUFBSSw0RUFBc0I7QUFDMUIsdUJBQXVCLGdFQUFpQjtBQUN4QyxxQ0FBcUMsNkJBQTZCO0FBQ2xFLG9DQUFvQyxpRUFBYztBQUNsRCxxQ0FBcUMsc0NBQXNDO0FBQzNFO0FBQ0EseURBQXlELDZEQUFXO0FBQ3BFLEtBQUs7QUFDTDtBQUNBLDBDQUEwQyw2REFBVztBQUNyRCxLQUFLO0FBQ0w7QUFDQSxxREFBcUQsOERBQVk7QUFDakUsZ0NBQWdDLDZDQUE2QztBQUM3RSxrQ0FBa0Msc0NBQXNDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELCtDQUErQztBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AseUNBQXlDLGFBQWE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsZUFBZSwyREFBdUIseUlBQXlJLDhCQUE4QjtBQUM3TTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsdURBQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGVBQWUsMERBQXNCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvbk1hbmFnZXIuanM/ZGNlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuLi8uLi90b29scy91dGlscyc7XG5pbXBvcnQgeyBDb250ZXh0SGlzdG9yeSB9IGZyb20gJy4uLy4uL3Rvb2xzL2NvbnRleHRIaXN0b3J5JztcbmltcG9ydCB7IHJlbGF0aXZlTm93LCBjbG9ja3NPcmlnaW4gfSBmcm9tICcuLi8uLi90b29scy90aW1lVXRpbHMnO1xuaW1wb3J0IHsgbW9uaXRvciB9IGZyb20gJy4uLy4uL3Rvb2xzL21vbml0b3InO1xuaW1wb3J0IHsgdHJ5T2xkQ29va2llc01pZ3JhdGlvbiB9IGZyb20gJy4vb2xkQ29va2llc01pZ3JhdGlvbic7XG5pbXBvcnQgeyBzdGFydFNlc3Npb25TdG9yZSB9IGZyb20gJy4vc2Vzc2lvblN0b3JlJztcbmltcG9ydCB7IFNFU1NJT05fVElNRV9PVVRfREVMQVkgfSBmcm9tICcuL3Nlc3Npb25Db25zdGFudHMnO1xuZXhwb3J0IHZhciBWSVNJQklMSVRZX0NIRUNLX0RFTEFZID0gdXRpbHMuT05FX01JTlVURTtcbnZhciBTRVNTSU9OX0NPTlRFWFRfVElNRU9VVF9ERUxBWSA9IFNFU1NJT05fVElNRV9PVVRfREVMQVk7XG52YXIgc3RvcENhbGxiYWNrcyA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvbk1hbmFnZXIob3B0aW9ucywgcHJvZHVjdEtleSwgY29tcHV0ZVNlc3Npb25TdGF0ZSkge1xuICAgIHRyeU9sZENvb2tpZXNNaWdyYXRpb24ob3B0aW9ucyk7XG4gICAgdmFyIHNlc3Npb25TdG9yZSA9IHN0YXJ0U2Vzc2lvblN0b3JlKG9wdGlvbnMsIHByb2R1Y3RLZXksIGNvbXB1dGVTZXNzaW9uU3RhdGUpO1xuICAgIHN0b3BDYWxsYmFja3MucHVzaChmdW5jdGlvbiAoKSB7IHJldHVybiBzZXNzaW9uU3RvcmUuc3RvcCgpOyB9KTtcbiAgICB2YXIgc2Vzc2lvbkNvbnRleHRIaXN0b3J5ID0gbmV3IENvbnRleHRIaXN0b3J5KFNFU1NJT05fQ09OVEVYVF9USU1FT1VUX0RFTEFZKTtcbiAgICBzdG9wQ2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkgeyByZXR1cm4gc2Vzc2lvbkNvbnRleHRIaXN0b3J5LnN0b3AoKTsgfSk7XG4gICAgc2Vzc2lvblN0b3JlLnJlbmV3T2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXNzaW9uQ29udGV4dEhpc3RvcnkuYWRkKGJ1aWxkU2Vzc2lvbkNvbnRleHQoKSwgcmVsYXRpdmVOb3coKSk7XG4gICAgfSk7XG4gICAgc2Vzc2lvblN0b3JlLmV4cGlyZU9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2Vzc2lvbkNvbnRleHRIaXN0b3J5LmNsb3NlQWN0aXZlKHJlbGF0aXZlTm93KCkpO1xuICAgIH0pO1xuICAgIHNlc3Npb25TdG9yZS5leHBhbmRPclJlbmV3U2Vzc2lvbigpO1xuICAgIHNlc3Npb25Db250ZXh0SGlzdG9yeS5hZGQoYnVpbGRTZXNzaW9uQ29udGV4dCgpLCBjbG9ja3NPcmlnaW4oKS5yZWxhdGl2ZSk7XG4gICAgdHJhY2tBY3Rpdml0eShmdW5jdGlvbiAoKSB7IHJldHVybiBzZXNzaW9uU3RvcmUuZXhwYW5kT3JSZW5ld1Nlc3Npb24oKTsgfSk7XG4gICAgdHJhY2tWaXNpYmlsaXR5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlc3Npb25TdG9yZS5leHBhbmRTZXNzaW9uKCk7IH0pO1xuICAgIGZ1bmN0aW9uIGJ1aWxkU2Vzc2lvbkNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogc2Vzc2lvblN0b3JlLmdldFNlc3Npb24oKS5pZCxcbiAgICAgICAgICAgIHRyYWNraW5nVHlwZTogc2Vzc2lvblN0b3JlLmdldFNlc3Npb24oKVtwcm9kdWN0S2V5XSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmluZEFjdGl2ZVNlc3Npb246IGZ1bmN0aW9uIChzdGFydFRpbWUpIHsgcmV0dXJuIHNlc3Npb25Db250ZXh0SGlzdG9yeS5maW5kKHN0YXJ0VGltZSk7IH0sXG4gICAgICAgIHJlbmV3T2JzZXJ2YWJsZTogc2Vzc2lvblN0b3JlLnJlbmV3T2JzZXJ2YWJsZSxcbiAgICAgICAgZXhwaXJlT2JzZXJ2YWJsZTogc2Vzc2lvblN0b3JlLmV4cGlyZU9ic2VydmFibGUsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdG9wU2Vzc2lvbk1hbmFnZXIoKSB7XG4gICAgc3RvcENhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlKCk7IH0pO1xuICAgIHN0b3BDYWxsYmFja3MgPSBbXTtcbn1cbmZ1bmN0aW9uIHRyYWNrQWN0aXZpdHkoZXhwYW5kT3JSZW5ld1Nlc3Npb24pIHtcbiAgICB2YXIgc3RvcCA9IHV0aWxzLmFkZEV2ZW50TGlzdGVuZXJzKHdpbmRvdywgW1wiY2xpY2tcIiAvKiBDTElDSyAqLywgXCJ0b3VjaHN0YXJ0XCIgLyogVE9VQ0hfU1RBUlQgKi8sIFwia2V5ZG93blwiIC8qIEtFWV9ET1dOICovLCBcInNjcm9sbFwiIC8qIFNDUk9MTCAqL10sIGV4cGFuZE9yUmVuZXdTZXNzaW9uLCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfSkuc3RvcDtcbiAgICBzdG9wQ2FsbGJhY2tzLnB1c2goc3RvcCk7XG59XG5mdW5jdGlvbiB0cmFja1Zpc2liaWxpdHkoZXhwYW5kU2Vzc2lvbikge1xuICAgIHZhciBleHBhbmRTZXNzaW9uV2hlblZpc2libGUgPSBtb25pdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICAgICAgICBleHBhbmRTZXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgc3RvcCA9IHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwidmlzaWJpbGl0eWNoYW5nZVwiIC8qIFZJU0lCSUxJVFlfQ0hBTkdFICovLCBleHBhbmRTZXNzaW9uV2hlblZpc2libGUpLnN0b3A7XG4gICAgc3RvcENhbGxiYWNrcy5wdXNoKHN0b3ApO1xuICAgIHZhciB2aXNpYmlsaXR5Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKGV4cGFuZFNlc3Npb25XaGVuVmlzaWJsZSwgVklTSUJJTElUWV9DSEVDS19ERUxBWSk7XG4gICAgc3RvcENhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh2aXNpYmlsaXR5Q2hlY2tJbnRlcnZhbCk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uTWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startSessionStore\": function() { return /* binding */ startSessionStore; }\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../browser/cookie */ \"./node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/observable */ \"./node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sessionConstants */ \"./node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n/* harmony import */ var _sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sessionCookieStore */ \"./node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js\");\n\n\n\n\n\n\n/**\n * Different session concepts:\n * - tracked, the session has an id and is updated along the user navigation\n * - not tracked, the session does not have an id but it is updated along the user navigation\n * - inactive, no session in store or session expired, waiting for a renew session\n */\nfunction startSessionStore(options, productKey, computeSessionState) {\n    var renewObservable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable();\n    var expireObservable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable();\n    var watchSessionTimeoutId = setInterval((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_1__.monitor)(watchSession), _browser_cookie__WEBPACK_IMPORTED_MODULE_2__.COOKIE_ACCESS_DELAY);\n    var sessionCache = retrieveActiveSession();\n    function expandOrRenewSession() {\n        var isTracked;\n        (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__.withCookieLockAccess)({\n            options: options,\n            process: function (cookieSession) {\n                var synchronizedSession = synchronizeSession(cookieSession);\n                isTracked = expandOrRenewCookie(synchronizedSession);\n                return synchronizedSession;\n            },\n            after: function (cookieSession) {\n                if (isTracked && !hasSessionInCache()) {\n                    renewSession(cookieSession);\n                }\n                sessionCache = cookieSession;\n            },\n        });\n    }\n    function expandSession() {\n        (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__.withCookieLockAccess)({\n            options: options,\n            process: function (cookieSession) { return (hasSessionInCache() ? synchronizeSession(cookieSession) : undefined); },\n        });\n    }\n    /**\n     * allows two behaviors:\n     * - if the session is active, synchronize the session cache without updating the session cookie\n     * - if the session is not active, clear the session cookie and expire the session cache\n     */\n    function watchSession() {\n        (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__.withCookieLockAccess)({\n            options: options,\n            process: function (cookieSession) { return (!isActiveSession(cookieSession) ? {} : undefined); },\n            after: synchronizeSession,\n        });\n    }\n    function synchronizeSession(cookieSession) {\n        if (!isActiveSession(cookieSession)) {\n            cookieSession = {};\n        }\n        if (hasSessionInCache()) {\n            if (isSessionInCacheOutdated(cookieSession)) {\n                expireSession();\n            }\n            else {\n                sessionCache = cookieSession;\n            }\n        }\n        return cookieSession;\n    }\n    function expandOrRenewCookie(cookieSession) {\n        var _a = computeSessionState(cookieSession[productKey]), trackingType = _a.trackingType, isTracked = _a.isTracked;\n        cookieSession[productKey] = trackingType;\n        if (isTracked && !cookieSession.id) {\n            cookieSession.id = _tools_utils__WEBPACK_IMPORTED_MODULE_4__.generateUUID();\n            cookieSession.created = String(Date.now());\n        }\n        return isTracked;\n    }\n    function hasSessionInCache() {\n        return sessionCache[productKey] !== undefined;\n    }\n    function isSessionInCacheOutdated(cookieSession) {\n        return sessionCache.id !== cookieSession.id || sessionCache[productKey] !== cookieSession[productKey];\n    }\n    function expireSession() {\n        sessionCache = {};\n        expireObservable.notify();\n    }\n    function renewSession(cookieSession) {\n        sessionCache = cookieSession;\n        renewObservable.notify();\n    }\n    function retrieveActiveSession() {\n        var session = (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__.retrieveSession)();\n        if (isActiveSession(session)) {\n            return session;\n        }\n        return {};\n    }\n    function isActiveSession(session) {\n        // created and expire can be undefined for versions which was not storing them\n        // these checks could be removed when older versions will not be available/live anymore\n        return ((session.created === undefined || Date.now() - Number(session.created) < _sessionConstants__WEBPACK_IMPORTED_MODULE_5__.SESSION_TIME_OUT_DELAY) &&\n            (session.expire === undefined || Date.now() < Number(session.expire)));\n    }\n    return {\n        expandOrRenewSession: _tools_utils__WEBPACK_IMPORTED_MODULE_4__.throttle((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_1__.monitor)(expandOrRenewSession), _browser_cookie__WEBPACK_IMPORTED_MODULE_2__.COOKIE_ACCESS_DELAY).throttled,\n        expandSession: expandSession,\n        getSession: function () { return sessionCache; },\n        renewObservable: renewObservable,\n        expireObservable: expireObservable,\n        stop: function () {\n            clearInterval(watchSessionTimeoutId);\n        },\n    };\n}\n//# sourceMappingURL=sessionStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9zZXNzaW9uU3RvcmUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyRDtBQUNiO0FBQ007QUFDVDtBQUNpQjtBQUNpQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDhCQUE4Qix5REFBVTtBQUN4QywrQkFBK0IseURBQVU7QUFDekMsNENBQTRDLHVEQUFPLGdCQUFnQixnRUFBbUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5RUFBb0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSx5RUFBb0I7QUFDNUI7QUFDQSxnREFBZ0QsK0VBQStFO0FBQy9ILFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUVBQW9CO0FBQzVCO0FBQ0EsZ0RBQWdELDZDQUE2QyxlQUFlO0FBQzVHO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNEQUFrQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixvRUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLHFFQUFzQjtBQUMvRztBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0RBQWMsQ0FBQyx1REFBTyx3QkFBd0IsZ0VBQW1CO0FBQy9GO0FBQ0Esa0NBQWtDLHNCQUFzQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvblN0b3JlLmpzPzdmOGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ09PS0lFX0FDQ0VTU19ERUxBWSB9IGZyb20gJy4uLy4uL2Jyb3dzZXIvY29va2llJztcbmltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuLi8uLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi8uLi90b29scy9vYnNlcnZhYmxlJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJztcbmltcG9ydCB7IFNFU1NJT05fVElNRV9PVVRfREVMQVkgfSBmcm9tICcuL3Nlc3Npb25Db25zdGFudHMnO1xuaW1wb3J0IHsgcmV0cmlldmVTZXNzaW9uLCB3aXRoQ29va2llTG9ja0FjY2VzcyB9IGZyb20gJy4vc2Vzc2lvbkNvb2tpZVN0b3JlJztcbi8qKlxuICogRGlmZmVyZW50IHNlc3Npb24gY29uY2VwdHM6XG4gKiAtIHRyYWNrZWQsIHRoZSBzZXNzaW9uIGhhcyBhbiBpZCBhbmQgaXMgdXBkYXRlZCBhbG9uZyB0aGUgdXNlciBuYXZpZ2F0aW9uXG4gKiAtIG5vdCB0cmFja2VkLCB0aGUgc2Vzc2lvbiBkb2VzIG5vdCBoYXZlIGFuIGlkIGJ1dCBpdCBpcyB1cGRhdGVkIGFsb25nIHRoZSB1c2VyIG5hdmlnYXRpb25cbiAqIC0gaW5hY3RpdmUsIG5vIHNlc3Npb24gaW4gc3RvcmUgb3Igc2Vzc2lvbiBleHBpcmVkLCB3YWl0aW5nIGZvciBhIHJlbmV3IHNlc3Npb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvblN0b3JlKG9wdGlvbnMsIHByb2R1Y3RLZXksIGNvbXB1dGVTZXNzaW9uU3RhdGUpIHtcbiAgICB2YXIgcmVuZXdPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICB2YXIgZXhwaXJlT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgdmFyIHdhdGNoU2Vzc2lvblRpbWVvdXRJZCA9IHNldEludGVydmFsKG1vbml0b3Iod2F0Y2hTZXNzaW9uKSwgQ09PS0lFX0FDQ0VTU19ERUxBWSk7XG4gICAgdmFyIHNlc3Npb25DYWNoZSA9IHJldHJpZXZlQWN0aXZlU2Vzc2lvbigpO1xuICAgIGZ1bmN0aW9uIGV4cGFuZE9yUmVuZXdTZXNzaW9uKCkge1xuICAgICAgICB2YXIgaXNUcmFja2VkO1xuICAgICAgICB3aXRoQ29va2llTG9ja0FjY2Vzcyh7XG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gKGNvb2tpZVNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3luY2hyb25pemVkU2Vzc2lvbiA9IHN5bmNocm9uaXplU2Vzc2lvbihjb29raWVTZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBpc1RyYWNrZWQgPSBleHBhbmRPclJlbmV3Q29va2llKHN5bmNocm9uaXplZFNlc3Npb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jaHJvbml6ZWRTZXNzaW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFmdGVyOiBmdW5jdGlvbiAoY29va2llU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGlmIChpc1RyYWNrZWQgJiYgIWhhc1Nlc3Npb25JbkNhY2hlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZXdTZXNzaW9uKGNvb2tpZVNlc3Npb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXNzaW9uQ2FjaGUgPSBjb29raWVTZXNzaW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4cGFuZFNlc3Npb24oKSB7XG4gICAgICAgIHdpdGhDb29raWVMb2NrQWNjZXNzKHtcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICBwcm9jZXNzOiBmdW5jdGlvbiAoY29va2llU2Vzc2lvbikgeyByZXR1cm4gKGhhc1Nlc3Npb25JbkNhY2hlKCkgPyBzeW5jaHJvbml6ZVNlc3Npb24oY29va2llU2Vzc2lvbikgOiB1bmRlZmluZWQpOyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWxsb3dzIHR3byBiZWhhdmlvcnM6XG4gICAgICogLSBpZiB0aGUgc2Vzc2lvbiBpcyBhY3RpdmUsIHN5bmNocm9uaXplIHRoZSBzZXNzaW9uIGNhY2hlIHdpdGhvdXQgdXBkYXRpbmcgdGhlIHNlc3Npb24gY29va2llXG4gICAgICogLSBpZiB0aGUgc2Vzc2lvbiBpcyBub3QgYWN0aXZlLCBjbGVhciB0aGUgc2Vzc2lvbiBjb29raWUgYW5kIGV4cGlyZSB0aGUgc2Vzc2lvbiBjYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdhdGNoU2Vzc2lvbigpIHtcbiAgICAgICAgd2l0aENvb2tpZUxvY2tBY2Nlc3Moe1xuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIChjb29raWVTZXNzaW9uKSB7IHJldHVybiAoIWlzQWN0aXZlU2Vzc2lvbihjb29raWVTZXNzaW9uKSA/IHt9IDogdW5kZWZpbmVkKTsgfSxcbiAgICAgICAgICAgIGFmdGVyOiBzeW5jaHJvbml6ZVNlc3Npb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzeW5jaHJvbml6ZVNlc3Npb24oY29va2llU2Vzc2lvbikge1xuICAgICAgICBpZiAoIWlzQWN0aXZlU2Vzc2lvbihjb29raWVTZXNzaW9uKSkge1xuICAgICAgICAgICAgY29va2llU2Vzc2lvbiA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNTZXNzaW9uSW5DYWNoZSgpKSB7XG4gICAgICAgICAgICBpZiAoaXNTZXNzaW9uSW5DYWNoZU91dGRhdGVkKGNvb2tpZVNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgZXhwaXJlU2Vzc2lvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbkNhY2hlID0gY29va2llU2Vzc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29va2llU2Vzc2lvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhwYW5kT3JSZW5ld0Nvb2tpZShjb29raWVTZXNzaW9uKSB7XG4gICAgICAgIHZhciBfYSA9IGNvbXB1dGVTZXNzaW9uU3RhdGUoY29va2llU2Vzc2lvbltwcm9kdWN0S2V5XSksIHRyYWNraW5nVHlwZSA9IF9hLnRyYWNraW5nVHlwZSwgaXNUcmFja2VkID0gX2EuaXNUcmFja2VkO1xuICAgICAgICBjb29raWVTZXNzaW9uW3Byb2R1Y3RLZXldID0gdHJhY2tpbmdUeXBlO1xuICAgICAgICBpZiAoaXNUcmFja2VkICYmICFjb29raWVTZXNzaW9uLmlkKSB7XG4gICAgICAgICAgICBjb29raWVTZXNzaW9uLmlkID0gdXRpbHMuZ2VuZXJhdGVVVUlEKCk7XG4gICAgICAgICAgICBjb29raWVTZXNzaW9uLmNyZWF0ZWQgPSBTdHJpbmcoRGF0ZS5ub3coKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzVHJhY2tlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzU2Vzc2lvbkluQ2FjaGUoKSB7XG4gICAgICAgIHJldHVybiBzZXNzaW9uQ2FjaGVbcHJvZHVjdEtleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNTZXNzaW9uSW5DYWNoZU91dGRhdGVkKGNvb2tpZVNlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25DYWNoZS5pZCAhPT0gY29va2llU2Vzc2lvbi5pZCB8fCBzZXNzaW9uQ2FjaGVbcHJvZHVjdEtleV0gIT09IGNvb2tpZVNlc3Npb25bcHJvZHVjdEtleV07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4cGlyZVNlc3Npb24oKSB7XG4gICAgICAgIHNlc3Npb25DYWNoZSA9IHt9O1xuICAgICAgICBleHBpcmVPYnNlcnZhYmxlLm5vdGlmeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5ld1Nlc3Npb24oY29va2llU2Vzc2lvbikge1xuICAgICAgICBzZXNzaW9uQ2FjaGUgPSBjb29raWVTZXNzaW9uO1xuICAgICAgICByZW5ld09ic2VydmFibGUubm90aWZ5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldHJpZXZlQWN0aXZlU2Vzc2lvbigpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSByZXRyaWV2ZVNlc3Npb24oKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlU2Vzc2lvbihzZXNzaW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0FjdGl2ZVNlc3Npb24oc2Vzc2lvbikge1xuICAgICAgICAvLyBjcmVhdGVkIGFuZCBleHBpcmUgY2FuIGJlIHVuZGVmaW5lZCBmb3IgdmVyc2lvbnMgd2hpY2ggd2FzIG5vdCBzdG9yaW5nIHRoZW1cbiAgICAgICAgLy8gdGhlc2UgY2hlY2tzIGNvdWxkIGJlIHJlbW92ZWQgd2hlbiBvbGRlciB2ZXJzaW9ucyB3aWxsIG5vdCBiZSBhdmFpbGFibGUvbGl2ZSBhbnltb3JlXG4gICAgICAgIHJldHVybiAoKHNlc3Npb24uY3JlYXRlZCA9PT0gdW5kZWZpbmVkIHx8IERhdGUubm93KCkgLSBOdW1iZXIoc2Vzc2lvbi5jcmVhdGVkKSA8IFNFU1NJT05fVElNRV9PVVRfREVMQVkpICYmXG4gICAgICAgICAgICAoc2Vzc2lvbi5leHBpcmUgPT09IHVuZGVmaW5lZCB8fCBEYXRlLm5vdygpIDwgTnVtYmVyKHNlc3Npb24uZXhwaXJlKSkpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBleHBhbmRPclJlbmV3U2Vzc2lvbjogdXRpbHMudGhyb3R0bGUobW9uaXRvcihleHBhbmRPclJlbmV3U2Vzc2lvbiksIENPT0tJRV9BQ0NFU1NfREVMQVkpLnRocm90dGxlZCxcbiAgICAgICAgZXhwYW5kU2Vzc2lvbjogZXhwYW5kU2Vzc2lvbixcbiAgICAgICAgZ2V0U2Vzc2lvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2Vzc2lvbkNhY2hlOyB9LFxuICAgICAgICByZW5ld09ic2VydmFibGU6IHJlbmV3T2JzZXJ2YWJsZSxcbiAgICAgICAgZXhwaXJlT2JzZXJ2YWJsZTogZXhwaXJlT2JzZXJ2YWJsZSxcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh3YXRjaFNlc3Npb25UaW1lb3V0SWQpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uU3RvcmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/telemetry/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/telemetry/index.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addTelemetryDebug\": function() { return /* reexport safe */ _telemetry__WEBPACK_IMPORTED_MODULE_0__.addTelemetryDebug; },\n/* harmony export */   \"addTelemetryError\": function() { return /* reexport safe */ _telemetry__WEBPACK_IMPORTED_MODULE_0__.addTelemetryError; },\n/* harmony export */   \"isTelemetryReplicationAllowed\": function() { return /* reexport safe */ _telemetry__WEBPACK_IMPORTED_MODULE_0__.isTelemetryReplicationAllowed; },\n/* harmony export */   \"resetTelemetry\": function() { return /* reexport safe */ _telemetry__WEBPACK_IMPORTED_MODULE_0__.resetTelemetry; },\n/* harmony export */   \"startFakeTelemetry\": function() { return /* reexport safe */ _telemetry__WEBPACK_IMPORTED_MODULE_0__.startFakeTelemetry; },\n/* harmony export */   \"startTelemetry\": function() { return /* reexport safe */ _telemetry__WEBPACK_IMPORTED_MODULE_0__.startTelemetry; }\n/* harmony export */ });\n/* harmony import */ var _telemetry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./telemetry */ \"./node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _telemetryEvent_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./telemetryEvent.types */ \"./node_modules/@datadog/browser-core/esm/domain/telemetry/telemetryEvent.types.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _telemetryEvent_types__WEBPACK_IMPORTED_MODULE_1__) if([\"default\",\"addTelemetryDebug\",\"addTelemetryError\",\"startFakeTelemetry\",\"resetTelemetry\",\"startTelemetry\",\"isTelemetryReplicationAllowed\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _telemetryEvent_types__WEBPACK_IMPORTED_MODULE_1__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdGVsZW1ldHJ5L2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXVKO0FBQ2hIO0FBQ3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi90ZWxlbWV0cnkvaW5kZXguanM/OWRkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBhZGRUZWxlbWV0cnlEZWJ1ZywgYWRkVGVsZW1ldHJ5RXJyb3IsIHN0YXJ0RmFrZVRlbGVtZXRyeSwgcmVzZXRUZWxlbWV0cnksIHN0YXJ0VGVsZW1ldHJ5LCBpc1RlbGVtZXRyeVJlcGxpY2F0aW9uQWxsb3dlZCwgfSBmcm9tICcuL3RlbGVtZXRyeSc7XG5leHBvcnQgKiBmcm9tICcuL3RlbGVtZXRyeUV2ZW50LnR5cGVzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/telemetry/index.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addTelemetryDebug\": function() { return /* binding */ addTelemetryDebug; },\n/* harmony export */   \"addTelemetryError\": function() { return /* binding */ addTelemetryError; },\n/* harmony export */   \"formatError\": function() { return /* binding */ formatError; },\n/* harmony export */   \"isTelemetryReplicationAllowed\": function() { return /* binding */ isTelemetryReplicationAllowed; },\n/* harmony export */   \"resetTelemetry\": function() { return /* binding */ resetTelemetry; },\n/* harmony export */   \"scrubCustomerFrames\": function() { return /* binding */ scrubCustomerFrames; },\n/* harmony export */   \"startFakeTelemetry\": function() { return /* binding */ startFakeTelemetry; },\n/* harmony export */   \"startTelemetry\": function() { return /* binding */ startTelemetry; }\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/display */ \"./node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_error__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/error */ \"./node_modules/@datadog/browser-core/esm/tools/error.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../configuration */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/index.js\");\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tracekit */ \"./node_modules/@datadog/browser-core/esm/domain/tracekit/index.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/observable */ \"./node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/timeUtils */ \"./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n\n\n\n\n\n\n\n\nvar ALLOWED_FRAME_URLS = [\n    'https://www.datadoghq-browser-agent.com',\n    'https://www.datad0g-browser-agent.com',\n    'http://localhost',\n    '<anonymous>',\n];\nvar TELEMETRY_EXCLUDED_SITES = [_configuration__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_US1_FED];\nvar telemetryConfiguration = { maxEventsPerPage: 0, sentEventCount: 0, telemetryEnabled: false };\nvar onRawTelemetryEventCollected;\nfunction startTelemetry(configuration) {\n    var contextProvider;\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable();\n    telemetryConfiguration.telemetryEnabled = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.performDraw)(configuration.telemetrySampleRate);\n    onRawTelemetryEventCollected = function (event) {\n        if (!(0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.includes)(TELEMETRY_EXCLUDED_SITES, configuration.site) && telemetryConfiguration.telemetryEnabled) {\n            observable.notify(toTelemetryEvent(event));\n        }\n    };\n    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_3__.startMonitorErrorCollection)(addTelemetryError);\n    (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.assign)(telemetryConfiguration, {\n        maxEventsPerPage: configuration.maxTelemetryEventsPerPage,\n        sentEventCount: 0,\n    });\n    function toTelemetryEvent(event) {\n        return (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.combine)({\n            type: 'telemetry',\n            date: (0,_tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__.timeStampNow)(),\n            service: 'browser-sdk',\n            version: \"4.11.3\",\n            source: 'browser',\n            _dd: {\n                format_version: 2,\n            },\n            telemetry: event, // https://github.com/microsoft/TypeScript/issues/48457\n        }, contextProvider !== undefined ? contextProvider() : {});\n    }\n    return {\n        setContextProvider: function (provider) {\n            contextProvider = provider;\n        },\n        observable: observable,\n    };\n}\nfunction startFakeTelemetry() {\n    var events = [];\n    (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.assign)(telemetryConfiguration, {\n        maxEventsPerPage: Infinity,\n        sentEventCount: 0,\n    });\n    onRawTelemetryEventCollected = function (event) {\n        events.push(event);\n    };\n    return events;\n}\nfunction resetTelemetry() {\n    onRawTelemetryEventCollected = undefined;\n}\n/**\n * Avoid mixing telemetry events from different data centers\n * but keep replicating staging events for reliability\n */\nfunction isTelemetryReplicationAllowed(configuration) {\n    return configuration.site === _configuration__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_STAGING;\n}\nfunction addTelemetryDebug(message, context) {\n    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_3__.displayIfDebugEnabled)(_tools_display__WEBPACK_IMPORTED_MODULE_5__.ConsoleApiName.debug, message, context);\n    addTelemetry((0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        message: message,\n        status: \"debug\" /* debug */,\n    }, context));\n}\nfunction addTelemetryError(e) {\n    addTelemetry((0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        status: \"error\" /* error */,\n    }, formatError(e)));\n}\nfunction addTelemetry(event) {\n    if (onRawTelemetryEventCollected && telemetryConfiguration.sentEventCount < telemetryConfiguration.maxEventsPerPage) {\n        telemetryConfiguration.sentEventCount += 1;\n        onRawTelemetryEventCollected(event);\n    }\n}\nfunction formatError(e) {\n    if (e instanceof Error) {\n        var stackTrace = (0,_tracekit__WEBPACK_IMPORTED_MODULE_6__.computeStackTrace)(e);\n        return {\n            error: {\n                kind: stackTrace.name,\n                stack: (0,_tools_error__WEBPACK_IMPORTED_MODULE_7__.toStackTraceString)(scrubCustomerFrames(stackTrace)),\n            },\n            message: stackTrace.message,\n        };\n    }\n    return {\n        error: {\n            stack: 'Not an instance of error',\n        },\n        message: \"Uncaught \".concat((0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.jsonStringify)(e)),\n    };\n}\nfunction scrubCustomerFrames(stackTrace) {\n    stackTrace.stack = stackTrace.stack.filter(function (frame) { return !frame.url || ALLOWED_FRAME_URLS.some(function (allowedFrameUrl) { return (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.startsWith)(frame.url, allowedFrameUrl); }); });\n    return stackTrace;\n}\n//# sourceMappingURL=telemetry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdGVsZW1ldHJ5L3RlbGVtZXRyeS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ0U7QUFDK0M7QUFDMUI7QUFDNUI7QUFDSTtBQUNDO0FBQ29DO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywrREFBbUI7QUFDbkQsK0JBQStCO0FBQy9CO0FBQ087QUFDUDtBQUNBLHlCQUF5Qix5REFBVTtBQUNuQyw4Q0FBOEMseURBQVc7QUFDekQ7QUFDQSxhQUFhLHNEQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLElBQUksMkVBQTJCO0FBQy9CLElBQUksb0RBQU07QUFDVjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSxxREFBTztBQUN0QjtBQUNBLGtCQUFrQiw4REFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUyx3REFBd0Q7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLElBQUksb0RBQU07QUFDVjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0NBQWtDLCtEQUFtQjtBQUNyRDtBQUNPO0FBQ1AsSUFBSSxxRUFBcUIsQ0FBQyxnRUFBb0I7QUFDOUMsaUJBQWlCLG9EQUFNO0FBQ3ZCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQLGlCQUFpQixvREFBTTtBQUN2QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSx5QkFBeUIsNERBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnRUFBa0I7QUFDekMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxvQ0FBb0MsMkRBQWE7QUFDakQ7QUFDQTtBQUNPO0FBQ1Asa0VBQWtFLDBFQUEwRSxPQUFPLHdEQUFVLCtCQUErQixJQUFJO0FBQ2hNO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdGVsZW1ldHJ5L3RlbGVtZXRyeS5qcz81ZThjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnNvbGVBcGlOYW1lIH0gZnJvbSAnLi4vLi4vdG9vbHMvZGlzcGxheSc7XG5pbXBvcnQgeyB0b1N0YWNrVHJhY2VTdHJpbmcgfSBmcm9tICcuLi8uLi90b29scy9lcnJvcic7XG5pbXBvcnQgeyBhc3NpZ24sIGNvbWJpbmUsIGpzb25TdHJpbmdpZnksIHBlcmZvcm1EcmF3LCBpbmNsdWRlcywgc3RhcnRzV2l0aCB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJztcbmltcG9ydCB7IElOVEFLRV9TSVRFX1NUQUdJTkcsIElOVEFLRV9TSVRFX1VTMV9GRUQgfSBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7IGNvbXB1dGVTdGFja1RyYWNlIH0gZnJvbSAnLi4vdHJhY2VraXQnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgdGltZVN0YW1wTm93IH0gZnJvbSAnLi4vLi4vdG9vbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IGRpc3BsYXlJZkRlYnVnRW5hYmxlZCwgc3RhcnRNb25pdG9yRXJyb3JDb2xsZWN0aW9uIH0gZnJvbSAnLi4vLi4vdG9vbHMvbW9uaXRvcic7XG52YXIgQUxMT1dFRF9GUkFNRV9VUkxTID0gW1xuICAgICdodHRwczovL3d3dy5kYXRhZG9naHEtYnJvd3Nlci1hZ2VudC5jb20nLFxuICAgICdodHRwczovL3d3dy5kYXRhZDBnLWJyb3dzZXItYWdlbnQuY29tJyxcbiAgICAnaHR0cDovL2xvY2FsaG9zdCcsXG4gICAgJzxhbm9ueW1vdXM+Jyxcbl07XG52YXIgVEVMRU1FVFJZX0VYQ0xVREVEX1NJVEVTID0gW0lOVEFLRV9TSVRFX1VTMV9GRURdO1xudmFyIHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24gPSB7IG1heEV2ZW50c1BlclBhZ2U6IDAsIHNlbnRFdmVudENvdW50OiAwLCB0ZWxlbWV0cnlFbmFibGVkOiBmYWxzZSB9O1xudmFyIG9uUmF3VGVsZW1ldHJ5RXZlbnRDb2xsZWN0ZWQ7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRUZWxlbWV0cnkoY29uZmlndXJhdGlvbikge1xuICAgIHZhciBjb250ZXh0UHJvdmlkZXI7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgIHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24udGVsZW1ldHJ5RW5hYmxlZCA9IHBlcmZvcm1EcmF3KGNvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSk7XG4gICAgb25SYXdUZWxlbWV0cnlFdmVudENvbGxlY3RlZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIWluY2x1ZGVzKFRFTEVNRVRSWV9FWENMVURFRF9TSVRFUywgY29uZmlndXJhdGlvbi5zaXRlKSAmJiB0ZWxlbWV0cnlDb25maWd1cmF0aW9uLnRlbGVtZXRyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgIG9ic2VydmFibGUubm90aWZ5KHRvVGVsZW1ldHJ5RXZlbnQoZXZlbnQpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc3RhcnRNb25pdG9yRXJyb3JDb2xsZWN0aW9uKGFkZFRlbGVtZXRyeUVycm9yKTtcbiAgICBhc3NpZ24odGVsZW1ldHJ5Q29uZmlndXJhdGlvbiwge1xuICAgICAgICBtYXhFdmVudHNQZXJQYWdlOiBjb25maWd1cmF0aW9uLm1heFRlbGVtZXRyeUV2ZW50c1BlclBhZ2UsXG4gICAgICAgIHNlbnRFdmVudENvdW50OiAwLFxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHRvVGVsZW1ldHJ5RXZlbnQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmUoe1xuICAgICAgICAgICAgdHlwZTogJ3RlbGVtZXRyeScsXG4gICAgICAgICAgICBkYXRlOiB0aW1lU3RhbXBOb3coKSxcbiAgICAgICAgICAgIHNlcnZpY2U6ICdicm93c2VyLXNkaycsXG4gICAgICAgICAgICB2ZXJzaW9uOiBcIjQuMTEuM1wiLFxuICAgICAgICAgICAgc291cmNlOiAnYnJvd3NlcicsXG4gICAgICAgICAgICBfZGQ6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXRfdmVyc2lvbjogMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZWxlbWV0cnk6IGV2ZW50LCAvLyBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzQ4NDU3XG4gICAgICAgIH0sIGNvbnRleHRQcm92aWRlciAhPT0gdW5kZWZpbmVkID8gY29udGV4dFByb3ZpZGVyKCkgOiB7fSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHNldENvbnRleHRQcm92aWRlcjogZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgICAgICBjb250ZXh0UHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgb2JzZXJ2YWJsZTogb2JzZXJ2YWJsZSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RmFrZVRlbGVtZXRyeSgpIHtcbiAgICB2YXIgZXZlbnRzID0gW107XG4gICAgYXNzaWduKHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgbWF4RXZlbnRzUGVyUGFnZTogSW5maW5pdHksXG4gICAgICAgIHNlbnRFdmVudENvdW50OiAwLFxuICAgIH0pO1xuICAgIG9uUmF3VGVsZW1ldHJ5RXZlbnRDb2xsZWN0ZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIGV2ZW50cztcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldFRlbGVtZXRyeSgpIHtcbiAgICBvblJhd1RlbGVtZXRyeUV2ZW50Q29sbGVjdGVkID0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBBdm9pZCBtaXhpbmcgdGVsZW1ldHJ5IGV2ZW50cyBmcm9tIGRpZmZlcmVudCBkYXRhIGNlbnRlcnNcbiAqIGJ1dCBrZWVwIHJlcGxpY2F0aW5nIHN0YWdpbmcgZXZlbnRzIGZvciByZWxpYWJpbGl0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUZWxlbWV0cnlSZXBsaWNhdGlvbkFsbG93ZWQoY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiBjb25maWd1cmF0aW9uLnNpdGUgPT09IElOVEFLRV9TSVRFX1NUQUdJTkc7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkVGVsZW1ldHJ5RGVidWcobWVzc2FnZSwgY29udGV4dCkge1xuICAgIGRpc3BsYXlJZkRlYnVnRW5hYmxlZChDb25zb2xlQXBpTmFtZS5kZWJ1ZywgbWVzc2FnZSwgY29udGV4dCk7XG4gICAgYWRkVGVsZW1ldHJ5KGFzc2lnbih7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIHN0YXR1czogXCJkZWJ1Z1wiIC8qIGRlYnVnICovLFxuICAgIH0sIGNvbnRleHQpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRUZWxlbWV0cnlFcnJvcihlKSB7XG4gICAgYWRkVGVsZW1ldHJ5KGFzc2lnbih7XG4gICAgICAgIHN0YXR1czogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgIH0sIGZvcm1hdEVycm9yKGUpKSk7XG59XG5mdW5jdGlvbiBhZGRUZWxlbWV0cnkoZXZlbnQpIHtcbiAgICBpZiAob25SYXdUZWxlbWV0cnlFdmVudENvbGxlY3RlZCAmJiB0ZWxlbWV0cnlDb25maWd1cmF0aW9uLnNlbnRFdmVudENvdW50IDwgdGVsZW1ldHJ5Q29uZmlndXJhdGlvbi5tYXhFdmVudHNQZXJQYWdlKSB7XG4gICAgICAgIHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24uc2VudEV2ZW50Q291bnQgKz0gMTtcbiAgICAgICAgb25SYXdUZWxlbWV0cnlFdmVudENvbGxlY3RlZChldmVudCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEVycm9yKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHZhciBzdGFja1RyYWNlID0gY29tcHV0ZVN0YWNrVHJhY2UoZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGtpbmQ6IHN0YWNrVHJhY2UubmFtZSxcbiAgICAgICAgICAgICAgICBzdGFjazogdG9TdGFja1RyYWNlU3RyaW5nKHNjcnViQ3VzdG9tZXJGcmFtZXMoc3RhY2tUcmFjZSkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHN0YWNrVHJhY2UubWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIHN0YWNrOiAnTm90IGFuIGluc3RhbmNlIG9mIGVycm9yJyxcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogXCJVbmNhdWdodCBcIi5jb25jYXQoanNvblN0cmluZ2lmeShlKSksXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzY3J1YkN1c3RvbWVyRnJhbWVzKHN0YWNrVHJhY2UpIHtcbiAgICBzdGFja1RyYWNlLnN0YWNrID0gc3RhY2tUcmFjZS5zdGFjay5maWx0ZXIoZnVuY3Rpb24gKGZyYW1lKSB7IHJldHVybiAhZnJhbWUudXJsIHx8IEFMTE9XRURfRlJBTUVfVVJMUy5zb21lKGZ1bmN0aW9uIChhbGxvd2VkRnJhbWVVcmwpIHsgcmV0dXJuIHN0YXJ0c1dpdGgoZnJhbWUudXJsLCBhbGxvd2VkRnJhbWVVcmwpOyB9KTsgfSk7XG4gICAgcmV0dXJuIHN0YWNrVHJhY2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZWxlbWV0cnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/telemetry/telemetryEvent.types.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/telemetry/telemetryEvent.types.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* eslint-disable */\n/**\n * DO NOT MODIFY IT BY HAND. Run `yarn rum-events-format:sync` instead.\n */\n\n//# sourceMappingURL=telemetryEvent.types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdGVsZW1ldHJ5L3RlbGVtZXRyeUV2ZW50LnR5cGVzLmpzLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNVO0FBQ1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RlbGVtZXRyeS90ZWxlbWV0cnlFdmVudC50eXBlcy5qcz85ZWJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIERPIE5PVCBNT0RJRlkgSVQgQlkgSEFORC4gUnVuIGB5YXJuIHJ1bS1ldmVudHMtZm9ybWF0OnN5bmNgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbGVtZXRyeUV2ZW50LnR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/telemetry/telemetryEvent.types.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeStackTrace\": function() { return /* binding */ computeStackTrace; }\n/* harmony export */ });\nvar UNKNOWN_FUNCTION = '?';\n/**\n * Computes a stack trace for an exception.\n */\nfunction computeStackTrace(ex) {\n    var stack = [];\n    var stackProperty = tryToGetString(ex, 'stack');\n    if (stackProperty) {\n        stackProperty.split('\\n').forEach(function (line) {\n            var stackFrame = parseChromeLine(line) || parseWinLine(line) || parseGeckoLine(line);\n            if (stackFrame) {\n                if (!stackFrame.func && stackFrame.line) {\n                    stackFrame.func = UNKNOWN_FUNCTION;\n                }\n                stack.push(stackFrame);\n            }\n        });\n    }\n    return {\n        message: tryToGetString(ex, 'message'),\n        name: tryToGetString(ex, 'name'),\n        stack: stack,\n    };\n}\nvar CHROME_LINE_RE = \n// eslint-disable-next-line max-len\n/^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nvar CHROME_EVAL_RE = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\nfunction parseChromeLine(line) {\n    var parts = CHROME_LINE_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n    var isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n    var submatch = CHROME_EVAL_RE.exec(parts[2]);\n    if (isEval && submatch) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1]; // url\n        parts[3] = submatch[2]; // line\n        parts[4] = submatch[3]; // column\n    }\n    return {\n        args: isNative ? [parts[2]] : [],\n        column: parts[4] ? +parts[4] : undefined,\n        func: parts[1] || UNKNOWN_FUNCTION,\n        line: parts[3] ? +parts[3] : undefined,\n        url: !isNative ? parts[2] : undefined,\n    };\n}\nvar WINJS_LINE_RE = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nfunction parseWinLine(line) {\n    var parts = WINJS_LINE_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    return {\n        args: [],\n        column: parts[4] ? +parts[4] : undefined,\n        func: parts[1] || UNKNOWN_FUNCTION,\n        line: +parts[3],\n        url: parts[2],\n    };\n}\nvar GECKO_LINE_RE = \n// eslint-disable-next-line max-len\n/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar GECKO_EVAL_RE = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nfunction parseGeckoLine(line) {\n    var parts = GECKO_LINE_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    var isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n    var submatch = GECKO_EVAL_RE.exec(parts[3]);\n    if (isEval && submatch) {\n        // throw out eval line/column and use top-most line number\n        parts[3] = submatch[1];\n        parts[4] = submatch[2];\n        parts[5] = undefined; // no column when eval\n    }\n    return {\n        args: parts[2] ? parts[2].split(',') : [],\n        column: parts[5] ? +parts[5] : undefined,\n        func: parts[1] || UNKNOWN_FUNCTION,\n        line: parts[4] ? +parts[4] : undefined,\n        url: parts[3],\n    };\n}\nfunction tryToGetString(candidate, property) {\n    if (typeof candidate !== 'object' || !candidate || !(property in candidate)) {\n        return undefined;\n    }\n    var value = candidate[property];\n    return typeof value === 'string' ? value : undefined;\n}\n//# sourceMappingURL=computeStackTrace.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdHJhY2VraXQvY29tcHV0ZVN0YWNrVHJhY2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RyYWNla2l0L2NvbXB1dGVTdGFja1RyYWNlLmpzPzI2ODciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFVOS05PV05fRlVOQ1RJT04gPSAnPyc7XG4vKipcbiAqIENvbXB1dGVzIGEgc3RhY2sgdHJhY2UgZm9yIGFuIGV4Y2VwdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTdGFja1RyYWNlKGV4KSB7XG4gICAgdmFyIHN0YWNrID0gW107XG4gICAgdmFyIHN0YWNrUHJvcGVydHkgPSB0cnlUb0dldFN0cmluZyhleCwgJ3N0YWNrJyk7XG4gICAgaWYgKHN0YWNrUHJvcGVydHkpIHtcbiAgICAgICAgc3RhY2tQcm9wZXJ0eS5zcGxpdCgnXFxuJykuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgdmFyIHN0YWNrRnJhbWUgPSBwYXJzZUNocm9tZUxpbmUobGluZSkgfHwgcGFyc2VXaW5MaW5lKGxpbmUpIHx8IHBhcnNlR2Vja29MaW5lKGxpbmUpO1xuICAgICAgICAgICAgaWYgKHN0YWNrRnJhbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YWNrRnJhbWUuZnVuYyAmJiBzdGFja0ZyYW1lLmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tGcmFtZS5mdW5jID0gVU5LTk9XTl9GVU5DVElPTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChzdGFja0ZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IHRyeVRvR2V0U3RyaW5nKGV4LCAnbWVzc2FnZScpLFxuICAgICAgICBuYW1lOiB0cnlUb0dldFN0cmluZyhleCwgJ25hbWUnKSxcbiAgICAgICAgc3RhY2s6IHN0YWNrLFxuICAgIH07XG59XG52YXIgQ0hST01FX0xJTkVfUkUgPSBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4vXlxccyphdCAoLio/KSA/XFwoKCg/OmZpbGV8aHR0cHM/fGJsb2J8Y2hyb21lLWV4dGVuc2lvbnxuYXRpdmV8ZXZhbHx3ZWJwYWNrfDxhbm9ueW1vdXM+fFxcLykuKj8pKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFwpP1xccyokL2k7XG52YXIgQ0hST01FX0VWQUxfUkUgPSAvXFwoKFxcUyopKD86OihcXGQrKSkoPzo6KFxcZCspKVxcKS87XG5mdW5jdGlvbiBwYXJzZUNocm9tZUxpbmUobGluZSkge1xuICAgIHZhciBwYXJ0cyA9IENIUk9NRV9MSU5FX1JFLmV4ZWMobGluZSk7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpc05hdGl2ZSA9IHBhcnRzWzJdICYmIHBhcnRzWzJdLmluZGV4T2YoJ25hdGl2ZScpID09PSAwOyAvLyBzdGFydCBvZiBsaW5lXG4gICAgdmFyIGlzRXZhbCA9IHBhcnRzWzJdICYmIHBhcnRzWzJdLmluZGV4T2YoJ2V2YWwnKSA9PT0gMDsgLy8gc3RhcnQgb2YgbGluZVxuICAgIHZhciBzdWJtYXRjaCA9IENIUk9NRV9FVkFMX1JFLmV4ZWMocGFydHNbMl0pO1xuICAgIGlmIChpc0V2YWwgJiYgc3VibWF0Y2gpIHtcbiAgICAgICAgLy8gdGhyb3cgb3V0IGV2YWwgbGluZS9jb2x1bW4gYW5kIHVzZSB0b3AtbW9zdCBsaW5lL2NvbHVtbiBudW1iZXJcbiAgICAgICAgcGFydHNbMl0gPSBzdWJtYXRjaFsxXTsgLy8gdXJsXG4gICAgICAgIHBhcnRzWzNdID0gc3VibWF0Y2hbMl07IC8vIGxpbmVcbiAgICAgICAgcGFydHNbNF0gPSBzdWJtYXRjaFszXTsgLy8gY29sdW1uXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFyZ3M6IGlzTmF0aXZlID8gW3BhcnRzWzJdXSA6IFtdLFxuICAgICAgICBjb2x1bW46IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogdW5kZWZpbmVkLFxuICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICBsaW5lOiBwYXJ0c1szXSA/ICtwYXJ0c1szXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgdXJsOiAhaXNOYXRpdmUgPyBwYXJ0c1syXSA6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxudmFyIFdJTkpTX0xJTkVfUkUgPSAvXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/LispICk/XFwoPygoPzpmaWxlfG1zLWFwcHh8aHR0cHM/fHdlYnBhY2t8YmxvYik6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXCk/XFxzKiQvaTtcbmZ1bmN0aW9uIHBhcnNlV2luTGluZShsaW5lKSB7XG4gICAgdmFyIHBhcnRzID0gV0lOSlNfTElORV9SRS5leGVjKGxpbmUpO1xuICAgIGlmICghcGFydHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhcmdzOiBbXSxcbiAgICAgICAgY29sdW1uOiBwYXJ0c1s0XSA/ICtwYXJ0c1s0XSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZnVuYzogcGFydHNbMV0gfHwgVU5LTk9XTl9GVU5DVElPTixcbiAgICAgICAgbGluZTogK3BhcnRzWzNdLFxuICAgICAgICB1cmw6IHBhcnRzWzJdLFxuICAgIH07XG59XG52YXIgR0VDS09fTElORV9SRSA9IFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbi9eXFxzKiguKj8pKD86XFwoKC4qPylcXCkpPyg/Ol58QCkoKD86ZmlsZXxodHRwcz98YmxvYnxjaHJvbWV8d2VicGFja3xyZXNvdXJjZXxjYXBhY2l0b3J8XFxbbmF0aXZlKS4qP3xbXkBdKmJ1bmRsZSkoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXHMqJC9pO1xudmFyIEdFQ0tPX0VWQUxfUkUgPSAvKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaTtcbmZ1bmN0aW9uIHBhcnNlR2Vja29MaW5lKGxpbmUpIHtcbiAgICB2YXIgcGFydHMgPSBHRUNLT19MSU5FX1JFLmV4ZWMobGluZSk7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpc0V2YWwgPSBwYXJ0c1szXSAmJiBwYXJ0c1szXS5pbmRleE9mKCcgPiBldmFsJykgPiAtMTtcbiAgICB2YXIgc3VibWF0Y2ggPSBHRUNLT19FVkFMX1JFLmV4ZWMocGFydHNbM10pO1xuICAgIGlmIChpc0V2YWwgJiYgc3VibWF0Y2gpIHtcbiAgICAgICAgLy8gdGhyb3cgb3V0IGV2YWwgbGluZS9jb2x1bW4gYW5kIHVzZSB0b3AtbW9zdCBsaW5lIG51bWJlclxuICAgICAgICBwYXJ0c1szXSA9IHN1Ym1hdGNoWzFdO1xuICAgICAgICBwYXJ0c1s0XSA9IHN1Ym1hdGNoWzJdO1xuICAgICAgICBwYXJ0c1s1XSA9IHVuZGVmaW5lZDsgLy8gbm8gY29sdW1uIHdoZW4gZXZhbFxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhcmdzOiBwYXJ0c1syXSA/IHBhcnRzWzJdLnNwbGl0KCcsJykgOiBbXSxcbiAgICAgICAgY29sdW1uOiBwYXJ0c1s1XSA/ICtwYXJ0c1s1XSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZnVuYzogcGFydHNbMV0gfHwgVU5LTk9XTl9GVU5DVElPTixcbiAgICAgICAgbGluZTogcGFydHNbNF0gPyArcGFydHNbNF0gOiB1bmRlZmluZWQsXG4gICAgICAgIHVybDogcGFydHNbM10sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRyeVRvR2V0U3RyaW5nKGNhbmRpZGF0ZSwgcHJvcGVydHkpIHtcbiAgICBpZiAodHlwZW9mIGNhbmRpZGF0ZSAhPT0gJ29iamVjdCcgfHwgIWNhbmRpZGF0ZSB8fCAhKHByb3BlcnR5IGluIGNhbmRpZGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gY2FuZGlkYXRlW3Byb3BlcnR5XTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcHV0ZVN0YWNrVHJhY2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/tracekit/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/tracekit/index.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeStackTrace\": function() { return /* reexport safe */ _computeStackTrace__WEBPACK_IMPORTED_MODULE_0__.computeStackTrace; },\n/* harmony export */   \"startUnhandledErrorCollection\": function() { return /* reexport safe */ _tracekit__WEBPACK_IMPORTED_MODULE_1__.startUnhandledErrorCollection; }\n/* harmony export */ });\n/* harmony import */ var _computeStackTrace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./computeStackTrace */ \"./node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tracekit */ \"./node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js\");\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdHJhY2VraXQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RDtBQUNHO0FBQzNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi90cmFjZWtpdC9pbmRleC5qcz9hMGE0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGNvbXB1dGVTdGFja1RyYWNlIH0gZnJvbSAnLi9jb21wdXRlU3RhY2tUcmFjZSc7XG5leHBvcnQgeyBzdGFydFVuaGFuZGxlZEVycm9yQ29sbGVjdGlvbiB9IGZyb20gJy4vdHJhY2VraXQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/tracekit/index.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startUnhandledErrorCollection\": function() { return /* binding */ startUnhandledErrorCollection; }\n/* harmony export */ });\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/instrumentMethod */ \"./node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _computeStackTrace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./computeStackTrace */ \"./node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Error_types\nvar ERROR_TYPES_RE = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;\n/**\n * Cross-browser collection of unhandled errors\n *\n * Supports:\n * - Firefox: full stack trace with line numbers, plus column number\n * on top frame; column number is not guaranteed\n * - Opera: full stack trace with line and column numbers\n * - Chrome: full stack trace with line and column numbers\n * - Safari: line and column number for the top frame only; some frames\n * may be missing, and column number is not guaranteed\n * - IE: line and column number for the top frame only; some frames\n * may be missing, and column number is not guaranteed\n *\n * In theory, TraceKit should work on all of the following versions:\n * - IE5.5+ (only 8.0 tested)\n * - Firefox 0.9+ (only 3.5+ tested)\n * - Opera 7+ (only 10.50 tested; versions 9 and earlier may require\n * Exceptions Have Stacktrace to be enabled in opera:config)\n * - Safari 3+ (only 4+ tested)\n * - Chrome 1+ (only 5+ tested)\n * - Konqueror 3.5+ (untested)\n *\n * Tries to catch all unhandled errors and report them to the\n * callback.\n *\n * Callbacks receive a StackTrace object as described in the\n * computeStackTrace docs.\n *\n * @memberof TraceKit\n * @namespace\n */\nfunction startUnhandledErrorCollection(callback) {\n    var stopInstrumentingOnError = instrumentOnError(callback).stop;\n    var stopInstrumentingOnUnhandledRejection = instrumentUnhandledRejection(callback).stop;\n    return {\n        stop: function () {\n            stopInstrumentingOnError();\n            stopInstrumentingOnUnhandledRejection();\n        },\n    };\n}\n/**\n * Install a global onerror handler\n */\nfunction instrumentOnError(callback) {\n    return (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(window, 'onerror', {\n        before: function (message, url, lineNo, columnNo, errorObj) {\n            var stack;\n            if (errorObj) {\n                stack = (0,_computeStackTrace__WEBPACK_IMPORTED_MODULE_1__.computeStackTrace)(errorObj);\n                callback(stack, errorObj);\n            }\n            else {\n                var location_1 = {\n                    url: url,\n                    column: columnNo,\n                    line: lineNo,\n                };\n                var name_1;\n                var msg = message;\n                if ({}.toString.call(message) === '[object String]') {\n                    var groups = ERROR_TYPES_RE.exec(msg);\n                    if (groups) {\n                        name_1 = groups[1];\n                        msg = groups[2];\n                    }\n                }\n                stack = {\n                    name: name_1,\n                    message: typeof msg === 'string' ? msg : undefined,\n                    stack: [location_1],\n                };\n                callback(stack, message);\n            }\n        },\n    });\n}\n/**\n * Install a global onunhandledrejection handler\n */\nfunction instrumentUnhandledRejection(callback) {\n    return (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(window, 'onunhandledrejection', {\n        before: function (e) {\n            var reason = e.reason || 'Empty reason';\n            var stack = (0,_computeStackTrace__WEBPACK_IMPORTED_MODULE_1__.computeStackTrace)(reason);\n            callback(stack, reason);\n        },\n    });\n}\n//# sourceMappingURL=tracekit.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdHJhY2VraXQvdHJhY2VraXQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStFO0FBQ3ZCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3RkFBK0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFFQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0ZBQStCO0FBQzFDO0FBQ0E7QUFDQSx3QkFBd0IscUVBQWlCO0FBQ3pDO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi90cmFjZWtpdC90cmFjZWtpdC5qcz83ZjFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwgfSBmcm9tICcuLi8uLi90b29scy9pbnN0cnVtZW50TWV0aG9kJztcbmltcG9ydCB7IGNvbXB1dGVTdGFja1RyYWNlIH0gZnJvbSAnLi9jb21wdXRlU3RhY2tUcmFjZSc7XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvciNFcnJvcl90eXBlc1xudmFyIEVSUk9SX1RZUEVTX1JFID0gL14oPzpbVXVdbmNhdWdodCAoPzpleGNlcHRpb246ICk/KT8oPzooKD86RXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJfClFcnJvcik6ICk/KC4qKSQvO1xuLyoqXG4gKiBDcm9zcy1icm93c2VyIGNvbGxlY3Rpb24gb2YgdW5oYW5kbGVkIGVycm9yc1xuICpcbiAqIFN1cHBvcnRzOlxuICogLSBGaXJlZm94OiBmdWxsIHN0YWNrIHRyYWNlIHdpdGggbGluZSBudW1iZXJzLCBwbHVzIGNvbHVtbiBudW1iZXJcbiAqIG9uIHRvcCBmcmFtZTsgY29sdW1uIG51bWJlciBpcyBub3QgZ3VhcmFudGVlZFxuICogLSBPcGVyYTogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAtIENocm9tZTogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAtIFNhZmFyaTogbGluZSBhbmQgY29sdW1uIG51bWJlciBmb3IgdGhlIHRvcCBmcmFtZSBvbmx5OyBzb21lIGZyYW1lc1xuICogbWF5IGJlIG1pc3NpbmcsIGFuZCBjb2x1bW4gbnVtYmVyIGlzIG5vdCBndWFyYW50ZWVkXG4gKiAtIElFOiBsaW5lIGFuZCBjb2x1bW4gbnVtYmVyIGZvciB0aGUgdG9wIGZyYW1lIG9ubHk7IHNvbWUgZnJhbWVzXG4gKiBtYXkgYmUgbWlzc2luZywgYW5kIGNvbHVtbiBudW1iZXIgaXMgbm90IGd1YXJhbnRlZWRcbiAqXG4gKiBJbiB0aGVvcnksIFRyYWNlS2l0IHNob3VsZCB3b3JrIG9uIGFsbCBvZiB0aGUgZm9sbG93aW5nIHZlcnNpb25zOlxuICogLSBJRTUuNSsgKG9ubHkgOC4wIHRlc3RlZClcbiAqIC0gRmlyZWZveCAwLjkrIChvbmx5IDMuNSsgdGVzdGVkKVxuICogLSBPcGVyYSA3KyAob25seSAxMC41MCB0ZXN0ZWQ7IHZlcnNpb25zIDkgYW5kIGVhcmxpZXIgbWF5IHJlcXVpcmVcbiAqIEV4Y2VwdGlvbnMgSGF2ZSBTdGFja3RyYWNlIHRvIGJlIGVuYWJsZWQgaW4gb3BlcmE6Y29uZmlnKVxuICogLSBTYWZhcmkgMysgKG9ubHkgNCsgdGVzdGVkKVxuICogLSBDaHJvbWUgMSsgKG9ubHkgNSsgdGVzdGVkKVxuICogLSBLb25xdWVyb3IgMy41KyAodW50ZXN0ZWQpXG4gKlxuICogVHJpZXMgdG8gY2F0Y2ggYWxsIHVuaGFuZGxlZCBlcnJvcnMgYW5kIHJlcG9ydCB0aGVtIHRvIHRoZVxuICogY2FsbGJhY2suXG4gKlxuICogQ2FsbGJhY2tzIHJlY2VpdmUgYSBTdGFja1RyYWNlIG9iamVjdCBhcyBkZXNjcmliZWQgaW4gdGhlXG4gKiBjb21wdXRlU3RhY2tUcmFjZSBkb2NzLlxuICpcbiAqIEBtZW1iZXJvZiBUcmFjZUtpdFxuICogQG5hbWVzcGFjZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRVbmhhbmRsZWRFcnJvckNvbGxlY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdPbkVycm9yID0gaW5zdHJ1bWVudE9uRXJyb3IoY2FsbGJhY2spLnN0b3A7XG4gICAgdmFyIHN0b3BJbnN0cnVtZW50aW5nT25VbmhhbmRsZWRSZWplY3Rpb24gPSBpbnN0cnVtZW50VW5oYW5kbGVkUmVqZWN0aW9uKGNhbGxiYWNrKS5zdG9wO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3BJbnN0cnVtZW50aW5nT25FcnJvcigpO1xuICAgICAgICAgICAgc3RvcEluc3RydW1lbnRpbmdPblVuaGFuZGxlZFJlamVjdGlvbigpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIEluc3RhbGwgYSBnbG9iYWwgb25lcnJvciBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRPbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwod2luZG93LCAnb25lcnJvcicsIHtcbiAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAobWVzc2FnZSwgdXJsLCBsaW5lTm8sIGNvbHVtbk5vLCBlcnJvck9iaikge1xuICAgICAgICAgICAgdmFyIHN0YWNrO1xuICAgICAgICAgICAgaWYgKGVycm9yT2JqKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sgPSBjb21wdXRlU3RhY2tUcmFjZShlcnJvck9iaik7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soc3RhY2ssIGVycm9yT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbl8xID0ge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW5ObyxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogbGluZU5vLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVfMTtcbiAgICAgICAgICAgICAgICB2YXIgbXNnID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICBpZiAoe30udG9TdHJpbmcuY2FsbChtZXNzYWdlKSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwcyA9IEVSUk9SX1RZUEVTX1JFLmV4ZWMobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3Vwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZV8xID0gZ3JvdXBzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gZ3JvdXBzWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YWNrID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lXzEsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnID8gbXNnIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBzdGFjazogW2xvY2F0aW9uXzFdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soc3RhY2ssIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xufVxuLyoqXG4gKiBJbnN0YWxsIGEgZ2xvYmFsIG9udW5oYW5kbGVkcmVqZWN0aW9uIGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gaW5zdHJ1bWVudFVuaGFuZGxlZFJlamVjdGlvbihjYWxsYmFjaykge1xuICAgIHJldHVybiBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKHdpbmRvdywgJ29udW5oYW5kbGVkcmVqZWN0aW9uJywge1xuICAgICAgICBiZWZvcmU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgcmVhc29uID0gZS5yZWFzb24gfHwgJ0VtcHR5IHJlYXNvbic7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBjb21wdXRlU3RhY2tUcmFjZShyZWFzb24pO1xuICAgICAgICAgICAgY2FsbGJhY2soc3RhY2ssIHJlYXNvbik7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFjZWtpdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/index.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Batch\": function() { return /* reexport safe */ _transport__WEBPACK_IMPORTED_MODULE_10__.Batch; },\n/* harmony export */   \"BoundedBuffer\": function() { return /* reexport safe */ _tools_boundedBuffer__WEBPACK_IMPORTED_MODULE_23__.BoundedBuffer; },\n/* harmony export */   \"CLEAR_OLD_CONTEXTS_INTERVAL\": function() { return /* reexport safe */ _tools_contextHistory__WEBPACK_IMPORTED_MODULE_27__.CLEAR_OLD_CONTEXTS_INTERVAL; },\n/* harmony export */   \"COOKIE_ACCESS_DELAY\": function() { return /* reexport safe */ _browser_cookie__WEBPACK_IMPORTED_MODULE_19__.COOKIE_ACCESS_DELAY; },\n/* harmony export */   \"ContextHistory\": function() { return /* reexport safe */ _tools_contextHistory__WEBPACK_IMPORTED_MODULE_27__.ContextHistory; },\n/* harmony export */   \"DefaultPrivacyLevel\": function() { return /* reexport safe */ _domain_configuration__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel; },\n/* harmony export */   \"ErrorSource\": function() { return /* reexport safe */ _tools_error__WEBPACK_IMPORTED_MODULE_18__.ErrorSource; },\n/* harmony export */   \"HttpRequest\": function() { return /* reexport safe */ _transport__WEBPACK_IMPORTED_MODULE_10__.HttpRequest; },\n/* harmony export */   \"Observable\": function() { return /* reexport safe */ _tools_observable__WEBPACK_IMPORTED_MODULE_7__.Observable; },\n/* harmony export */   \"RawReportType\": function() { return /* reexport safe */ _domain_report_reportObservable__WEBPACK_IMPORTED_MODULE_4__.RawReportType; },\n/* harmony export */   \"SESSION_COOKIE_NAME\": function() { return /* reexport safe */ _domain_session_sessionCookieStore__WEBPACK_IMPORTED_MODULE_28__.SESSION_COOKIE_NAME; },\n/* harmony export */   \"SESSION_TIME_OUT_DELAY\": function() { return /* reexport safe */ _domain_session_sessionConstants__WEBPACK_IMPORTED_MODULE_9__.SESSION_TIME_OUT_DELAY; },\n/* harmony export */   \"addTelemetryDebug\": function() { return /* reexport safe */ _domain_telemetry__WEBPACK_IMPORTED_MODULE_5__.addTelemetryDebug; },\n/* harmony export */   \"addTelemetryError\": function() { return /* reexport safe */ _domain_telemetry__WEBPACK_IMPORTED_MODULE_5__.addTelemetryError; },\n/* harmony export */   \"areCookiesAuthorized\": function() { return /* reexport safe */ _browser_cookie__WEBPACK_IMPORTED_MODULE_19__.areCookiesAuthorized; },\n/* harmony export */   \"buildCookieOptions\": function() { return /* reexport safe */ _domain_configuration__WEBPACK_IMPORTED_MODULE_0__.buildCookieOptions; },\n/* harmony export */   \"callMonitored\": function() { return /* reexport safe */ _tools_monitor__WEBPACK_IMPORTED_MODULE_6__.callMonitored; },\n/* harmony export */   \"canUseEventBridge\": function() { return /* reexport safe */ _transport__WEBPACK_IMPORTED_MODULE_10__.canUseEventBridge; },\n/* harmony export */   \"catchUserErrors\": function() { return /* reexport safe */ _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_24__.catchUserErrors; },\n/* harmony export */   \"computeStackTrace\": function() { return /* reexport safe */ _domain_tracekit__WEBPACK_IMPORTED_MODULE_2__.computeStackTrace; },\n/* harmony export */   \"createContextManager\": function() { return /* reexport safe */ _tools_contextManager__WEBPACK_IMPORTED_MODULE_25__.createContextManager; },\n/* harmony export */   \"createHandlingStack\": function() { return /* reexport safe */ _tools_error__WEBPACK_IMPORTED_MODULE_18__.createHandlingStack; },\n/* harmony export */   \"defineGlobal\": function() { return /* reexport safe */ _boot_init__WEBPACK_IMPORTED_MODULE_3__.defineGlobal; },\n/* harmony export */   \"deleteCookie\": function() { return /* reexport safe */ _browser_cookie__WEBPACK_IMPORTED_MODULE_19__.deleteCookie; },\n/* harmony export */   \"formatUnknownError\": function() { return /* reexport safe */ _tools_error__WEBPACK_IMPORTED_MODULE_18__.formatUnknownError; },\n/* harmony export */   \"getCookie\": function() { return /* reexport safe */ _browser_cookie__WEBPACK_IMPORTED_MODULE_19__.getCookie; },\n/* harmony export */   \"getEventBridge\": function() { return /* reexport safe */ _transport__WEBPACK_IMPORTED_MODULE_10__.getEventBridge; },\n/* harmony export */   \"getFileFromStackTraceString\": function() { return /* reexport safe */ _tools_error__WEBPACK_IMPORTED_MODULE_18__.getFileFromStackTraceString; },\n/* harmony export */   \"initConsoleObservable\": function() { return /* reexport safe */ _domain_console_consoleObservable__WEBPACK_IMPORTED_MODULE_22__.initConsoleObservable; },\n/* harmony export */   \"initFetchObservable\": function() { return /* reexport safe */ _browser_fetchObservable__WEBPACK_IMPORTED_MODULE_21__.initFetchObservable; },\n/* harmony export */   \"initReportObservable\": function() { return /* reexport safe */ _domain_report_reportObservable__WEBPACK_IMPORTED_MODULE_4__.initReportObservable; },\n/* harmony export */   \"initXhrObservable\": function() { return /* reexport safe */ _browser_xhrObservable__WEBPACK_IMPORTED_MODULE_20__.initXhrObservable; },\n/* harmony export */   \"instrumentMethod\": function() { return /* reexport safe */ _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_17__.instrumentMethod; },\n/* harmony export */   \"instrumentMethodAndCallOriginal\": function() { return /* reexport safe */ _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_17__.instrumentMethodAndCallOriginal; },\n/* harmony export */   \"instrumentSetter\": function() { return /* reexport safe */ _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_17__.instrumentSetter; },\n/* harmony export */   \"isExperimentalFeatureEnabled\": function() { return /* reexport safe */ _domain_configuration__WEBPACK_IMPORTED_MODULE_0__.isExperimentalFeatureEnabled; },\n/* harmony export */   \"isTelemetryReplicationAllowed\": function() { return /* reexport safe */ _domain_telemetry__WEBPACK_IMPORTED_MODULE_5__.isTelemetryReplicationAllowed; },\n/* harmony export */   \"limitModification\": function() { return /* reexport safe */ _tools_limitModification__WEBPACK_IMPORTED_MODULE_26__.limitModification; },\n/* harmony export */   \"makePublicApi\": function() { return /* reexport safe */ _boot_init__WEBPACK_IMPORTED_MODULE_3__.makePublicApi; },\n/* harmony export */   \"monitor\": function() { return /* reexport safe */ _tools_monitor__WEBPACK_IMPORTED_MODULE_6__.monitor; },\n/* harmony export */   \"monitored\": function() { return /* reexport safe */ _tools_monitor__WEBPACK_IMPORTED_MODULE_6__.monitored; },\n/* harmony export */   \"resetExperimentalFeatures\": function() { return /* reexport safe */ _domain_configuration__WEBPACK_IMPORTED_MODULE_0__.resetExperimentalFeatures; },\n/* harmony export */   \"resetTelemetry\": function() { return /* reexport safe */ _domain_telemetry__WEBPACK_IMPORTED_MODULE_5__.resetTelemetry; },\n/* harmony export */   \"setCookie\": function() { return /* reexport safe */ _browser_cookie__WEBPACK_IMPORTED_MODULE_19__.setCookie; },\n/* harmony export */   \"setDebugMode\": function() { return /* reexport safe */ _tools_monitor__WEBPACK_IMPORTED_MODULE_6__.setDebugMode; },\n/* harmony export */   \"startBatchWithReplica\": function() { return /* reexport safe */ _transport__WEBPACK_IMPORTED_MODULE_10__.startBatchWithReplica; },\n/* harmony export */   \"startFakeTelemetry\": function() { return /* reexport safe */ _domain_telemetry__WEBPACK_IMPORTED_MODULE_5__.startFakeTelemetry; },\n/* harmony export */   \"startFlushFailedSendBeacons\": function() { return /* reexport safe */ _transport__WEBPACK_IMPORTED_MODULE_10__.startFlushFailedSendBeacons; },\n/* harmony export */   \"startSessionManager\": function() { return /* reexport safe */ _domain_session_sessionManager__WEBPACK_IMPORTED_MODULE_8__.startSessionManager; },\n/* harmony export */   \"startTelemetry\": function() { return /* reexport safe */ _domain_telemetry__WEBPACK_IMPORTED_MODULE_5__.startTelemetry; },\n/* harmony export */   \"stopSessionManager\": function() { return /* reexport safe */ _domain_session_sessionManager__WEBPACK_IMPORTED_MODULE_8__.stopSessionManager; },\n/* harmony export */   \"toStackTraceString\": function() { return /* reexport safe */ _tools_error__WEBPACK_IMPORTED_MODULE_18__.toStackTraceString; },\n/* harmony export */   \"trackRuntimeError\": function() { return /* reexport safe */ _domain_error_trackRuntimeError__WEBPACK_IMPORTED_MODULE_1__.trackRuntimeError; },\n/* harmony export */   \"updateExperimentalFeatures\": function() { return /* reexport safe */ _domain_configuration__WEBPACK_IMPORTED_MODULE_0__.updateExperimentalFeatures; },\n/* harmony export */   \"validateAndBuildConfiguration\": function() { return /* reexport safe */ _domain_configuration__WEBPACK_IMPORTED_MODULE_0__.validateAndBuildConfiguration; }\n/* harmony export */ });\n/* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./domain/configuration */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/index.js\");\n/* harmony import */ var _domain_error_trackRuntimeError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./domain/error/trackRuntimeError */ \"./node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js\");\n/* harmony import */ var _domain_tracekit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./domain/tracekit */ \"./node_modules/@datadog/browser-core/esm/domain/tracekit/index.js\");\n/* harmony import */ var _boot_init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./boot/init */ \"./node_modules/@datadog/browser-core/esm/boot/init.js\");\n/* harmony import */ var _domain_report_reportObservable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./domain/report/reportObservable */ \"./node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js\");\n/* harmony import */ var _domain_telemetry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./domain/telemetry */ \"./node_modules/@datadog/browser-core/esm/domain/telemetry/index.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tools/observable */ \"./node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _domain_session_sessionManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./domain/session/sessionManager */ \"./node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js\");\n/* harmony import */ var _domain_session_sessionConstants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./domain/session/sessionConstants */ \"./node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n/* harmony import */ var _transport__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./transport */ \"./node_modules/@datadog/browser-core/esm/transport/index.js\");\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./tools/display */ \"./node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _tools_display__WEBPACK_IMPORTED_MODULE_11__) if([\"default\",\"buildCookieOptions\",\"validateAndBuildConfiguration\",\"DefaultPrivacyLevel\",\"isExperimentalFeatureEnabled\",\"updateExperimentalFeatures\",\"resetExperimentalFeatures\",\"trackRuntimeError\",\"computeStackTrace\",\"defineGlobal\",\"makePublicApi\",\"initReportObservable\",\"RawReportType\",\"startTelemetry\",\"addTelemetryDebug\",\"addTelemetryError\",\"startFakeTelemetry\",\"resetTelemetry\",\"isTelemetryReplicationAllowed\",\"monitored\",\"monitor\",\"callMonitored\",\"setDebugMode\",\"Observable\",\"startSessionManager\",\"stopSessionManager\",\"SESSION_TIME_OUT_DELAY\",\"HttpRequest\",\"Batch\",\"canUseEventBridge\",\"getEventBridge\",\"startBatchWithReplica\",\"startFlushFailedSendBeacons\",\"instrumentMethod\",\"instrumentMethodAndCallOriginal\",\"instrumentSetter\",\"ErrorSource\",\"formatUnknownError\",\"createHandlingStack\",\"toStackTraceString\",\"getFileFromStackTraceString\",\"areCookiesAuthorized\",\"getCookie\",\"setCookie\",\"deleteCookie\",\"COOKIE_ACCESS_DELAY\",\"initXhrObservable\",\"initFetchObservable\",\"initConsoleObservable\",\"BoundedBuffer\",\"catchUserErrors\",\"createContextManager\",\"limitModification\",\"ContextHistory\",\"CLEAR_OLD_CONTEXTS_INTERVAL\",\"SESSION_COOKIE_NAME\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _tools_display__WEBPACK_IMPORTED_MODULE_11__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./tools/urlPolyfill */ \"./node_modules/@datadog/browser-core/esm/tools/urlPolyfill.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_12__) if([\"default\",\"buildCookieOptions\",\"validateAndBuildConfiguration\",\"DefaultPrivacyLevel\",\"isExperimentalFeatureEnabled\",\"updateExperimentalFeatures\",\"resetExperimentalFeatures\",\"trackRuntimeError\",\"computeStackTrace\",\"defineGlobal\",\"makePublicApi\",\"initReportObservable\",\"RawReportType\",\"startTelemetry\",\"addTelemetryDebug\",\"addTelemetryError\",\"startFakeTelemetry\",\"resetTelemetry\",\"isTelemetryReplicationAllowed\",\"monitored\",\"monitor\",\"callMonitored\",\"setDebugMode\",\"Observable\",\"startSessionManager\",\"stopSessionManager\",\"SESSION_TIME_OUT_DELAY\",\"HttpRequest\",\"Batch\",\"canUseEventBridge\",\"getEventBridge\",\"startBatchWithReplica\",\"startFlushFailedSendBeacons\",\"instrumentMethod\",\"instrumentMethodAndCallOriginal\",\"instrumentSetter\",\"ErrorSource\",\"formatUnknownError\",\"createHandlingStack\",\"toStackTraceString\",\"getFileFromStackTraceString\",\"areCookiesAuthorized\",\"getCookie\",\"setCookie\",\"deleteCookie\",\"COOKIE_ACCESS_DELAY\",\"initXhrObservable\",\"initFetchObservable\",\"initConsoleObservable\",\"BoundedBuffer\",\"catchUserErrors\",\"createContextManager\",\"limitModification\",\"ContextHistory\",\"CLEAR_OLD_CONTEXTS_INTERVAL\",\"SESSION_COOKIE_NAME\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_12__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./tools/timeUtils */ \"./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _tools_timeUtils__WEBPACK_IMPORTED_MODULE_13__) if([\"default\",\"buildCookieOptions\",\"validateAndBuildConfiguration\",\"DefaultPrivacyLevel\",\"isExperimentalFeatureEnabled\",\"updateExperimentalFeatures\",\"resetExperimentalFeatures\",\"trackRuntimeError\",\"computeStackTrace\",\"defineGlobal\",\"makePublicApi\",\"initReportObservable\",\"RawReportType\",\"startTelemetry\",\"addTelemetryDebug\",\"addTelemetryError\",\"startFakeTelemetry\",\"resetTelemetry\",\"isTelemetryReplicationAllowed\",\"monitored\",\"monitor\",\"callMonitored\",\"setDebugMode\",\"Observable\",\"startSessionManager\",\"stopSessionManager\",\"SESSION_TIME_OUT_DELAY\",\"HttpRequest\",\"Batch\",\"canUseEventBridge\",\"getEventBridge\",\"startBatchWithReplica\",\"startFlushFailedSendBeacons\",\"instrumentMethod\",\"instrumentMethodAndCallOriginal\",\"instrumentSetter\",\"ErrorSource\",\"formatUnknownError\",\"createHandlingStack\",\"toStackTraceString\",\"getFileFromStackTraceString\",\"areCookiesAuthorized\",\"getCookie\",\"setCookie\",\"deleteCookie\",\"COOKIE_ACCESS_DELAY\",\"initXhrObservable\",\"initFetchObservable\",\"initConsoleObservable\",\"BoundedBuffer\",\"catchUserErrors\",\"createContextManager\",\"limitModification\",\"ContextHistory\",\"CLEAR_OLD_CONTEXTS_INTERVAL\",\"SESSION_COOKIE_NAME\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _tools_timeUtils__WEBPACK_IMPORTED_MODULE_13__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _tools_utils__WEBPACK_IMPORTED_MODULE_14__) if([\"default\",\"buildCookieOptions\",\"validateAndBuildConfiguration\",\"DefaultPrivacyLevel\",\"isExperimentalFeatureEnabled\",\"updateExperimentalFeatures\",\"resetExperimentalFeatures\",\"trackRuntimeError\",\"computeStackTrace\",\"defineGlobal\",\"makePublicApi\",\"initReportObservable\",\"RawReportType\",\"startTelemetry\",\"addTelemetryDebug\",\"addTelemetryError\",\"startFakeTelemetry\",\"resetTelemetry\",\"isTelemetryReplicationAllowed\",\"monitored\",\"monitor\",\"callMonitored\",\"setDebugMode\",\"Observable\",\"startSessionManager\",\"stopSessionManager\",\"SESSION_TIME_OUT_DELAY\",\"HttpRequest\",\"Batch\",\"canUseEventBridge\",\"getEventBridge\",\"startBatchWithReplica\",\"startFlushFailedSendBeacons\",\"instrumentMethod\",\"instrumentMethodAndCallOriginal\",\"instrumentSetter\",\"ErrorSource\",\"formatUnknownError\",\"createHandlingStack\",\"toStackTraceString\",\"getFileFromStackTraceString\",\"areCookiesAuthorized\",\"getCookie\",\"setCookie\",\"deleteCookie\",\"COOKIE_ACCESS_DELAY\",\"initXhrObservable\",\"initFetchObservable\",\"initConsoleObservable\",\"BoundedBuffer\",\"catchUserErrors\",\"createContextManager\",\"limitModification\",\"ContextHistory\",\"CLEAR_OLD_CONTEXTS_INTERVAL\",\"SESSION_COOKIE_NAME\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _tools_utils__WEBPACK_IMPORTED_MODULE_14__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _tools_createEventRateLimiter__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./tools/createEventRateLimiter */ \"./node_modules/@datadog/browser-core/esm/tools/createEventRateLimiter.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _tools_createEventRateLimiter__WEBPACK_IMPORTED_MODULE_15__) if([\"default\",\"buildCookieOptions\",\"validateAndBuildConfiguration\",\"DefaultPrivacyLevel\",\"isExperimentalFeatureEnabled\",\"updateExperimentalFeatures\",\"resetExperimentalFeatures\",\"trackRuntimeError\",\"computeStackTrace\",\"defineGlobal\",\"makePublicApi\",\"initReportObservable\",\"RawReportType\",\"startTelemetry\",\"addTelemetryDebug\",\"addTelemetryError\",\"startFakeTelemetry\",\"resetTelemetry\",\"isTelemetryReplicationAllowed\",\"monitored\",\"monitor\",\"callMonitored\",\"setDebugMode\",\"Observable\",\"startSessionManager\",\"stopSessionManager\",\"SESSION_TIME_OUT_DELAY\",\"HttpRequest\",\"Batch\",\"canUseEventBridge\",\"getEventBridge\",\"startBatchWithReplica\",\"startFlushFailedSendBeacons\",\"instrumentMethod\",\"instrumentMethodAndCallOriginal\",\"instrumentSetter\",\"ErrorSource\",\"formatUnknownError\",\"createHandlingStack\",\"toStackTraceString\",\"getFileFromStackTraceString\",\"areCookiesAuthorized\",\"getCookie\",\"setCookie\",\"deleteCookie\",\"COOKIE_ACCESS_DELAY\",\"initXhrObservable\",\"initFetchObservable\",\"initConsoleObservable\",\"BoundedBuffer\",\"catchUserErrors\",\"createContextManager\",\"limitModification\",\"ContextHistory\",\"CLEAR_OLD_CONTEXTS_INTERVAL\",\"SESSION_COOKIE_NAME\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _tools_createEventRateLimiter__WEBPACK_IMPORTED_MODULE_15__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _tools_browserDetection__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./tools/browserDetection */ \"./node_modules/@datadog/browser-core/esm/tools/browserDetection.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _tools_browserDetection__WEBPACK_IMPORTED_MODULE_16__) if([\"default\",\"buildCookieOptions\",\"validateAndBuildConfiguration\",\"DefaultPrivacyLevel\",\"isExperimentalFeatureEnabled\",\"updateExperimentalFeatures\",\"resetExperimentalFeatures\",\"trackRuntimeError\",\"computeStackTrace\",\"defineGlobal\",\"makePublicApi\",\"initReportObservable\",\"RawReportType\",\"startTelemetry\",\"addTelemetryDebug\",\"addTelemetryError\",\"startFakeTelemetry\",\"resetTelemetry\",\"isTelemetryReplicationAllowed\",\"monitored\",\"monitor\",\"callMonitored\",\"setDebugMode\",\"Observable\",\"startSessionManager\",\"stopSessionManager\",\"SESSION_TIME_OUT_DELAY\",\"HttpRequest\",\"Batch\",\"canUseEventBridge\",\"getEventBridge\",\"startBatchWithReplica\",\"startFlushFailedSendBeacons\",\"instrumentMethod\",\"instrumentMethodAndCallOriginal\",\"instrumentSetter\",\"ErrorSource\",\"formatUnknownError\",\"createHandlingStack\",\"toStackTraceString\",\"getFileFromStackTraceString\",\"areCookiesAuthorized\",\"getCookie\",\"setCookie\",\"deleteCookie\",\"COOKIE_ACCESS_DELAY\",\"initXhrObservable\",\"initFetchObservable\",\"initConsoleObservable\",\"BoundedBuffer\",\"catchUserErrors\",\"createContextManager\",\"limitModification\",\"ContextHistory\",\"CLEAR_OLD_CONTEXTS_INTERVAL\",\"SESSION_COOKIE_NAME\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _tools_browserDetection__WEBPACK_IMPORTED_MODULE_16__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./tools/instrumentMethod */ \"./node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _tools_error__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./tools/error */ \"./node_modules/@datadog/browser-core/esm/tools/error.js\");\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./browser/cookie */ \"./node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _browser_xhrObservable__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./browser/xhrObservable */ \"./node_modules/@datadog/browser-core/esm/browser/xhrObservable.js\");\n/* harmony import */ var _browser_fetchObservable__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./browser/fetchObservable */ \"./node_modules/@datadog/browser-core/esm/browser/fetchObservable.js\");\n/* harmony import */ var _domain_console_consoleObservable__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./domain/console/consoleObservable */ \"./node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js\");\n/* harmony import */ var _tools_boundedBuffer__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./tools/boundedBuffer */ \"./node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js\");\n/* harmony import */ var _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./tools/catchUserErrors */ \"./node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\");\n/* harmony import */ var _tools_contextManager__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./tools/contextManager */ \"./node_modules/@datadog/browser-core/esm/tools/contextManager.js\");\n/* harmony import */ var _tools_limitModification__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./tools/limitModification */ \"./node_modules/@datadog/browser-core/esm/tools/limitModification.js\");\n/* harmony import */ var _tools_contextHistory__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./tools/contextHistory */ \"./node_modules/@datadog/browser-core/esm/tools/contextHistory.js\");\n/* harmony import */ var _domain_session_sessionCookieStore__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./domain/session/sessionCookieStore */ \"./node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc007QUFDakk7QUFDZjtBQUNJO0FBQzZCO0FBQ3VFO0FBQzVFO0FBQ2xDO0FBR2E7QUFFakI7QUFDNkY7QUFDekc7QUFDSTtBQUNGO0FBQ0o7QUFDaUI7QUFDTjtBQUNzRTtBQUN3QjtBQUN0QjtBQUNyRDtBQUNJO0FBQ1c7QUFDckI7QUFDSTtBQUNJO0FBQ0E7QUFDdUI7QUFDWDtBQUMxRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9pbmRleC5qcz9hOWE5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGJ1aWxkQ29va2llT3B0aW9ucywgdmFsaWRhdGVBbmRCdWlsZENvbmZpZ3VyYXRpb24sIERlZmF1bHRQcml2YWN5TGV2ZWwsIGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQsIHVwZGF0ZUV4cGVyaW1lbnRhbEZlYXR1cmVzLCByZXNldEV4cGVyaW1lbnRhbEZlYXR1cmVzLCB9IGZyb20gJy4vZG9tYWluL2NvbmZpZ3VyYXRpb24nO1xuZXhwb3J0IHsgdHJhY2tSdW50aW1lRXJyb3IgfSBmcm9tICcuL2RvbWFpbi9lcnJvci90cmFja1J1bnRpbWVFcnJvcic7XG5leHBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4vZG9tYWluL3RyYWNla2l0JztcbmV4cG9ydCB7IGRlZmluZUdsb2JhbCwgbWFrZVB1YmxpY0FwaSB9IGZyb20gJy4vYm9vdC9pbml0JztcbmV4cG9ydCB7IGluaXRSZXBvcnRPYnNlcnZhYmxlLCBSYXdSZXBvcnRUeXBlIH0gZnJvbSAnLi9kb21haW4vcmVwb3J0L3JlcG9ydE9ic2VydmFibGUnO1xuZXhwb3J0IHsgc3RhcnRUZWxlbWV0cnksIGFkZFRlbGVtZXRyeURlYnVnLCBhZGRUZWxlbWV0cnlFcnJvciwgc3RhcnRGYWtlVGVsZW1ldHJ5LCByZXNldFRlbGVtZXRyeSwgaXNUZWxlbWV0cnlSZXBsaWNhdGlvbkFsbG93ZWQsIH0gZnJvbSAnLi9kb21haW4vdGVsZW1ldHJ5JztcbmV4cG9ydCB7IG1vbml0b3JlZCwgbW9uaXRvciwgY2FsbE1vbml0b3JlZCwgc2V0RGVidWdNb2RlIH0gZnJvbSAnLi90b29scy9tb25pdG9yJztcbmV4cG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL3Rvb2xzL29ic2VydmFibGUnO1xuZXhwb3J0IHsgc3RhcnRTZXNzaW9uTWFuYWdlciwgXG4vLyBFeHBvc2VkIGZvciB0ZXN0c1xuc3RvcFNlc3Npb25NYW5hZ2VyLCB9IGZyb20gJy4vZG9tYWluL3Nlc3Npb24vc2Vzc2lvbk1hbmFnZXInO1xuZXhwb3J0IHsgU0VTU0lPTl9USU1FX09VVF9ERUxBWSwgLy8gRXhwb3NlZCBmb3IgdGVzdHNcbiB9IGZyb20gJy4vZG9tYWluL3Nlc3Npb24vc2Vzc2lvbkNvbnN0YW50cyc7XG5leHBvcnQgeyBIdHRwUmVxdWVzdCwgQmF0Y2gsIGNhblVzZUV2ZW50QnJpZGdlLCBnZXRFdmVudEJyaWRnZSwgc3RhcnRCYXRjaFdpdGhSZXBsaWNhLCBzdGFydEZsdXNoRmFpbGVkU2VuZEJlYWNvbnMsIH0gZnJvbSAnLi90cmFuc3BvcnQnO1xuZXhwb3J0ICogZnJvbSAnLi90b29scy9kaXNwbGF5JztcbmV4cG9ydCAqIGZyb20gJy4vdG9vbHMvdXJsUG9seWZpbGwnO1xuZXhwb3J0ICogZnJvbSAnLi90b29scy90aW1lVXRpbHMnO1xuZXhwb3J0ICogZnJvbSAnLi90b29scy91dGlscyc7XG5leHBvcnQgKiBmcm9tICcuL3Rvb2xzL2NyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXInO1xuZXhwb3J0ICogZnJvbSAnLi90b29scy9icm93c2VyRGV0ZWN0aW9uJztcbmV4cG9ydCB7IGluc3RydW1lbnRNZXRob2QsIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwsIGluc3RydW1lbnRTZXR0ZXIgfSBmcm9tICcuL3Rvb2xzL2luc3RydW1lbnRNZXRob2QnO1xuZXhwb3J0IHsgRXJyb3JTb3VyY2UsIGZvcm1hdFVua25vd25FcnJvciwgY3JlYXRlSGFuZGxpbmdTdGFjaywgdG9TdGFja1RyYWNlU3RyaW5nLCBnZXRGaWxlRnJvbVN0YWNrVHJhY2VTdHJpbmcsIH0gZnJvbSAnLi90b29scy9lcnJvcic7XG5leHBvcnQgeyBhcmVDb29raWVzQXV0aG9yaXplZCwgZ2V0Q29va2llLCBzZXRDb29raWUsIGRlbGV0ZUNvb2tpZSwgQ09PS0lFX0FDQ0VTU19ERUxBWSB9IGZyb20gJy4vYnJvd3Nlci9jb29raWUnO1xuZXhwb3J0IHsgaW5pdFhock9ic2VydmFibGUgfSBmcm9tICcuL2Jyb3dzZXIveGhyT2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBpbml0RmV0Y2hPYnNlcnZhYmxlIH0gZnJvbSAnLi9icm93c2VyL2ZldGNoT2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBpbml0Q29uc29sZU9ic2VydmFibGUgfSBmcm9tICcuL2RvbWFpbi9jb25zb2xlL2NvbnNvbGVPYnNlcnZhYmxlJztcbmV4cG9ydCB7IEJvdW5kZWRCdWZmZXIgfSBmcm9tICcuL3Rvb2xzL2JvdW5kZWRCdWZmZXInO1xuZXhwb3J0IHsgY2F0Y2hVc2VyRXJyb3JzIH0gZnJvbSAnLi90b29scy9jYXRjaFVzZXJFcnJvcnMnO1xuZXhwb3J0IHsgY3JlYXRlQ29udGV4dE1hbmFnZXIgfSBmcm9tICcuL3Rvb2xzL2NvbnRleHRNYW5hZ2VyJztcbmV4cG9ydCB7IGxpbWl0TW9kaWZpY2F0aW9uIH0gZnJvbSAnLi90b29scy9saW1pdE1vZGlmaWNhdGlvbic7XG5leHBvcnQgeyBDb250ZXh0SGlzdG9yeSwgQ0xFQVJfT0xEX0NPTlRFWFRTX0lOVEVSVkFMIH0gZnJvbSAnLi90b29scy9jb250ZXh0SGlzdG9yeSc7XG5leHBvcnQgeyBTRVNTSU9OX0NPT0tJRV9OQU1FIH0gZnJvbSAnLi9kb21haW4vc2Vzc2lvbi9zZXNzaW9uQ29va2llU3RvcmUnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BoundedBuffer\": function() { return /* binding */ BoundedBuffer; }\n/* harmony export */ });\nvar BUFFER_LIMIT = 500;\nvar BoundedBuffer = /** @class */ (function () {\n    function BoundedBuffer() {\n        this.buffer = [];\n    }\n    BoundedBuffer.prototype.add = function (callback) {\n        var length = this.buffer.push(callback);\n        if (length > BUFFER_LIMIT) {\n            this.buffer.splice(0, 1);\n        }\n    };\n    BoundedBuffer.prototype.drain = function () {\n        this.buffer.forEach(function (callback) { return callback(); });\n        this.buffer.length = 0;\n    };\n    return BoundedBuffer;\n}());\n\n//# sourceMappingURL=boundedBuffer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9ib3VuZGVkQnVmZmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0JBQW9CO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDd0I7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvYm91bmRlZEJ1ZmZlci5qcz8xZjcyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBCVUZGRVJfTElNSVQgPSA1MDA7XG52YXIgQm91bmRlZEJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3VuZGVkQnVmZmVyKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgIH1cbiAgICBCb3VuZGVkQnVmZmVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuYnVmZmVyLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBpZiAobGVuZ3RoID4gQlVGRkVSX0xJTUlUKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5zcGxpY2UoMCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJvdW5kZWRCdWZmZXIucHJvdG90eXBlLmRyYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlci5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gY2FsbGJhY2soKTsgfSk7XG4gICAgICAgIHRoaXMuYnVmZmVyLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQm91bmRlZEJ1ZmZlcjtcbn0oKSk7XG5leHBvcnQgeyBCb3VuZGVkQnVmZmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib3VuZGVkQnVmZmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/browserDetection.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/browserDetection.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isChromium\": function() { return /* binding */ isChromium; },\n/* harmony export */   \"isIE\": function() { return /* binding */ isIE; }\n/* harmony export */ });\nfunction isIE() {\n    return Boolean(document.documentMode);\n}\nfunction isChromium() {\n    return !!window.chrome || /HeadlessChrome/.test(window.navigator.userAgent);\n}\n//# sourceMappingURL=browserDetection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9icm93c2VyRGV0ZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvYnJvd3NlckRldGVjdGlvbi5qcz9kNTcxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0lFKCkge1xuICAgIHJldHVybiBCb29sZWFuKGRvY3VtZW50LmRvY3VtZW50TW9kZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDaHJvbWl1bSgpIHtcbiAgICByZXR1cm4gISF3aW5kb3cuY2hyb21lIHx8IC9IZWFkbGVzc0Nocm9tZS8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyRGV0ZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/browserDetection.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"catchUserErrors\": function() { return /* binding */ catchUserErrors; }\n/* harmony export */ });\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./display */ \"./node_modules/@datadog/browser-core/esm/tools/display.js\");\n\nfunction catchUserErrors(fn, errorMsg) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        try {\n            return fn.apply(void 0, args);\n        }\n        catch (err) {\n            _display__WEBPACK_IMPORTED_MODULE_0__.display.error(errorMsg, err);\n        }\n    };\n}\n//# sourceMappingURL=catchUserErrors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9jYXRjaFVzZXJFcnJvcnMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0M7QUFDN0I7QUFDUDtBQUNBO0FBQ0EseUJBQXlCLHVCQUF1QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1EQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL2NhdGNoVXNlckVycm9ycy5qcz8xNmZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuL2Rpc3BsYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGNhdGNoVXNlckVycm9ycyhmbiwgZXJyb3JNc2cpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBkaXNwbGF5LmVycm9yKGVycm9yTXNnLCBlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhdGNoVXNlckVycm9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/contextHistory.js":
/*!************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/contextHistory.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CLEAR_OLD_CONTEXTS_INTERVAL\": function() { return /* binding */ CLEAR_OLD_CONTEXTS_INTERVAL; },\n/* harmony export */   \"ContextHistory\": function() { return /* binding */ ContextHistory; }\n/* harmony export */ });\n/* harmony import */ var _timeUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./timeUtils */ \"./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n\nvar END_OF_TIMES = Infinity;\nvar CLEAR_OLD_CONTEXTS_INTERVAL = _utils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\n/**\n * Store and keep track of contexts spans. This whole class assumes that contexts are added in\n * chronological order (i.e. all entries have an increasing start time).\n */\nvar ContextHistory = /** @class */ (function () {\n    function ContextHistory(expireDelay) {\n        var _this = this;\n        this.expireDelay = expireDelay;\n        this.entries = [];\n        this.clearOldContextsInterval = setInterval(function () { return _this.clearOldContexts(); }, CLEAR_OLD_CONTEXTS_INTERVAL);\n    }\n    /**\n     * Add a context to the history associated with a start time. Returns a reference to this newly\n     * added entry that can be removed or closed.\n     */\n    ContextHistory.prototype.add = function (context, startTime) {\n        var _this = this;\n        var entry = {\n            context: context,\n            startTime: startTime,\n            endTime: END_OF_TIMES,\n            remove: function () {\n                var index = _this.entries.indexOf(entry);\n                if (index >= 0) {\n                    _this.entries.splice(index, 1);\n                }\n            },\n            close: function (endTime) {\n                entry.endTime = endTime;\n            },\n        };\n        this.entries.unshift(entry);\n        return entry;\n    };\n    /**\n     * Return the latest context that was active during `startTime`, or the currently active context\n     * if no `startTime` is provided. This method assumes that entries are not overlapping.\n     */\n    ContextHistory.prototype.find = function (startTime) {\n        if (startTime === void 0) { startTime = END_OF_TIMES; }\n        for (var _i = 0, _a = this.entries; _i < _a.length; _i++) {\n            var entry = _a[_i];\n            if (entry.startTime <= startTime) {\n                if (startTime <= entry.endTime) {\n                    return entry.context;\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * Helper function to close the currently active context, if any. This method assumes that entries\n     * are not overlapping.\n     */\n    ContextHistory.prototype.closeActive = function (endTime) {\n        var latestEntry = this.entries[0];\n        if (latestEntry && latestEntry.endTime === END_OF_TIMES) {\n            latestEntry.close(endTime);\n        }\n    };\n    /**\n     * Return all contexts that were active during `startTime`, or all currently active contexts if no\n     * `startTime` is provided.\n     */\n    ContextHistory.prototype.findAll = function (startTime) {\n        if (startTime === void 0) { startTime = END_OF_TIMES; }\n        return this.entries\n            .filter(function (entry) { return entry.startTime <= startTime && startTime <= entry.endTime; })\n            .map(function (entry) { return entry.context; });\n    };\n    /**\n     * Remove all entries from this collection.\n     */\n    ContextHistory.prototype.reset = function () {\n        this.entries = [];\n    };\n    /**\n     * Stop internal garbage collection of past entries.\n     */\n    ContextHistory.prototype.stop = function () {\n        clearInterval(this.clearOldContextsInterval);\n    };\n    ContextHistory.prototype.clearOldContexts = function () {\n        var oldTimeThreshold = (0,_timeUtils__WEBPACK_IMPORTED_MODULE_1__.relativeNow)() - this.expireDelay;\n        while (this.entries.length > 0 && this.entries[this.entries.length - 1].endTime < oldTimeThreshold) {\n            this.entries.pop();\n        }\n    };\n    return ContextHistory;\n}());\n\n//# sourceMappingURL=contextHistory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9jb250ZXh0SGlzdG9yeS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBDO0FBQ0w7QUFDckM7QUFDTyxrQ0FBa0MsOENBQVU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGtDQUFrQztBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyw0Q0FBNEMsZ0JBQWdCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHVDQUF1QyxvRUFBb0U7QUFDM0csb0NBQW9DLHVCQUF1QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHVEQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ3lCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL2NvbnRleHRIaXN0b3J5LmpzP2RhM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVsYXRpdmVOb3cgfSBmcm9tICcuL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBPTkVfTUlOVVRFIH0gZnJvbSAnLi91dGlscyc7XG52YXIgRU5EX09GX1RJTUVTID0gSW5maW5pdHk7XG5leHBvcnQgdmFyIENMRUFSX09MRF9DT05URVhUU19JTlRFUlZBTCA9IE9ORV9NSU5VVEU7XG4vKipcbiAqIFN0b3JlIGFuZCBrZWVwIHRyYWNrIG9mIGNvbnRleHRzIHNwYW5zLiBUaGlzIHdob2xlIGNsYXNzIGFzc3VtZXMgdGhhdCBjb250ZXh0cyBhcmUgYWRkZWQgaW5cbiAqIGNocm9ub2xvZ2ljYWwgb3JkZXIgKGkuZS4gYWxsIGVudHJpZXMgaGF2ZSBhbiBpbmNyZWFzaW5nIHN0YXJ0IHRpbWUpLlxuICovXG52YXIgQ29udGV4dEhpc3RvcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29udGV4dEhpc3RvcnkoZXhwaXJlRGVsYXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5leHBpcmVEZWxheSA9IGV4cGlyZURlbGF5O1xuICAgICAgICB0aGlzLmVudHJpZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jbGVhck9sZENvbnRleHRzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5jbGVhck9sZENvbnRleHRzKCk7IH0sIENMRUFSX09MRF9DT05URVhUU19JTlRFUlZBTCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNvbnRleHQgdG8gdGhlIGhpc3RvcnkgYXNzb2NpYXRlZCB3aXRoIGEgc3RhcnQgdGltZS4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGlzIG5ld2x5XG4gICAgICogYWRkZWQgZW50cnkgdGhhdCBjYW4gYmUgcmVtb3ZlZCBvciBjbG9zZWQuXG4gICAgICovXG4gICAgQ29udGV4dEhpc3RvcnkucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChjb250ZXh0LCBzdGFydFRpbWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGVudHJ5ID0ge1xuICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgZW5kVGltZTogRU5EX09GX1RJTUVTLFxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMuZW50cmllcy5pbmRleE9mKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbnRyaWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAoZW5kVGltZSkge1xuICAgICAgICAgICAgICAgIGVudHJ5LmVuZFRpbWUgPSBlbmRUaW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbnRyaWVzLnVuc2hpZnQoZW50cnkpO1xuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxhdGVzdCBjb250ZXh0IHRoYXQgd2FzIGFjdGl2ZSBkdXJpbmcgYHN0YXJ0VGltZWAsIG9yIHRoZSBjdXJyZW50bHkgYWN0aXZlIGNvbnRleHRcbiAgICAgKiBpZiBubyBgc3RhcnRUaW1lYCBpcyBwcm92aWRlZC4gVGhpcyBtZXRob2QgYXNzdW1lcyB0aGF0IGVudHJpZXMgYXJlIG5vdCBvdmVybGFwcGluZy5cbiAgICAgKi9cbiAgICBDb250ZXh0SGlzdG9yeS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChzdGFydFRpbWUpIHtcbiAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gdm9pZCAwKSB7IHN0YXJ0VGltZSA9IEVORF9PRl9USU1FUzsgfVxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5lbnRyaWVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gX2FbX2ldO1xuICAgICAgICAgICAgaWYgKGVudHJ5LnN0YXJ0VGltZSA8PSBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRUaW1lIDw9IGVudHJ5LmVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmNvbnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gY2xvc2UgdGhlIGN1cnJlbnRseSBhY3RpdmUgY29udGV4dCwgaWYgYW55LiBUaGlzIG1ldGhvZCBhc3N1bWVzIHRoYXQgZW50cmllc1xuICAgICAqIGFyZSBub3Qgb3ZlcmxhcHBpbmcuXG4gICAgICovXG4gICAgQ29udGV4dEhpc3RvcnkucHJvdG90eXBlLmNsb3NlQWN0aXZlID0gZnVuY3Rpb24gKGVuZFRpbWUpIHtcbiAgICAgICAgdmFyIGxhdGVzdEVudHJ5ID0gdGhpcy5lbnRyaWVzWzBdO1xuICAgICAgICBpZiAobGF0ZXN0RW50cnkgJiYgbGF0ZXN0RW50cnkuZW5kVGltZSA9PT0gRU5EX09GX1RJTUVTKSB7XG4gICAgICAgICAgICBsYXRlc3RFbnRyeS5jbG9zZShlbmRUaW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCBjb250ZXh0cyB0aGF0IHdlcmUgYWN0aXZlIGR1cmluZyBgc3RhcnRUaW1lYCwgb3IgYWxsIGN1cnJlbnRseSBhY3RpdmUgY29udGV4dHMgaWYgbm9cbiAgICAgKiBgc3RhcnRUaW1lYCBpcyBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBDb250ZXh0SGlzdG9yeS5wcm90b3R5cGUuZmluZEFsbCA9IGZ1bmN0aW9uIChzdGFydFRpbWUpIHtcbiAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gdm9pZCAwKSB7IHN0YXJ0VGltZSA9IEVORF9PRl9USU1FUzsgfVxuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkuc3RhcnRUaW1lIDw9IHN0YXJ0VGltZSAmJiBzdGFydFRpbWUgPD0gZW50cnkuZW5kVGltZTsgfSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeS5jb250ZXh0OyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgZW50cmllcyBmcm9tIHRoaXMgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBDb250ZXh0SGlzdG9yeS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcCBpbnRlcm5hbCBnYXJiYWdlIGNvbGxlY3Rpb24gb2YgcGFzdCBlbnRyaWVzLlxuICAgICAqL1xuICAgIENvbnRleHRIaXN0b3J5LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuY2xlYXJPbGRDb250ZXh0c0ludGVydmFsKTtcbiAgICB9O1xuICAgIENvbnRleHRIaXN0b3J5LnByb3RvdHlwZS5jbGVhck9sZENvbnRleHRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2xkVGltZVRocmVzaG9sZCA9IHJlbGF0aXZlTm93KCkgLSB0aGlzLmV4cGlyZURlbGF5O1xuICAgICAgICB3aGlsZSAodGhpcy5lbnRyaWVzLmxlbmd0aCA+IDAgJiYgdGhpcy5lbnRyaWVzW3RoaXMuZW50cmllcy5sZW5ndGggLSAxXS5lbmRUaW1lIDwgb2xkVGltZVRocmVzaG9sZCkge1xuICAgICAgICAgICAgdGhpcy5lbnRyaWVzLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29udGV4dEhpc3Rvcnk7XG59KCkpO1xuZXhwb3J0IHsgQ29udGV4dEhpc3RvcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHRIaXN0b3J5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/contextHistory.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/contextManager.js":
/*!************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/contextManager.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createContextManager\": function() { return /* binding */ createContextManager; }\n/* harmony export */ });\nfunction createContextManager() {\n    var context = {};\n    return {\n        get: function () { return context; },\n        add: function (key, value) {\n            context[key] = value;\n        },\n        remove: function (key) {\n            delete context[key];\n        },\n        set: function (newContext) {\n            context = newContext;\n        },\n    };\n}\n//# sourceMappingURL=contextManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9jb250ZXh0TWFuYWdlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvY29udGV4dE1hbmFnZXIuanM/MTgwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dE1hbmFnZXIoKSB7XG4gICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnRleHQ7IH0sXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnRleHRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjb250ZXh0W2tleV07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0NvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBuZXdDb250ZXh0O1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0TWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/contextManager.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/createEventRateLimiter.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/createEventRateLimiter.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createEventRateLimiter\": function() { return /* binding */ createEventRateLimiter; }\n/* harmony export */ });\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error */ \"./node_modules/@datadog/browser-core/esm/tools/error.js\");\n/* harmony import */ var _timeUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timeUtils */ \"./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n\n\nfunction createEventRateLimiter(eventType, limit, onLimitReached) {\n    var eventCount = 0;\n    var allowNextEvent = false;\n    return {\n        isLimitReached: function () {\n            if (eventCount === 0) {\n                setTimeout(function () {\n                    eventCount = 0;\n                }, _utils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE);\n            }\n            eventCount += 1;\n            if (eventCount <= limit || allowNextEvent) {\n                allowNextEvent = false;\n                return false;\n            }\n            if (eventCount === limit + 1) {\n                allowNextEvent = true;\n                try {\n                    onLimitReached({\n                        message: \"Reached max number of \".concat(eventType, \"s by minute: \").concat(limit),\n                        source: _error__WEBPACK_IMPORTED_MODULE_1__.ErrorSource.AGENT,\n                        startClocks: (0,_timeUtils__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(),\n                    });\n                }\n                finally {\n                    allowNextEvent = false;\n                }\n            }\n            return true;\n        },\n    };\n}\n//# sourceMappingURL=createEventRateLimiter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9jcmVhdGVFdmVudFJhdGVMaW1pdGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0M7QUFDRTtBQUNIO0FBQzlCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsRUFBRSw4Q0FBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFpQjtBQUNqRCxxQ0FBcUMscURBQVM7QUFDOUMscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvY3JlYXRlRXZlbnRSYXRlTGltaXRlci5qcz8wYTRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVycm9yU291cmNlIH0gZnJvbSAnLi9lcnJvcic7XG5pbXBvcnQgeyBjbG9ja3NOb3cgfSBmcm9tICcuL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBPTkVfTUlOVVRFIH0gZnJvbSAnLi91dGlscyc7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnRSYXRlTGltaXRlcihldmVudFR5cGUsIGxpbWl0LCBvbkxpbWl0UmVhY2hlZCkge1xuICAgIHZhciBldmVudENvdW50ID0gMDtcbiAgICB2YXIgYWxsb3dOZXh0RXZlbnQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpc0xpbWl0UmVhY2hlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgfSwgT05FX01JTlVURSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudENvdW50ICs9IDE7XG4gICAgICAgICAgICBpZiAoZXZlbnRDb3VudCA8PSBsaW1pdCB8fCBhbGxvd05leHRFdmVudCkge1xuICAgICAgICAgICAgICAgIGFsbG93TmV4dEV2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50Q291bnQgPT09IGxpbWl0ICsgMSkge1xuICAgICAgICAgICAgICAgIGFsbG93TmV4dEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkxpbWl0UmVhY2hlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlJlYWNoZWQgbWF4IG51bWJlciBvZiBcIi5jb25jYXQoZXZlbnRUeXBlLCBcInMgYnkgbWludXRlOiBcIikuY29uY2F0KGxpbWl0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuQUdFTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOZXh0RXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlRXZlbnRSYXRlTGltaXRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/createEventRateLimiter.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/display.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/display.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ConsoleApiName\": function() { return /* binding */ ConsoleApiName; },\n/* harmony export */   \"display\": function() { return /* binding */ display; }\n/* harmony export */ });\n/* eslint-disable no-console, local-rules/disallow-side-effects */\n/**\n * Keep references on console methods to avoid triggering patched behaviors\n *\n * NB: in some setup, console could already be patched by another SDK.\n * In this case, some display messages can be sent by the other SDK\n * but we should be safe from infinite loop nonetheless.\n */\nvar ConsoleApiName = {\n    log: 'log',\n    debug: 'debug',\n    info: 'info',\n    warn: 'warn',\n    error: 'error',\n};\nvar display = function (api) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (!Object.prototype.hasOwnProperty.call(ConsoleApiName, api)) {\n        api = ConsoleApiName.log;\n    }\n    display[api].apply(display, args);\n};\ndisplay.debug = console.debug.bind(console);\ndisplay.log = console.log.bind(console);\ndisplay.info = console.info.bind(console);\ndisplay.warn = console.warn.bind(console);\ndisplay.error = console.error.bind(console);\n//# sourceMappingURL=display.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9kaXNwbGF5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZGlzcGxheS5qcz9hOWUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUsIGxvY2FsLXJ1bGVzL2Rpc2FsbG93LXNpZGUtZWZmZWN0cyAqL1xuLyoqXG4gKiBLZWVwIHJlZmVyZW5jZXMgb24gY29uc29sZSBtZXRob2RzIHRvIGF2b2lkIHRyaWdnZXJpbmcgcGF0Y2hlZCBiZWhhdmlvcnNcbiAqXG4gKiBOQjogaW4gc29tZSBzZXR1cCwgY29uc29sZSBjb3VsZCBhbHJlYWR5IGJlIHBhdGNoZWQgYnkgYW5vdGhlciBTREsuXG4gKiBJbiB0aGlzIGNhc2UsIHNvbWUgZGlzcGxheSBtZXNzYWdlcyBjYW4gYmUgc2VudCBieSB0aGUgb3RoZXIgU0RLXG4gKiBidXQgd2Ugc2hvdWxkIGJlIHNhZmUgZnJvbSBpbmZpbml0ZSBsb29wIG5vbmV0aGVsZXNzLlxuICovXG5leHBvcnQgdmFyIENvbnNvbGVBcGlOYW1lID0ge1xuICAgIGxvZzogJ2xvZycsXG4gICAgZGVidWc6ICdkZWJ1ZycsXG4gICAgaW5mbzogJ2luZm8nLFxuICAgIHdhcm46ICd3YXJuJyxcbiAgICBlcnJvcjogJ2Vycm9yJyxcbn07XG5leHBvcnQgdmFyIGRpc3BsYXkgPSBmdW5jdGlvbiAoYXBpKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChDb25zb2xlQXBpTmFtZSwgYXBpKSkge1xuICAgICAgICBhcGkgPSBDb25zb2xlQXBpTmFtZS5sb2c7XG4gICAgfVxuICAgIGRpc3BsYXlbYXBpXS5hcHBseShkaXNwbGF5LCBhcmdzKTtcbn07XG5kaXNwbGF5LmRlYnVnID0gY29uc29sZS5kZWJ1Zy5iaW5kKGNvbnNvbGUpO1xuZGlzcGxheS5sb2cgPSBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xuZGlzcGxheS5pbmZvID0gY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSk7XG5kaXNwbGF5Lndhcm4gPSBjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtcbmRpc3BsYXkuZXJyb3IgPSBjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/display.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/error.js":
/*!***************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/error.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ErrorSource\": function() { return /* binding */ ErrorSource; },\n/* harmony export */   \"createHandlingStack\": function() { return /* binding */ createHandlingStack; },\n/* harmony export */   \"formatErrorMessage\": function() { return /* binding */ formatErrorMessage; },\n/* harmony export */   \"formatUnknownError\": function() { return /* binding */ formatUnknownError; },\n/* harmony export */   \"getFileFromStackTraceString\": function() { return /* binding */ getFileFromStackTraceString; },\n/* harmony export */   \"toStackTraceString\": function() { return /* binding */ toStackTraceString; }\n/* harmony export */ });\n/* harmony import */ var _domain_tracekit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../domain/tracekit */ \"./node_modules/@datadog/browser-core/esm/domain/tracekit/index.js\");\n/* harmony import */ var _monitor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n\n\nvar ErrorSource = {\n    AGENT: 'agent',\n    CONSOLE: 'console',\n    CUSTOM: 'custom',\n    LOGGER: 'logger',\n    NETWORK: 'network',\n    SOURCE: 'source',\n    REPORT: 'report',\n};\nfunction formatUnknownError(stackTrace, errorObject, nonErrorPrefix, handlingStack) {\n    if (!stackTrace || (stackTrace.message === undefined && !(errorObject instanceof Error))) {\n        return {\n            message: \"\".concat(nonErrorPrefix, \" \").concat((0,_utils__WEBPACK_IMPORTED_MODULE_0__.jsonStringify)(errorObject)),\n            stack: 'No stack, consider using an instance of Error',\n            handlingStack: handlingStack,\n            type: stackTrace && stackTrace.name,\n        };\n    }\n    return {\n        message: stackTrace.message || 'Empty message',\n        stack: toStackTraceString(stackTrace),\n        handlingStack: handlingStack,\n        type: stackTrace.name,\n    };\n}\nfunction toStackTraceString(stack) {\n    var result = formatErrorMessage(stack);\n    stack.stack.forEach(function (frame) {\n        var func = frame.func === '?' ? '<anonymous>' : frame.func;\n        var args = frame.args && frame.args.length > 0 ? \"(\".concat(frame.args.join(', '), \")\") : '';\n        var line = frame.line ? \":\".concat(frame.line) : '';\n        var column = frame.line && frame.column ? \":\".concat(frame.column) : '';\n        result += \"\\n  at \".concat(func).concat(args, \" @ \").concat(frame.url).concat(line).concat(column);\n    });\n    return result;\n}\nfunction getFileFromStackTraceString(stack) {\n    var _a;\n    return (_a = /@ (.+)/.exec(stack)) === null || _a === void 0 ? void 0 : _a[1];\n}\nfunction formatErrorMessage(stack) {\n    return \"\".concat(stack.name || 'Error', \": \").concat(stack.message);\n}\n/**\n Creates a stacktrace without SDK internal frames.\n \n Constraints:\n - Has to be called at the utmost position of the call stack.\n - No monitored function should encapsulate it, that is why we need to use callMonitored inside it.\n */\nfunction createHandlingStack() {\n    /**\n     * Skip the two internal frames:\n     * - SDK API (console.error, ...)\n     * - this function\n     * in order to keep only the user calls\n     */\n    var internalFramesToSkip = 2;\n    var error = new Error();\n    var formattedStack;\n    // IE needs to throw the error to fill in the stack trace\n    if (!error.stack) {\n        try {\n            throw error;\n        }\n        catch (e) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.noop)();\n        }\n    }\n    (0,_monitor__WEBPACK_IMPORTED_MODULE_1__.callMonitored)(function () {\n        var stackTrace = (0,_domain_tracekit__WEBPACK_IMPORTED_MODULE_2__.computeStackTrace)(error);\n        stackTrace.stack = stackTrace.stack.slice(internalFramesToSkip);\n        formattedStack = toStackTraceString(stackTrace);\n    });\n    return formattedStack;\n}\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9lcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDYjtBQUNJO0FBQ3ZDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDJEQUEyRCxxREFBYTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDRDQUFJO0FBQ2hCO0FBQ0E7QUFDQSxJQUFJLHVEQUFhO0FBQ2pCLHlCQUF5QixtRUFBaUI7QUFDMUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZXJyb3IuanM/MTE5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4uL2RvbWFpbi90cmFjZWtpdCc7XG5pbXBvcnQgeyBjYWxsTW9uaXRvcmVkIH0gZnJvbSAnLi9tb25pdG9yJztcbmltcG9ydCB7IGpzb25TdHJpbmdpZnksIG5vb3AgfSBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCB2YXIgRXJyb3JTb3VyY2UgPSB7XG4gICAgQUdFTlQ6ICdhZ2VudCcsXG4gICAgQ09OU09MRTogJ2NvbnNvbGUnLFxuICAgIENVU1RPTTogJ2N1c3RvbScsXG4gICAgTE9HR0VSOiAnbG9nZ2VyJyxcbiAgICBORVRXT1JLOiAnbmV0d29yaycsXG4gICAgU09VUkNFOiAnc291cmNlJyxcbiAgICBSRVBPUlQ6ICdyZXBvcnQnLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRVbmtub3duRXJyb3Ioc3RhY2tUcmFjZSwgZXJyb3JPYmplY3QsIG5vbkVycm9yUHJlZml4LCBoYW5kbGluZ1N0YWNrKSB7XG4gICAgaWYgKCFzdGFja1RyYWNlIHx8IChzdGFja1RyYWNlLm1lc3NhZ2UgPT09IHVuZGVmaW5lZCAmJiAhKGVycm9yT2JqZWN0IGluc3RhbmNlb2YgRXJyb3IpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJcIi5jb25jYXQobm9uRXJyb3JQcmVmaXgsIFwiIFwiKS5jb25jYXQoanNvblN0cmluZ2lmeShlcnJvck9iamVjdCkpLFxuICAgICAgICAgICAgc3RhY2s6ICdObyBzdGFjaywgY29uc2lkZXIgdXNpbmcgYW4gaW5zdGFuY2Ugb2YgRXJyb3InLFxuICAgICAgICAgICAgaGFuZGxpbmdTdGFjazogaGFuZGxpbmdTdGFjayxcbiAgICAgICAgICAgIHR5cGU6IHN0YWNrVHJhY2UgJiYgc3RhY2tUcmFjZS5uYW1lLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlOiBzdGFja1RyYWNlLm1lc3NhZ2UgfHwgJ0VtcHR5IG1lc3NhZ2UnLFxuICAgICAgICBzdGFjazogdG9TdGFja1RyYWNlU3RyaW5nKHN0YWNrVHJhY2UpLFxuICAgICAgICBoYW5kbGluZ1N0YWNrOiBoYW5kbGluZ1N0YWNrLFxuICAgICAgICB0eXBlOiBzdGFja1RyYWNlLm5hbWUsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1N0YWNrVHJhY2VTdHJpbmcoc3RhY2spIHtcbiAgICB2YXIgcmVzdWx0ID0gZm9ybWF0RXJyb3JNZXNzYWdlKHN0YWNrKTtcbiAgICBzdGFjay5zdGFjay5mb3JFYWNoKGZ1bmN0aW9uIChmcmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGZyYW1lLmZ1bmMgPT09ICc/JyA/ICc8YW5vbnltb3VzPicgOiBmcmFtZS5mdW5jO1xuICAgICAgICB2YXIgYXJncyA9IGZyYW1lLmFyZ3MgJiYgZnJhbWUuYXJncy5sZW5ndGggPiAwID8gXCIoXCIuY29uY2F0KGZyYW1lLmFyZ3Muam9pbignLCAnKSwgXCIpXCIpIDogJyc7XG4gICAgICAgIHZhciBsaW5lID0gZnJhbWUubGluZSA/IFwiOlwiLmNvbmNhdChmcmFtZS5saW5lKSA6ICcnO1xuICAgICAgICB2YXIgY29sdW1uID0gZnJhbWUubGluZSAmJiBmcmFtZS5jb2x1bW4gPyBcIjpcIi5jb25jYXQoZnJhbWUuY29sdW1uKSA6ICcnO1xuICAgICAgICByZXN1bHQgKz0gXCJcXG4gIGF0IFwiLmNvbmNhdChmdW5jKS5jb25jYXQoYXJncywgXCIgQCBcIikuY29uY2F0KGZyYW1lLnVybCkuY29uY2F0KGxpbmUpLmNvbmNhdChjb2x1bW4pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUZyb21TdGFja1RyYWNlU3RyaW5nKHN0YWNrKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSAvQCAoLispLy5leGVjKHN0YWNrKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzFdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEVycm9yTWVzc2FnZShzdGFjaykge1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChzdGFjay5uYW1lIHx8ICdFcnJvcicsIFwiOiBcIikuY29uY2F0KHN0YWNrLm1lc3NhZ2UpO1xufVxuLyoqXG4gQ3JlYXRlcyBhIHN0YWNrdHJhY2Ugd2l0aG91dCBTREsgaW50ZXJuYWwgZnJhbWVzLlxuIFxuIENvbnN0cmFpbnRzOlxuIC0gSGFzIHRvIGJlIGNhbGxlZCBhdCB0aGUgdXRtb3N0IHBvc2l0aW9uIG9mIHRoZSBjYWxsIHN0YWNrLlxuIC0gTm8gbW9uaXRvcmVkIGZ1bmN0aW9uIHNob3VsZCBlbmNhcHN1bGF0ZSBpdCwgdGhhdCBpcyB3aHkgd2UgbmVlZCB0byB1c2UgY2FsbE1vbml0b3JlZCBpbnNpZGUgaXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIYW5kbGluZ1N0YWNrKCkge1xuICAgIC8qKlxuICAgICAqIFNraXAgdGhlIHR3byBpbnRlcm5hbCBmcmFtZXM6XG4gICAgICogLSBTREsgQVBJIChjb25zb2xlLmVycm9yLCAuLi4pXG4gICAgICogLSB0aGlzIGZ1bmN0aW9uXG4gICAgICogaW4gb3JkZXIgdG8ga2VlcCBvbmx5IHRoZSB1c2VyIGNhbGxzXG4gICAgICovXG4gICAgdmFyIGludGVybmFsRnJhbWVzVG9Ta2lwID0gMjtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICB2YXIgZm9ybWF0dGVkU3RhY2s7XG4gICAgLy8gSUUgbmVlZHMgdG8gdGhyb3cgdGhlIGVycm9yIHRvIGZpbGwgaW4gdGhlIHN0YWNrIHRyYWNlXG4gICAgaWYgKCFlcnJvci5zdGFjaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG5vb3AoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxsTW9uaXRvcmVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YWNrVHJhY2UgPSBjb21wdXRlU3RhY2tUcmFjZShlcnJvcik7XG4gICAgICAgIHN0YWNrVHJhY2Uuc3RhY2sgPSBzdGFja1RyYWNlLnN0YWNrLnNsaWNlKGludGVybmFsRnJhbWVzVG9Ta2lwKTtcbiAgICAgICAgZm9ybWF0dGVkU3RhY2sgPSB0b1N0YWNrVHJhY2VTdHJpbmcoc3RhY2tUcmFjZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZvcm1hdHRlZFN0YWNrO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/error.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"instrumentMethod\": function() { return /* binding */ instrumentMethod; },\n/* harmony export */   \"instrumentMethodAndCallOriginal\": function() { return /* binding */ instrumentMethodAndCallOriginal; },\n/* harmony export */   \"instrumentSetter\": function() { return /* binding */ instrumentSetter; }\n/* harmony export */ });\n/* harmony import */ var _monitor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n\nfunction instrumentMethod(object, method, instrumentationFactory) {\n    var original = object[method];\n    var instrumentation = instrumentationFactory(original);\n    var instrumentationWrapper = function () {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return instrumentation.apply(this, arguments);\n    };\n    object[method] = instrumentationWrapper;\n    return {\n        stop: function () {\n            if (object[method] === instrumentationWrapper) {\n                object[method] = original;\n            }\n            else {\n                instrumentation = original;\n            }\n        },\n    };\n}\nfunction instrumentMethodAndCallOriginal(object, method, _a) {\n    var before = _a.before, after = _a.after;\n    return instrumentMethod(object, method, function (original) {\n        return function () {\n            var args = arguments;\n            var result;\n            if (before) {\n                (0,_monitor__WEBPACK_IMPORTED_MODULE_0__.callMonitored)(before, this, args);\n            }\n            if (typeof original === 'function') {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n                result = original.apply(this, args);\n            }\n            if (after) {\n                (0,_monitor__WEBPACK_IMPORTED_MODULE_0__.callMonitored)(after, this, args);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n            return result;\n        };\n    });\n}\nfunction instrumentSetter(object, property, after) {\n    var originalDescriptor = Object.getOwnPropertyDescriptor(object, property);\n    if (!originalDescriptor || !originalDescriptor.set || !originalDescriptor.configurable) {\n        return { stop: _utils__WEBPACK_IMPORTED_MODULE_1__.noop };\n    }\n    var instrumentation = function (thisObject, value) {\n        // put hooked setter into event loop to avoid of set latency\n        setTimeout((0,_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(function () {\n            after(thisObject, value);\n        }), 0);\n    };\n    var instrumentationWrapper = function (value) {\n        originalDescriptor.set.call(this, value);\n        instrumentation(this, value);\n    };\n    Object.defineProperty(object, property, {\n        set: instrumentationWrapper,\n    });\n    return {\n        stop: function () {\n            var _a;\n            if (((_a = Object.getOwnPropertyDescriptor(object, property)) === null || _a === void 0 ? void 0 : _a.set) === instrumentationWrapper) {\n                Object.defineProperty(object, property, originalDescriptor);\n            }\n            else {\n                instrumentation = _utils__WEBPACK_IMPORTED_MODULE_1__.noop;\n            }\n        },\n    };\n}\n//# sourceMappingURL=instrumentMethod.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9pbnN0cnVtZW50TWV0aG9kLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1EO0FBQ3BCO0FBQ3hCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1REFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdURBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTSx3Q0FBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaURBQU87QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msd0NBQUk7QUFDdEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL2luc3RydW1lbnRNZXRob2QuanM/YjliMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxsTW9uaXRvcmVkLCBtb25pdG9yIH0gZnJvbSAnLi9tb25pdG9yJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCBmdW5jdGlvbiBpbnN0cnVtZW50TWV0aG9kKG9iamVjdCwgbWV0aG9kLCBpbnN0cnVtZW50YXRpb25GYWN0b3J5KSB7XG4gICAgdmFyIG9yaWdpbmFsID0gb2JqZWN0W21ldGhvZF07XG4gICAgdmFyIGluc3RydW1lbnRhdGlvbiA9IGluc3RydW1lbnRhdGlvbkZhY3Rvcnkob3JpZ2luYWwpO1xuICAgIHZhciBpbnN0cnVtZW50YXRpb25XcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm5cbiAgICAgICAgcmV0dXJuIGluc3RydW1lbnRhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgb2JqZWN0W21ldGhvZF0gPSBpbnN0cnVtZW50YXRpb25XcmFwcGVyO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvYmplY3RbbWV0aG9kXSA9PT0gaW5zdHJ1bWVudGF0aW9uV3JhcHBlcikge1xuICAgICAgICAgICAgICAgIG9iamVjdFttZXRob2RdID0gb3JpZ2luYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnN0cnVtZW50YXRpb24gPSBvcmlnaW5hbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwob2JqZWN0LCBtZXRob2QsIF9hKSB7XG4gICAgdmFyIGJlZm9yZSA9IF9hLmJlZm9yZSwgYWZ0ZXIgPSBfYS5hZnRlcjtcbiAgICByZXR1cm4gaW5zdHJ1bWVudE1ldGhvZChvYmplY3QsIG1ldGhvZCwgZnVuY3Rpb24gKG9yaWdpbmFsKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgY2FsbE1vbml0b3JlZChiZWZvcmUsIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWNhbGxcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZnRlcikge1xuICAgICAgICAgICAgICAgIGNhbGxNb25pdG9yZWQoYWZ0ZXIsIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtcmV0dXJuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc3RydW1lbnRTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSwgYWZ0ZXIpIHtcbiAgICB2YXIgb3JpZ2luYWxEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTtcbiAgICBpZiAoIW9yaWdpbmFsRGVzY3JpcHRvciB8fCAhb3JpZ2luYWxEZXNjcmlwdG9yLnNldCB8fCAhb3JpZ2luYWxEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICByZXR1cm4geyBzdG9wOiBub29wIH07XG4gICAgfVxuICAgIHZhciBpbnN0cnVtZW50YXRpb24gPSBmdW5jdGlvbiAodGhpc09iamVjdCwgdmFsdWUpIHtcbiAgICAgICAgLy8gcHV0IGhvb2tlZCBzZXR0ZXIgaW50byBldmVudCBsb29wIHRvIGF2b2lkIG9mIHNldCBsYXRlbmN5XG4gICAgICAgIHNldFRpbWVvdXQobW9uaXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhZnRlcih0aGlzT2JqZWN0LCB2YWx1ZSk7XG4gICAgICAgIH0pLCAwKTtcbiAgICB9O1xuICAgIHZhciBpbnN0cnVtZW50YXRpb25XcmFwcGVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIG9yaWdpbmFsRGVzY3JpcHRvci5zZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGluc3RydW1lbnRhdGlvbih0aGlzLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwge1xuICAgICAgICBzZXQ6IGluc3RydW1lbnRhdGlvbldyYXBwZXIsXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCgoX2EgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0KSA9PT0gaW5zdHJ1bWVudGF0aW9uV3JhcHBlcikge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBvcmlnaW5hbERlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zdHJ1bWVudGF0aW9uID0gbm9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5zdHJ1bWVudE1ldGhvZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/limitModification.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/limitModification.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"limitModification\": function() { return /* binding */ limitModification; }\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n/**\n * Current limitation:\n * - field path do not support array, 'a.b.c' only\n */\nfunction limitModification(object, modifiableFieldPaths, modifier) {\n    var clone = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.deepClone)(object);\n    var result = modifier(clone);\n    modifiableFieldPaths.forEach(function (path) {\n        var originalValue = get(object, path);\n        var newValue = get(clone, path);\n        var originalType = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getType)(originalValue);\n        var newType = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getType)(newValue);\n        if (newType === originalType) {\n            set(object, path, newValue);\n        }\n        else if (originalType === 'object' && (newType === 'undefined' || newType === 'null')) {\n            set(object, path, {});\n        }\n    });\n    return result;\n}\nfunction get(object, path) {\n    var current = object;\n    for (var _i = 0, _a = path.split('.'); _i < _a.length; _i++) {\n        var field = _a[_i];\n        if (!isValidObjectContaining(current, field)) {\n            return;\n        }\n        current = current[field];\n    }\n    return current;\n}\nfunction set(object, path, value) {\n    var current = object;\n    var fields = path.split('.');\n    for (var i = 0; i < fields.length; i += 1) {\n        var field = fields[i];\n        if (!isValidObjectContaining(current, field)) {\n            return;\n        }\n        if (i !== fields.length - 1) {\n            current = current[field];\n        }\n        else {\n            current[field] = value;\n        }\n    }\n}\nfunction isValidObjectContaining(object, field) {\n    return typeof object === 'object' && object !== null && field in object;\n}\n//# sourceMappingURL=limitModification.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9saW1pdE1vZGlmaWNhdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLGlEQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLCtDQUFPO0FBQ2xDLHNCQUFzQiwrQ0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxnQkFBZ0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvbGltaXRNb2RpZmljYXRpb24uanM/YjE3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWVwQ2xvbmUsIGdldFR5cGUgfSBmcm9tICcuL3V0aWxzJztcbi8qKlxuICogQ3VycmVudCBsaW1pdGF0aW9uOlxuICogLSBmaWVsZCBwYXRoIGRvIG5vdCBzdXBwb3J0IGFycmF5LCAnYS5iLmMnIG9ubHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbWl0TW9kaWZpY2F0aW9uKG9iamVjdCwgbW9kaWZpYWJsZUZpZWxkUGF0aHMsIG1vZGlmaWVyKSB7XG4gICAgdmFyIGNsb25lID0gZGVlcENsb25lKG9iamVjdCk7XG4gICAgdmFyIHJlc3VsdCA9IG1vZGlmaWVyKGNsb25lKTtcbiAgICBtb2RpZmlhYmxlRmllbGRQYXRocy5mb3JFYWNoKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGdldChjbG9uZSwgcGF0aCk7XG4gICAgICAgIHZhciBvcmlnaW5hbFR5cGUgPSBnZXRUeXBlKG9yaWdpbmFsVmFsdWUpO1xuICAgICAgICB2YXIgbmV3VHlwZSA9IGdldFR5cGUobmV3VmFsdWUpO1xuICAgICAgICBpZiAobmV3VHlwZSA9PT0gb3JpZ2luYWxUeXBlKSB7XG4gICAgICAgICAgICBzZXQob2JqZWN0LCBwYXRoLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3JpZ2luYWxUeXBlID09PSAnb2JqZWN0JyAmJiAobmV3VHlwZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmV3VHlwZSA9PT0gJ251bGwnKSkge1xuICAgICAgICAgICAgc2V0KG9iamVjdCwgcGF0aCwge30pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgpIHtcbiAgICB2YXIgY3VycmVudCA9IG9iamVjdDtcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gcGF0aC5zcGxpdCgnLicpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgZmllbGQgPSBfYVtfaV07XG4gICAgICAgIGlmICghaXNWYWxpZE9iamVjdENvbnRhaW5pbmcoY3VycmVudCwgZmllbGQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbZmllbGRdO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudDtcbn1cbmZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBvYmplY3Q7XG4gICAgdmFyIGZpZWxkcyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgICAgIGlmICghaXNWYWxpZE9iamVjdENvbnRhaW5pbmcoY3VycmVudCwgZmllbGQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgIT09IGZpZWxkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFtmaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50W2ZpZWxkXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNWYWxpZE9iamVjdENvbnRhaW5pbmcob2JqZWN0LCBmaWVsZCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgZmllbGQgaW4gb2JqZWN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGltaXRNb2RpZmljYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/limitModification.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/monitor.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/monitor.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"callMonitored\": function() { return /* binding */ callMonitored; },\n/* harmony export */   \"displayIfDebugEnabled\": function() { return /* binding */ displayIfDebugEnabled; },\n/* harmony export */   \"monitor\": function() { return /* binding */ monitor; },\n/* harmony export */   \"monitored\": function() { return /* binding */ monitored; },\n/* harmony export */   \"resetMonitor\": function() { return /* binding */ resetMonitor; },\n/* harmony export */   \"setDebugMode\": function() { return /* binding */ setDebugMode; },\n/* harmony export */   \"startMonitorErrorCollection\": function() { return /* binding */ startMonitorErrorCollection; }\n/* harmony export */ });\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./display */ \"./node_modules/@datadog/browser-core/esm/tools/display.js\");\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar onMonitorErrorCollected;\nvar debugMode = false;\nfunction startMonitorErrorCollection(newOnMonitorErrorCollected) {\n    onMonitorErrorCollected = newOnMonitorErrorCollected;\n}\nfunction setDebugMode(newDebugMode) {\n    debugMode = newDebugMode;\n}\nfunction resetMonitor() {\n    onMonitorErrorCollected = undefined;\n    debugMode = false;\n}\nfunction monitored(_, __, descriptor) {\n    var originalMethod = descriptor.value;\n    descriptor.value = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var decorated = onMonitorErrorCollected ? monitor(originalMethod) : originalMethod;\n        return decorated.apply(this, args);\n    };\n}\nfunction monitor(fn) {\n    return function () {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return callMonitored(fn, this, arguments);\n    }; // consider output type has input type\n}\nfunction callMonitored(fn, context, args) {\n    try {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return fn.apply(context, args);\n    }\n    catch (e) {\n        displayIfDebugEnabled(_display__WEBPACK_IMPORTED_MODULE_0__.ConsoleApiName.error, e);\n        if (onMonitorErrorCollected) {\n            try {\n                onMonitorErrorCollected(e);\n            }\n            catch (e) {\n                displayIfDebugEnabled(_display__WEBPACK_IMPORTED_MODULE_0__.ConsoleApiName.error, e);\n            }\n        }\n    }\n}\nfunction displayIfDebugEnabled(api) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (debugMode) {\n        _display__WEBPACK_IMPORTED_MODULE_0__.display.apply(void 0, __spreadArray([api, '[MONITOR]'], args, false));\n    }\n}\n//# sourceMappingURL=monitor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9tb25pdG9yLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEscUJBQXFCLFNBQUksSUFBSSxTQUFJO0FBQ2pDLDZFQUE2RSxPQUFPO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ29EO0FBQ3BEO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVCQUF1QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwREFBb0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywwREFBb0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EscUJBQXFCLHVCQUF1QjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxRQUFRLG1EQUFhO0FBQ3JCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9tb25pdG9yLmpzPzgxNGMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSwgcGFjaykge1xuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59O1xuaW1wb3J0IHsgQ29uc29sZUFwaU5hbWUsIGRpc3BsYXkgfSBmcm9tICcuL2Rpc3BsYXknO1xudmFyIG9uTW9uaXRvckVycm9yQ29sbGVjdGVkO1xudmFyIGRlYnVnTW9kZSA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0TW9uaXRvckVycm9yQ29sbGVjdGlvbihuZXdPbk1vbml0b3JFcnJvckNvbGxlY3RlZCkge1xuICAgIG9uTW9uaXRvckVycm9yQ29sbGVjdGVkID0gbmV3T25Nb25pdG9yRXJyb3JDb2xsZWN0ZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0RGVidWdNb2RlKG5ld0RlYnVnTW9kZSkge1xuICAgIGRlYnVnTW9kZSA9IG5ld0RlYnVnTW9kZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldE1vbml0b3IoKSB7XG4gICAgb25Nb25pdG9yRXJyb3JDb2xsZWN0ZWQgPSB1bmRlZmluZWQ7XG4gICAgZGVidWdNb2RlID0gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gbW9uaXRvcmVkKF8sIF9fLCBkZXNjcmlwdG9yKSB7XG4gICAgdmFyIG9yaWdpbmFsTWV0aG9kID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWNvcmF0ZWQgPSBvbk1vbml0b3JFcnJvckNvbGxlY3RlZCA/IG1vbml0b3Iob3JpZ2luYWxNZXRob2QpIDogb3JpZ2luYWxNZXRob2Q7XG4gICAgICAgIHJldHVybiBkZWNvcmF0ZWQuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtb25pdG9yKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtcmV0dXJuXG4gICAgICAgIHJldHVybiBjYWxsTW9uaXRvcmVkKGZuLCB0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07IC8vIGNvbnNpZGVyIG91dHB1dCB0eXBlIGhhcyBpbnB1dCB0eXBlXG59XG5leHBvcnQgZnVuY3Rpb24gY2FsbE1vbml0b3JlZChmbiwgY29udGV4dCwgYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLXJldHVyblxuICAgICAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGRpc3BsYXlJZkRlYnVnRW5hYmxlZChDb25zb2xlQXBpTmFtZS5lcnJvciwgZSk7XG4gICAgICAgIGlmIChvbk1vbml0b3JFcnJvckNvbGxlY3RlZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbk1vbml0b3JFcnJvckNvbGxlY3RlZChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheUlmRGVidWdFbmFibGVkKENvbnNvbGVBcGlOYW1lLmVycm9yLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5SWZEZWJ1Z0VuYWJsZWQoYXBpKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAoZGVidWdNb2RlKSB7XG4gICAgICAgIGRpc3BsYXkuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFthcGksICdbTU9OSVRPUl0nXSwgYXJncywgZmFsc2UpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb25pdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/monitor.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/observable.js":
/*!********************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/observable.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Observable\": function() { return /* binding */ Observable; },\n/* harmony export */   \"mergeObservables\": function() { return /* binding */ mergeObservables; }\n/* harmony export */ });\nvar Observable = /** @class */ (function () {\n    function Observable(onFirstSubscribe) {\n        this.onFirstSubscribe = onFirstSubscribe;\n        this.observers = [];\n    }\n    Observable.prototype.subscribe = function (f) {\n        var _this = this;\n        if (!this.observers.length && this.onFirstSubscribe) {\n            this.onLastUnsubscribe = this.onFirstSubscribe() || undefined;\n        }\n        this.observers.push(f);\n        return {\n            unsubscribe: function () {\n                _this.observers = _this.observers.filter(function (other) { return f !== other; });\n                if (!_this.observers.length && _this.onLastUnsubscribe) {\n                    _this.onLastUnsubscribe();\n                }\n            },\n        };\n    };\n    Observable.prototype.notify = function (data) {\n        this.observers.forEach(function (observer) { return observer(data); });\n    };\n    return Observable;\n}());\n\nfunction mergeObservables() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var globalObservable = new Observable(function () {\n        var subscriptions = observables.map(function (observable) {\n            return observable.subscribe(function (data) { return globalObservable.notify(data); });\n        });\n        return function () { return subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); }); };\n    });\n    return globalObservable;\n}\n//# sourceMappingURL=observable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9vYnNlcnZhYmxlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUscUJBQXFCO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsd0JBQXdCO0FBQzdFO0FBQ0E7QUFDQSxDQUFDO0FBQ3FCO0FBQ2Y7QUFDUDtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsdUNBQXVDO0FBQ2pHLFNBQVM7QUFDVCw2QkFBNkIsdURBQXVELG9DQUFvQztBQUN4SCxLQUFLO0FBQ0w7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL29ic2VydmFibGUuanM/OGY5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgT2JzZXJ2YWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKG9uRmlyc3RTdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5vbkZpcnN0U3Vic2NyaWJlID0gb25GaXJzdFN1YnNjcmliZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLm9ic2VydmVycy5sZW5ndGggJiYgdGhpcy5vbkZpcnN0U3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLm9uTGFzdFVuc3Vic2NyaWJlID0gdGhpcy5vbkZpcnN0U3Vic2NyaWJlKCkgfHwgdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goZik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9ic2VydmVycyA9IF90aGlzLm9ic2VydmVycy5maWx0ZXIoZnVuY3Rpb24gKG90aGVyKSB7IHJldHVybiBmICE9PSBvdGhlcjsgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5vYnNlcnZlcnMubGVuZ3RoICYmIF90aGlzLm9uTGFzdFVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uTGFzdFVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmVyKSB7IHJldHVybiBvYnNlcnZlcihkYXRhKTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VPYnNlcnZhYmxlcygpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgZ2xvYmFsT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSBvYnNlcnZhYmxlcy5tYXAoZnVuY3Rpb24gKG9ic2VydmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gZ2xvYmFsT2JzZXJ2YWJsZS5ub3RpZnkoZGF0YSk7IH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmlwdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7IHJldHVybiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTsgfSk7IH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGdsb2JhbE9ic2VydmFibGU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/observable.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/timeUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/timeUtils.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clocksNow\": function() { return /* binding */ clocksNow; },\n/* harmony export */   \"clocksOrigin\": function() { return /* binding */ clocksOrigin; },\n/* harmony export */   \"currentDrift\": function() { return /* binding */ currentDrift; },\n/* harmony export */   \"elapsed\": function() { return /* binding */ elapsed; },\n/* harmony export */   \"getRelativeTime\": function() { return /* binding */ getRelativeTime; },\n/* harmony export */   \"getTimeStamp\": function() { return /* binding */ getTimeStamp; },\n/* harmony export */   \"looksLikeRelativeTime\": function() { return /* binding */ looksLikeRelativeTime; },\n/* harmony export */   \"relativeNow\": function() { return /* binding */ relativeNow; },\n/* harmony export */   \"relativeToClocks\": function() { return /* binding */ relativeToClocks; },\n/* harmony export */   \"resetNavigationStart\": function() { return /* binding */ resetNavigationStart; },\n/* harmony export */   \"timeStampNow\": function() { return /* binding */ timeStampNow; },\n/* harmony export */   \"toServerDuration\": function() { return /* binding */ toServerDuration; }\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\nfunction relativeToClocks(relative) {\n    return { relative: relative, timeStamp: getCorrectedTimeStamp(relative) };\n}\nfunction getCorrectedTimeStamp(relativeTime) {\n    var correctedOrigin = Date.now() - performance.now();\n    // apply correction only for positive drift\n    if (correctedOrigin > getNavigationStart()) {\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        return Math.round(correctedOrigin + relativeTime);\n    }\n    return getTimeStamp(relativeTime);\n}\nfunction currentDrift() {\n    // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n    return Math.round(Date.now() - (getNavigationStart() + performance.now()));\n}\nfunction toServerDuration(duration) {\n    if (!(0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNumber)(duration)) {\n        return duration;\n    }\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.round)(duration * 1e6, 0);\n}\nfunction timeStampNow() {\n    return Date.now();\n}\nfunction relativeNow() {\n    return performance.now();\n}\nfunction clocksNow() {\n    return { relative: relativeNow(), timeStamp: timeStampNow() };\n}\nfunction clocksOrigin() {\n    return { relative: 0, timeStamp: getNavigationStart() };\n}\nfunction elapsed(start, end) {\n    return (end - start);\n}\n/**\n * Get the time since the navigation was started.\n *\n * Note: this does not use `performance.timeOrigin` because it doesn't seem to reflect the actual\n * time on which the navigation has started: it may be much farther in the past, at least in Firefox 71.\n * Related issue in Firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=1429926\n */\nfunction getRelativeTime(timestamp) {\n    return (timestamp - getNavigationStart());\n}\nfunction getTimeStamp(relativeTime) {\n    // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n    return Math.round(getNavigationStart() + relativeTime);\n}\nfunction looksLikeRelativeTime(time) {\n    return time < _utils__WEBPACK_IMPORTED_MODULE_0__.ONE_YEAR;\n}\n/**\n * Navigation start slightly change on some rare cases\n */\nvar navigationStart;\nfunction getNavigationStart() {\n    if (navigationStart === undefined) {\n        navigationStart = performance.timing.navigationStart;\n    }\n    return navigationStart;\n}\nfunction resetNavigationStart() {\n    navigationStart = undefined;\n}\n//# sourceMappingURL=timeUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy90aW1lVXRpbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRDtBQUM3QztBQUNQLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUCxTQUFTLGdEQUFRO0FBQ2pCO0FBQ0E7QUFDQSxXQUFXLDZDQUFLO0FBQ2hCO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxhQUFhO0FBQ2I7QUFDTztBQUNQLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQLGtCQUFrQiw0Q0FBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdGltZVV0aWxzLmpzP2Q0M2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOdW1iZXIsIE9ORV9ZRUFSLCByb3VuZCB9IGZyb20gJy4vdXRpbHMnO1xuZXhwb3J0IGZ1bmN0aW9uIHJlbGF0aXZlVG9DbG9ja3MocmVsYXRpdmUpIHtcbiAgICByZXR1cm4geyByZWxhdGl2ZTogcmVsYXRpdmUsIHRpbWVTdGFtcDogZ2V0Q29ycmVjdGVkVGltZVN0YW1wKHJlbGF0aXZlKSB9O1xufVxuZnVuY3Rpb24gZ2V0Q29ycmVjdGVkVGltZVN0YW1wKHJlbGF0aXZlVGltZSkge1xuICAgIHZhciBjb3JyZWN0ZWRPcmlnaW4gPSBEYXRlLm5vdygpIC0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgLy8gYXBwbHkgY29ycmVjdGlvbiBvbmx5IGZvciBwb3NpdGl2ZSBkcmlmdFxuICAgIGlmIChjb3JyZWN0ZWRPcmlnaW4gPiBnZXROYXZpZ2F0aW9uU3RhcnQoKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXBsdXMtb3BlcmFuZHNcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoY29ycmVjdGVkT3JpZ2luICsgcmVsYXRpdmVUaW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFRpbWVTdGFtcChyZWxhdGl2ZVRpbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGN1cnJlbnREcmlmdCgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXBsdXMtb3BlcmFuZHNcbiAgICByZXR1cm4gTWF0aC5yb3VuZChEYXRlLm5vdygpIC0gKGdldE5hdmlnYXRpb25TdGFydCgpICsgcGVyZm9ybWFuY2Uubm93KCkpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1NlcnZlckR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gICAgaWYgKCFpc051bWJlcihkdXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gcm91bmQoZHVyYXRpb24gKiAxZTYsIDApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVTdGFtcE5vdygpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWxhdGl2ZU5vdygpIHtcbiAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvY2tzTm93KCkge1xuICAgIHJldHVybiB7IHJlbGF0aXZlOiByZWxhdGl2ZU5vdygpLCB0aW1lU3RhbXA6IHRpbWVTdGFtcE5vdygpIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvY2tzT3JpZ2luKCkge1xuICAgIHJldHVybiB7IHJlbGF0aXZlOiAwLCB0aW1lU3RhbXA6IGdldE5hdmlnYXRpb25TdGFydCgpIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZWxhcHNlZChzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIChlbmQgLSBzdGFydCk7XG59XG4vKipcbiAqIEdldCB0aGUgdGltZSBzaW5jZSB0aGUgbmF2aWdhdGlvbiB3YXMgc3RhcnRlZC5cbiAqXG4gKiBOb3RlOiB0aGlzIGRvZXMgbm90IHVzZSBgcGVyZm9ybWFuY2UudGltZU9yaWdpbmAgYmVjYXVzZSBpdCBkb2Vzbid0IHNlZW0gdG8gcmVmbGVjdCB0aGUgYWN0dWFsXG4gKiB0aW1lIG9uIHdoaWNoIHRoZSBuYXZpZ2F0aW9uIGhhcyBzdGFydGVkOiBpdCBtYXkgYmUgbXVjaCBmYXJ0aGVyIGluIHRoZSBwYXN0LCBhdCBsZWFzdCBpbiBGaXJlZm94IDcxLlxuICogUmVsYXRlZCBpc3N1ZSBpbiBGaXJlZm94OiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDI5OTI2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWxhdGl2ZVRpbWUodGltZXN0YW1wKSB7XG4gICAgcmV0dXJuICh0aW1lc3RhbXAgLSBnZXROYXZpZ2F0aW9uU3RhcnQoKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZVN0YW1wKHJlbGF0aXZlVGltZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtcGx1cy1vcGVyYW5kc1xuICAgIHJldHVybiBNYXRoLnJvdW5kKGdldE5hdmlnYXRpb25TdGFydCgpICsgcmVsYXRpdmVUaW1lKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb29rc0xpa2VSZWxhdGl2ZVRpbWUodGltZSkge1xuICAgIHJldHVybiB0aW1lIDwgT05FX1lFQVI7XG59XG4vKipcbiAqIE5hdmlnYXRpb24gc3RhcnQgc2xpZ2h0bHkgY2hhbmdlIG9uIHNvbWUgcmFyZSBjYXNlc1xuICovXG52YXIgbmF2aWdhdGlvblN0YXJ0O1xuZnVuY3Rpb24gZ2V0TmF2aWdhdGlvblN0YXJ0KCkge1xuICAgIGlmIChuYXZpZ2F0aW9uU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuYXZpZ2F0aW9uU3RhcnQgPSBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0O1xuICAgIH1cbiAgICByZXR1cm4gbmF2aWdhdGlvblN0YXJ0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0TmF2aWdhdGlvblN0YXJ0KCkge1xuICAgIG5hdmlnYXRpb25TdGFydCA9IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVVdGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/timeUtils.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/urlPolyfill.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/urlPolyfill.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildUrl\": function() { return /* binding */ buildUrl; },\n/* harmony export */   \"getHash\": function() { return /* binding */ getHash; },\n/* harmony export */   \"getOrigin\": function() { return /* binding */ getOrigin; },\n/* harmony export */   \"getPathName\": function() { return /* binding */ getPathName; },\n/* harmony export */   \"getSearch\": function() { return /* binding */ getSearch; },\n/* harmony export */   \"haveSameOrigin\": function() { return /* binding */ haveSameOrigin; },\n/* harmony export */   \"isValidUrl\": function() { return /* binding */ isValidUrl; },\n/* harmony export */   \"normalizeUrl\": function() { return /* binding */ normalizeUrl; }\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\nfunction normalizeUrl(url) {\n    return buildUrl(url, (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getLocationOrigin)()).href;\n}\nfunction isValidUrl(url) {\n    try {\n        return !!buildUrl(url);\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction haveSameOrigin(url1, url2) {\n    return getOrigin(url1) === getOrigin(url2);\n}\nfunction getOrigin(url) {\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getLinkElementOrigin)(buildUrl(url));\n}\nfunction getPathName(url) {\n    var pathname = buildUrl(url).pathname;\n    return pathname[0] === '/' ? pathname : \"/\".concat(pathname);\n}\nfunction getSearch(url) {\n    return buildUrl(url).search;\n}\nfunction getHash(url) {\n    return buildUrl(url).hash;\n}\nfunction buildUrl(url, base) {\n    if (checkURLSupported()) {\n        return base !== undefined ? new URL(url, base) : new URL(url);\n    }\n    if (base === undefined && !/:/.test(url)) {\n        throw new Error(\"Invalid URL: '\".concat(url, \"'\"));\n    }\n    var doc = document;\n    var anchorElement = doc.createElement('a');\n    if (base !== undefined) {\n        doc = document.implementation.createHTMLDocument('');\n        var baseElement = doc.createElement('base');\n        baseElement.href = base;\n        doc.head.appendChild(baseElement);\n        doc.body.appendChild(anchorElement);\n    }\n    anchorElement.href = url;\n    return anchorElement;\n}\nvar isURLSupported;\nfunction checkURLSupported() {\n    if (isURLSupported !== undefined) {\n        return isURLSupported;\n    }\n    try {\n        var url = new URL('http://test/path');\n        isURLSupported = url.href === 'http://test/path';\n        return isURLSupported;\n    }\n    catch (_a) {\n        isURLSupported = false;\n    }\n    return isURLSupported;\n}\n//# sourceMappingURL=urlPolyfill.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91cmxQb2x5ZmlsbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBa0U7QUFDM0Q7QUFDUCx5QkFBeUIseURBQWlCO0FBQzFDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1AsV0FBVyw0REFBb0I7QUFDL0I7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXJsUG9seWZpbGwuanM/ZTUxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRMaW5rRWxlbWVudE9yaWdpbiwgZ2V0TG9jYXRpb25PcmlnaW4gfSBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVVcmwodXJsKSB7XG4gICAgcmV0dXJuIGJ1aWxkVXJsKHVybCwgZ2V0TG9jYXRpb25PcmlnaW4oKSkuaHJlZjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVXJsKHVybCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAhIWJ1aWxkVXJsKHVybCk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGhhdmVTYW1lT3JpZ2luKHVybDEsIHVybDIpIHtcbiAgICByZXR1cm4gZ2V0T3JpZ2luKHVybDEpID09PSBnZXRPcmlnaW4odXJsMik7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JpZ2luKHVybCkge1xuICAgIHJldHVybiBnZXRMaW5rRWxlbWVudE9yaWdpbihidWlsZFVybCh1cmwpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoTmFtZSh1cmwpIHtcbiAgICB2YXIgcGF0aG5hbWUgPSBidWlsZFVybCh1cmwpLnBhdGhuYW1lO1xuICAgIHJldHVybiBwYXRobmFtZVswXSA9PT0gJy8nID8gcGF0aG5hbWUgOiBcIi9cIi5jb25jYXQocGF0aG5hbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlYXJjaCh1cmwpIHtcbiAgICByZXR1cm4gYnVpbGRVcmwodXJsKS5zZWFyY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SGFzaCh1cmwpIHtcbiAgICByZXR1cm4gYnVpbGRVcmwodXJsKS5oYXNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkVXJsKHVybCwgYmFzZSkge1xuICAgIGlmIChjaGVja1VSTFN1cHBvcnRlZCgpKSB7XG4gICAgICAgIHJldHVybiBiYXNlICE9PSB1bmRlZmluZWQgPyBuZXcgVVJMKHVybCwgYmFzZSkgOiBuZXcgVVJMKHVybCk7XG4gICAgfVxuICAgIGlmIChiYXNlID09PSB1bmRlZmluZWQgJiYgIS86Ly50ZXN0KHVybCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVUkw6ICdcIi5jb25jYXQodXJsLCBcIidcIikpO1xuICAgIH1cbiAgICB2YXIgZG9jID0gZG9jdW1lbnQ7XG4gICAgdmFyIGFuY2hvckVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCcnKTtcbiAgICAgICAgdmFyIGJhc2VFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2Jhc2UnKTtcbiAgICAgICAgYmFzZUVsZW1lbnQuaHJlZiA9IGJhc2U7XG4gICAgICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKGJhc2VFbGVtZW50KTtcbiAgICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoYW5jaG9yRWxlbWVudCk7XG4gICAgfVxuICAgIGFuY2hvckVsZW1lbnQuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gYW5jaG9yRWxlbWVudDtcbn1cbnZhciBpc1VSTFN1cHBvcnRlZDtcbmZ1bmN0aW9uIGNoZWNrVVJMU3VwcG9ydGVkKCkge1xuICAgIGlmIChpc1VSTFN1cHBvcnRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBpc1VSTFN1cHBvcnRlZDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHVybCA9IG5ldyBVUkwoJ2h0dHA6Ly90ZXN0L3BhdGgnKTtcbiAgICAgICAgaXNVUkxTdXBwb3J0ZWQgPSB1cmwuaHJlZiA9PT0gJ2h0dHA6Ly90ZXN0L3BhdGgnO1xuICAgICAgICByZXR1cm4gaXNVUkxTdXBwb3J0ZWQ7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICBpc1VSTFN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaXNVUkxTdXBwb3J0ZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmxQb2x5ZmlsbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/urlPolyfill.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/tools/utils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/tools/utils.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ONE_DAY\": function() { return /* binding */ ONE_DAY; },\n/* harmony export */   \"ONE_HOUR\": function() { return /* binding */ ONE_HOUR; },\n/* harmony export */   \"ONE_KILO_BYTE\": function() { return /* binding */ ONE_KILO_BYTE; },\n/* harmony export */   \"ONE_MINUTE\": function() { return /* binding */ ONE_MINUTE; },\n/* harmony export */   \"ONE_SECOND\": function() { return /* binding */ ONE_SECOND; },\n/* harmony export */   \"ONE_YEAR\": function() { return /* binding */ ONE_YEAR; },\n/* harmony export */   \"addEventListener\": function() { return /* binding */ addEventListener; },\n/* harmony export */   \"addEventListeners\": function() { return /* binding */ addEventListeners; },\n/* harmony export */   \"assign\": function() { return /* binding */ assign; },\n/* harmony export */   \"combine\": function() { return /* binding */ combine; },\n/* harmony export */   \"deepClone\": function() { return /* binding */ deepClone; },\n/* harmony export */   \"find\": function() { return /* binding */ find; },\n/* harmony export */   \"findCommaSeparatedValue\": function() { return /* binding */ findCommaSeparatedValue; },\n/* harmony export */   \"findLast\": function() { return /* binding */ findLast; },\n/* harmony export */   \"generateUUID\": function() { return /* binding */ generateUUID; },\n/* harmony export */   \"getGlobalObject\": function() { return /* binding */ getGlobalObject; },\n/* harmony export */   \"getLinkElementOrigin\": function() { return /* binding */ getLinkElementOrigin; },\n/* harmony export */   \"getLocationOrigin\": function() { return /* binding */ getLocationOrigin; },\n/* harmony export */   \"getType\": function() { return /* binding */ getType; },\n/* harmony export */   \"includes\": function() { return /* binding */ includes; },\n/* harmony export */   \"isEmptyObject\": function() { return /* binding */ isEmptyObject; },\n/* harmony export */   \"isNumber\": function() { return /* binding */ isNumber; },\n/* harmony export */   \"isPercentage\": function() { return /* binding */ isPercentage; },\n/* harmony export */   \"jsonStringify\": function() { return /* binding */ jsonStringify; },\n/* harmony export */   \"mapValues\": function() { return /* binding */ mapValues; },\n/* harmony export */   \"matchList\": function() { return /* binding */ matchList; },\n/* harmony export */   \"mergeInto\": function() { return /* binding */ mergeInto; },\n/* harmony export */   \"noop\": function() { return /* binding */ noop; },\n/* harmony export */   \"objectEntries\": function() { return /* binding */ objectEntries; },\n/* harmony export */   \"objectHasValue\": function() { return /* binding */ objectHasValue; },\n/* harmony export */   \"objectValues\": function() { return /* binding */ objectValues; },\n/* harmony export */   \"performDraw\": function() { return /* binding */ performDraw; },\n/* harmony export */   \"removeDuplicates\": function() { return /* binding */ removeDuplicates; },\n/* harmony export */   \"requestIdleCallback\": function() { return /* binding */ requestIdleCallback; },\n/* harmony export */   \"round\": function() { return /* binding */ round; },\n/* harmony export */   \"runOnReadyState\": function() { return /* binding */ runOnReadyState; },\n/* harmony export */   \"safeTruncate\": function() { return /* binding */ safeTruncate; },\n/* harmony export */   \"setToArray\": function() { return /* binding */ setToArray; },\n/* harmony export */   \"shallowClone\": function() { return /* binding */ shallowClone; },\n/* harmony export */   \"startsWith\": function() { return /* binding */ startsWith; },\n/* harmony export */   \"throttle\": function() { return /* binding */ throttle; }\n/* harmony export */ });\n/* harmony import */ var _monitor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n\nvar ONE_SECOND = 1000;\nvar ONE_MINUTE = 60 * ONE_SECOND;\nvar ONE_HOUR = 60 * ONE_MINUTE;\nvar ONE_DAY = 24 * ONE_HOUR;\nvar ONE_YEAR = 365 * ONE_DAY;\nvar ONE_KILO_BYTE = 1024;\n// use lodash API\nfunction throttle(fn, wait, options) {\n    var needLeadingExecution = options && options.leading !== undefined ? options.leading : true;\n    var needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true;\n    var inWaitPeriod = false;\n    var pendingExecutionWithParameters;\n    var pendingTimeoutId;\n    return {\n        throttled: function () {\n            var parameters = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                parameters[_i] = arguments[_i];\n            }\n            if (inWaitPeriod) {\n                pendingExecutionWithParameters = parameters;\n                return;\n            }\n            if (needLeadingExecution) {\n                fn.apply(void 0, parameters);\n            }\n            else {\n                pendingExecutionWithParameters = parameters;\n            }\n            inWaitPeriod = true;\n            pendingTimeoutId = setTimeout(function () {\n                if (needTrailingExecution && pendingExecutionWithParameters) {\n                    fn.apply(void 0, pendingExecutionWithParameters);\n                }\n                inWaitPeriod = false;\n                pendingExecutionWithParameters = undefined;\n            }, wait);\n        },\n        cancel: function () {\n            clearTimeout(pendingTimeoutId);\n            inWaitPeriod = false;\n            pendingExecutionWithParameters = undefined;\n        },\n    };\n}\nfunction assign(target) {\n    var toAssign = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        toAssign[_i - 1] = arguments[_i];\n    }\n    toAssign.forEach(function (source) {\n        for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    });\n    return target;\n}\nfunction shallowClone(object) {\n    return assign({}, object);\n}\n/**\n * UUID v4\n * from https://gist.github.com/jed/982883\n */\nfunction generateUUID(placeholder) {\n    return placeholder\n        ? // eslint-disable-next-line  no-bitwise\n            (parseInt(placeholder, 10) ^ ((Math.random() * 16) >> (parseInt(placeholder, 10) / 4))).toString(16)\n        : \"\".concat(1e7, \"-\").concat(1e3, \"-\").concat(4e3, \"-\").concat(8e3, \"-\").concat(1e11).replace(/[018]/g, generateUUID);\n}\n/**\n * Return true if the draw is successful\n * @param threshold between 0 and 100\n */\nfunction performDraw(threshold) {\n    return threshold !== 0 && Math.random() * 100 <= threshold;\n}\nfunction round(num, decimals) {\n    return +num.toFixed(decimals);\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() { }\n/**\n * Custom implementation of JSON.stringify that ignores value.toJSON.\n * We need to do that because some sites badly override toJSON on certain objects.\n * Note this still supposes that JSON.stringify is correct...\n */\nfunction jsonStringify(value, replacer, space) {\n    if (value === null || value === undefined) {\n        return JSON.stringify(value);\n    }\n    var originalToJSON = [false, undefined];\n    if (hasToJSON(value)) {\n        // We need to add a flag and not rely on the truthiness of value.toJSON\n        // because it can be set but undefined and that's actually significant.\n        originalToJSON = [true, value.toJSON];\n        delete value.toJSON;\n    }\n    var originalProtoToJSON = [false, undefined];\n    var prototype;\n    if (typeof value === 'object') {\n        prototype = Object.getPrototypeOf(value);\n        if (hasToJSON(prototype)) {\n            originalProtoToJSON = [true, prototype.toJSON];\n            delete prototype.toJSON;\n        }\n    }\n    var result;\n    try {\n        result = JSON.stringify(value, replacer, space);\n    }\n    catch (_a) {\n        result = '<error: unable to serialize object>';\n    }\n    finally {\n        if (originalToJSON[0]) {\n            ;\n            value.toJSON = originalToJSON[1];\n        }\n        if (originalProtoToJSON[0]) {\n            ;\n            prototype.toJSON = originalProtoToJSON[1];\n        }\n    }\n    return result;\n}\nfunction hasToJSON(value) {\n    return typeof value === 'object' && value !== null && Object.prototype.hasOwnProperty.call(value, 'toJSON');\n}\nfunction includes(candidate, search) {\n    return candidate.indexOf(search) !== -1;\n}\nfunction find(array, predicate) {\n    for (var i = 0; i < array.length; i += 1) {\n        var item = array[i];\n        if (predicate(item, i, array)) {\n            return item;\n        }\n    }\n    return undefined;\n}\nfunction findLast(array, predicate) {\n    for (var i = array.length - 1; i >= 0; i -= 1) {\n        var item = array[i];\n        if (predicate(item, i, array)) {\n            return item;\n        }\n    }\n    return undefined;\n}\nfunction isPercentage(value) {\n    return isNumber(value) && value >= 0 && value <= 100;\n}\nfunction isNumber(value) {\n    return typeof value === 'number';\n}\nfunction objectValues(object) {\n    return Object.keys(object).map(function (key) { return object[key]; });\n}\nfunction objectHasValue(object, value) {\n    return Object.keys(object).some(function (key) { return object[key] === value; });\n}\nfunction objectEntries(object) {\n    return Object.keys(object).map(function (key) { return [key, object[key]]; });\n}\nfunction isEmptyObject(object) {\n    return Object.keys(object).length === 0;\n}\nfunction mapValues(object, fn) {\n    var newObject = {};\n    for (var _i = 0, _a = Object.keys(object); _i < _a.length; _i++) {\n        var key = _a[_i];\n        newObject[key] = fn(object[key]);\n    }\n    return newObject;\n}\nfunction startsWith(candidate, search) {\n    return candidate.slice(0, search.length) === search;\n}\n/**\n * inspired by https://mathiasbynens.be/notes/globalthis\n */\nfunction getGlobalObject() {\n    if (typeof globalThis === 'object') {\n        return globalThis;\n    }\n    Object.defineProperty(Object.prototype, '_dd_temp_', {\n        get: function () {\n            return this;\n        },\n        configurable: true,\n    });\n    // @ts-ignore _dd_temp is defined using defineProperty\n    var globalObject = _dd_temp_;\n    // @ts-ignore _dd_temp is defined using defineProperty\n    delete Object.prototype._dd_temp_;\n    if (typeof globalObject !== 'object') {\n        // on safari _dd_temp_ is available on window but not globally\n        // fallback on other browser globals check\n        if (typeof self === 'object') {\n            globalObject = self;\n        }\n        else if (typeof window === 'object') {\n            globalObject = window;\n        }\n        else {\n            globalObject = {};\n        }\n    }\n    return globalObject;\n}\nfunction getLocationOrigin() {\n    return getLinkElementOrigin(window.location);\n}\n/**\n * IE fallback\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/origin\n */\nfunction getLinkElementOrigin(element) {\n    if (element.origin) {\n        return element.origin;\n    }\n    var sanitizedHost = element.host.replace(/(:80|:443)$/, '');\n    return \"\".concat(element.protocol, \"//\").concat(sanitizedHost);\n}\nfunction findCommaSeparatedValue(rawString, name) {\n    var regex = new RegExp(\"(?:^|;)\\\\s*\".concat(name, \"\\\\s*=\\\\s*([^;]+)\"));\n    var matches = regex.exec(rawString);\n    return matches ? matches[1] : undefined;\n}\nfunction safeTruncate(candidate, length, suffix) {\n    if (suffix === void 0) { suffix = ''; }\n    var lastChar = candidate.charCodeAt(length - 1);\n    var isLastCharSurrogatePair = lastChar >= 0xd800 && lastChar <= 0xdbff;\n    var correctedLength = isLastCharSurrogatePair ? length + 1 : length;\n    if (candidate.length <= correctedLength)\n        return candidate;\n    return \"\".concat(candidate.slice(0, correctedLength)).concat(suffix);\n}\n/**\n * Add an event listener to an event emitter object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n */\nfunction addEventListener(emitter, event, listener, options) {\n    return addEventListeners(emitter, [event], listener, options);\n}\n/**\n * Add event listeners to an event emitter object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n *\n * * with `once: true`, the listener will be called at most once, even if different events are listened\n */\nfunction addEventListeners(emitter, events, listener, _a) {\n    var _b = _a === void 0 ? {} : _a, once = _b.once, capture = _b.capture, passive = _b.passive;\n    var wrappedListener = (0,_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(once\n        ? function (event) {\n            stop();\n            listener(event);\n        }\n        : listener);\n    var options = passive ? { capture: capture, passive: passive } : capture;\n    events.forEach(function (event) { return emitter.addEventListener(event, wrappedListener, options); });\n    var stop = function () { return events.forEach(function (event) { return emitter.removeEventListener(event, wrappedListener, options); }); };\n    return {\n        stop: stop,\n    };\n}\nfunction runOnReadyState(expectedReadyState, callback) {\n    if (document.readyState === expectedReadyState || document.readyState === 'complete') {\n        callback();\n    }\n    else {\n        var eventName = expectedReadyState === 'complete' ? \"load\" /* LOAD */ : \"DOMContentLoaded\" /* DOM_CONTENT_LOADED */;\n        addEventListener(window, eventName, callback, { once: true });\n    }\n}\n/**\n * Similar to `typeof`, but distinguish plain objects from `null` and arrays\n */\nfunction getType(value) {\n    if (value === null) {\n        return 'null';\n    }\n    if (Array.isArray(value)) {\n        return 'array';\n    }\n    return typeof value;\n}\nfunction createCircularReferenceChecker() {\n    if (typeof WeakSet !== 'undefined') {\n        var set_1 = new WeakSet();\n        return {\n            hasAlreadyBeenSeen: function (value) {\n                var has = set_1.has(value);\n                if (!has) {\n                    set_1.add(value);\n                }\n                return has;\n            },\n        };\n    }\n    var array = [];\n    return {\n        hasAlreadyBeenSeen: function (value) {\n            var has = array.indexOf(value) >= 0;\n            if (!has) {\n                array.push(value);\n            }\n            return has;\n        },\n    };\n}\n/**\n * Iterate over source and affect its sub values into destination, recursively.\n * If the source and destination can't be merged, return source.\n */\nfunction mergeInto(destination, source, circularReferenceChecker) {\n    if (circularReferenceChecker === void 0) { circularReferenceChecker = createCircularReferenceChecker(); }\n    // ignore the source if it is undefined\n    if (source === undefined) {\n        return destination;\n    }\n    if (typeof source !== 'object' || source === null) {\n        // primitive values - just return source\n        return source;\n    }\n    else if (source instanceof Date) {\n        return new Date(source.getTime());\n    }\n    else if (source instanceof RegExp) {\n        var flags = source.flags ||\n            // old browsers compatibility\n            [\n                source.global ? 'g' : '',\n                source.ignoreCase ? 'i' : '',\n                source.multiline ? 'm' : '',\n                source.sticky ? 'y' : '',\n                source.unicode ? 'u' : '',\n            ].join('');\n        return new RegExp(source.source, flags);\n    }\n    if (circularReferenceChecker.hasAlreadyBeenSeen(source)) {\n        // remove circular references\n        return undefined;\n    }\n    else if (Array.isArray(source)) {\n        var merged_1 = Array.isArray(destination) ? destination : [];\n        for (var i = 0; i < source.length; ++i) {\n            merged_1[i] = mergeInto(merged_1[i], source[i], circularReferenceChecker);\n        }\n        return merged_1;\n    }\n    var merged = getType(destination) === 'object' ? destination : {};\n    for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            merged[key] = mergeInto(merged[key], source[key], circularReferenceChecker);\n        }\n    }\n    return merged;\n}\n/**\n * A simplistic implementation of a deep clone algorithm.\n * Caveats:\n * - It doesn't maintain prototype chains - don't use with instances of custom classes.\n * - It doesn't handle Map and Set\n */\nfunction deepClone(value) {\n    return mergeInto(undefined, value);\n}\nfunction combine() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    var destination;\n    for (var _a = 0, sources_1 = sources; _a < sources_1.length; _a++) {\n        var source = sources_1[_a];\n        // Ignore any undefined or null sources.\n        if (source === undefined || source === null) {\n            continue;\n        }\n        destination = mergeInto(destination, source);\n    }\n    return destination;\n}\nfunction requestIdleCallback(callback, opts) {\n    // Use 'requestIdleCallback' when available: it will throttle the mutation processing if the\n    // browser is busy rendering frames (ex: when frames are below 60fps). When not available, the\n    // fallback on 'requestAnimationFrame' will still ensure the mutations are processed after any\n    // browser rendering process (Layout, Recalculate Style, etc.), so we can serialize DOM nodes\n    // efficiently.\n    if (window.requestIdleCallback) {\n        var id_1 = window.requestIdleCallback((0,_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(callback), opts);\n        return function () { return window.cancelIdleCallback(id_1); };\n    }\n    var id = window.requestAnimationFrame((0,_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(callback));\n    return function () { return window.cancelAnimationFrame(id); };\n}\nfunction setToArray(set) {\n    var array = [];\n    set.forEach(function (item) { return array.push(item); });\n    return array;\n}\nfunction removeDuplicates(array) {\n    var set = new Set();\n    array.forEach(function (item) { return set.add(item); });\n    return setToArray(set);\n}\nfunction matchList(list, value) {\n    return list.some(function (item) { return item === value || (item instanceof RegExp && item.test(value)); });\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0M7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUJBQXVCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUDtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxvREFBb0QscUJBQXFCO0FBQ3pFO0FBQ087QUFDUCxxREFBcUQsK0JBQStCO0FBQ3BGO0FBQ087QUFDUCxvREFBb0QsNEJBQTRCO0FBQ2hGO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBLCtDQUErQyxnQkFBZ0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0NBQWtDLGtDQUFrQztBQUNwRTtBQUNBO0FBQ0E7QUFDTztBQUNQLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxnQ0FBZ0M7QUFDaEMsMEJBQTBCLGlEQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscUNBQXFDO0FBQ25FLHNDQUFzQyxtRUFBbUU7QUFDekcsNkJBQTZCLHlDQUF5QyxzRUFBc0U7QUFDNUk7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsWUFBWTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxpREFBTztBQUNyRCw2QkFBNkI7QUFDN0I7QUFDQSwwQ0FBMEMsaURBQU87QUFDakQseUJBQXlCO0FBQ3pCO0FBQ087QUFDUDtBQUNBLGtDQUFrQywwQkFBMEI7QUFDNUQ7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQ0FBb0MsdUJBQXVCO0FBQzNEO0FBQ0E7QUFDTztBQUNQLHVDQUF1Qyx3RUFBd0U7QUFDL0c7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy5qcz9jMjRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuL21vbml0b3InO1xuZXhwb3J0IHZhciBPTkVfU0VDT05EID0gMTAwMDtcbmV4cG9ydCB2YXIgT05FX01JTlVURSA9IDYwICogT05FX1NFQ09ORDtcbmV4cG9ydCB2YXIgT05FX0hPVVIgPSA2MCAqIE9ORV9NSU5VVEU7XG5leHBvcnQgdmFyIE9ORV9EQVkgPSAyNCAqIE9ORV9IT1VSO1xuZXhwb3J0IHZhciBPTkVfWUVBUiA9IDM2NSAqIE9ORV9EQVk7XG5leHBvcnQgdmFyIE9ORV9LSUxPX0JZVEUgPSAxMDI0O1xuLy8gdXNlIGxvZGFzaCBBUElcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZShmbiwgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciBuZWVkTGVhZGluZ0V4ZWN1dGlvbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5sZWFkaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxlYWRpbmcgOiB0cnVlO1xuICAgIHZhciBuZWVkVHJhaWxpbmdFeGVjdXRpb24gPSBvcHRpb25zICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudHJhaWxpbmcgOiB0cnVlO1xuICAgIHZhciBpbldhaXRQZXJpb2QgPSBmYWxzZTtcbiAgICB2YXIgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzO1xuICAgIHZhciBwZW5kaW5nVGltZW91dElkO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRocm90dGxlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluV2FpdFBlcmlvZCkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5lZWRMZWFkaW5nRXhlY3V0aW9uKSB7XG4gICAgICAgICAgICAgICAgZm4uYXBwbHkodm9pZCAwLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbldhaXRQZXJpb2QgPSB0cnVlO1xuICAgICAgICAgICAgcGVuZGluZ1RpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChuZWVkVHJhaWxpbmdFeGVjdXRpb24gJiYgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuLmFwcGx5KHZvaWQgMCwgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5XYWl0UGVyaW9kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSwgd2FpdCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHBlbmRpbmdUaW1lb3V0SWQpO1xuICAgICAgICAgICAgaW5XYWl0UGVyaW9kID0gZmFsc2U7XG4gICAgICAgICAgICBwZW5kaW5nRXhlY3V0aW9uV2l0aFBhcmFtZXRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgdmFyIHRvQXNzaWduID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdG9Bc3NpZ25bX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHRvQXNzaWduLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNoYWxsb3dDbG9uZShvYmplY3QpIHtcbiAgICByZXR1cm4gYXNzaWduKHt9LCBvYmplY3QpO1xufVxuLyoqXG4gKiBVVUlEIHY0XG4gKiBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2plZC85ODI4ODNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVVVJRChwbGFjZWhvbGRlcikge1xuICAgIHJldHVybiBwbGFjZWhvbGRlclxuICAgICAgICA/IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgbm8tYml0d2lzZVxuICAgICAgICAgICAgKHBhcnNlSW50KHBsYWNlaG9sZGVyLCAxMCkgXiAoKE1hdGgucmFuZG9tKCkgKiAxNikgPj4gKHBhcnNlSW50KHBsYWNlaG9sZGVyLCAxMCkgLyA0KSkpLnRvU3RyaW5nKDE2KVxuICAgICAgICA6IFwiXCIuY29uY2F0KDFlNywgXCItXCIpLmNvbmNhdCgxZTMsIFwiLVwiKS5jb25jYXQoNGUzLCBcIi1cIikuY29uY2F0KDhlMywgXCItXCIpLmNvbmNhdCgxZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBnZW5lcmF0ZVVVSUQpO1xufVxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgZHJhdyBpcyBzdWNjZXNzZnVsXG4gKiBAcGFyYW0gdGhyZXNob2xkIGJldHdlZW4gMCBhbmQgMTAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtRHJhdyh0aHJlc2hvbGQpIHtcbiAgICByZXR1cm4gdGhyZXNob2xkICE9PSAwICYmIE1hdGgucmFuZG9tKCkgKiAxMDAgPD0gdGhyZXNob2xkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG51bSwgZGVjaW1hbHMpIHtcbiAgICByZXR1cm4gK251bS50b0ZpeGVkKGRlY2ltYWxzKTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vKipcbiAqIEN1c3RvbSBpbXBsZW1lbnRhdGlvbiBvZiBKU09OLnN0cmluZ2lmeSB0aGF0IGlnbm9yZXMgdmFsdWUudG9KU09OLlxuICogV2UgbmVlZCB0byBkbyB0aGF0IGJlY2F1c2Ugc29tZSBzaXRlcyBiYWRseSBvdmVycmlkZSB0b0pTT04gb24gY2VydGFpbiBvYmplY3RzLlxuICogTm90ZSB0aGlzIHN0aWxsIHN1cHBvc2VzIHRoYXQgSlNPTi5zdHJpbmdpZnkgaXMgY29ycmVjdC4uLlxuICovXG5leHBvcnQgZnVuY3Rpb24ganNvblN0cmluZ2lmeSh2YWx1ZSwgcmVwbGFjZXIsIHNwYWNlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICB9XG4gICAgdmFyIG9yaWdpbmFsVG9KU09OID0gW2ZhbHNlLCB1bmRlZmluZWRdO1xuICAgIGlmIChoYXNUb0pTT04odmFsdWUpKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gYWRkIGEgZmxhZyBhbmQgbm90IHJlbHkgb24gdGhlIHRydXRoaW5lc3Mgb2YgdmFsdWUudG9KU09OXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgY2FuIGJlIHNldCBidXQgdW5kZWZpbmVkIGFuZCB0aGF0J3MgYWN0dWFsbHkgc2lnbmlmaWNhbnQuXG4gICAgICAgIG9yaWdpbmFsVG9KU09OID0gW3RydWUsIHZhbHVlLnRvSlNPTl07XG4gICAgICAgIGRlbGV0ZSB2YWx1ZS50b0pTT047XG4gICAgfVxuICAgIHZhciBvcmlnaW5hbFByb3RvVG9KU09OID0gW2ZhbHNlLCB1bmRlZmluZWRdO1xuICAgIHZhciBwcm90b3R5cGU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgICAgICAgaWYgKGhhc1RvSlNPTihwcm90b3R5cGUpKSB7XG4gICAgICAgICAgICBvcmlnaW5hbFByb3RvVG9KU09OID0gW3RydWUsIHByb3RvdHlwZS50b0pTT05dO1xuICAgICAgICAgICAgZGVsZXRlIHByb3RvdHlwZS50b0pTT047XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgcmVwbGFjZXIsIHNwYWNlKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJlc3VsdCA9ICc8ZXJyb3I6IHVuYWJsZSB0byBzZXJpYWxpemUgb2JqZWN0Pic7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBpZiAob3JpZ2luYWxUb0pTT05bMF0pIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIHZhbHVlLnRvSlNPTiA9IG9yaWdpbmFsVG9KU09OWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmlnaW5hbFByb3RvVG9KU09OWzBdKSB7XG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBwcm90b3R5cGUudG9KU09OID0gb3JpZ2luYWxQcm90b1RvSlNPTlsxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaGFzVG9KU09OKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAndG9KU09OJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5jbHVkZXMoY2FuZGlkYXRlLCBzZWFyY2gpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlLmluZGV4T2Yoc2VhcmNoKSAhPT0gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgICBpZiAocHJlZGljYXRlKGl0ZW0sIGksIGFycmF5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTGFzdChhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgICAgIGlmIChwcmVkaWNhdGUoaXRlbSwgaSwgYXJyYXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUGVyY2VudGFnZSh2YWx1ZSkge1xuICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxMDA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RWYWx1ZXMob2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9iamVjdFtrZXldOyB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RIYXNWYWx1ZShvYmplY3QsIHZhbHVlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkuc29tZShmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvYmplY3Rba2V5XSA9PT0gdmFsdWU7IH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdEVudHJpZXMob2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eU9iamVjdChvYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5sZW5ndGggPT09IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFwVmFsdWVzKG9iamVjdCwgZm4pIHtcbiAgICB2YXIgbmV3T2JqZWN0ID0ge307XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKG9iamVjdCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBfYVtfaV07XG4gICAgICAgIG5ld09iamVjdFtrZXldID0gZm4ob2JqZWN0W2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqZWN0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0c1dpdGgoY2FuZGlkYXRlLCBzZWFyY2gpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlLnNsaWNlKDAsIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG59XG4vKipcbiAqIGluc3BpcmVkIGJ5IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9nbG9iYWx0aGlzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRHbG9iYWxPYmplY3QoKSB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdC5wcm90b3R5cGUsICdfZGRfdGVtcF8nLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbiAgICAvLyBAdHMtaWdub3JlIF9kZF90ZW1wIGlzIGRlZmluZWQgdXNpbmcgZGVmaW5lUHJvcGVydHlcbiAgICB2YXIgZ2xvYmFsT2JqZWN0ID0gX2RkX3RlbXBfO1xuICAgIC8vIEB0cy1pZ25vcmUgX2RkX3RlbXAgaXMgZGVmaW5lZCB1c2luZyBkZWZpbmVQcm9wZXJ0eVxuICAgIGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLl9kZF90ZW1wXztcbiAgICBpZiAodHlwZW9mIGdsb2JhbE9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gb24gc2FmYXJpIF9kZF90ZW1wXyBpcyBhdmFpbGFibGUgb24gd2luZG93IGJ1dCBub3QgZ2xvYmFsbHlcbiAgICAgICAgLy8gZmFsbGJhY2sgb24gb3RoZXIgYnJvd3NlciBnbG9iYWxzIGNoZWNrXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGdsb2JhbE9iamVjdCA9IHNlbGY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGdsb2JhbE9iamVjdCA9IHdpbmRvdztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbE9iamVjdCA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxPYmplY3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYXRpb25PcmlnaW4oKSB7XG4gICAgcmV0dXJuIGdldExpbmtFbGVtZW50T3JpZ2luKHdpbmRvdy5sb2NhdGlvbik7XG59XG4vKipcbiAqIElFIGZhbGxiYWNrXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEh5cGVybGlua0VsZW1lbnRVdGlscy9vcmlnaW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExpbmtFbGVtZW50T3JpZ2luKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5vcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQub3JpZ2luO1xuICAgIH1cbiAgICB2YXIgc2FuaXRpemVkSG9zdCA9IGVsZW1lbnQuaG9zdC5yZXBsYWNlKC8oOjgwfDo0NDMpJC8sICcnKTtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoZWxlbWVudC5wcm90b2NvbCwgXCIvL1wiKS5jb25jYXQoc2FuaXRpemVkSG9zdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZENvbW1hU2VwYXJhdGVkVmFsdWUocmF3U3RyaW5nLCBuYW1lKSB7XG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIig/Ol58OylcXFxccypcIi5jb25jYXQobmFtZSwgXCJcXFxccyo9XFxcXHMqKFteO10rKVwiKSk7XG4gICAgdmFyIG1hdGNoZXMgPSByZWdleC5leGVjKHJhd1N0cmluZyk7XG4gICAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzWzFdIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVUcnVuY2F0ZShjYW5kaWRhdGUsIGxlbmd0aCwgc3VmZml4KSB7XG4gICAgaWYgKHN1ZmZpeCA9PT0gdm9pZCAwKSB7IHN1ZmZpeCA9ICcnOyB9XG4gICAgdmFyIGxhc3RDaGFyID0gY2FuZGlkYXRlLmNoYXJDb2RlQXQobGVuZ3RoIC0gMSk7XG4gICAgdmFyIGlzTGFzdENoYXJTdXJyb2dhdGVQYWlyID0gbGFzdENoYXIgPj0gMHhkODAwICYmIGxhc3RDaGFyIDw9IDB4ZGJmZjtcbiAgICB2YXIgY29ycmVjdGVkTGVuZ3RoID0gaXNMYXN0Q2hhclN1cnJvZ2F0ZVBhaXIgPyBsZW5ndGggKyAxIDogbGVuZ3RoO1xuICAgIGlmIChjYW5kaWRhdGUubGVuZ3RoIDw9IGNvcnJlY3RlZExlbmd0aClcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoY2FuZGlkYXRlLnNsaWNlKDAsIGNvcnJlY3RlZExlbmd0aCkpLmNvbmNhdChzdWZmaXgpO1xufVxuLyoqXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYW4gZXZlbnQgZW1pdHRlciBvYmplY3QgKFdpbmRvdywgRWxlbWVudCwgbW9jayBvYmplY3QuLi4pLiAgVGhpcyBwcm92aWRlc1xuICogYSBmZXcgY29udmVuaWVuY2VzIGNvbXBhcmVkIHRvIHVzaW5nIGBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXJgIGRpcmVjdGx5OlxuICpcbiAqICogc3VwcG9ydHMgSUUxMSBieTogdXNpbmcgYW4gb3B0aW9uIG9iamVjdCBvbmx5IGlmIG5lZWRlZCBhbmQgZW11bGF0aW5nIHRoZSBgb25jZWAgb3B0aW9uXG4gKlxuICogKiB3cmFwcyB0aGUgbGlzdGVuZXIgd2l0aCBhIGBtb25pdG9yYCBmdW5jdGlvblxuICpcbiAqICogcmV0dXJucyBhIGBzdG9wYCBmdW5jdGlvbiB0byByZW1vdmUgdGhlIGxpc3RlbmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVycyhlbWl0dGVyLCBbZXZlbnRdLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG59XG4vKipcbiAqIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gYW4gZXZlbnQgZW1pdHRlciBvYmplY3QgKFdpbmRvdywgRWxlbWVudCwgbW9jayBvYmplY3QuLi4pLiAgVGhpcyBwcm92aWRlc1xuICogYSBmZXcgY29udmVuaWVuY2VzIGNvbXBhcmVkIHRvIHVzaW5nIGBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXJgIGRpcmVjdGx5OlxuICpcbiAqICogc3VwcG9ydHMgSUUxMSBieTogdXNpbmcgYW4gb3B0aW9uIG9iamVjdCBvbmx5IGlmIG5lZWRlZCBhbmQgZW11bGF0aW5nIHRoZSBgb25jZWAgb3B0aW9uXG4gKlxuICogKiB3cmFwcyB0aGUgbGlzdGVuZXIgd2l0aCBhIGBtb25pdG9yYCBmdW5jdGlvblxuICpcbiAqICogcmV0dXJucyBhIGBzdG9wYCBmdW5jdGlvbiB0byByZW1vdmUgdGhlIGxpc3RlbmVyXG4gKlxuICogKiB3aXRoIGBvbmNlOiB0cnVlYCwgdGhlIGxpc3RlbmVyIHdpbGwgYmUgY2FsbGVkIGF0IG1vc3Qgb25jZSwgZXZlbiBpZiBkaWZmZXJlbnQgZXZlbnRzIGFyZSBsaXN0ZW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoZW1pdHRlciwgZXZlbnRzLCBsaXN0ZW5lciwgX2EpIHtcbiAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgb25jZSA9IF9iLm9uY2UsIGNhcHR1cmUgPSBfYi5jYXB0dXJlLCBwYXNzaXZlID0gX2IucGFzc2l2ZTtcbiAgICB2YXIgd3JhcHBlZExpc3RlbmVyID0gbW9uaXRvcihvbmNlXG4gICAgICAgID8gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgOiBsaXN0ZW5lcik7XG4gICAgdmFyIG9wdGlvbnMgPSBwYXNzaXZlID8geyBjYXB0dXJlOiBjYXB0dXJlLCBwYXNzaXZlOiBwYXNzaXZlIH0gOiBjYXB0dXJlO1xuICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB3cmFwcGVkTGlzdGVuZXIsIG9wdGlvbnMpOyB9KTtcbiAgICB2YXIgc3RvcCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB3cmFwcGVkTGlzdGVuZXIsIG9wdGlvbnMpOyB9KTsgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBzdG9wLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcnVuT25SZWFkeVN0YXRlKGV4cGVjdGVkUmVhZHlTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gZXhwZWN0ZWRSZWFkeVN0YXRlIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBldmVudE5hbWUgPSBleHBlY3RlZFJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgPyBcImxvYWRcIiAvKiBMT0FEICovIDogXCJET01Db250ZW50TG9hZGVkXCIgLyogRE9NX0NPTlRFTlRfTE9BREVEICovO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgZXZlbnROYW1lLCBjYWxsYmFjaywgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbn1cbi8qKlxuICogU2ltaWxhciB0byBgdHlwZW9mYCwgYnV0IGRpc3Rpbmd1aXNoIHBsYWluIG9iamVjdHMgZnJvbSBgbnVsbGAgYW5kIGFycmF5c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2YgdmFsdWU7XG59XG5mdW5jdGlvbiBjcmVhdGVDaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIoKSB7XG4gICAgaWYgKHR5cGVvZiBXZWFrU2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgc2V0XzEgPSBuZXcgV2Vha1NldCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGFzQWxyZWFkeUJlZW5TZWVuOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFzID0gc2V0XzEuaGFzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhcykge1xuICAgICAgICAgICAgICAgICAgICBzZXRfMS5hZGQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzQWxyZWFkeUJlZW5TZWVuOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBoYXMgPSBhcnJheS5pbmRleE9mKHZhbHVlKSA+PSAwO1xuICAgICAgICAgICAgaWYgKCFoYXMpIHtcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogSXRlcmF0ZSBvdmVyIHNvdXJjZSBhbmQgYWZmZWN0IGl0cyBzdWIgdmFsdWVzIGludG8gZGVzdGluYXRpb24sIHJlY3Vyc2l2ZWx5LlxuICogSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gY2FuJ3QgYmUgbWVyZ2VkLCByZXR1cm4gc291cmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VJbnRvKGRlc3RpbmF0aW9uLCBzb3VyY2UsIGNpcmN1bGFyUmVmZXJlbmNlQ2hlY2tlcikge1xuICAgIGlmIChjaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIgPT09IHZvaWQgMCkgeyBjaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIgPSBjcmVhdGVDaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIoKTsgfVxuICAgIC8vIGlnbm9yZSB0aGUgc291cmNlIGlmIGl0IGlzIHVuZGVmaW5lZFxuICAgIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZGVzdGluYXRpb247XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0JyB8fCBzb3VyY2UgPT09IG51bGwpIHtcbiAgICAgICAgLy8gcHJpbWl0aXZlIHZhbHVlcyAtIGp1c3QgcmV0dXJuIHNvdXJjZVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cbiAgICBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShzb3VyY2UuZ2V0VGltZSgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHZhciBmbGFncyA9IHNvdXJjZS5mbGFncyB8fFxuICAgICAgICAgICAgLy8gb2xkIGJyb3dzZXJzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBzb3VyY2UuZ2xvYmFsID8gJ2cnIDogJycsXG4gICAgICAgICAgICAgICAgc291cmNlLmlnbm9yZUNhc2UgPyAnaScgOiAnJyxcbiAgICAgICAgICAgICAgICBzb3VyY2UubXVsdGlsaW5lID8gJ20nIDogJycsXG4gICAgICAgICAgICAgICAgc291cmNlLnN0aWNreSA/ICd5JyA6ICcnLFxuICAgICAgICAgICAgICAgIHNvdXJjZS51bmljb2RlID8gJ3UnIDogJycsXG4gICAgICAgICAgICBdLmpvaW4oJycpO1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLCBmbGFncyk7XG4gICAgfVxuICAgIGlmIChjaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIuaGFzQWxyZWFkeUJlZW5TZWVuKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGNpcmN1bGFyIHJlZmVyZW5jZXNcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIHZhciBtZXJnZWRfMSA9IEFycmF5LmlzQXJyYXkoZGVzdGluYXRpb24pID8gZGVzdGluYXRpb24gOiBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG1lcmdlZF8xW2ldID0gbWVyZ2VJbnRvKG1lcmdlZF8xW2ldLCBzb3VyY2VbaV0sIGNpcmN1bGFyUmVmZXJlbmNlQ2hlY2tlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lcmdlZF8xO1xuICAgIH1cbiAgICB2YXIgbWVyZ2VkID0gZ2V0VHlwZShkZXN0aW5hdGlvbikgPT09ICdvYmplY3QnID8gZGVzdGluYXRpb24gOiB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICBtZXJnZWRba2V5XSA9IG1lcmdlSW50byhtZXJnZWRba2V5XSwgc291cmNlW2tleV0sIGNpcmN1bGFyUmVmZXJlbmNlQ2hlY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZDtcbn1cbi8qKlxuICogQSBzaW1wbGlzdGljIGltcGxlbWVudGF0aW9uIG9mIGEgZGVlcCBjbG9uZSBhbGdvcml0aG0uXG4gKiBDYXZlYXRzOlxuICogLSBJdCBkb2Vzbid0IG1haW50YWluIHByb3RvdHlwZSBjaGFpbnMgLSBkb24ndCB1c2Ugd2l0aCBpbnN0YW5jZXMgb2YgY3VzdG9tIGNsYXNzZXMuXG4gKiAtIEl0IGRvZXNuJ3QgaGFuZGxlIE1hcCBhbmQgU2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwQ2xvbmUodmFsdWUpIHtcbiAgICByZXR1cm4gbWVyZ2VJbnRvKHVuZGVmaW5lZCwgdmFsdWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmUoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBkZXN0aW5hdGlvbjtcbiAgICBmb3IgKHZhciBfYSA9IDAsIHNvdXJjZXNfMSA9IHNvdXJjZXM7IF9hIDwgc291cmNlc18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc18xW19hXTtcbiAgICAgICAgLy8gSWdub3JlIGFueSB1bmRlZmluZWQgb3IgbnVsbCBzb3VyY2VzLlxuICAgICAgICBpZiAoc291cmNlID09PSB1bmRlZmluZWQgfHwgc291cmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0aW5hdGlvbiA9IG1lcmdlSW50byhkZXN0aW5hdGlvbiwgc291cmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RJZGxlQ2FsbGJhY2soY2FsbGJhY2ssIG9wdHMpIHtcbiAgICAvLyBVc2UgJ3JlcXVlc3RJZGxlQ2FsbGJhY2snIHdoZW4gYXZhaWxhYmxlOiBpdCB3aWxsIHRocm90dGxlIHRoZSBtdXRhdGlvbiBwcm9jZXNzaW5nIGlmIHRoZVxuICAgIC8vIGJyb3dzZXIgaXMgYnVzeSByZW5kZXJpbmcgZnJhbWVzIChleDogd2hlbiBmcmFtZXMgYXJlIGJlbG93IDYwZnBzKS4gV2hlbiBub3QgYXZhaWxhYmxlLCB0aGVcbiAgICAvLyBmYWxsYmFjayBvbiAncmVxdWVzdEFuaW1hdGlvbkZyYW1lJyB3aWxsIHN0aWxsIGVuc3VyZSB0aGUgbXV0YXRpb25zIGFyZSBwcm9jZXNzZWQgYWZ0ZXIgYW55XG4gICAgLy8gYnJvd3NlciByZW5kZXJpbmcgcHJvY2VzcyAoTGF5b3V0LCBSZWNhbGN1bGF0ZSBTdHlsZSwgZXRjLiksIHNvIHdlIGNhbiBzZXJpYWxpemUgRE9NIG5vZGVzXG4gICAgLy8gZWZmaWNpZW50bHkuXG4gICAgaWYgKHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpZF8xID0gd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2sobW9uaXRvcihjYWxsYmFjayksIG9wdHMpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayhpZF8xKTsgfTtcbiAgICB9XG4gICAgdmFyIGlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShtb25pdG9yKGNhbGxiYWNrKSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShpZCk7IH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gYXJyYXkucHVzaChpdGVtKTsgfSk7XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZXMoYXJyYXkpIHtcbiAgICB2YXIgc2V0ID0gbmV3IFNldCgpO1xuICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIHNldC5hZGQoaXRlbSk7IH0pO1xuICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hMaXN0KGxpc3QsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGxpc3Quc29tZShmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbSA9PT0gdmFsdWUgfHwgKGl0ZW0gaW5zdGFuY2VvZiBSZWdFeHAgJiYgaXRlbS50ZXN0KHZhbHVlKSk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/tools/utils.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/transport/batch.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/transport/batch.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Batch\": function() { return /* binding */ Batch; }\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/display */ \"./node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n\n\n\n// https://en.wikipedia.org/wiki/UTF-8\n// eslint-disable-next-line no-control-regex\nvar HAS_MULTI_BYTES_CHARACTERS = /[^\\u0000-\\u007F]/;\nvar Batch = /** @class */ (function () {\n    function Batch(request, batchMessagesLimit, batchBytesLimit, messageBytesLimit, flushTimeout, beforeUnloadCallback) {\n        if (beforeUnloadCallback === void 0) { beforeUnloadCallback = _tools_utils__WEBPACK_IMPORTED_MODULE_0__.noop; }\n        this.request = request;\n        this.batchMessagesLimit = batchMessagesLimit;\n        this.batchBytesLimit = batchBytesLimit;\n        this.messageBytesLimit = messageBytesLimit;\n        this.flushTimeout = flushTimeout;\n        this.beforeUnloadCallback = beforeUnloadCallback;\n        this.pushOnlyBuffer = [];\n        this.upsertBuffer = {};\n        this.bufferBytesCount = 0;\n        this.bufferMessagesCount = 0;\n        this.flushOnVisibilityHidden();\n        this.flushPeriodically();\n    }\n    Batch.prototype.add = function (message) {\n        this.addOrUpdate(message);\n    };\n    Batch.prototype.upsert = function (message, key) {\n        this.addOrUpdate(message, key);\n    };\n    Batch.prototype.flush = function (reason) {\n        if (this.bufferMessagesCount !== 0) {\n            var messages = this.pushOnlyBuffer.concat((0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.objectValues)(this.upsertBuffer));\n            this.request.send(messages.join('\\n'), this.bufferBytesCount, reason);\n            this.pushOnlyBuffer = [];\n            this.upsertBuffer = {};\n            this.bufferBytesCount = 0;\n            this.bufferMessagesCount = 0;\n        }\n    };\n    Batch.prototype.computeBytesCount = function (candidate) {\n        // Accurate bytes count computations can degrade performances when there is a lot of events to process\n        if (!HAS_MULTI_BYTES_CHARACTERS.test(candidate)) {\n            return candidate.length;\n        }\n        if (window.TextEncoder !== undefined) {\n            return new TextEncoder().encode(candidate).length;\n        }\n        return new Blob([candidate]).size;\n    };\n    Batch.prototype.addOrUpdate = function (message, key) {\n        var _a = this.process(message), processedMessage = _a.processedMessage, messageBytesCount = _a.messageBytesCount;\n        if (messageBytesCount >= this.messageBytesLimit) {\n            _tools_display__WEBPACK_IMPORTED_MODULE_1__.display.warn(\"Discarded a message whose size was bigger than the maximum allowed size \".concat(this.messageBytesLimit, \"KB.\"));\n            return;\n        }\n        if (this.hasMessageFor(key)) {\n            this.remove(key);\n        }\n        if (this.willReachedBytesLimitWith(messageBytesCount)) {\n            this.flush('batch_bytes_limit');\n        }\n        this.push(processedMessage, messageBytesCount, key);\n        if (this.isFull()) {\n            this.flush('batch_messages_limit');\n        }\n    };\n    Batch.prototype.process = function (message) {\n        var processedMessage = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.jsonStringify)(message);\n        var messageBytesCount = this.computeBytesCount(processedMessage);\n        return { processedMessage: processedMessage, messageBytesCount: messageBytesCount };\n    };\n    Batch.prototype.push = function (processedMessage, messageBytesCount, key) {\n        if (this.bufferMessagesCount > 0) {\n            // \\n separator at serialization\n            this.bufferBytesCount += 1;\n        }\n        if (key !== undefined) {\n            this.upsertBuffer[key] = processedMessage;\n        }\n        else {\n            this.pushOnlyBuffer.push(processedMessage);\n        }\n        this.bufferBytesCount += messageBytesCount;\n        this.bufferMessagesCount += 1;\n    };\n    Batch.prototype.remove = function (key) {\n        var removedMessage = this.upsertBuffer[key];\n        delete this.upsertBuffer[key];\n        var messageBytesCount = this.computeBytesCount(removedMessage);\n        this.bufferBytesCount -= messageBytesCount;\n        this.bufferMessagesCount -= 1;\n        if (this.bufferMessagesCount > 0) {\n            this.bufferBytesCount -= 1;\n        }\n    };\n    Batch.prototype.hasMessageFor = function (key) {\n        return key !== undefined && this.upsertBuffer[key] !== undefined;\n    };\n    Batch.prototype.willReachedBytesLimitWith = function (messageBytesCount) {\n        // byte of the separator at the end of the message\n        return this.bufferBytesCount + messageBytesCount + 1 >= this.batchBytesLimit;\n    };\n    Batch.prototype.isFull = function () {\n        return this.bufferMessagesCount === this.batchMessagesLimit || this.bufferBytesCount >= this.batchBytesLimit;\n    };\n    Batch.prototype.flushPeriodically = function () {\n        var _this = this;\n        setTimeout((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function () {\n            _this.flush('batch_flush_timeout');\n            _this.flushPeriodically();\n        }), this.flushTimeout);\n    };\n    Batch.prototype.flushOnVisibilityHidden = function () {\n        var _this = this;\n        /**\n         * With sendBeacon, requests are guaranteed to be successfully sent during document unload\n         */\n        // @ts-ignore this function is not always defined\n        if (navigator.sendBeacon) {\n            /**\n             * beforeunload is called before visibilitychange\n             * register first to be sure to be called before flush on beforeunload\n             * caveat: unload can still be canceled by another listener\n             */\n            (0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"beforeunload\" /* BEFORE_UNLOAD */, this.beforeUnloadCallback);\n            /**\n             * Only event that guarantee to fire on mobile devices when the page transitions to background state\n             * (e.g. when user switches to a different application, goes to homescreen, etc), or is being unloaded.\n             */\n            (0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(document, \"visibilitychange\" /* VISIBILITY_CHANGE */, function () {\n                if (document.visibilityState === 'hidden') {\n                    _this.flush('visibility_hidden');\n                }\n            });\n            /**\n             * Safari does not support yet to send a request during:\n             * - a visibility change during doc unload (cf: https://bugs.webkit.org/show_bug.cgi?id=194897)\n             * - a page hide transition (cf: https://bugs.webkit.org/show_bug.cgi?id=188329)\n             */\n            (0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"beforeunload\" /* BEFORE_UNLOAD */, function () { return _this.flush('before_unload'); });\n        }\n    };\n    return Batch;\n}());\n\n//# sourceMappingURL=batch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvYmF0Y2guanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUMwQztBQUMxQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLHVCQUF1Qiw4Q0FBSTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsMERBQVk7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwyREFBYTtBQUM1QztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1REFBTztBQUMxQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhEQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQWdCLDJEQUEyRCxzQ0FBc0M7QUFDN0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNnQjtBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvYmF0Y2guanM/MDdjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi4vdG9vbHMvZGlzcGxheSc7XG5pbXBvcnQgeyBhZGRFdmVudExpc3RlbmVyLCBqc29uU3RyaW5naWZ5LCBub29wLCBvYmplY3RWYWx1ZXMgfSBmcm9tICcuLi90b29scy91dGlscyc7XG5pbXBvcnQgeyBtb25pdG9yIH0gZnJvbSAnLi4vdG9vbHMvbW9uaXRvcic7XG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9VVEYtOFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbnZhciBIQVNfTVVMVElfQllURVNfQ0hBUkFDVEVSUyA9IC9bXlxcdTAwMDAtXFx1MDA3Rl0vO1xudmFyIEJhdGNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhdGNoKHJlcXVlc3QsIGJhdGNoTWVzc2FnZXNMaW1pdCwgYmF0Y2hCeXRlc0xpbWl0LCBtZXNzYWdlQnl0ZXNMaW1pdCwgZmx1c2hUaW1lb3V0LCBiZWZvcmVVbmxvYWRDYWxsYmFjaykge1xuICAgICAgICBpZiAoYmVmb3JlVW5sb2FkQ2FsbGJhY2sgPT09IHZvaWQgMCkgeyBiZWZvcmVVbmxvYWRDYWxsYmFjayA9IG5vb3A7IH1cbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgdGhpcy5iYXRjaE1lc3NhZ2VzTGltaXQgPSBiYXRjaE1lc3NhZ2VzTGltaXQ7XG4gICAgICAgIHRoaXMuYmF0Y2hCeXRlc0xpbWl0ID0gYmF0Y2hCeXRlc0xpbWl0O1xuICAgICAgICB0aGlzLm1lc3NhZ2VCeXRlc0xpbWl0ID0gbWVzc2FnZUJ5dGVzTGltaXQ7XG4gICAgICAgIHRoaXMuZmx1c2hUaW1lb3V0ID0gZmx1c2hUaW1lb3V0O1xuICAgICAgICB0aGlzLmJlZm9yZVVubG9hZENhbGxiYWNrID0gYmVmb3JlVW5sb2FkQ2FsbGJhY2s7XG4gICAgICAgIHRoaXMucHVzaE9ubHlCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy51cHNlcnRCdWZmZXIgPSB7fTtcbiAgICAgICAgdGhpcy5idWZmZXJCeXRlc0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5idWZmZXJNZXNzYWdlc0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5mbHVzaE9uVmlzaWJpbGl0eUhpZGRlbigpO1xuICAgICAgICB0aGlzLmZsdXNoUGVyaW9kaWNhbGx5KCk7XG4gICAgfVxuICAgIEJhdGNoLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB0aGlzLmFkZE9yVXBkYXRlKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLnVwc2VydCA9IGZ1bmN0aW9uIChtZXNzYWdlLCBrZXkpIHtcbiAgICAgICAgdGhpcy5hZGRPclVwZGF0ZShtZXNzYWdlLCBrZXkpO1xuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICBpZiAodGhpcy5idWZmZXJNZXNzYWdlc0NvdW50ICE9PSAwKSB7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLnB1c2hPbmx5QnVmZmVyLmNvbmNhdChvYmplY3RWYWx1ZXModGhpcy51cHNlcnRCdWZmZXIpKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5zZW5kKG1lc3NhZ2VzLmpvaW4oJ1xcbicpLCB0aGlzLmJ1ZmZlckJ5dGVzQ291bnQsIHJlYXNvbik7XG4gICAgICAgICAgICB0aGlzLnB1c2hPbmx5QnVmZmVyID0gW107XG4gICAgICAgICAgICB0aGlzLnVwc2VydEJ1ZmZlciA9IHt9O1xuICAgICAgICAgICAgdGhpcy5idWZmZXJCeXRlc0NvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyTWVzc2FnZXNDb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS5jb21wdXRlQnl0ZXNDb3VudCA9IGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICAgICAgLy8gQWNjdXJhdGUgYnl0ZXMgY291bnQgY29tcHV0YXRpb25zIGNhbiBkZWdyYWRlIHBlcmZvcm1hbmNlcyB3aGVuIHRoZXJlIGlzIGEgbG90IG9mIGV2ZW50cyB0byBwcm9jZXNzXG4gICAgICAgIGlmICghSEFTX01VTFRJX0JZVEVTX0NIQVJBQ1RFUlMudGVzdChjYW5kaWRhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93LlRleHRFbmNvZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoY2FuZGlkYXRlKS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtjYW5kaWRhdGVdKS5zaXplO1xuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLmFkZE9yVXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGtleSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb2Nlc3MobWVzc2FnZSksIHByb2Nlc3NlZE1lc3NhZ2UgPSBfYS5wcm9jZXNzZWRNZXNzYWdlLCBtZXNzYWdlQnl0ZXNDb3VudCA9IF9hLm1lc3NhZ2VCeXRlc0NvdW50O1xuICAgICAgICBpZiAobWVzc2FnZUJ5dGVzQ291bnQgPj0gdGhpcy5tZXNzYWdlQnl0ZXNMaW1pdCkge1xuICAgICAgICAgICAgZGlzcGxheS53YXJuKFwiRGlzY2FyZGVkIGEgbWVzc2FnZSB3aG9zZSBzaXplIHdhcyBiaWdnZXIgdGhhbiB0aGUgbWF4aW11bSBhbGxvd2VkIHNpemUgXCIuY29uY2F0KHRoaXMubWVzc2FnZUJ5dGVzTGltaXQsIFwiS0IuXCIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNNZXNzYWdlRm9yKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMud2lsbFJlYWNoZWRCeXRlc0xpbWl0V2l0aChtZXNzYWdlQnl0ZXNDb3VudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goJ2JhdGNoX2J5dGVzX2xpbWl0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdXNoKHByb2Nlc3NlZE1lc3NhZ2UsIG1lc3NhZ2VCeXRlc0NvdW50LCBrZXkpO1xuICAgICAgICBpZiAodGhpcy5pc0Z1bGwoKSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgnYmF0Y2hfbWVzc2FnZXNfbGltaXQnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgcHJvY2Vzc2VkTWVzc2FnZSA9IGpzb25TdHJpbmdpZnkobWVzc2FnZSk7XG4gICAgICAgIHZhciBtZXNzYWdlQnl0ZXNDb3VudCA9IHRoaXMuY29tcHV0ZUJ5dGVzQ291bnQocHJvY2Vzc2VkTWVzc2FnZSk7XG4gICAgICAgIHJldHVybiB7IHByb2Nlc3NlZE1lc3NhZ2U6IHByb2Nlc3NlZE1lc3NhZ2UsIG1lc3NhZ2VCeXRlc0NvdW50OiBtZXNzYWdlQnl0ZXNDb3VudCB9O1xuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAocHJvY2Vzc2VkTWVzc2FnZSwgbWVzc2FnZUJ5dGVzQ291bnQsIGtleSkge1xuICAgICAgICBpZiAodGhpcy5idWZmZXJNZXNzYWdlc0NvdW50ID4gMCkge1xuICAgICAgICAgICAgLy8gXFxuIHNlcGFyYXRvciBhdCBzZXJpYWxpemF0aW9uXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckJ5dGVzQ291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBzZXJ0QnVmZmVyW2tleV0gPSBwcm9jZXNzZWRNZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wdXNoT25seUJ1ZmZlci5wdXNoKHByb2Nlc3NlZE1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyQnl0ZXNDb3VudCArPSBtZXNzYWdlQnl0ZXNDb3VudDtcbiAgICAgICAgdGhpcy5idWZmZXJNZXNzYWdlc0NvdW50ICs9IDE7XG4gICAgfTtcbiAgICBCYXRjaC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgcmVtb3ZlZE1lc3NhZ2UgPSB0aGlzLnVwc2VydEJ1ZmZlcltrZXldO1xuICAgICAgICBkZWxldGUgdGhpcy51cHNlcnRCdWZmZXJba2V5XTtcbiAgICAgICAgdmFyIG1lc3NhZ2VCeXRlc0NvdW50ID0gdGhpcy5jb21wdXRlQnl0ZXNDb3VudChyZW1vdmVkTWVzc2FnZSk7XG4gICAgICAgIHRoaXMuYnVmZmVyQnl0ZXNDb3VudCAtPSBtZXNzYWdlQnl0ZXNDb3VudDtcbiAgICAgICAgdGhpcy5idWZmZXJNZXNzYWdlc0NvdW50IC09IDE7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlck1lc3NhZ2VzQ291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckJ5dGVzQ291bnQgLT0gMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLmhhc01lc3NhZ2VGb3IgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnVwc2VydEJ1ZmZlcltrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBCYXRjaC5wcm90b3R5cGUud2lsbFJlYWNoZWRCeXRlc0xpbWl0V2l0aCA9IGZ1bmN0aW9uIChtZXNzYWdlQnl0ZXNDb3VudCkge1xuICAgICAgICAvLyBieXRlIG9mIHRoZSBzZXBhcmF0b3IgYXQgdGhlIGVuZCBvZiB0aGUgbWVzc2FnZVxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJCeXRlc0NvdW50ICsgbWVzc2FnZUJ5dGVzQ291bnQgKyAxID49IHRoaXMuYmF0Y2hCeXRlc0xpbWl0O1xuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLmlzRnVsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyTWVzc2FnZXNDb3VudCA9PT0gdGhpcy5iYXRjaE1lc3NhZ2VzTGltaXQgfHwgdGhpcy5idWZmZXJCeXRlc0NvdW50ID49IHRoaXMuYmF0Y2hCeXRlc0xpbWl0O1xuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLmZsdXNoUGVyaW9kaWNhbGx5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBzZXRUaW1lb3V0KG1vbml0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZmx1c2goJ2JhdGNoX2ZsdXNoX3RpbWVvdXQnKTtcbiAgICAgICAgICAgIF90aGlzLmZsdXNoUGVyaW9kaWNhbGx5KCk7XG4gICAgICAgIH0pLCB0aGlzLmZsdXNoVGltZW91dCk7XG4gICAgfTtcbiAgICBCYXRjaC5wcm90b3R5cGUuZmx1c2hPblZpc2liaWxpdHlIaWRkZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaXRoIHNlbmRCZWFjb24sIHJlcXVlc3RzIGFyZSBndWFyYW50ZWVkIHRvIGJlIHN1Y2Nlc3NmdWxseSBzZW50IGR1cmluZyBkb2N1bWVudCB1bmxvYWRcbiAgICAgICAgICovXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgdGhpcyBmdW5jdGlvbiBpcyBub3QgYWx3YXlzIGRlZmluZWRcbiAgICAgICAgaWYgKG5hdmlnYXRvci5zZW5kQmVhY29uKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIGJlZm9yZXVubG9hZCBpcyBjYWxsZWQgYmVmb3JlIHZpc2liaWxpdHljaGFuZ2VcbiAgICAgICAgICAgICAqIHJlZ2lzdGVyIGZpcnN0IHRvIGJlIHN1cmUgdG8gYmUgY2FsbGVkIGJlZm9yZSBmbHVzaCBvbiBiZWZvcmV1bmxvYWRcbiAgICAgICAgICAgICAqIGNhdmVhdDogdW5sb2FkIGNhbiBzdGlsbCBiZSBjYW5jZWxlZCBieSBhbm90aGVyIGxpc3RlbmVyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcImJlZm9yZXVubG9hZFwiIC8qIEJFRk9SRV9VTkxPQUQgKi8sIHRoaXMuYmVmb3JlVW5sb2FkQ2FsbGJhY2spO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPbmx5IGV2ZW50IHRoYXQgZ3VhcmFudGVlIHRvIGZpcmUgb24gbW9iaWxlIGRldmljZXMgd2hlbiB0aGUgcGFnZSB0cmFuc2l0aW9ucyB0byBiYWNrZ3JvdW5kIHN0YXRlXG4gICAgICAgICAgICAgKiAoZS5nLiB3aGVuIHVzZXIgc3dpdGNoZXMgdG8gYSBkaWZmZXJlbnQgYXBwbGljYXRpb24sIGdvZXMgdG8gaG9tZXNjcmVlbiwgZXRjKSwgb3IgaXMgYmVpbmcgdW5sb2FkZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwidmlzaWJpbGl0eWNoYW5nZVwiIC8qIFZJU0lCSUxJVFlfQ0hBTkdFICovLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmx1c2goJ3Zpc2liaWxpdHlfaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IHlldCB0byBzZW5kIGEgcmVxdWVzdCBkdXJpbmc6XG4gICAgICAgICAgICAgKiAtIGEgdmlzaWJpbGl0eSBjaGFuZ2UgZHVyaW5nIGRvYyB1bmxvYWQgKGNmOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk0ODk3KVxuICAgICAgICAgICAgICogLSBhIHBhZ2UgaGlkZSB0cmFuc2l0aW9uIChjZjogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE4ODMyOSlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiYmVmb3JldW5sb2FkXCIgLyogQkVGT1JFX1VOTE9BRCAqLywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZmx1c2goJ2JlZm9yZV91bmxvYWQnKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCYXRjaDtcbn0oKSk7XG5leHBvcnQgeyBCYXRjaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmF0Y2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/transport/batch.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/transport/eventBridge.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/transport/eventBridge.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"canUseEventBridge\": function() { return /* binding */ canUseEventBridge; },\n/* harmony export */   \"getEventBridge\": function() { return /* binding */ getEventBridge; }\n/* harmony export */ });\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\nfunction getEventBridge() {\n    var eventBridgeGlobal = getEventBridgeGlobal();\n    if (!eventBridgeGlobal) {\n        return;\n    }\n    return {\n        getAllowedWebViewHosts: function () {\n            return JSON.parse(eventBridgeGlobal.getAllowedWebViewHosts());\n        },\n        send: function (eventType, event) {\n            eventBridgeGlobal.send(JSON.stringify({ eventType: eventType, event: event }));\n        },\n    };\n}\nfunction canUseEventBridge(hostname) {\n    var _a;\n    if (hostname === void 0) { hostname = (_a = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.getGlobalObject)().location) === null || _a === void 0 ? void 0 : _a.hostname; }\n    var bridge = getEventBridge();\n    return (!!bridge &&\n        bridge.getAllowedWebViewHosts().some(function (host) {\n            var escapedHost = host.replace(/\\./g, '\\\\.');\n            var isDomainOrSubDomain = new RegExp(\"^(.+\\\\.)*\".concat(escapedHost, \"$\"));\n            return isDomainOrSubDomain.test(hostname);\n        }));\n}\nfunction getEventBridgeGlobal() {\n    return (0,_tools_utils__WEBPACK_IMPORTED_MODULE_0__.getGlobalObject)().DatadogEventBridge;\n}\n//# sourceMappingURL=eventBridge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvZXZlbnRCcmlkZ2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlEO0FBQzFDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvREFBb0Qsb0NBQW9DO0FBQ3hGLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUDtBQUNBLCtCQUErQixpQkFBaUIsNkRBQWU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXLDZEQUFlO0FBQzFCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2V2ZW50QnJpZGdlLmpzP2E2ZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50QnJpZGdlKCkge1xuICAgIHZhciBldmVudEJyaWRnZUdsb2JhbCA9IGdldEV2ZW50QnJpZGdlR2xvYmFsKCk7XG4gICAgaWYgKCFldmVudEJyaWRnZUdsb2JhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGdldEFsbG93ZWRXZWJWaWV3SG9zdHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGV2ZW50QnJpZGdlR2xvYmFsLmdldEFsbG93ZWRXZWJWaWV3SG9zdHMoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbmQ6IGZ1bmN0aW9uIChldmVudFR5cGUsIGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudEJyaWRnZUdsb2JhbC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgZXZlbnRUeXBlOiBldmVudFR5cGUsIGV2ZW50OiBldmVudCB9KSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYW5Vc2VFdmVudEJyaWRnZShob3N0bmFtZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoaG9zdG5hbWUgPT09IHZvaWQgMCkgeyBob3N0bmFtZSA9IChfYSA9IGdldEdsb2JhbE9iamVjdCgpLmxvY2F0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaG9zdG5hbWU7IH1cbiAgICB2YXIgYnJpZGdlID0gZ2V0RXZlbnRCcmlkZ2UoKTtcbiAgICByZXR1cm4gKCEhYnJpZGdlICYmXG4gICAgICAgIGJyaWRnZS5nZXRBbGxvd2VkV2ViVmlld0hvc3RzKCkuc29tZShmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICAgICAgdmFyIGVzY2FwZWRIb3N0ID0gaG9zdC5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyk7XG4gICAgICAgICAgICB2YXIgaXNEb21haW5PclN1YkRvbWFpbiA9IG5ldyBSZWdFeHAoXCJeKC4rXFxcXC4pKlwiLmNvbmNhdChlc2NhcGVkSG9zdCwgXCIkXCIpKTtcbiAgICAgICAgICAgIHJldHVybiBpc0RvbWFpbk9yU3ViRG9tYWluLnRlc3QoaG9zdG5hbWUpO1xuICAgICAgICB9KSk7XG59XG5mdW5jdGlvbiBnZXRFdmVudEJyaWRnZUdsb2JhbCgpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsT2JqZWN0KCkuRGF0YWRvZ0V2ZW50QnJpZGdlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRCcmlkZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/transport/eventBridge.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/transport/failedSendBeacon.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/transport/failedSendBeacon.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LOCAL_STORAGE_KEY\": function() { return /* binding */ LOCAL_STORAGE_KEY; },\n/* harmony export */   \"addFailedSendBeacon\": function() { return /* binding */ addFailedSendBeacon; },\n/* harmony export */   \"startFlushFailedSendBeacons\": function() { return /* binding */ startFlushFailedSendBeacons; }\n/* harmony export */ });\n/* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/configuration */ \"./node_modules/@datadog/browser-core/esm/domain/configuration/index.js\");\n/* harmony import */ var _domain_telemetry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../domain/telemetry */ \"./node_modules/@datadog/browser-core/esm/domain/telemetry/index.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/monitor */ \"./node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/utils */ \"./node_modules/@datadog/browser-core/esm/tools/utils.js\");\n\n\n\n\nvar LOCAL_STORAGE_KEY = 'datadog-browser-sdk-failed-send-beacon';\nfunction startFlushFailedSendBeacons() {\n    if (!(0,_domain_configuration__WEBPACK_IMPORTED_MODULE_0__.isExperimentalFeatureEnabled)('failed-sendbeacon'))\n        return;\n    // delay the computation to prevent the SDK from blocking the main thread on init\n    setTimeout((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_1__.monitor)(flushFailedSendBeacon));\n}\nfunction addFailedSendBeacon(endpointType, size, reason) {\n    if (!(0,_domain_configuration__WEBPACK_IMPORTED_MODULE_0__.isExperimentalFeatureEnabled)('failed-sendbeacon'))\n        return;\n    var failSendBeaconLog = {\n        reason: reason,\n        endpointType: endpointType,\n        version: \"4.11.3\",\n        connection: navigator.connection ? navigator.connection.effectiveType : undefined,\n        onLine: navigator.onLine,\n        size: size,\n    };\n    if (reason === 'before_unload' || reason === 'visibility_hidden') {\n        window.localStorage.setItem(\"\".concat(LOCAL_STORAGE_KEY, \"-\").concat((0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.generateUUID)()), JSON.stringify(failSendBeaconLog));\n    }\n    else {\n        (0,_domain_telemetry__WEBPACK_IMPORTED_MODULE_3__.addTelemetryDebug)('failed sendBeacon', failSendBeaconLog);\n    }\n}\nfunction flushFailedSendBeacon() {\n    var keys = Object.keys(localStorage);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        if ((0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.startsWith)(key, LOCAL_STORAGE_KEY)) {\n            var value = localStorage.getItem(key);\n            if (value) {\n                (0,_domain_telemetry__WEBPACK_IMPORTED_MODULE_3__.addTelemetryDebug)('failed sendBeacon', JSON.parse(value));\n                window.localStorage.removeItem(key);\n            }\n        }\n    }\n}\n//# sourceMappingURL=failedSendBeacon.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvZmFpbGVkU2VuZEJlYWNvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXVFO0FBQ2Y7QUFDYjtBQUNlO0FBQ25EO0FBQ0E7QUFDUCxTQUFTLG1GQUE0QjtBQUNyQztBQUNBO0FBQ0EsZUFBZSx1REFBTztBQUN0QjtBQUNPO0FBQ1AsU0FBUyxtRkFBNEI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsMERBQVk7QUFDekY7QUFDQTtBQUNBLFFBQVEsb0VBQWlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBLFlBQVksd0RBQVU7QUFDdEI7QUFDQTtBQUNBLGdCQUFnQixvRUFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3RyYW5zcG9ydC9mYWlsZWRTZW5kQmVhY29uLmpzP2Q2YWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZCB9IGZyb20gJy4uL2RvbWFpbi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7IGFkZFRlbGVtZXRyeURlYnVnIH0gZnJvbSAnLi4vZG9tYWluL3RlbGVtZXRyeSc7XG5pbXBvcnQgeyBtb25pdG9yIH0gZnJvbSAnLi4vdG9vbHMvbW9uaXRvcic7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQsIHN0YXJ0c1dpdGggfSBmcm9tICcuLi90b29scy91dGlscyc7XG5leHBvcnQgdmFyIExPQ0FMX1NUT1JBR0VfS0VZID0gJ2RhdGFkb2ctYnJvd3Nlci1zZGstZmFpbGVkLXNlbmQtYmVhY29uJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydEZsdXNoRmFpbGVkU2VuZEJlYWNvbnMoKSB7XG4gICAgaWYgKCFpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkKCdmYWlsZWQtc2VuZGJlYWNvbicpKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gZGVsYXkgdGhlIGNvbXB1dGF0aW9uIHRvIHByZXZlbnQgdGhlIFNESyBmcm9tIGJsb2NraW5nIHRoZSBtYWluIHRocmVhZCBvbiBpbml0XG4gICAgc2V0VGltZW91dChtb25pdG9yKGZsdXNoRmFpbGVkU2VuZEJlYWNvbikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZEZhaWxlZFNlbmRCZWFjb24oZW5kcG9pbnRUeXBlLCBzaXplLCByZWFzb24pIHtcbiAgICBpZiAoIWlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ2ZhaWxlZC1zZW5kYmVhY29uJykpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgZmFpbFNlbmRCZWFjb25Mb2cgPSB7XG4gICAgICAgIHJlYXNvbjogcmVhc29uLFxuICAgICAgICBlbmRwb2ludFR5cGU6IGVuZHBvaW50VHlwZSxcbiAgICAgICAgdmVyc2lvbjogXCI0LjExLjNcIixcbiAgICAgICAgY29ubmVjdGlvbjogbmF2aWdhdG9yLmNvbm5lY3Rpb24gPyBuYXZpZ2F0b3IuY29ubmVjdGlvbi5lZmZlY3RpdmVUeXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBvbkxpbmU6IG5hdmlnYXRvci5vbkxpbmUsXG4gICAgICAgIHNpemU6IHNpemUsXG4gICAgfTtcbiAgICBpZiAocmVhc29uID09PSAnYmVmb3JlX3VubG9hZCcgfHwgcmVhc29uID09PSAndmlzaWJpbGl0eV9oaWRkZW4nKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlwiLmNvbmNhdChMT0NBTF9TVE9SQUdFX0tFWSwgXCItXCIpLmNvbmNhdChnZW5lcmF0ZVVVSUQoKSksIEpTT04uc3RyaW5naWZ5KGZhaWxTZW5kQmVhY29uTG9nKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhZGRUZWxlbWV0cnlEZWJ1ZygnZmFpbGVkIHNlbmRCZWFjb24nLCBmYWlsU2VuZEJlYWNvbkxvZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmx1c2hGYWlsZWRTZW5kQmVhY29uKCkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIGtleXNfMSA9IGtleXM7IF9pIDwga2V5c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5c18xW19pXTtcbiAgICAgICAgaWYgKHN0YXJ0c1dpdGgoa2V5LCBMT0NBTF9TVE9SQUdFX0tFWSkpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRUZWxlbWV0cnlEZWJ1ZygnZmFpbGVkIHNlbmRCZWFjb24nLCBKU09OLnBhcnNlKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mYWlsZWRTZW5kQmVhY29uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/transport/failedSendBeacon.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/transport/httpRequest.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/transport/httpRequest.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HttpRequest\": function() { return /* binding */ HttpRequest; }\n/* harmony export */ });\n/* harmony import */ var _domain_telemetry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/telemetry */ \"./node_modules/@datadog/browser-core/esm/domain/telemetry/index.js\");\n/* harmony import */ var _failedSendBeacon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./failedSendBeacon */ \"./node_modules/@datadog/browser-core/esm/transport/failedSendBeacon.js\");\n\n\n/**\n * Use POST request without content type to:\n * - avoid CORS preflight requests\n * - allow usage of sendBeacon\n *\n * multiple elements are sent separated by \\n in order\n * to be parsed correctly without content type header\n */\nvar HttpRequest = /** @class */ (function () {\n    function HttpRequest(endpointBuilder, bytesLimit) {\n        this.endpointBuilder = endpointBuilder;\n        this.bytesLimit = bytesLimit;\n    }\n    HttpRequest.prototype.send = function (data, bytesCount, flushReason) {\n        var url = this.endpointBuilder.build();\n        var canUseBeacon = !!navigator.sendBeacon && bytesCount < this.bytesLimit;\n        if (canUseBeacon) {\n            try {\n                var isQueued = navigator.sendBeacon(url, data);\n                if (isQueued) {\n                    return;\n                }\n                (0,_failedSendBeacon__WEBPACK_IMPORTED_MODULE_0__.addFailedSendBeacon)(this.endpointBuilder.endpointType, bytesCount, flushReason);\n            }\n            catch (e) {\n                reportBeaconError(e);\n            }\n        }\n        var request = new XMLHttpRequest();\n        request.open('POST', url, true);\n        request.send(data);\n    };\n    return HttpRequest;\n}());\n\nvar hasReportedBeaconError = false;\nfunction reportBeaconError(e) {\n    if (!hasReportedBeaconError) {\n        hasReportedBeaconError = true;\n        (0,_domain_telemetry__WEBPACK_IMPORTED_MODULE_1__.addTelemetryError)(e);\n    }\n}\n//# sourceMappingURL=httpRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvaHR0cFJlcXVlc3QuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdEO0FBQ0M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0VBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNzQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0VBQWlCO0FBQ3pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvaHR0cFJlcXVlc3QuanM/MDlmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGRUZWxlbWV0cnlFcnJvciB9IGZyb20gJy4uL2RvbWFpbi90ZWxlbWV0cnknO1xuaW1wb3J0IHsgYWRkRmFpbGVkU2VuZEJlYWNvbiB9IGZyb20gJy4vZmFpbGVkU2VuZEJlYWNvbic7XG4vKipcbiAqIFVzZSBQT1NUIHJlcXVlc3Qgd2l0aG91dCBjb250ZW50IHR5cGUgdG86XG4gKiAtIGF2b2lkIENPUlMgcHJlZmxpZ2h0IHJlcXVlc3RzXG4gKiAtIGFsbG93IHVzYWdlIG9mIHNlbmRCZWFjb25cbiAqXG4gKiBtdWx0aXBsZSBlbGVtZW50cyBhcmUgc2VudCBzZXBhcmF0ZWQgYnkgXFxuIGluIG9yZGVyXG4gKiB0byBiZSBwYXJzZWQgY29ycmVjdGx5IHdpdGhvdXQgY29udGVudCB0eXBlIGhlYWRlclxuICovXG52YXIgSHR0cFJlcXVlc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSHR0cFJlcXVlc3QoZW5kcG9pbnRCdWlsZGVyLCBieXRlc0xpbWl0KSB7XG4gICAgICAgIHRoaXMuZW5kcG9pbnRCdWlsZGVyID0gZW5kcG9pbnRCdWlsZGVyO1xuICAgICAgICB0aGlzLmJ5dGVzTGltaXQgPSBieXRlc0xpbWl0O1xuICAgIH1cbiAgICBIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkYXRhLCBieXRlc0NvdW50LCBmbHVzaFJlYXNvbikge1xuICAgICAgICB2YXIgdXJsID0gdGhpcy5lbmRwb2ludEJ1aWxkZXIuYnVpbGQoKTtcbiAgICAgICAgdmFyIGNhblVzZUJlYWNvbiA9ICEhbmF2aWdhdG9yLnNlbmRCZWFjb24gJiYgYnl0ZXNDb3VudCA8IHRoaXMuYnl0ZXNMaW1pdDtcbiAgICAgICAgaWYgKGNhblVzZUJlYWNvbikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgaXNRdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbih1cmwsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChpc1F1ZXVlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZEZhaWxlZFNlbmRCZWFjb24odGhpcy5lbmRwb2ludEJ1aWxkZXIuZW5kcG9pbnRUeXBlLCBieXRlc0NvdW50LCBmbHVzaFJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlcG9ydEJlYWNvbkVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHJlcXVlc3Qub3BlbignUE9TVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgIHJlcXVlc3Quc2VuZChkYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBIdHRwUmVxdWVzdDtcbn0oKSk7XG5leHBvcnQgeyBIdHRwUmVxdWVzdCB9O1xudmFyIGhhc1JlcG9ydGVkQmVhY29uRXJyb3IgPSBmYWxzZTtcbmZ1bmN0aW9uIHJlcG9ydEJlYWNvbkVycm9yKGUpIHtcbiAgICBpZiAoIWhhc1JlcG9ydGVkQmVhY29uRXJyb3IpIHtcbiAgICAgICAgaGFzUmVwb3J0ZWRCZWFjb25FcnJvciA9IHRydWU7XG4gICAgICAgIGFkZFRlbGVtZXRyeUVycm9yKGUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBSZXF1ZXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/transport/httpRequest.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/transport/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/transport/index.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Batch\": function() { return /* reexport safe */ _batch__WEBPACK_IMPORTED_MODULE_1__.Batch; },\n/* harmony export */   \"HttpRequest\": function() { return /* reexport safe */ _httpRequest__WEBPACK_IMPORTED_MODULE_0__.HttpRequest; },\n/* harmony export */   \"canUseEventBridge\": function() { return /* reexport safe */ _eventBridge__WEBPACK_IMPORTED_MODULE_2__.canUseEventBridge; },\n/* harmony export */   \"getEventBridge\": function() { return /* reexport safe */ _eventBridge__WEBPACK_IMPORTED_MODULE_2__.getEventBridge; },\n/* harmony export */   \"startBatchWithReplica\": function() { return /* reexport safe */ _startBatchWithReplica__WEBPACK_IMPORTED_MODULE_3__.startBatchWithReplica; },\n/* harmony export */   \"startFlushFailedSendBeacons\": function() { return /* reexport safe */ _failedSendBeacon__WEBPACK_IMPORTED_MODULE_4__.startFlushFailedSendBeacons; }\n/* harmony export */ });\n/* harmony import */ var _httpRequest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./httpRequest */ \"./node_modules/@datadog/browser-core/esm/transport/httpRequest.js\");\n/* harmony import */ var _batch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./batch */ \"./node_modules/@datadog/browser-core/esm/transport/batch.js\");\n/* harmony import */ var _eventBridge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./eventBridge */ \"./node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n/* harmony import */ var _startBatchWithReplica__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./startBatchWithReplica */ \"./node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js\");\n/* harmony import */ var _failedSendBeacon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./failedSendBeacon */ \"./node_modules/@datadog/browser-core/esm/transport/failedSendBeacon.js\");\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDWjtBQUNrQztBQUNGO0FBQ0M7QUFDakUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2luZGV4LmpzP2I3N2EiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tICcuL2h0dHBSZXF1ZXN0JztcbmV4cG9ydCB7IEJhdGNoIH0gZnJvbSAnLi9iYXRjaCc7XG5leHBvcnQgeyBjYW5Vc2VFdmVudEJyaWRnZSwgZ2V0RXZlbnRCcmlkZ2UgfSBmcm9tICcuL2V2ZW50QnJpZGdlJztcbmV4cG9ydCB7IHN0YXJ0QmF0Y2hXaXRoUmVwbGljYSB9IGZyb20gJy4vc3RhcnRCYXRjaFdpdGhSZXBsaWNhJztcbmV4cG9ydCB7IHN0YXJ0Rmx1c2hGYWlsZWRTZW5kQmVhY29ucyB9IGZyb20gJy4vZmFpbGVkU2VuZEJlYWNvbic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/transport/index.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startBatchWithReplica\": function() { return /* binding */ startBatchWithReplica; }\n/* harmony export */ });\n/* harmony import */ var _batch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./batch */ \"./node_modules/@datadog/browser-core/esm/transport/batch.js\");\n/* harmony import */ var _httpRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./httpRequest */ \"./node_modules/@datadog/browser-core/esm/transport/httpRequest.js\");\n\n\nfunction startBatchWithReplica(configuration, endpoint, replicaEndpoint) {\n    var primaryBatch = createBatch(endpoint);\n    var replicaBatch;\n    if (replicaEndpoint) {\n        replicaBatch = createBatch(replicaEndpoint);\n    }\n    function createBatch(endpointBuilder) {\n        return new _batch__WEBPACK_IMPORTED_MODULE_0__.Batch(new _httpRequest__WEBPACK_IMPORTED_MODULE_1__.HttpRequest(endpointBuilder, configuration.batchBytesLimit), configuration.batchMessagesLimit, configuration.batchBytesLimit, configuration.messageBytesLimit, configuration.flushTimeout);\n    }\n    return {\n        add: function (message, replicated) {\n            if (replicated === void 0) { replicated = true; }\n            primaryBatch.add(message);\n            if (replicaBatch && replicated) {\n                replicaBatch.add(message);\n            }\n        },\n    };\n}\n//# sourceMappingURL=startBatchWithReplica.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvc3RhcnRCYXRjaFdpdGhSZXBsaWNhLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUNZO0FBQ3JDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlDQUFLLEtBQUsscURBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvc3RhcnRCYXRjaFdpdGhSZXBsaWNhLmpzP2Y0YmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmF0Y2ggfSBmcm9tICcuL2JhdGNoJztcbmltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSAnLi9odHRwUmVxdWVzdCc7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRCYXRjaFdpdGhSZXBsaWNhKGNvbmZpZ3VyYXRpb24sIGVuZHBvaW50LCByZXBsaWNhRW5kcG9pbnQpIHtcbiAgICB2YXIgcHJpbWFyeUJhdGNoID0gY3JlYXRlQmF0Y2goZW5kcG9pbnQpO1xuICAgIHZhciByZXBsaWNhQmF0Y2g7XG4gICAgaWYgKHJlcGxpY2FFbmRwb2ludCkge1xuICAgICAgICByZXBsaWNhQmF0Y2ggPSBjcmVhdGVCYXRjaChyZXBsaWNhRW5kcG9pbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXRjaChlbmRwb2ludEJ1aWxkZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCYXRjaChuZXcgSHR0cFJlcXVlc3QoZW5kcG9pbnRCdWlsZGVyLCBjb25maWd1cmF0aW9uLmJhdGNoQnl0ZXNMaW1pdCksIGNvbmZpZ3VyYXRpb24uYmF0Y2hNZXNzYWdlc0xpbWl0LCBjb25maWd1cmF0aW9uLmJhdGNoQnl0ZXNMaW1pdCwgY29uZmlndXJhdGlvbi5tZXNzYWdlQnl0ZXNMaW1pdCwgY29uZmlndXJhdGlvbi5mbHVzaFRpbWVvdXQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChtZXNzYWdlLCByZXBsaWNhdGVkKSB7XG4gICAgICAgICAgICBpZiAocmVwbGljYXRlZCA9PT0gdm9pZCAwKSB7IHJlcGxpY2F0ZWQgPSB0cnVlOyB9XG4gICAgICAgICAgICBwcmltYXJ5QmF0Y2guYWRkKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKHJlcGxpY2FCYXRjaCAmJiByZXBsaWNhdGVkKSB7XG4gICAgICAgICAgICAgICAgcmVwbGljYUJhdGNoLmFkZChtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRCYXRjaFdpdGhSZXBsaWNhLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/boot/rumPublicApi.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/boot/rumPublicApi.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"makeRumPublicApi\": function() { return /* binding */ makeRumPublicApi; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _domain_syntheticsContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/syntheticsContext */ \"./node_modules/@datadog/browser-rum-core/esm/domain/syntheticsContext.js\");\n/* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/configuration */ \"./node_modules/@datadog/browser-rum-core/esm/domain/configuration.js\");\n\n\n\nfunction makeRumPublicApi(startRumImpl, recorderApi, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.ignoreInitIfSyntheticsWillInjectRum, ignoreInitIfSyntheticsWillInjectRum = _c === void 0 ? true : _c;\n    var isAlreadyInitialized = false;\n    var globalContextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createContextManager)();\n    var user = {};\n    var getInternalContextStrategy = function () { return undefined; };\n    var getInitConfigurationStrategy = function () { return undefined; };\n    var bufferApiCalls = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.BoundedBuffer();\n    var addTimingStrategy = function (name, time) {\n        if (time === void 0) { time = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.timeStampNow)(); }\n        bufferApiCalls.add(function () { return addTimingStrategy(name, time); });\n    };\n    var startViewStrategy = function (options, startClocks) {\n        if (startClocks === void 0) { startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(); }\n        bufferApiCalls.add(function () { return startViewStrategy(options, startClocks); });\n    };\n    var addActionStrategy = function (action, commonContext) {\n        if (commonContext === void 0) { commonContext = clonedCommonContext(); }\n        bufferApiCalls.add(function () { return addActionStrategy(action, commonContext); });\n    };\n    var addErrorStrategy = function (providedError, commonContext) {\n        if (commonContext === void 0) { commonContext = clonedCommonContext(); }\n        bufferApiCalls.add(function () { return addErrorStrategy(providedError, commonContext); });\n    };\n    function clonedCommonContext() {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.deepClone)({\n            context: globalContextManager.get(),\n            user: user,\n        });\n    }\n    function initRum(initConfiguration) {\n        // If we are in a Synthetics test configured to automatically inject a RUM instance, we want to\n        // completely discard the customer application RUM instance by ignoring their init() call.  But,\n        // we should not ignore the init() call from the Synthetics-injected RUM instance, so the\n        // internal `ignoreInitIfSyntheticsWillInjectRum` option is here to bypass this condition.\n        if (ignoreInitIfSyntheticsWillInjectRum && (0,_domain_syntheticsContext__WEBPACK_IMPORTED_MODULE_0__.willSyntheticsInjectRum)()) {\n            return;\n        }\n        if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.canUseEventBridge)()) {\n            initConfiguration = overrideInitConfigurationForBridge(initConfiguration);\n        }\n        else if (!canHandleSession(initConfiguration)) {\n            return;\n        }\n        if (!canInitRum(initConfiguration)) {\n            return;\n        }\n        var configuration = (0,_domain_configuration__WEBPACK_IMPORTED_MODULE_1__.validateAndBuildRumConfiguration)(initConfiguration);\n        if (!configuration) {\n            return;\n        }\n        if (!configuration.trackViewsManually) {\n            doStartRum(configuration);\n        }\n        else {\n            // drain beforeInitCalls by buffering them until we start RUM\n            // if we get a startView, drain re-buffered calls before continuing to drain beforeInitCalls\n            // in order to ensure that calls are processed in order\n            var beforeInitCalls = bufferApiCalls;\n            bufferApiCalls = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.BoundedBuffer();\n            startViewStrategy = function (options) {\n                doStartRum(configuration, options);\n            };\n            beforeInitCalls.drain();\n        }\n        getInitConfigurationStrategy = function () { return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.deepClone)(initConfiguration); };\n        isAlreadyInitialized = true;\n    }\n    function doStartRum(configuration, initialViewOptions) {\n        var startRumResults = startRumImpl(configuration, function () { return ({\n            user: user,\n            context: globalContextManager.get(),\n            hasReplay: recorderApi.isRecording() ? true : undefined,\n        }); }, recorderApi, initialViewOptions);\n        (startViewStrategy = startRumResults.startView, addActionStrategy = startRumResults.addAction, addErrorStrategy = startRumResults.addError, addTimingStrategy = startRumResults.addTiming, getInternalContextStrategy = startRumResults.getInternalContext);\n        bufferApiCalls.drain();\n        recorderApi.onRumStart(startRumResults.lifeCycle, configuration, startRumResults.session, startRumResults.viewContexts);\n    }\n    var startView = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (options) {\n        var sanitizedOptions = typeof options === 'object' ? options : { name: options };\n        startViewStrategy(sanitizedOptions);\n    });\n    var rumPublicApi = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.makePublicApi)({\n        init: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(initRum),\n        addRumGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(globalContextManager.add),\n        removeRumGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(globalContextManager.remove),\n        getRumGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(globalContextManager.get),\n        setRumGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(globalContextManager.set),\n        getInternalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (startTime) { return getInternalContextStrategy(startTime); }),\n        getInitConfiguration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function () { return getInitConfigurationStrategy(); }),\n        addAction: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (name, context) {\n            addActionStrategy({\n                name: name,\n                context: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.deepClone)(context),\n                startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(),\n                type: \"custom\" /* CUSTOM */,\n            });\n        }),\n        addError: function (error, context) {\n            var handlingStack = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createHandlingStack)();\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.callMonitored)(function () {\n                addErrorStrategy({\n                    error: error,\n                    handlingStack: handlingStack,\n                    context: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.deepClone)(context),\n                    startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(),\n                });\n            });\n        },\n        addTiming: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (name, time) {\n            addTimingStrategy(name, time);\n        }),\n        setUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (newUser) {\n            var sanitizedUser = sanitizeUser(newUser);\n            if (sanitizedUser) {\n                user = sanitizedUser;\n            }\n            else {\n                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.error('Unsupported user:', newUser);\n            }\n        }),\n        removeUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function () {\n            user = {};\n        }),\n        startView: startView,\n        startSessionReplayRecording: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(recorderApi.start),\n        stopSessionReplayRecording: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(recorderApi.stop),\n    });\n    return rumPublicApi;\n    function sanitizeUser(newUser) {\n        if (typeof newUser !== 'object' || !newUser) {\n            return;\n        }\n        var result = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.deepClone)(newUser);\n        if ('id' in result) {\n            result.id = String(result.id);\n        }\n        if ('name' in result) {\n            result.name = String(result.name);\n        }\n        if ('email' in result) {\n            result.email = String(result.email);\n        }\n        return result;\n    }\n    function canHandleSession(initConfiguration) {\n        if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.areCookiesAuthorized)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.buildCookieOptions)(initConfiguration))) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.warn('Cookies are not authorized, we will not send any data.');\n            return false;\n        }\n        if (isLocalFile()) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.error('Execution is not allowed in the current context.');\n            return false;\n        }\n        return true;\n    }\n    function canInitRum(initConfiguration) {\n        if (isAlreadyInitialized) {\n            if (!initConfiguration.silentMultipleInit) {\n                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.error('DD_RUM is already initialized.');\n            }\n            return false;\n        }\n        return true;\n    }\n    function overrideInitConfigurationForBridge(initConfiguration) {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({}, initConfiguration, {\n            applicationId: '00000000-aaaa-0000-aaaa-000000000000',\n            clientToken: 'empty',\n            sampleRate: 100,\n        });\n    }\n    function isLocalFile() {\n        return window.location.protocol === 'file:';\n    }\n}\n//# sourceMappingURL=rumPublicApi.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vYm9vdC9ydW1QdWJsaWNBcGkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyUDtBQUNyTDtBQUNLO0FBQ3BFO0FBQ1AsZ0NBQWdDO0FBQ2hDO0FBQ0EsK0JBQStCLDJFQUFvQjtBQUNuRDtBQUNBLG1EQUFtRDtBQUNuRCxxREFBcUQ7QUFDckQsNkJBQTZCLGdFQUFhO0FBQzFDO0FBQ0EsK0JBQStCLE9BQU8sbUVBQVk7QUFDbEQseUNBQXlDLHVDQUF1QztBQUNoRjtBQUNBO0FBQ0Esc0NBQXNDLGNBQWMsZ0VBQVM7QUFDN0QseUNBQXlDLGlEQUFpRDtBQUMxRjtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLHlDQUF5QyxrREFBa0Q7QUFDM0Y7QUFDQTtBQUNBLHdDQUF3QztBQUN4Qyx5Q0FBeUMsd0RBQXdEO0FBQ2pHO0FBQ0E7QUFDQSxlQUFlLGdFQUFTO0FBQ3hCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGtGQUF1QjtBQUMxRTtBQUNBO0FBQ0EsWUFBWSx3RUFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix1RkFBZ0M7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxnRUFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELE9BQU8sZ0VBQVM7QUFDckU7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhEQUFPO0FBQzNCLHlFQUF5RTtBQUN6RTtBQUNBLEtBQUs7QUFDTCx1QkFBdUIsb0VBQWE7QUFDcEMsY0FBYyw4REFBTztBQUNyQiw2QkFBNkIsOERBQU87QUFDcEMsZ0NBQWdDLDhEQUFPO0FBQ3ZDLDZCQUE2Qiw4REFBTztBQUNwQyw2QkFBNkIsOERBQU87QUFDcEMsNEJBQTRCLDhEQUFPLHdCQUF3QiwrQ0FBK0M7QUFDMUcsOEJBQThCLDhEQUFPLGVBQWUsd0NBQXdDO0FBQzVGLG1CQUFtQiw4REFBTztBQUMxQjtBQUNBO0FBQ0EseUJBQXlCLGdFQUFTO0FBQ2xDLDZCQUE2QixnRUFBUztBQUN0QztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxnQ0FBZ0MsMEVBQW1CO0FBQ25ELFlBQVksb0VBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFTO0FBQ3RDLGlDQUFpQyxnRUFBUztBQUMxQyxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxtQkFBbUIsOERBQU87QUFDMUI7QUFDQSxTQUFTO0FBQ1QsaUJBQWlCLDhEQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQWE7QUFDN0I7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLDhEQUFPO0FBQzNCO0FBQ0EsU0FBUztBQUNUO0FBQ0EscUNBQXFDLDhEQUFPO0FBQzVDLG9DQUFvQyw4REFBTztBQUMzQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnRUFBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJFQUFvQixDQUFDLHlFQUFrQjtBQUNwRCxZQUFZLCtEQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0VBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw2REFBTSxHQUFHO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jvb3QvcnVtUHVibGljQXBpLmpzP2ZjNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzaWduLCBCb3VuZGVkQnVmZmVyLCBidWlsZENvb2tpZU9wdGlvbnMsIGNyZWF0ZUNvbnRleHRNYW5hZ2VyLCBkZWVwQ2xvbmUsIG1ha2VQdWJsaWNBcGksIG1vbml0b3IsIGNsb2Nrc05vdywgdGltZVN0YW1wTm93LCBkaXNwbGF5LCBjYWxsTW9uaXRvcmVkLCBjcmVhdGVIYW5kbGluZ1N0YWNrLCBjYW5Vc2VFdmVudEJyaWRnZSwgYXJlQ29va2llc0F1dGhvcml6ZWQsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHdpbGxTeW50aGV0aWNzSW5qZWN0UnVtIH0gZnJvbSAnLi4vZG9tYWluL3N5bnRoZXRpY3NDb250ZXh0JztcbmltcG9ydCB7IHZhbGlkYXRlQW5kQnVpbGRSdW1Db25maWd1cmF0aW9uIH0gZnJvbSAnLi4vZG9tYWluL2NvbmZpZ3VyYXRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSdW1QdWJsaWNBcGkoc3RhcnRSdW1JbXBsLCByZWNvcmRlckFwaSwgX2EpIHtcbiAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgX2MgPSBfYi5pZ25vcmVJbml0SWZTeW50aGV0aWNzV2lsbEluamVjdFJ1bSwgaWdub3JlSW5pdElmU3ludGhldGljc1dpbGxJbmplY3RSdW0gPSBfYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jO1xuICAgIHZhciBpc0FscmVhZHlJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHZhciBnbG9iYWxDb250ZXh0TWFuYWdlciA9IGNyZWF0ZUNvbnRleHRNYW5hZ2VyKCk7XG4gICAgdmFyIHVzZXIgPSB7fTtcbiAgICB2YXIgZ2V0SW50ZXJuYWxDb250ZXh0U3RyYXRlZ3kgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH07XG4gICAgdmFyIGdldEluaXRDb25maWd1cmF0aW9uU3RyYXRlZ3kgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH07XG4gICAgdmFyIGJ1ZmZlckFwaUNhbGxzID0gbmV3IEJvdW5kZWRCdWZmZXIoKTtcbiAgICB2YXIgYWRkVGltaW5nU3RyYXRlZ3kgPSBmdW5jdGlvbiAobmFtZSwgdGltZSkge1xuICAgICAgICBpZiAodGltZSA9PT0gdm9pZCAwKSB7IHRpbWUgPSB0aW1lU3RhbXBOb3coKTsgfVxuICAgICAgICBidWZmZXJBcGlDYWxscy5hZGQoZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkVGltaW5nU3RyYXRlZ3kobmFtZSwgdGltZSk7IH0pO1xuICAgIH07XG4gICAgdmFyIHN0YXJ0Vmlld1N0cmF0ZWd5ID0gZnVuY3Rpb24gKG9wdGlvbnMsIHN0YXJ0Q2xvY2tzKSB7XG4gICAgICAgIGlmIChzdGFydENsb2NrcyA9PT0gdm9pZCAwKSB7IHN0YXJ0Q2xvY2tzID0gY2xvY2tzTm93KCk7IH1cbiAgICAgICAgYnVmZmVyQXBpQ2FsbHMuYWRkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXJ0Vmlld1N0cmF0ZWd5KG9wdGlvbnMsIHN0YXJ0Q2xvY2tzKTsgfSk7XG4gICAgfTtcbiAgICB2YXIgYWRkQWN0aW9uU3RyYXRlZ3kgPSBmdW5jdGlvbiAoYWN0aW9uLCBjb21tb25Db250ZXh0KSB7XG4gICAgICAgIGlmIChjb21tb25Db250ZXh0ID09PSB2b2lkIDApIHsgY29tbW9uQ29udGV4dCA9IGNsb25lZENvbW1vbkNvbnRleHQoKTsgfVxuICAgICAgICBidWZmZXJBcGlDYWxscy5hZGQoZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkQWN0aW9uU3RyYXRlZ3koYWN0aW9uLCBjb21tb25Db250ZXh0KTsgfSk7XG4gICAgfTtcbiAgICB2YXIgYWRkRXJyb3JTdHJhdGVneSA9IGZ1bmN0aW9uIChwcm92aWRlZEVycm9yLCBjb21tb25Db250ZXh0KSB7XG4gICAgICAgIGlmIChjb21tb25Db250ZXh0ID09PSB2b2lkIDApIHsgY29tbW9uQ29udGV4dCA9IGNsb25lZENvbW1vbkNvbnRleHQoKTsgfVxuICAgICAgICBidWZmZXJBcGlDYWxscy5hZGQoZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkRXJyb3JTdHJhdGVneShwcm92aWRlZEVycm9yLCBjb21tb25Db250ZXh0KTsgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBjbG9uZWRDb21tb25Db250ZXh0KCkge1xuICAgICAgICByZXR1cm4gZGVlcENsb25lKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGdsb2JhbENvbnRleHRNYW5hZ2VyLmdldCgpLFxuICAgICAgICAgICAgdXNlcjogdXNlcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRSdW0oaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlIGluIGEgU3ludGhldGljcyB0ZXN0IGNvbmZpZ3VyZWQgdG8gYXV0b21hdGljYWxseSBpbmplY3QgYSBSVU0gaW5zdGFuY2UsIHdlIHdhbnQgdG9cbiAgICAgICAgLy8gY29tcGxldGVseSBkaXNjYXJkIHRoZSBjdXN0b21lciBhcHBsaWNhdGlvbiBSVU0gaW5zdGFuY2UgYnkgaWdub3JpbmcgdGhlaXIgaW5pdCgpIGNhbGwuICBCdXQsXG4gICAgICAgIC8vIHdlIHNob3VsZCBub3QgaWdub3JlIHRoZSBpbml0KCkgY2FsbCBmcm9tIHRoZSBTeW50aGV0aWNzLWluamVjdGVkIFJVTSBpbnN0YW5jZSwgc28gdGhlXG4gICAgICAgIC8vIGludGVybmFsIGBpZ25vcmVJbml0SWZTeW50aGV0aWNzV2lsbEluamVjdFJ1bWAgb3B0aW9uIGlzIGhlcmUgdG8gYnlwYXNzIHRoaXMgY29uZGl0aW9uLlxuICAgICAgICBpZiAoaWdub3JlSW5pdElmU3ludGhldGljc1dpbGxJbmplY3RSdW0gJiYgd2lsbFN5bnRoZXRpY3NJbmplY3RSdW0oKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5Vc2VFdmVudEJyaWRnZSgpKSB7XG4gICAgICAgICAgICBpbml0Q29uZmlndXJhdGlvbiA9IG92ZXJyaWRlSW5pdENvbmZpZ3VyYXRpb25Gb3JCcmlkZ2UoaW5pdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFjYW5IYW5kbGVTZXNzaW9uKGluaXRDb25maWd1cmF0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2FuSW5pdFJ1bShpbml0Q29uZmlndXJhdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29uZmlndXJhdGlvbiA9IHZhbGlkYXRlQW5kQnVpbGRSdW1Db25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uKTtcbiAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uLnRyYWNrVmlld3NNYW51YWxseSkge1xuICAgICAgICAgICAgZG9TdGFydFJ1bShjb25maWd1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRyYWluIGJlZm9yZUluaXRDYWxscyBieSBidWZmZXJpbmcgdGhlbSB1bnRpbCB3ZSBzdGFydCBSVU1cbiAgICAgICAgICAgIC8vIGlmIHdlIGdldCBhIHN0YXJ0VmlldywgZHJhaW4gcmUtYnVmZmVyZWQgY2FsbHMgYmVmb3JlIGNvbnRpbnVpbmcgdG8gZHJhaW4gYmVmb3JlSW5pdENhbGxzXG4gICAgICAgICAgICAvLyBpbiBvcmRlciB0byBlbnN1cmUgdGhhdCBjYWxscyBhcmUgcHJvY2Vzc2VkIGluIG9yZGVyXG4gICAgICAgICAgICB2YXIgYmVmb3JlSW5pdENhbGxzID0gYnVmZmVyQXBpQ2FsbHM7XG4gICAgICAgICAgICBidWZmZXJBcGlDYWxscyA9IG5ldyBCb3VuZGVkQnVmZmVyKCk7XG4gICAgICAgICAgICBzdGFydFZpZXdTdHJhdGVneSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgZG9TdGFydFJ1bShjb25maWd1cmF0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBiZWZvcmVJbml0Q2FsbHMuZHJhaW4oKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRJbml0Q29uZmlndXJhdGlvblN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVlcENsb25lKGluaXRDb25maWd1cmF0aW9uKTsgfTtcbiAgICAgICAgaXNBbHJlYWR5SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkb1N0YXJ0UnVtKGNvbmZpZ3VyYXRpb24sIGluaXRpYWxWaWV3T3B0aW9ucykge1xuICAgICAgICB2YXIgc3RhcnRSdW1SZXN1bHRzID0gc3RhcnRSdW1JbXBsKGNvbmZpZ3VyYXRpb24sIGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7XG4gICAgICAgICAgICB1c2VyOiB1c2VyLFxuICAgICAgICAgICAgY29udGV4dDogZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0KCksXG4gICAgICAgICAgICBoYXNSZXBsYXk6IHJlY29yZGVyQXBpLmlzUmVjb3JkaW5nKCkgPyB0cnVlIDogdW5kZWZpbmVkLFxuICAgICAgICB9KTsgfSwgcmVjb3JkZXJBcGksIGluaXRpYWxWaWV3T3B0aW9ucyk7XG4gICAgICAgIChzdGFydFZpZXdTdHJhdGVneSA9IHN0YXJ0UnVtUmVzdWx0cy5zdGFydFZpZXcsIGFkZEFjdGlvblN0cmF0ZWd5ID0gc3RhcnRSdW1SZXN1bHRzLmFkZEFjdGlvbiwgYWRkRXJyb3JTdHJhdGVneSA9IHN0YXJ0UnVtUmVzdWx0cy5hZGRFcnJvciwgYWRkVGltaW5nU3RyYXRlZ3kgPSBzdGFydFJ1bVJlc3VsdHMuYWRkVGltaW5nLCBnZXRJbnRlcm5hbENvbnRleHRTdHJhdGVneSA9IHN0YXJ0UnVtUmVzdWx0cy5nZXRJbnRlcm5hbENvbnRleHQpO1xuICAgICAgICBidWZmZXJBcGlDYWxscy5kcmFpbigpO1xuICAgICAgICByZWNvcmRlckFwaS5vblJ1bVN0YXJ0KHN0YXJ0UnVtUmVzdWx0cy5saWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHN0YXJ0UnVtUmVzdWx0cy5zZXNzaW9uLCBzdGFydFJ1bVJlc3VsdHMudmlld0NvbnRleHRzKTtcbiAgICB9XG4gICAgdmFyIHN0YXJ0VmlldyA9IG1vbml0b3IoZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNhbml0aXplZE9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcgPyBvcHRpb25zIDogeyBuYW1lOiBvcHRpb25zIH07XG4gICAgICAgIHN0YXJ0Vmlld1N0cmF0ZWd5KHNhbml0aXplZE9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciBydW1QdWJsaWNBcGkgPSBtYWtlUHVibGljQXBpKHtcbiAgICAgICAgaW5pdDogbW9uaXRvcihpbml0UnVtKSxcbiAgICAgICAgYWRkUnVtR2xvYmFsQ29udGV4dDogbW9uaXRvcihnbG9iYWxDb250ZXh0TWFuYWdlci5hZGQpLFxuICAgICAgICByZW1vdmVSdW1HbG9iYWxDb250ZXh0OiBtb25pdG9yKGdsb2JhbENvbnRleHRNYW5hZ2VyLnJlbW92ZSksXG4gICAgICAgIGdldFJ1bUdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0KSxcbiAgICAgICAgc2V0UnVtR2xvYmFsQ29udGV4dDogbW9uaXRvcihnbG9iYWxDb250ZXh0TWFuYWdlci5zZXQpLFxuICAgICAgICBnZXRJbnRlcm5hbENvbnRleHQ6IG1vbml0b3IoZnVuY3Rpb24gKHN0YXJ0VGltZSkgeyByZXR1cm4gZ2V0SW50ZXJuYWxDb250ZXh0U3RyYXRlZ3koc3RhcnRUaW1lKTsgfSksXG4gICAgICAgIGdldEluaXRDb25maWd1cmF0aW9uOiBtb25pdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldEluaXRDb25maWd1cmF0aW9uU3RyYXRlZ3koKTsgfSksXG4gICAgICAgIGFkZEFjdGlvbjogbW9uaXRvcihmdW5jdGlvbiAobmFtZSwgY29udGV4dCkge1xuICAgICAgICAgICAgYWRkQWN0aW9uU3RyYXRlZ3koe1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgY29udGV4dDogZGVlcENsb25lKGNvbnRleHQpLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q2xvY2tzOiBjbG9ja3NOb3coKSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImN1c3RvbVwiIC8qIENVU1RPTSAqLyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSxcbiAgICAgICAgYWRkRXJyb3I6IGZ1bmN0aW9uIChlcnJvciwgY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsaW5nU3RhY2sgPSBjcmVhdGVIYW5kbGluZ1N0YWNrKCk7XG4gICAgICAgICAgICBjYWxsTW9uaXRvcmVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclN0cmF0ZWd5KHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGluZ1N0YWNrOiBoYW5kbGluZ1N0YWNrLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBkZWVwQ2xvbmUoY29udGV4dCksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Q2xvY2tzOiBjbG9ja3NOb3coKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhZGRUaW1pbmc6IG1vbml0b3IoZnVuY3Rpb24gKG5hbWUsIHRpbWUpIHtcbiAgICAgICAgICAgIGFkZFRpbWluZ1N0cmF0ZWd5KG5hbWUsIHRpbWUpO1xuICAgICAgICB9KSxcbiAgICAgICAgc2V0VXNlcjogbW9uaXRvcihmdW5jdGlvbiAobmV3VXNlcikge1xuICAgICAgICAgICAgdmFyIHNhbml0aXplZFVzZXIgPSBzYW5pdGl6ZVVzZXIobmV3VXNlcik7XG4gICAgICAgICAgICBpZiAoc2FuaXRpemVkVXNlcikge1xuICAgICAgICAgICAgICAgIHVzZXIgPSBzYW5pdGl6ZWRVc2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheS5lcnJvcignVW5zdXBwb3J0ZWQgdXNlcjonLCBuZXdVc2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHJlbW92ZVVzZXI6IG1vbml0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdXNlciA9IHt9O1xuICAgICAgICB9KSxcbiAgICAgICAgc3RhcnRWaWV3OiBzdGFydFZpZXcsXG4gICAgICAgIHN0YXJ0U2Vzc2lvblJlcGxheVJlY29yZGluZzogbW9uaXRvcihyZWNvcmRlckFwaS5zdGFydCksXG4gICAgICAgIHN0b3BTZXNzaW9uUmVwbGF5UmVjb3JkaW5nOiBtb25pdG9yKHJlY29yZGVyQXBpLnN0b3ApLFxuICAgIH0pO1xuICAgIHJldHVybiBydW1QdWJsaWNBcGk7XG4gICAgZnVuY3Rpb24gc2FuaXRpemVVc2VyKG5ld1VzZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXdVc2VyICE9PSAnb2JqZWN0JyB8fCAhbmV3VXNlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBkZWVwQ2xvbmUobmV3VXNlcik7XG4gICAgICAgIGlmICgnaWQnIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0LmlkID0gU3RyaW5nKHJlc3VsdC5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCduYW1lJyBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gU3RyaW5nKHJlc3VsdC5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2VtYWlsJyBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5lbWFpbCA9IFN0cmluZyhyZXN1bHQuZW1haWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbkhhbmRsZVNlc3Npb24oaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKCFhcmVDb29raWVzQXV0aG9yaXplZChidWlsZENvb2tpZU9wdGlvbnMoaW5pdENvbmZpZ3VyYXRpb24pKSkge1xuICAgICAgICAgICAgZGlzcGxheS53YXJuKCdDb29raWVzIGFyZSBub3QgYXV0aG9yaXplZCwgd2Ugd2lsbCBub3Qgc2VuZCBhbnkgZGF0YS4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNMb2NhbEZpbGUoKSkge1xuICAgICAgICAgICAgZGlzcGxheS5lcnJvcignRXhlY3V0aW9uIGlzIG5vdCBhbGxvd2VkIGluIHRoZSBjdXJyZW50IGNvbnRleHQuJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbkluaXRSdW0oaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGlzQWxyZWFkeUluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBpZiAoIWluaXRDb25maWd1cmF0aW9uLnNpbGVudE11bHRpcGxlSW5pdCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXkuZXJyb3IoJ0REX1JVTSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvdmVycmlkZUluaXRDb25maWd1cmF0aW9uRm9yQnJpZGdlKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBhc3NpZ24oe30sIGluaXRDb25maWd1cmF0aW9uLCB7XG4gICAgICAgICAgICBhcHBsaWNhdGlvbklkOiAnMDAwMDAwMDAtYWFhYS0wMDAwLWFhYWEtMDAwMDAwMDAwMDAwJyxcbiAgICAgICAgICAgIGNsaWVudFRva2VuOiAnZW1wdHknLFxuICAgICAgICAgICAgc2FtcGxlUmF0ZTogMTAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNMb2NhbEZpbGUoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdmaWxlOic7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVtUHVibGljQXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/boot/rumPublicApi.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/boot/startRum.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/boot/startRum.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startRum\": function() { return /* binding */ startRum; },\n/* harmony export */   \"startRumEventCollection\": function() { return /* binding */ startRumEventCollection; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../browser/domMutationObservable */ \"./node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js\");\n/* harmony import */ var _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../browser/performanceCollection */ \"./node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js\");\n/* harmony import */ var _domain_assembly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../domain/assembly */ \"./node_modules/@datadog/browser-rum-core/esm/domain/assembly.js\");\n/* harmony import */ var _domain_foregroundContexts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../domain/foregroundContexts */ \"./node_modules/@datadog/browser-rum-core/esm/domain/foregroundContexts.js\");\n/* harmony import */ var _domain_internalContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../domain/internalContext */ \"./node_modules/@datadog/browser-rum-core/esm/domain/internalContext.js\");\n/* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../domain/lifeCycle */ \"./node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js\");\n/* harmony import */ var _domain_viewContexts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../domain/viewContexts */ \"./node_modules/@datadog/browser-rum-core/esm/domain/viewContexts.js\");\n/* harmony import */ var _domain_requestCollection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../domain/requestCollection */ \"./node_modules/@datadog/browser-rum-core/esm/domain/requestCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_action_actionCollection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../domain/rumEventsCollection/action/actionCollection */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/actionCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_error_errorCollection__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../domain/rumEventsCollection/error/errorCollection */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/errorCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_longTask_longTaskCollection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../domain/rumEventsCollection/longTask/longTaskCollection */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/longTask/longTaskCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_resource_resourceCollection__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../domain/rumEventsCollection/resource/resourceCollection */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_view_viewCollection__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../domain/rumEventsCollection/view/viewCollection */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/viewCollection.js\");\n/* harmony import */ var _domain_rumSessionManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../domain/rumSessionManager */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumSessionManager.js\");\n/* harmony import */ var _transport_startRumBatch__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../transport/startRumBatch */ \"./node_modules/@datadog/browser-rum-core/esm/transport/startRumBatch.js\");\n/* harmony import */ var _transport_startRumEventBridge__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../transport/startRumEventBridge */ \"./node_modules/@datadog/browser-rum-core/esm/transport/startRumEventBridge.js\");\n/* harmony import */ var _domain_urlContexts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../domain/urlContexts */ \"./node_modules/@datadog/browser-rum-core/esm/domain/urlContexts.js\");\n/* harmony import */ var _browser_locationChangeObservable__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../browser/locationChangeObservable */ \"./node_modules/@datadog/browser-rum-core/esm/browser/locationChangeObservable.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction startRum(configuration, getCommonContext, recorderApi, initialViewOptions) {\n    var lifeCycle = new _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_5__.LifeCycle();\n    var telemetry = startRumTelemetry(configuration);\n    telemetry.setContextProvider(function () {\n        var _a, _b;\n        return ({\n            application: {\n                id: configuration.applicationId,\n            },\n            session: {\n                id: (_a = session.findTrackedSession()) === null || _a === void 0 ? void 0 : _a.id,\n            },\n            view: {\n                id: (_b = viewContexts.findView()) === null || _b === void 0 ? void 0 : _b.view.id,\n            },\n            action: {\n                id: actionContexts.findActionId(),\n            },\n        });\n    });\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.canUseEventBridge)()) {\n        (0,_transport_startRumBatch__WEBPACK_IMPORTED_MODULE_14__.startRumBatch)(configuration, lifeCycle, telemetry.observable);\n    }\n    else {\n        (0,_transport_startRumEventBridge__WEBPACK_IMPORTED_MODULE_15__.startRumEventBridge)(lifeCycle);\n    }\n    var session = !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.canUseEventBridge)() ? (0,_domain_rumSessionManager__WEBPACK_IMPORTED_MODULE_13__.startRumSessionManager)(configuration, lifeCycle) : (0,_domain_rumSessionManager__WEBPACK_IMPORTED_MODULE_13__.startRumSessionManagerStub)();\n    var domMutationObservable = (0,_browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_0__.createDOMMutationObservable)();\n    var locationChangeObservable = (0,_browser_locationChangeObservable__WEBPACK_IMPORTED_MODULE_17__.createLocationChangeObservable)(location);\n    var _a = startRumEventCollection(lifeCycle, configuration, location, session, locationChangeObservable, domMutationObservable, getCommonContext), viewContexts = _a.viewContexts, foregroundContexts = _a.foregroundContexts, urlContexts = _a.urlContexts, actionContexts = _a.actionContexts, addAction = _a.addAction;\n    (0,_domain_rumEventsCollection_longTask_longTaskCollection__WEBPACK_IMPORTED_MODULE_10__.startLongTaskCollection)(lifeCycle, session);\n    (0,_domain_rumEventsCollection_resource_resourceCollection__WEBPACK_IMPORTED_MODULE_11__.startResourceCollection)(lifeCycle);\n    var _b = (0,_domain_rumEventsCollection_view_viewCollection__WEBPACK_IMPORTED_MODULE_12__.startViewCollection)(lifeCycle, configuration, location, domMutationObservable, locationChangeObservable, foregroundContexts, recorderApi, initialViewOptions), addTiming = _b.addTiming, startView = _b.startView;\n    var addError = (0,_domain_rumEventsCollection_error_errorCollection__WEBPACK_IMPORTED_MODULE_9__.startErrorCollection)(lifeCycle, foregroundContexts).addError;\n    (0,_domain_requestCollection__WEBPACK_IMPORTED_MODULE_7__.startRequestCollection)(lifeCycle, configuration, session);\n    (0,_browser_performanceCollection__WEBPACK_IMPORTED_MODULE_1__.startPerformanceCollection)(lifeCycle, configuration);\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.startFlushFailedSendBeacons)();\n    var internalContext = (0,_domain_internalContext__WEBPACK_IMPORTED_MODULE_4__.startInternalContext)(configuration.applicationId, session, viewContexts, actionContexts, urlContexts);\n    return {\n        addAction: addAction,\n        addError: addError,\n        addTiming: addTiming,\n        startView: startView,\n        lifeCycle: lifeCycle,\n        viewContexts: viewContexts,\n        session: session,\n        getInternalContext: internalContext.get,\n    };\n}\nfunction startRumTelemetry(configuration) {\n    var telemetry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.startTelemetry)(configuration);\n    if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.canUseEventBridge)()) {\n        var bridge_1 = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.getEventBridge)();\n        telemetry.observable.subscribe(function (event) { return bridge_1.send('internal_telemetry', event); });\n    }\n    return telemetry;\n}\nfunction startRumEventCollection(lifeCycle, configuration, location, sessionManager, locationChangeObservable, domMutationObservable, getCommonContext) {\n    var viewContexts = (0,_domain_viewContexts__WEBPACK_IMPORTED_MODULE_6__.startViewContexts)(lifeCycle);\n    var urlContexts = (0,_domain_urlContexts__WEBPACK_IMPORTED_MODULE_16__.startUrlContexts)(lifeCycle, locationChangeObservable, location);\n    var foregroundContexts = (0,_domain_foregroundContexts__WEBPACK_IMPORTED_MODULE_3__.startForegroundContexts)();\n    var _a = (0,_domain_rumEventsCollection_action_actionCollection__WEBPACK_IMPORTED_MODULE_8__.startActionCollection)(lifeCycle, domMutationObservable, configuration, foregroundContexts), addAction = _a.addAction, actionContexts = _a.actionContexts;\n    (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.startRumAssembly)(configuration, lifeCycle, sessionManager, viewContexts, urlContexts, actionContexts, getCommonContext);\n    return {\n        viewContexts: viewContexts,\n        foregroundContexts: foregroundContexts,\n        urlContexts: urlContexts,\n        addAction: addAction,\n        actionContexts: actionContexts,\n        stop: function () {\n            viewContexts.stop();\n            foregroundContexts.stop();\n        },\n    };\n}\n//# sourceMappingURL=startRum.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vYm9vdC9zdGFydFJ1bS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUg7QUFDeEM7QUFDRDtBQUN4QjtBQUNpQjtBQUNOO0FBQ2pCO0FBQ1c7QUFDVTtBQUN5QjtBQUNIO0FBQ1M7QUFDQTtBQUNaO0FBQ1M7QUFDdEM7QUFDWTtBQUNkO0FBQzRCO0FBQzlFO0FBQ1Asd0JBQXdCLHdEQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVMseUVBQWlCO0FBQzFCLFFBQVEsd0VBQWE7QUFDckI7QUFDQTtBQUNBLFFBQVEsb0ZBQW1CO0FBQzNCO0FBQ0EsbUJBQW1CLHlFQUFpQixLQUFLLGtGQUFzQiw2QkFBNkIsc0ZBQTBCO0FBQ3RILGdDQUFnQywyRkFBMkI7QUFDM0QsbUNBQW1DLGtHQUE4QjtBQUNqRTtBQUNBLElBQUksaUhBQXVCO0FBQzNCLElBQUksaUhBQXVCO0FBQzNCLGFBQWEscUdBQW1CO0FBQ2hDLG1CQUFtQix1R0FBb0I7QUFDdkMsSUFBSSxpRkFBc0I7QUFDMUIsSUFBSSwwRkFBMEI7QUFDOUIsSUFBSSxtRkFBMkI7QUFDL0IsMEJBQTBCLDZFQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0VBQWM7QUFDbEMsUUFBUSx5RUFBaUI7QUFDekIsdUJBQXVCLHNFQUFjO0FBQ3JDLDBEQUEwRCxvREFBb0Q7QUFDOUc7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUIsdUVBQWlCO0FBQ3hDLHNCQUFzQixzRUFBZ0I7QUFDdEMsNkJBQTZCLG1GQUF1QjtBQUNwRCxhQUFhLDBHQUFxQjtBQUNsQyxJQUFJLGtFQUFnQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9ib290L3N0YXJ0UnVtLmpzPzRjYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RhcnRUZWxlbWV0cnksIGNhblVzZUV2ZW50QnJpZGdlLCBnZXRFdmVudEJyaWRnZSwgc3RhcnRGbHVzaEZhaWxlZFNlbmRCZWFjb25zIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IGNyZWF0ZURPTU11dGF0aW9uT2JzZXJ2YWJsZSB9IGZyb20gJy4uL2Jyb3dzZXIvZG9tTXV0YXRpb25PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN0YXJ0UGVyZm9ybWFuY2VDb2xsZWN0aW9uIH0gZnJvbSAnLi4vYnJvd3Nlci9wZXJmb3JtYW5jZUNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3RhcnRSdW1Bc3NlbWJseSB9IGZyb20gJy4uL2RvbWFpbi9hc3NlbWJseSc7XG5pbXBvcnQgeyBzdGFydEZvcmVncm91bmRDb250ZXh0cyB9IGZyb20gJy4uL2RvbWFpbi9mb3JlZ3JvdW5kQ29udGV4dHMnO1xuaW1wb3J0IHsgc3RhcnRJbnRlcm5hbENvbnRleHQgfSBmcm9tICcuLi9kb21haW4vaW50ZXJuYWxDb250ZXh0JztcbmltcG9ydCB7IExpZmVDeWNsZSB9IGZyb20gJy4uL2RvbWFpbi9saWZlQ3ljbGUnO1xuaW1wb3J0IHsgc3RhcnRWaWV3Q29udGV4dHMgfSBmcm9tICcuLi9kb21haW4vdmlld0NvbnRleHRzJztcbmltcG9ydCB7IHN0YXJ0UmVxdWVzdENvbGxlY3Rpb24gfSBmcm9tICcuLi9kb21haW4vcmVxdWVzdENvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3RhcnRBY3Rpb25Db2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2FjdGlvbkNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3RhcnRFcnJvckNvbGxlY3Rpb24gfSBmcm9tICcuLi9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9lcnJvci9lcnJvckNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3RhcnRMb25nVGFza0NvbGxlY3Rpb24gfSBmcm9tICcuLi9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9sb25nVGFzay9sb25nVGFza0NvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3RhcnRSZXNvdXJjZUNvbGxlY3Rpb24gfSBmcm9tICcuLi9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9yZXNvdXJjZS9yZXNvdXJjZUNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3RhcnRWaWV3Q29sbGVjdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3ZpZXcvdmlld0NvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3RhcnRSdW1TZXNzaW9uTWFuYWdlciwgc3RhcnRSdW1TZXNzaW9uTWFuYWdlclN0dWIgfSBmcm9tICcuLi9kb21haW4vcnVtU2Vzc2lvbk1hbmFnZXInO1xuaW1wb3J0IHsgc3RhcnRSdW1CYXRjaCB9IGZyb20gJy4uL3RyYW5zcG9ydC9zdGFydFJ1bUJhdGNoJztcbmltcG9ydCB7IHN0YXJ0UnVtRXZlbnRCcmlkZ2UgfSBmcm9tICcuLi90cmFuc3BvcnQvc3RhcnRSdW1FdmVudEJyaWRnZSc7XG5pbXBvcnQgeyBzdGFydFVybENvbnRleHRzIH0gZnJvbSAnLi4vZG9tYWluL3VybENvbnRleHRzJztcbmltcG9ydCB7IGNyZWF0ZUxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSB9IGZyb20gJy4uL2Jyb3dzZXIvbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFJ1bShjb25maWd1cmF0aW9uLCBnZXRDb21tb25Db250ZXh0LCByZWNvcmRlckFwaSwgaW5pdGlhbFZpZXdPcHRpb25zKSB7XG4gICAgdmFyIGxpZmVDeWNsZSA9IG5ldyBMaWZlQ3ljbGUoKTtcbiAgICB2YXIgdGVsZW1ldHJ5ID0gc3RhcnRSdW1UZWxlbWV0cnkoY29uZmlndXJhdGlvbik7XG4gICAgdGVsZW1ldHJ5LnNldENvbnRleHRQcm92aWRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgYXBwbGljYXRpb246IHtcbiAgICAgICAgICAgICAgICBpZDogY29uZmlndXJhdGlvbi5hcHBsaWNhdGlvbklkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgICAgICBpZDogKF9hID0gc2Vzc2lvbi5maW5kVHJhY2tlZFNlc3Npb24oKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpZXc6IHtcbiAgICAgICAgICAgICAgICBpZDogKF9iID0gdmlld0NvbnRleHRzLmZpbmRWaWV3KCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi52aWV3LmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIGlkOiBhY3Rpb25Db250ZXh0cy5maW5kQWN0aW9uSWQoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmICghY2FuVXNlRXZlbnRCcmlkZ2UoKSkge1xuICAgICAgICBzdGFydFJ1bUJhdGNoKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSwgdGVsZW1ldHJ5Lm9ic2VydmFibGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhcnRSdW1FdmVudEJyaWRnZShsaWZlQ3ljbGUpO1xuICAgIH1cbiAgICB2YXIgc2Vzc2lvbiA9ICFjYW5Vc2VFdmVudEJyaWRnZSgpID8gc3RhcnRSdW1TZXNzaW9uTWFuYWdlcihjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUpIDogc3RhcnRSdW1TZXNzaW9uTWFuYWdlclN0dWIoKTtcbiAgICB2YXIgZG9tTXV0YXRpb25PYnNlcnZhYmxlID0gY3JlYXRlRE9NTXV0YXRpb25PYnNlcnZhYmxlKCk7XG4gICAgdmFyIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSA9IGNyZWF0ZUxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZShsb2NhdGlvbik7XG4gICAgdmFyIF9hID0gc3RhcnRSdW1FdmVudENvbGxlY3Rpb24obGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBsb2NhdGlvbiwgc2Vzc2lvbiwgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGdldENvbW1vbkNvbnRleHQpLCB2aWV3Q29udGV4dHMgPSBfYS52aWV3Q29udGV4dHMsIGZvcmVncm91bmRDb250ZXh0cyA9IF9hLmZvcmVncm91bmRDb250ZXh0cywgdXJsQ29udGV4dHMgPSBfYS51cmxDb250ZXh0cywgYWN0aW9uQ29udGV4dHMgPSBfYS5hY3Rpb25Db250ZXh0cywgYWRkQWN0aW9uID0gX2EuYWRkQWN0aW9uO1xuICAgIHN0YXJ0TG9uZ1Rhc2tDb2xsZWN0aW9uKGxpZmVDeWNsZSwgc2Vzc2lvbik7XG4gICAgc3RhcnRSZXNvdXJjZUNvbGxlY3Rpb24obGlmZUN5Y2xlKTtcbiAgICB2YXIgX2IgPSBzdGFydFZpZXdDb2xsZWN0aW9uKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgbG9jYXRpb24sIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLCBmb3JlZ3JvdW5kQ29udGV4dHMsIHJlY29yZGVyQXBpLCBpbml0aWFsVmlld09wdGlvbnMpLCBhZGRUaW1pbmcgPSBfYi5hZGRUaW1pbmcsIHN0YXJ0VmlldyA9IF9iLnN0YXJ0VmlldztcbiAgICB2YXIgYWRkRXJyb3IgPSBzdGFydEVycm9yQ29sbGVjdGlvbihsaWZlQ3ljbGUsIGZvcmVncm91bmRDb250ZXh0cykuYWRkRXJyb3I7XG4gICAgc3RhcnRSZXF1ZXN0Q29sbGVjdGlvbihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHNlc3Npb24pO1xuICAgIHN0YXJ0UGVyZm9ybWFuY2VDb2xsZWN0aW9uKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbik7XG4gICAgc3RhcnRGbHVzaEZhaWxlZFNlbmRCZWFjb25zKCk7XG4gICAgdmFyIGludGVybmFsQ29udGV4dCA9IHN0YXJ0SW50ZXJuYWxDb250ZXh0KGNvbmZpZ3VyYXRpb24uYXBwbGljYXRpb25JZCwgc2Vzc2lvbiwgdmlld0NvbnRleHRzLCBhY3Rpb25Db250ZXh0cywgdXJsQ29udGV4dHMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZEFjdGlvbjogYWRkQWN0aW9uLFxuICAgICAgICBhZGRFcnJvcjogYWRkRXJyb3IsXG4gICAgICAgIGFkZFRpbWluZzogYWRkVGltaW5nLFxuICAgICAgICBzdGFydFZpZXc6IHN0YXJ0VmlldyxcbiAgICAgICAgbGlmZUN5Y2xlOiBsaWZlQ3ljbGUsXG4gICAgICAgIHZpZXdDb250ZXh0czogdmlld0NvbnRleHRzLFxuICAgICAgICBzZXNzaW9uOiBzZXNzaW9uLFxuICAgICAgICBnZXRJbnRlcm5hbENvbnRleHQ6IGludGVybmFsQ29udGV4dC5nZXQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0YXJ0UnVtVGVsZW1ldHJ5KGNvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgdGVsZW1ldHJ5ID0gc3RhcnRUZWxlbWV0cnkoY29uZmlndXJhdGlvbik7XG4gICAgaWYgKGNhblVzZUV2ZW50QnJpZGdlKCkpIHtcbiAgICAgICAgdmFyIGJyaWRnZV8xID0gZ2V0RXZlbnRCcmlkZ2UoKTtcbiAgICAgICAgdGVsZW1ldHJ5Lm9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gYnJpZGdlXzEuc2VuZCgnaW50ZXJuYWxfdGVsZW1ldHJ5JywgZXZlbnQpOyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRlbGVtZXRyeTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFJ1bUV2ZW50Q29sbGVjdGlvbihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIGxvY2F0aW9uLCBzZXNzaW9uTWFuYWdlciwgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGdldENvbW1vbkNvbnRleHQpIHtcbiAgICB2YXIgdmlld0NvbnRleHRzID0gc3RhcnRWaWV3Q29udGV4dHMobGlmZUN5Y2xlKTtcbiAgICB2YXIgdXJsQ29udGV4dHMgPSBzdGFydFVybENvbnRleHRzKGxpZmVDeWNsZSwgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLCBsb2NhdGlvbik7XG4gICAgdmFyIGZvcmVncm91bmRDb250ZXh0cyA9IHN0YXJ0Rm9yZWdyb3VuZENvbnRleHRzKCk7XG4gICAgdmFyIF9hID0gc3RhcnRBY3Rpb25Db2xsZWN0aW9uKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uLCBmb3JlZ3JvdW5kQ29udGV4dHMpLCBhZGRBY3Rpb24gPSBfYS5hZGRBY3Rpb24sIGFjdGlvbkNvbnRleHRzID0gX2EuYWN0aW9uQ29udGV4dHM7XG4gICAgc3RhcnRSdW1Bc3NlbWJseShjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUsIHNlc3Npb25NYW5hZ2VyLCB2aWV3Q29udGV4dHMsIHVybENvbnRleHRzLCBhY3Rpb25Db250ZXh0cywgZ2V0Q29tbW9uQ29udGV4dCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmlld0NvbnRleHRzOiB2aWV3Q29udGV4dHMsXG4gICAgICAgIGZvcmVncm91bmRDb250ZXh0czogZm9yZWdyb3VuZENvbnRleHRzLFxuICAgICAgICB1cmxDb250ZXh0czogdXJsQ29udGV4dHMsXG4gICAgICAgIGFkZEFjdGlvbjogYWRkQWN0aW9uLFxuICAgICAgICBhY3Rpb25Db250ZXh0czogYWN0aW9uQ29udGV4dHMsXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZpZXdDb250ZXh0cy5zdG9wKCk7XG4gICAgICAgICAgICBmb3JlZ3JvdW5kQ29udGV4dHMuc3RvcCgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFydFJ1bS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/boot/startRum.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createDOMMutationObservable\": function() { return /* binding */ createDOMMutationObservable; },\n/* harmony export */   \"getMutationObserverConstructor\": function() { return /* binding */ getMutationObserverConstructor; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nfunction createDOMMutationObservable() {\n    var MutationObserver = getMutationObserverConstructor();\n    var observable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        if (!MutationObserver) {\n            return;\n        }\n        var observer = new MutationObserver((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.monitor)(function () { return observable.notify(); }));\n        observer.observe(document, {\n            attributes: true,\n            characterData: true,\n            childList: true,\n            subtree: true,\n        });\n        return function () { return observer.disconnect(); };\n    });\n    return observable;\n}\nfunction getMutationObserverConstructor() {\n    var constructor;\n    var browserWindow = window;\n    // Angular uses Zone.js to provide a context persisting across async tasks.  Zone.js replaces the\n    // global MutationObserver constructor with a patched version to support the context propagation.\n    // There is an ongoing issue[1][2] with this setup when using a MutationObserver within a Angular\n    // component: on some occasions, the callback is being called in an infinite loop, causing the\n    // page to freeze (even if the callback is completely empty).\n    //\n    // To work around this issue, we try to get the original MutationObserver constructor stored by\n    // Zone.js.\n    //\n    // [1] https://github.com/angular/angular/issues/26948\n    // [2] https://github.com/angular/angular/issues/31712\n    if (browserWindow.Zone) {\n        var zoneSymbol = browserWindow.Zone.__symbol__;\n        // Zone.js 0.8.6+ is storing original class constructors into the browser 'window' object[3].\n        //\n        // [3] https://github.com/angular/angular/blob/6375fa79875c0fe7b815efc45940a6e6f5c9c9eb/packages/zone.js/lib/common/utils.ts#L288\n        constructor = browserWindow[zoneSymbol('MutationObserver')];\n        if (!constructor && browserWindow.MutationObserver) {\n            // Anterior Zone.js versions (used in Angular 2) does not expose the original MutationObserver\n            // in the 'window' object. Luckily, the patched MutationObserver class is storing an original\n            // instance in its properties[4]. Let's get the original MutationObserver constructor from\n            // there.\n            //\n            // [4] https://github.com/angular/zone.js/blob/v0.8.5/lib/common/utils.ts#L412\n            var patchedInstance = new browserWindow.MutationObserver(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.noop);\n            var originalInstance = patchedInstance[zoneSymbol('originalInstance')];\n            constructor = originalInstance && originalInstance.constructor;\n        }\n    }\n    if (!constructor) {\n        constructor = browserWindow.MutationObserver;\n    }\n    return constructor;\n}\n//# sourceMappingURL=domMutationObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vYnJvd3Nlci9kb21NdXRhdGlvbk9ic2VydmFibGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBQzNEO0FBQ1A7QUFDQSx5QkFBeUIsNkRBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLDhEQUFPLGVBQWUsNkJBQTZCO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsNkJBQTZCO0FBQzdCLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLHVEQUFJO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9icm93c2VyL2RvbU11dGF0aW9uT2JzZXJ2YWJsZS5qcz80MWY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1vbml0b3IsIG5vb3AsIE9ic2VydmFibGUgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURPTU11dGF0aW9uT2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IGdldE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3RvcigpO1xuICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIU11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtb25pdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9ic2VydmFibGUubm90aWZ5KCk7IH0pKTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwge1xuICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNdXRhdGlvbk9ic2VydmVyQ29uc3RydWN0b3IoKSB7XG4gICAgdmFyIGNvbnN0cnVjdG9yO1xuICAgIHZhciBicm93c2VyV2luZG93ID0gd2luZG93O1xuICAgIC8vIEFuZ3VsYXIgdXNlcyBab25lLmpzIHRvIHByb3ZpZGUgYSBjb250ZXh0IHBlcnNpc3RpbmcgYWNyb3NzIGFzeW5jIHRhc2tzLiAgWm9uZS5qcyByZXBsYWNlcyB0aGVcbiAgICAvLyBnbG9iYWwgTXV0YXRpb25PYnNlcnZlciBjb25zdHJ1Y3RvciB3aXRoIGEgcGF0Y2hlZCB2ZXJzaW9uIHRvIHN1cHBvcnQgdGhlIGNvbnRleHQgcHJvcGFnYXRpb24uXG4gICAgLy8gVGhlcmUgaXMgYW4gb25nb2luZyBpc3N1ZVsxXVsyXSB3aXRoIHRoaXMgc2V0dXAgd2hlbiB1c2luZyBhIE11dGF0aW9uT2JzZXJ2ZXIgd2l0aGluIGEgQW5ndWxhclxuICAgIC8vIGNvbXBvbmVudDogb24gc29tZSBvY2Nhc2lvbnMsIHRoZSBjYWxsYmFjayBpcyBiZWluZyBjYWxsZWQgaW4gYW4gaW5maW5pdGUgbG9vcCwgY2F1c2luZyB0aGVcbiAgICAvLyBwYWdlIHRvIGZyZWV6ZSAoZXZlbiBpZiB0aGUgY2FsbGJhY2sgaXMgY29tcGxldGVseSBlbXB0eSkuXG4gICAgLy9cbiAgICAvLyBUbyB3b3JrIGFyb3VuZCB0aGlzIGlzc3VlLCB3ZSB0cnkgdG8gZ2V0IHRoZSBvcmlnaW5hbCBNdXRhdGlvbk9ic2VydmVyIGNvbnN0cnVjdG9yIHN0b3JlZCBieVxuICAgIC8vIFpvbmUuanMuXG4gICAgLy9cbiAgICAvLyBbMV0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMjY5NDhcbiAgICAvLyBbMl0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzE3MTJcbiAgICBpZiAoYnJvd3NlcldpbmRvdy5ab25lKSB7XG4gICAgICAgIHZhciB6b25lU3ltYm9sID0gYnJvd3NlcldpbmRvdy5ab25lLl9fc3ltYm9sX187XG4gICAgICAgIC8vIFpvbmUuanMgMC44LjYrIGlzIHN0b3Jpbmcgb3JpZ2luYWwgY2xhc3MgY29uc3RydWN0b3JzIGludG8gdGhlIGJyb3dzZXIgJ3dpbmRvdycgb2JqZWN0WzNdLlxuICAgICAgICAvL1xuICAgICAgICAvLyBbM10gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9ibG9iLzYzNzVmYTc5ODc1YzBmZTdiODE1ZWZjNDU5NDBhNmU2ZjVjOWM5ZWIvcGFja2FnZXMvem9uZS5qcy9saWIvY29tbW9uL3V0aWxzLnRzI0wyODhcbiAgICAgICAgY29uc3RydWN0b3IgPSBicm93c2VyV2luZG93W3pvbmVTeW1ib2woJ011dGF0aW9uT2JzZXJ2ZXInKV07XG4gICAgICAgIGlmICghY29uc3RydWN0b3IgJiYgYnJvd3NlcldpbmRvdy5NdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICAgICAgICAvLyBBbnRlcmlvciBab25lLmpzIHZlcnNpb25zICh1c2VkIGluIEFuZ3VsYXIgMikgZG9lcyBub3QgZXhwb3NlIHRoZSBvcmlnaW5hbCBNdXRhdGlvbk9ic2VydmVyXG4gICAgICAgICAgICAvLyBpbiB0aGUgJ3dpbmRvdycgb2JqZWN0LiBMdWNraWx5LCB0aGUgcGF0Y2hlZCBNdXRhdGlvbk9ic2VydmVyIGNsYXNzIGlzIHN0b3JpbmcgYW4gb3JpZ2luYWxcbiAgICAgICAgICAgIC8vIGluc3RhbmNlIGluIGl0cyBwcm9wZXJ0aWVzWzRdLiBMZXQncyBnZXQgdGhlIG9yaWdpbmFsIE11dGF0aW9uT2JzZXJ2ZXIgY29uc3RydWN0b3IgZnJvbVxuICAgICAgICAgICAgLy8gdGhlcmUuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gWzRdIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3pvbmUuanMvYmxvYi92MC44LjUvbGliL2NvbW1vbi91dGlscy50cyNMNDEyXG4gICAgICAgICAgICB2YXIgcGF0Y2hlZEluc3RhbmNlID0gbmV3IGJyb3dzZXJXaW5kb3cuTXV0YXRpb25PYnNlcnZlcihub29wKTtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbEluc3RhbmNlID0gcGF0Y2hlZEluc3RhbmNlW3pvbmVTeW1ib2woJ29yaWdpbmFsSW5zdGFuY2UnKV07XG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IG9yaWdpbmFsSW5zdGFuY2UgJiYgb3JpZ2luYWxJbnN0YW5jZS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNvbnN0cnVjdG9yID0gYnJvd3NlcldpbmRvdy5NdXRhdGlvbk9ic2VydmVyO1xuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0b3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb21NdXRhdGlvbk9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/browser/locationChangeObservable.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/browser/locationChangeObservable.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createLocationChangeObservable\": function() { return /* binding */ createLocationChangeObservable; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nfunction createLocationChangeObservable(location) {\n    var currentLocation = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.shallowClone)(location);\n    var observable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var stopHistoryTracking = trackHistory(onLocationChange).stop;\n        var stopHashTracking = trackHash(onLocationChange).stop;\n        return function () {\n            stopHistoryTracking();\n            stopHashTracking();\n        };\n    });\n    function onLocationChange() {\n        if (currentLocation.href === location.href) {\n            return;\n        }\n        var newLocation = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.shallowClone)(location);\n        observable.notify({\n            newLocation: newLocation,\n            oldLocation: currentLocation,\n        });\n        currentLocation = newLocation;\n    }\n    return observable;\n}\nfunction trackHistory(onHistoryChange) {\n    var stopInstrumentingPushState = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(history, 'pushState', {\n        after: onHistoryChange,\n    }).stop;\n    var stopInstrumentingReplaceState = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(history, 'replaceState', {\n        after: onHistoryChange,\n    }).stop;\n    var removeListener = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"popstate\" /* POP_STATE */, onHistoryChange).stop;\n    return {\n        stop: function () {\n            stopInstrumentingPushState();\n            stopInstrumentingReplaceState();\n            removeListener();\n        },\n    };\n}\nfunction trackHash(onHashChange) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"hashchange\" /* HASH_CHANGE */, onHashChange);\n}\n//# sourceMappingURL=locationChangeObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vYnJvd3Nlci9sb2NhdGlvbkNoYW5nZU9ic2VydmFibGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUg7QUFDOUc7QUFDUCwwQkFBMEIsbUVBQVk7QUFDdEMseUJBQXlCLDZEQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixtRUFBWTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxzRkFBK0I7QUFDcEU7QUFDQSxLQUFLO0FBQ0wsd0NBQXdDLHNGQUErQjtBQUN2RTtBQUNBLEtBQUs7QUFDTCx5QkFBeUIsdUVBQWdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1RUFBZ0I7QUFDM0I7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vYnJvd3Nlci9sb2NhdGlvbkNoYW5nZU9ic2VydmFibGUuanM/ZjQ1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGRFdmVudExpc3RlbmVyLCBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsLCBPYnNlcnZhYmxlLCBzaGFsbG93Q2xvbmUsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbkNoYW5nZU9ic2VydmFibGUobG9jYXRpb24pIHtcbiAgICB2YXIgY3VycmVudExvY2F0aW9uID0gc2hhbGxvd0Nsb25lKGxvY2F0aW9uKTtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0b3BIaXN0b3J5VHJhY2tpbmcgPSB0cmFja0hpc3Rvcnkob25Mb2NhdGlvbkNoYW5nZSkuc3RvcDtcbiAgICAgICAgdmFyIHN0b3BIYXNoVHJhY2tpbmcgPSB0cmFja0hhc2gob25Mb2NhdGlvbkNoYW5nZSkuc3RvcDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3BIaXN0b3J5VHJhY2tpbmcoKTtcbiAgICAgICAgICAgIHN0b3BIYXNoVHJhY2tpbmcoKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBvbkxvY2F0aW9uQ2hhbmdlKCkge1xuICAgICAgICBpZiAoY3VycmVudExvY2F0aW9uLmhyZWYgPT09IGxvY2F0aW9uLmhyZWYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3TG9jYXRpb24gPSBzaGFsbG93Q2xvbmUobG9jYXRpb24pO1xuICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeSh7XG4gICAgICAgICAgICBuZXdMb2NhdGlvbjogbmV3TG9jYXRpb24sXG4gICAgICAgICAgICBvbGRMb2NhdGlvbjogY3VycmVudExvY2F0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudExvY2F0aW9uID0gbmV3TG9jYXRpb247XG4gICAgfVxuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gdHJhY2tIaXN0b3J5KG9uSGlzdG9yeUNoYW5nZSkge1xuICAgIHZhciBzdG9wSW5zdHJ1bWVudGluZ1B1c2hTdGF0ZSA9IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoaGlzdG9yeSwgJ3B1c2hTdGF0ZScsIHtcbiAgICAgICAgYWZ0ZXI6IG9uSGlzdG9yeUNoYW5nZSxcbiAgICB9KS5zdG9wO1xuICAgIHZhciBzdG9wSW5zdHJ1bWVudGluZ1JlcGxhY2VTdGF0ZSA9IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoaGlzdG9yeSwgJ3JlcGxhY2VTdGF0ZScsIHtcbiAgICAgICAgYWZ0ZXI6IG9uSGlzdG9yeUNoYW5nZSxcbiAgICB9KS5zdG9wO1xuICAgIHZhciByZW1vdmVMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcInBvcHN0YXRlXCIgLyogUE9QX1NUQVRFICovLCBvbkhpc3RvcnlDaGFuZ2UpLnN0b3A7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcEluc3RydW1lbnRpbmdQdXNoU3RhdGUoKTtcbiAgICAgICAgICAgIHN0b3BJbnN0cnVtZW50aW5nUmVwbGFjZVN0YXRlKCk7XG4gICAgICAgICAgICByZW1vdmVMaXN0ZW5lcigpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiB0cmFja0hhc2gob25IYXNoQ2hhbmdlKSB7XG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcImhhc2hjaGFuZ2VcIiAvKiBIQVNIX0NIQU5HRSAqLywgb25IYXNoQ2hhbmdlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/browser/locationChangeObservable.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"retrieveInitialDocumentResourceTiming\": function() { return /* binding */ retrieveInitialDocumentResourceTiming; },\n/* harmony export */   \"startPerformanceCollection\": function() { return /* binding */ startPerformanceCollection; },\n/* harmony export */   \"supportPerformanceEntry\": function() { return /* binding */ supportPerformanceEntry; },\n/* harmony export */   \"supportPerformanceTimingEvent\": function() { return /* binding */ supportPerformanceTimingEvent; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _domain_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/rumEventsCollection/resource/resourceUtils */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\");\n/* harmony import */ var _domain_tracing_getDocumentTraceId__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/tracing/getDocumentTraceId */ \"./node_modules/@datadog/browser-rum-core/esm/domain/tracing/getDocumentTraceId.js\");\n\n\n\nfunction supportPerformanceObject() {\n    return window.performance !== undefined && 'getEntries' in performance;\n}\nfunction supportPerformanceTimingEvent(entryType) {\n    return (window.PerformanceObserver &&\n        PerformanceObserver.supportedEntryTypes !== undefined &&\n        PerformanceObserver.supportedEntryTypes.includes(entryType));\n}\nfunction supportPerformanceEntry() {\n    // Safari 10 doesn't support PerformanceEntry\n    return typeof PerformanceEntry === 'function';\n}\nfunction startPerformanceCollection(lifeCycle, configuration) {\n    retrieveInitialDocumentResourceTiming(function (timing) {\n        handleRumPerformanceEntries(lifeCycle, configuration, [timing]);\n    });\n    if (supportPerformanceObject()) {\n        var performanceEntries_1 = performance.getEntries();\n        // Because the performance entry list can be quite large\n        // delay the computation to prevent the SDK from blocking the main thread on init\n        setTimeout((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function () { return handleRumPerformanceEntries(lifeCycle, configuration, performanceEntries_1); }));\n    }\n    if (window.PerformanceObserver) {\n        var handlePerformanceEntryList_1 = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (entries) {\n            return handleRumPerformanceEntries(lifeCycle, configuration, entries.getEntries());\n        });\n        var mainEntries = ['resource', 'navigation', 'longtask', 'paint'];\n        var experimentalEntries = ['largest-contentful-paint', 'first-input', 'layout-shift'];\n        try {\n            // Experimental entries are not retrieved by performance.getEntries()\n            // use a single PerformanceObserver with buffered flag by type\n            // to get values that could happen before SDK init\n            experimentalEntries.forEach(function (type) {\n                var observer = new PerformanceObserver(handlePerformanceEntryList_1);\n                observer.observe({ type: type, buffered: true });\n            });\n        }\n        catch (e) {\n            // Some old browser versions (ex: chrome 67) don't support the PerformanceObserver type and buffered options\n            // In these cases, fallback to PerformanceObserver with entryTypes\n            mainEntries.push.apply(mainEntries, experimentalEntries);\n        }\n        var mainObserver = new PerformanceObserver(handlePerformanceEntryList_1);\n        mainObserver.observe({ entryTypes: mainEntries });\n        if (supportPerformanceObject() && 'addEventListener' in performance) {\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1559377\n            performance.addEventListener('resourcetimingbufferfull', function () {\n                performance.clearResourceTimings();\n            });\n        }\n    }\n    if (!supportPerformanceTimingEvent('navigation')) {\n        retrieveNavigationTiming(function (timing) {\n            handleRumPerformanceEntries(lifeCycle, configuration, [timing]);\n        });\n    }\n    if (!supportPerformanceTimingEvent('first-input')) {\n        retrieveFirstInputTiming(function (timing) {\n            handleRumPerformanceEntries(lifeCycle, configuration, [timing]);\n        });\n    }\n}\nfunction retrieveInitialDocumentResourceTiming(callback) {\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.runOnReadyState)('interactive', function () {\n        var timing;\n        var forcedAttributes = {\n            entryType: 'resource',\n            initiatorType: _domain_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.FAKE_INITIAL_DOCUMENT,\n            traceId: (0,_domain_tracing_getDocumentTraceId__WEBPACK_IMPORTED_MODULE_1__.getDocumentTraceId)(document),\n        };\n        if (supportPerformanceTimingEvent('navigation') && performance.getEntriesByType('navigation').length > 0) {\n            var navigationEntry = performance.getEntriesByType('navigation')[0];\n            timing = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)(navigationEntry.toJSON(), forcedAttributes);\n        }\n        else {\n            var relativePerformanceTiming = computeRelativePerformanceTiming();\n            timing = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)(relativePerformanceTiming, {\n                decodedBodySize: 0,\n                duration: relativePerformanceTiming.responseEnd,\n                name: window.location.href,\n                startTime: 0,\n            }, forcedAttributes);\n        }\n        callback(timing);\n    });\n}\nfunction retrieveNavigationTiming(callback) {\n    function sendFakeTiming() {\n        callback((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)(computeRelativePerformanceTiming(), {\n            entryType: 'navigation',\n        }));\n    }\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.runOnReadyState)('complete', function () {\n        // Send it a bit after the actual load event, so the \"loadEventEnd\" timing is accurate\n        setTimeout((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(sendFakeTiming));\n    });\n}\n/**\n * first-input timing entry polyfill based on\n * https://github.com/GoogleChrome/web-vitals/blob/master/src/lib/polyfills/firstInputPolyfill.ts\n */\nfunction retrieveFirstInputTiming(callback) {\n    var startTimeStamp = Date.now();\n    var timingSent = false;\n    var removeEventListeners = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.addEventListeners)(window, [\"click\" /* CLICK */, \"mousedown\" /* MOUSE_DOWN */, \"keydown\" /* KEY_DOWN */, \"touchstart\" /* TOUCH_START */, \"pointerdown\" /* POINTER_DOWN */], function (evt) {\n        // Only count cancelable events, which should trigger behavior important to the user.\n        if (!evt.cancelable) {\n            return;\n        }\n        // This timing will be used to compute the \"first Input delay\", which is the delta between\n        // when the system received the event (e.g. evt.timeStamp) and when it could run the callback\n        // (e.g. performance.now()).\n        var timing = {\n            entryType: 'first-input',\n            processingStart: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.relativeNow)(),\n            startTime: evt.timeStamp,\n        };\n        if (evt.type === \"pointerdown\" /* POINTER_DOWN */) {\n            sendTimingIfPointerIsNotCancelled(timing);\n        }\n        else {\n            sendTiming(timing);\n        }\n    }, { passive: true, capture: true }).stop;\n    /**\n     * Pointer events are a special case, because they can trigger main or compositor thread behavior.\n     * We differentiate these cases based on whether or not we see a pointercancel event, which are\n     * fired when we scroll. If we're scrolling we don't need to report input delay since FID excludes\n     * scrolling and pinch/zooming.\n     */\n    function sendTimingIfPointerIsNotCancelled(timing) {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.addEventListeners)(window, [\"pointerup\" /* POINTER_UP */, \"pointercancel\" /* POINTER_CANCEL */], function (event) {\n            if (event.type === \"pointerup\" /* POINTER_UP */) {\n                sendTiming(timing);\n            }\n        }, { once: true });\n    }\n    function sendTiming(timing) {\n        if (!timingSent) {\n            timingSent = true;\n            removeEventListeners();\n            // In some cases the recorded delay is clearly wrong, e.g. it's negative or it's larger than\n            // the time between now and when the page was loaded.\n            // - https://github.com/GoogleChromeLabs/first-input-delay/issues/4\n            // - https://github.com/GoogleChromeLabs/first-input-delay/issues/6\n            // - https://github.com/GoogleChromeLabs/first-input-delay/issues/7\n            var delay = timing.processingStart - timing.startTime;\n            if (delay >= 0 && delay < Date.now() - startTimeStamp) {\n                callback(timing);\n            }\n        }\n    }\n}\nfunction computeRelativePerformanceTiming() {\n    var result = {};\n    var timing = performance.timing;\n    for (var key in timing) {\n        if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isNumber)(timing[key])) {\n            var numberKey = key;\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            var timingElement = timing[numberKey];\n            result[numberKey] = timingElement === 0 ? 0 : (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.getRelativeTime)(timingElement);\n        }\n    }\n    return result;\n}\nfunction handleRumPerformanceEntries(lifeCycle, configuration, entries) {\n    var rumPerformanceEntries = entries.filter(function (entry) {\n        return entry.entryType === 'resource' ||\n            entry.entryType === 'navigation' ||\n            entry.entryType === 'paint' ||\n            entry.entryType === 'longtask' ||\n            entry.entryType === 'largest-contentful-paint' ||\n            entry.entryType === 'first-input' ||\n            entry.entryType === 'layout-shift';\n    });\n    var rumAllowedPerformanceEntries = rumPerformanceEntries.filter(function (entry) { return !isIncompleteNavigation(entry) && !isForbiddenResource(configuration, entry); });\n    if (rumAllowedPerformanceEntries.length) {\n        lifeCycle.notify(0 /* PERFORMANCE_ENTRIES_COLLECTED */, rumAllowedPerformanceEntries);\n    }\n}\nfunction isIncompleteNavigation(entry) {\n    return entry.entryType === 'navigation' && entry.loadEventEnd <= 0;\n}\nfunction isForbiddenResource(configuration, entry) {\n    return entry.entryType === 'resource' && !(0,_domain_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.isAllowedRequestUrl)(configuration, entry.name);\n}\n//# sourceMappingURL=performanceCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vYnJvd3Nlci9wZXJmb3JtYW5jZUNvbGxlY3Rpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFxSTtBQUNuQjtBQUN4QztBQUMxRTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOERBQU8sZUFBZSxxRkFBcUY7QUFDOUg7QUFDQTtBQUNBLDJDQUEyQyw4REFBTztBQUNsRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDRCQUE0QjtBQUMvRCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IseUJBQXlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNPO0FBQ1AsSUFBSSxzRUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscUdBQXFCO0FBQ2hELHFCQUFxQixzRkFBa0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZEQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw2REFBTTtBQUN2QjtBQUNBLFNBQVM7QUFDVDtBQUNBLElBQUksc0VBQWU7QUFDbkI7QUFDQSxtQkFBbUIsOERBQU87QUFDMUIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isd0VBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrRUFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJLDhCQUE4QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0VBQWlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0RBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsMERBQTBELHNFQUFlO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHVGQUF1RixzRkFBc0Y7QUFDN0s7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx1R0FBbUI7QUFDakU7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vYnJvd3Nlci9wZXJmb3JtYW5jZUNvbGxlY3Rpb24uanM/YjRkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24sIGFkZEV2ZW50TGlzdGVuZXJzLCBnZXRSZWxhdGl2ZVRpbWUsIGlzTnVtYmVyLCBtb25pdG9yLCByZWxhdGl2ZU5vdywgcnVuT25SZWFkeVN0YXRlLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBGQUtFX0lOSVRJQUxfRE9DVU1FTlQsIGlzQWxsb3dlZFJlcXVlc3RVcmwgfSBmcm9tICcuLi9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9yZXNvdXJjZS9yZXNvdXJjZVV0aWxzJztcbmltcG9ydCB7IGdldERvY3VtZW50VHJhY2VJZCB9IGZyb20gJy4uL2RvbWFpbi90cmFjaW5nL2dldERvY3VtZW50VHJhY2VJZCc7XG5mdW5jdGlvbiBzdXBwb3J0UGVyZm9ybWFuY2VPYmplY3QoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZSAhPT0gdW5kZWZpbmVkICYmICdnZXRFbnRyaWVzJyBpbiBwZXJmb3JtYW5jZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0UGVyZm9ybWFuY2VUaW1pbmdFdmVudChlbnRyeVR5cGUpIHtcbiAgICByZXR1cm4gKHdpbmRvdy5QZXJmb3JtYW5jZU9ic2VydmVyICYmXG4gICAgICAgIFBlcmZvcm1hbmNlT2JzZXJ2ZXIuc3VwcG9ydGVkRW50cnlUeXBlcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIFBlcmZvcm1hbmNlT2JzZXJ2ZXIuc3VwcG9ydGVkRW50cnlUeXBlcy5pbmNsdWRlcyhlbnRyeVR5cGUpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0UGVyZm9ybWFuY2VFbnRyeSgpIHtcbiAgICAvLyBTYWZhcmkgMTAgZG9lc24ndCBzdXBwb3J0IFBlcmZvcm1hbmNlRW50cnlcbiAgICByZXR1cm4gdHlwZW9mIFBlcmZvcm1hbmNlRW50cnkgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRQZXJmb3JtYW5jZUNvbGxlY3Rpb24obGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0cmlldmVJbml0aWFsRG9jdW1lbnRSZXNvdXJjZVRpbWluZyhmdW5jdGlvbiAodGltaW5nKSB7XG4gICAgICAgIGhhbmRsZVJ1bVBlcmZvcm1hbmNlRW50cmllcyhsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIFt0aW1pbmddKTtcbiAgICB9KTtcbiAgICBpZiAoc3VwcG9ydFBlcmZvcm1hbmNlT2JqZWN0KCkpIHtcbiAgICAgICAgdmFyIHBlcmZvcm1hbmNlRW50cmllc18xID0gcGVyZm9ybWFuY2UuZ2V0RW50cmllcygpO1xuICAgICAgICAvLyBCZWNhdXNlIHRoZSBwZXJmb3JtYW5jZSBlbnRyeSBsaXN0IGNhbiBiZSBxdWl0ZSBsYXJnZVxuICAgICAgICAvLyBkZWxheSB0aGUgY29tcHV0YXRpb24gdG8gcHJldmVudCB0aGUgU0RLIGZyb20gYmxvY2tpbmcgdGhlIG1haW4gdGhyZWFkIG9uIGluaXRcbiAgICAgICAgc2V0VGltZW91dChtb25pdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhbmRsZVJ1bVBlcmZvcm1hbmNlRW50cmllcyhsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHBlcmZvcm1hbmNlRW50cmllc18xKTsgfSkpO1xuICAgIH1cbiAgICBpZiAod2luZG93LlBlcmZvcm1hbmNlT2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIGhhbmRsZVBlcmZvcm1hbmNlRW50cnlMaXN0XzEgPSBtb25pdG9yKGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUnVtUGVyZm9ybWFuY2VFbnRyaWVzKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgZW50cmllcy5nZXRFbnRyaWVzKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG1haW5FbnRyaWVzID0gWydyZXNvdXJjZScsICduYXZpZ2F0aW9uJywgJ2xvbmd0YXNrJywgJ3BhaW50J107XG4gICAgICAgIHZhciBleHBlcmltZW50YWxFbnRyaWVzID0gWydsYXJnZXN0LWNvbnRlbnRmdWwtcGFpbnQnLCAnZmlyc3QtaW5wdXQnLCAnbGF5b3V0LXNoaWZ0J107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBFeHBlcmltZW50YWwgZW50cmllcyBhcmUgbm90IHJldHJpZXZlZCBieSBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzKClcbiAgICAgICAgICAgIC8vIHVzZSBhIHNpbmdsZSBQZXJmb3JtYW5jZU9ic2VydmVyIHdpdGggYnVmZmVyZWQgZmxhZyBieSB0eXBlXG4gICAgICAgICAgICAvLyB0byBnZXQgdmFsdWVzIHRoYXQgY291bGQgaGFwcGVuIGJlZm9yZSBTREsgaW5pdFxuICAgICAgICAgICAgZXhwZXJpbWVudGFsRW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IFBlcmZvcm1hbmNlT2JzZXJ2ZXIoaGFuZGxlUGVyZm9ybWFuY2VFbnRyeUxpc3RfMSk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh7IHR5cGU6IHR5cGUsIGJ1ZmZlcmVkOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFNvbWUgb2xkIGJyb3dzZXIgdmVyc2lvbnMgKGV4OiBjaHJvbWUgNjcpIGRvbid0IHN1cHBvcnQgdGhlIFBlcmZvcm1hbmNlT2JzZXJ2ZXIgdHlwZSBhbmQgYnVmZmVyZWQgb3B0aW9uc1xuICAgICAgICAgICAgLy8gSW4gdGhlc2UgY2FzZXMsIGZhbGxiYWNrIHRvIFBlcmZvcm1hbmNlT2JzZXJ2ZXIgd2l0aCBlbnRyeVR5cGVzXG4gICAgICAgICAgICBtYWluRW50cmllcy5wdXNoLmFwcGx5KG1haW5FbnRyaWVzLCBleHBlcmltZW50YWxFbnRyaWVzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFpbk9ic2VydmVyID0gbmV3IFBlcmZvcm1hbmNlT2JzZXJ2ZXIoaGFuZGxlUGVyZm9ybWFuY2VFbnRyeUxpc3RfMSk7XG4gICAgICAgIG1haW5PYnNlcnZlci5vYnNlcnZlKHsgZW50cnlUeXBlczogbWFpbkVudHJpZXMgfSk7XG4gICAgICAgIGlmIChzdXBwb3J0UGVyZm9ybWFuY2VPYmplY3QoKSAmJiAnYWRkRXZlbnRMaXN0ZW5lcicgaW4gcGVyZm9ybWFuY2UpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE1NTkzNzdcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc291cmNldGltaW5nYnVmZmVyZnVsbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZS5jbGVhclJlc291cmNlVGltaW5ncygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzdXBwb3J0UGVyZm9ybWFuY2VUaW1pbmdFdmVudCgnbmF2aWdhdGlvbicpKSB7XG4gICAgICAgIHJldHJpZXZlTmF2aWdhdGlvblRpbWluZyhmdW5jdGlvbiAodGltaW5nKSB7XG4gICAgICAgICAgICBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJpZXMobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBbdGltaW5nXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXN1cHBvcnRQZXJmb3JtYW5jZVRpbWluZ0V2ZW50KCdmaXJzdC1pbnB1dCcpKSB7XG4gICAgICAgIHJldHJpZXZlRmlyc3RJbnB1dFRpbWluZyhmdW5jdGlvbiAodGltaW5nKSB7XG4gICAgICAgICAgICBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJpZXMobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBbdGltaW5nXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZXRyaWV2ZUluaXRpYWxEb2N1bWVudFJlc291cmNlVGltaW5nKGNhbGxiYWNrKSB7XG4gICAgcnVuT25SZWFkeVN0YXRlKCdpbnRlcmFjdGl2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRpbWluZztcbiAgICAgICAgdmFyIGZvcmNlZEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBlbnRyeVR5cGU6ICdyZXNvdXJjZScsXG4gICAgICAgICAgICBpbml0aWF0b3JUeXBlOiBGQUtFX0lOSVRJQUxfRE9DVU1FTlQsXG4gICAgICAgICAgICB0cmFjZUlkOiBnZXREb2N1bWVudFRyYWNlSWQoZG9jdW1lbnQpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoc3VwcG9ydFBlcmZvcm1hbmNlVGltaW5nRXZlbnQoJ25hdmlnYXRpb24nKSAmJiBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKCduYXZpZ2F0aW9uJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIG5hdmlnYXRpb25FbnRyeSA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoJ25hdmlnYXRpb24nKVswXTtcbiAgICAgICAgICAgIHRpbWluZyA9IGFzc2lnbihuYXZpZ2F0aW9uRW50cnkudG9KU09OKCksIGZvcmNlZEF0dHJpYnV0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcgPSBjb21wdXRlUmVsYXRpdmVQZXJmb3JtYW5jZVRpbWluZygpO1xuICAgICAgICAgICAgdGltaW5nID0gYXNzaWduKHJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcsIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVkQm9keVNpemU6IDAsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcucmVzcG9uc2VFbmQsXG4gICAgICAgICAgICAgICAgbmFtZTogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiAwLFxuICAgICAgICAgICAgfSwgZm9yY2VkQXR0cmlidXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sodGltaW5nKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHJldHJpZXZlTmF2aWdhdGlvblRpbWluZyhjYWxsYmFjaykge1xuICAgIGZ1bmN0aW9uIHNlbmRGYWtlVGltaW5nKCkge1xuICAgICAgICBjYWxsYmFjayhhc3NpZ24oY29tcHV0ZVJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcoKSwge1xuICAgICAgICAgICAgZW50cnlUeXBlOiAnbmF2aWdhdGlvbicsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcnVuT25SZWFkeVN0YXRlKCdjb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU2VuZCBpdCBhIGJpdCBhZnRlciB0aGUgYWN0dWFsIGxvYWQgZXZlbnQsIHNvIHRoZSBcImxvYWRFdmVudEVuZFwiIHRpbWluZyBpcyBhY2N1cmF0ZVxuICAgICAgICBzZXRUaW1lb3V0KG1vbml0b3Ioc2VuZEZha2VUaW1pbmcpKTtcbiAgICB9KTtcbn1cbi8qKlxuICogZmlyc3QtaW5wdXQgdGltaW5nIGVudHJ5IHBvbHlmaWxsIGJhc2VkIG9uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi12aXRhbHMvYmxvYi9tYXN0ZXIvc3JjL2xpYi9wb2x5ZmlsbHMvZmlyc3RJbnB1dFBvbHlmaWxsLnRzXG4gKi9cbmZ1bmN0aW9uIHJldHJpZXZlRmlyc3RJbnB1dFRpbWluZyhjYWxsYmFjaykge1xuICAgIHZhciBzdGFydFRpbWVTdGFtcCA9IERhdGUubm93KCk7XG4gICAgdmFyIHRpbWluZ1NlbnQgPSBmYWxzZTtcbiAgICB2YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgPSBhZGRFdmVudExpc3RlbmVycyh3aW5kb3csIFtcImNsaWNrXCIgLyogQ0xJQ0sgKi8sIFwibW91c2Vkb3duXCIgLyogTU9VU0VfRE9XTiAqLywgXCJrZXlkb3duXCIgLyogS0VZX0RPV04gKi8sIFwidG91Y2hzdGFydFwiIC8qIFRPVUNIX1NUQVJUICovLCBcInBvaW50ZXJkb3duXCIgLyogUE9JTlRFUl9ET1dOICovXSwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAvLyBPbmx5IGNvdW50IGNhbmNlbGFibGUgZXZlbnRzLCB3aGljaCBzaG91bGQgdHJpZ2dlciBiZWhhdmlvciBpbXBvcnRhbnQgdG8gdGhlIHVzZXIuXG4gICAgICAgIGlmICghZXZ0LmNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIHRpbWluZyB3aWxsIGJlIHVzZWQgdG8gY29tcHV0ZSB0aGUgXCJmaXJzdCBJbnB1dCBkZWxheVwiLCB3aGljaCBpcyB0aGUgZGVsdGEgYmV0d2VlblxuICAgICAgICAvLyB3aGVuIHRoZSBzeXN0ZW0gcmVjZWl2ZWQgdGhlIGV2ZW50IChlLmcuIGV2dC50aW1lU3RhbXApIGFuZCB3aGVuIGl0IGNvdWxkIHJ1biB0aGUgY2FsbGJhY2tcbiAgICAgICAgLy8gKGUuZy4gcGVyZm9ybWFuY2Uubm93KCkpLlxuICAgICAgICB2YXIgdGltaW5nID0ge1xuICAgICAgICAgICAgZW50cnlUeXBlOiAnZmlyc3QtaW5wdXQnLFxuICAgICAgICAgICAgcHJvY2Vzc2luZ1N0YXJ0OiByZWxhdGl2ZU5vdygpLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBldnQudGltZVN0YW1wLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZXZ0LnR5cGUgPT09IFwicG9pbnRlcmRvd25cIiAvKiBQT0lOVEVSX0RPV04gKi8pIHtcbiAgICAgICAgICAgIHNlbmRUaW1pbmdJZlBvaW50ZXJJc05vdENhbmNlbGxlZCh0aW1pbmcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VuZFRpbWluZyh0aW1pbmcpO1xuICAgICAgICB9XG4gICAgfSwgeyBwYXNzaXZlOiB0cnVlLCBjYXB0dXJlOiB0cnVlIH0pLnN0b3A7XG4gICAgLyoqXG4gICAgICogUG9pbnRlciBldmVudHMgYXJlIGEgc3BlY2lhbCBjYXNlLCBiZWNhdXNlIHRoZXkgY2FuIHRyaWdnZXIgbWFpbiBvciBjb21wb3NpdG9yIHRocmVhZCBiZWhhdmlvci5cbiAgICAgKiBXZSBkaWZmZXJlbnRpYXRlIHRoZXNlIGNhc2VzIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90IHdlIHNlZSBhIHBvaW50ZXJjYW5jZWwgZXZlbnQsIHdoaWNoIGFyZVxuICAgICAqIGZpcmVkIHdoZW4gd2Ugc2Nyb2xsLiBJZiB3ZSdyZSBzY3JvbGxpbmcgd2UgZG9uJ3QgbmVlZCB0byByZXBvcnQgaW5wdXQgZGVsYXkgc2luY2UgRklEIGV4Y2x1ZGVzXG4gICAgICogc2Nyb2xsaW5nIGFuZCBwaW5jaC96b29taW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNlbmRUaW1pbmdJZlBvaW50ZXJJc05vdENhbmNlbGxlZCh0aW1pbmcpIHtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcnMod2luZG93LCBbXCJwb2ludGVydXBcIiAvKiBQT0lOVEVSX1VQICovLCBcInBvaW50ZXJjYW5jZWxcIiAvKiBQT0lOVEVSX0NBTkNFTCAqL10sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwicG9pbnRlcnVwXCIgLyogUE9JTlRFUl9VUCAqLykge1xuICAgICAgICAgICAgICAgIHNlbmRUaW1pbmcodGltaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZW5kVGltaW5nKHRpbWluZykge1xuICAgICAgICBpZiAoIXRpbWluZ1NlbnQpIHtcbiAgICAgICAgICAgIHRpbWluZ1NlbnQgPSB0cnVlO1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIC8vIEluIHNvbWUgY2FzZXMgdGhlIHJlY29yZGVkIGRlbGF5IGlzIGNsZWFybHkgd3JvbmcsIGUuZy4gaXQncyBuZWdhdGl2ZSBvciBpdCdzIGxhcmdlciB0aGFuXG4gICAgICAgICAgICAvLyB0aGUgdGltZSBiZXR3ZWVuIG5vdyBhbmQgd2hlbiB0aGUgcGFnZSB3YXMgbG9hZGVkLlxuICAgICAgICAgICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lTGFicy9maXJzdC1pbnB1dC1kZWxheS9pc3N1ZXMvNFxuICAgICAgICAgICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lTGFicy9maXJzdC1pbnB1dC1kZWxheS9pc3N1ZXMvNlxuICAgICAgICAgICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lTGFicy9maXJzdC1pbnB1dC1kZWxheS9pc3N1ZXMvN1xuICAgICAgICAgICAgdmFyIGRlbGF5ID0gdGltaW5nLnByb2Nlc3NpbmdTdGFydCAtIHRpbWluZy5zdGFydFRpbWU7XG4gICAgICAgICAgICBpZiAoZGVsYXkgPj0gMCAmJiBkZWxheSA8IERhdGUubm93KCkgLSBzdGFydFRpbWVTdGFtcCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRpbWluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb21wdXRlUmVsYXRpdmVQZXJmb3JtYW5jZVRpbWluZygpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIHRpbWluZyA9IHBlcmZvcm1hbmNlLnRpbWluZztcbiAgICBmb3IgKHZhciBrZXkgaW4gdGltaW5nKSB7XG4gICAgICAgIGlmIChpc051bWJlcih0aW1pbmdba2V5XSkpIHtcbiAgICAgICAgICAgIHZhciBudW1iZXJLZXkgPSBrZXk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG4gICAgICAgICAgICB2YXIgdGltaW5nRWxlbWVudCA9IHRpbWluZ1tudW1iZXJLZXldO1xuICAgICAgICAgICAgcmVzdWx0W251bWJlcktleV0gPSB0aW1pbmdFbGVtZW50ID09PSAwID8gMCA6IGdldFJlbGF0aXZlVGltZSh0aW1pbmdFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaGFuZGxlUnVtUGVyZm9ybWFuY2VFbnRyaWVzKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgZW50cmllcykge1xuICAgIHZhciBydW1QZXJmb3JtYW5jZUVudHJpZXMgPSBlbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ3Jlc291cmNlJyB8fFxuICAgICAgICAgICAgZW50cnkuZW50cnlUeXBlID09PSAnbmF2aWdhdGlvbicgfHxcbiAgICAgICAgICAgIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ3BhaW50JyB8fFxuICAgICAgICAgICAgZW50cnkuZW50cnlUeXBlID09PSAnbG9uZ3Rhc2snIHx8XG4gICAgICAgICAgICBlbnRyeS5lbnRyeVR5cGUgPT09ICdsYXJnZXN0LWNvbnRlbnRmdWwtcGFpbnQnIHx8XG4gICAgICAgICAgICBlbnRyeS5lbnRyeVR5cGUgPT09ICdmaXJzdC1pbnB1dCcgfHxcbiAgICAgICAgICAgIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ2xheW91dC1zaGlmdCc7XG4gICAgfSk7XG4gICAgdmFyIHJ1bUFsbG93ZWRQZXJmb3JtYW5jZUVudHJpZXMgPSBydW1QZXJmb3JtYW5jZUVudHJpZXMuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gIWlzSW5jb21wbGV0ZU5hdmlnYXRpb24oZW50cnkpICYmICFpc0ZvcmJpZGRlblJlc291cmNlKGNvbmZpZ3VyYXRpb24sIGVudHJ5KTsgfSk7XG4gICAgaWYgKHJ1bUFsbG93ZWRQZXJmb3JtYW5jZUVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMCAvKiBQRVJGT1JNQU5DRV9FTlRSSUVTX0NPTExFQ1RFRCAqLywgcnVtQWxsb3dlZFBlcmZvcm1hbmNlRW50cmllcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNJbmNvbXBsZXRlTmF2aWdhdGlvbihlbnRyeSkge1xuICAgIHJldHVybiBlbnRyeS5lbnRyeVR5cGUgPT09ICduYXZpZ2F0aW9uJyAmJiBlbnRyeS5sb2FkRXZlbnRFbmQgPD0gMDtcbn1cbmZ1bmN0aW9uIGlzRm9yYmlkZGVuUmVzb3VyY2UoY29uZmlndXJhdGlvbiwgZW50cnkpIHtcbiAgICByZXR1cm4gZW50cnkuZW50cnlUeXBlID09PSAncmVzb3VyY2UnICYmICFpc0FsbG93ZWRSZXF1ZXN0VXJsKGNvbmZpZ3VyYXRpb24sIGVudHJ5Lm5hbWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGVyZm9ybWFuY2VDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/assembly.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/assembly.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startRumAssembly\": function() { return /* binding */ startRumAssembly; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _syntheticsContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./syntheticsContext */ \"./node_modules/@datadog/browser-rum-core/esm/domain/syntheticsContext.js\");\n/* harmony import */ var _ciTestContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ciTestContext */ \"./node_modules/@datadog/browser-rum-core/esm/domain/ciTestContext.js\");\n\n\n\nvar VIEW_EVENTS_MODIFIABLE_FIELD_PATHS = [\n    // Fields with sensitive data\n    'view.url',\n    'view.referrer',\n    'action.target.name',\n    'error.message',\n    'error.stack',\n    'error.resource.url',\n    'resource.url',\n];\nvar OTHER_EVENTS_MODIFIABLE_FIELD_PATHS = VIEW_EVENTS_MODIFIABLE_FIELD_PATHS.concat([\n    // User-customizable field\n    'context',\n]);\nfunction startRumAssembly(configuration, lifeCycle, sessionManager, viewContexts, urlContexts, actionContexts, getCommonContext) {\n    var _a;\n    var reportError = function (error) {\n        lifeCycle.notify(12 /* RAW_ERROR_COLLECTED */, { error: error });\n    };\n    var eventRateLimiters = (_a = {},\n        _a[\"error\" /* ERROR */] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createEventRateLimiter)(\"error\" /* ERROR */, configuration.eventRateLimiterThreshold, reportError),\n        _a[\"action\" /* ACTION */] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createEventRateLimiter)(\"action\" /* ACTION */, configuration.eventRateLimiterThreshold, reportError),\n        _a);\n    var syntheticsContext = (0,_syntheticsContext__WEBPACK_IMPORTED_MODULE_0__.getSyntheticsContext)();\n    var ciTestContext = (0,_ciTestContext__WEBPACK_IMPORTED_MODULE_1__.getCiTestContext)();\n    lifeCycle.subscribe(10 /* RAW_RUM_EVENT_COLLECTED */, function (_a) {\n        var startTime = _a.startTime, rawRumEvent = _a.rawRumEvent, domainContext = _a.domainContext, savedCommonContext = _a.savedCommonContext, customerContext = _a.customerContext;\n        var viewContext = viewContexts.findView(startTime);\n        var urlContext = urlContexts.findUrl(startTime);\n        // allow to send events if the session was tracked when they start\n        // except for views which are continuously updated\n        // TODO: stop sending view updates when session is expired\n        var session = sessionManager.findTrackedSession(rawRumEvent.type !== \"view\" /* VIEW */ ? startTime : undefined);\n        if (session && viewContext && urlContext) {\n            var commonContext = savedCommonContext || getCommonContext();\n            var rumContext = {\n                _dd: {\n                    format_version: 2,\n                    drift: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.currentDrift)(),\n                    session: {\n                        plan: session.hasPremiumPlan ? 2 /* PREMIUM */ : 1 /* LITE */,\n                    },\n                    browser_sdk_version: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.canUseEventBridge)() ? \"4.11.3\" : undefined,\n                },\n                application: {\n                    id: configuration.applicationId,\n                },\n                date: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.timeStampNow)(),\n                service: configuration.service,\n                source: 'browser',\n                session: {\n                    id: session.id,\n                    type: syntheticsContext ? \"synthetics\" /* SYNTHETICS */ : ciTestContext ? \"ci_test\" /* CI_TEST */ : \"user\" /* USER */,\n                },\n                synthetics: syntheticsContext,\n                ci_test: ciTestContext,\n            };\n            var actionId = actionContexts.findActionId(startTime);\n            if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isExperimentalFeatureEnabled)('sub-apps')) {\n                delete viewContext.service;\n                delete viewContext.version;\n            }\n            else {\n                rumContext.version = configuration.version;\n            }\n            var serverRumEvent = (needToAssembleWithAction(rawRumEvent) && actionId\n                ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.combine)(rumContext, urlContext, viewContext, { action: { id: actionId } }, rawRumEvent)\n                : (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.combine)(rumContext, urlContext, viewContext, rawRumEvent));\n            serverRumEvent.context = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.combine)(commonContext.context, customerContext);\n            if (!('has_replay' in serverRumEvent.session)) {\n                ;\n                serverRumEvent.session.has_replay = commonContext.hasReplay;\n            }\n            if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(commonContext.user)) {\n                ;\n                serverRumEvent.usr = commonContext.user;\n            }\n            if (shouldSend(serverRumEvent, configuration.beforeSend, domainContext, eventRateLimiters)) {\n                if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(serverRumEvent.context)) {\n                    delete serverRumEvent.context;\n                }\n                lifeCycle.notify(11 /* RUM_EVENT_COLLECTED */, serverRumEvent);\n            }\n        }\n    });\n}\nfunction shouldSend(event, beforeSend, domainContext, eventRateLimiters) {\n    var _a;\n    if (beforeSend) {\n        var result = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.limitModification)(event, event.type === \"view\" /* VIEW */ ? VIEW_EVENTS_MODIFIABLE_FIELD_PATHS : OTHER_EVENTS_MODIFIABLE_FIELD_PATHS, function (event) { return beforeSend(event, domainContext); });\n        if (result === false && event.type !== \"view\" /* VIEW */) {\n            return false;\n        }\n        if (result === false) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.warn(\"Can't dismiss view events using beforeSend!\");\n        }\n    }\n    var rateLimitReached = (_a = eventRateLimiters[event.type]) === null || _a === void 0 ? void 0 : _a.isLimitReached();\n    return !rateLimitReached;\n}\nfunction needToAssembleWithAction(event) {\n    return [\"error\" /* ERROR */, \"resource\" /* RESOURCE */, \"long_task\" /* LONG_TASK */].indexOf(event.type) !== -1;\n}\n//# sourceMappingURL=assembly.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2Fzc2VtYmx5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaU07QUFDdEk7QUFDUjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EseURBQXlELGNBQWM7QUFDdkU7QUFDQSxvQ0FBb0M7QUFDcEMsa0NBQWtDLDZFQUFzQjtBQUN4RCxvQ0FBb0MsNkVBQXNCO0FBQzFEO0FBQ0EsNEJBQTRCLHdFQUFvQjtBQUNoRCx3QkFBd0IsZ0VBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1FQUFZO0FBQ3ZDO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIseUNBQXlDLHdFQUFpQjtBQUMxRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixzQkFBc0IsbUVBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtRkFBNEI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQU8sd0NBQXdDLFVBQVUsZ0JBQWdCO0FBQzNGLGtCQUFrQiw4REFBTztBQUN6QixxQ0FBcUMsOERBQU87QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0VBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0VBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3RUFBaUIsd0lBQXdJLDBDQUEwQztBQUN4TjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0RBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vYXNzZW1ibHkuanM/NGNkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21iaW5lLCBpc0VtcHR5T2JqZWN0LCBsaW1pdE1vZGlmaWNhdGlvbiwgdGltZVN0YW1wTm93LCBjdXJyZW50RHJpZnQsIGRpc3BsYXksIGNyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXIsIGNhblVzZUV2ZW50QnJpZGdlLCBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBnZXRTeW50aGV0aWNzQ29udGV4dCB9IGZyb20gJy4vc3ludGhldGljc0NvbnRleHQnO1xuaW1wb3J0IHsgZ2V0Q2lUZXN0Q29udGV4dCB9IGZyb20gJy4vY2lUZXN0Q29udGV4dCc7XG52YXIgVklFV19FVkVOVFNfTU9ESUZJQUJMRV9GSUVMRF9QQVRIUyA9IFtcbiAgICAvLyBGaWVsZHMgd2l0aCBzZW5zaXRpdmUgZGF0YVxuICAgICd2aWV3LnVybCcsXG4gICAgJ3ZpZXcucmVmZXJyZXInLFxuICAgICdhY3Rpb24udGFyZ2V0Lm5hbWUnLFxuICAgICdlcnJvci5tZXNzYWdlJyxcbiAgICAnZXJyb3Iuc3RhY2snLFxuICAgICdlcnJvci5yZXNvdXJjZS51cmwnLFxuICAgICdyZXNvdXJjZS51cmwnLFxuXTtcbnZhciBPVEhFUl9FVkVOVFNfTU9ESUZJQUJMRV9GSUVMRF9QQVRIUyA9IFZJRVdfRVZFTlRTX01PRElGSUFCTEVfRklFTERfUEFUSFMuY29uY2F0KFtcbiAgICAvLyBVc2VyLWN1c3RvbWl6YWJsZSBmaWVsZFxuICAgICdjb250ZXh0Jyxcbl0pO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UnVtQXNzZW1ibHkoY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlLCBzZXNzaW9uTWFuYWdlciwgdmlld0NvbnRleHRzLCB1cmxDb250ZXh0cywgYWN0aW9uQ29udGV4dHMsIGdldENvbW1vbkNvbnRleHQpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIHJlcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMTIgLyogUkFXX0VSUk9SX0NPTExFQ1RFRCAqLywgeyBlcnJvcjogZXJyb3IgfSk7XG4gICAgfTtcbiAgICB2YXIgZXZlbnRSYXRlTGltaXRlcnMgPSAoX2EgPSB7fSxcbiAgICAgICAgX2FbXCJlcnJvclwiIC8qIEVSUk9SICovXSA9IGNyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXIoXCJlcnJvclwiIC8qIEVSUk9SICovLCBjb25maWd1cmF0aW9uLmV2ZW50UmF0ZUxpbWl0ZXJUaHJlc2hvbGQsIHJlcG9ydEVycm9yKSxcbiAgICAgICAgX2FbXCJhY3Rpb25cIiAvKiBBQ1RJT04gKi9dID0gY3JlYXRlRXZlbnRSYXRlTGltaXRlcihcImFjdGlvblwiIC8qIEFDVElPTiAqLywgY29uZmlndXJhdGlvbi5ldmVudFJhdGVMaW1pdGVyVGhyZXNob2xkLCByZXBvcnRFcnJvciksXG4gICAgICAgIF9hKTtcbiAgICB2YXIgc3ludGhldGljc0NvbnRleHQgPSBnZXRTeW50aGV0aWNzQ29udGV4dCgpO1xuICAgIHZhciBjaVRlc3RDb250ZXh0ID0gZ2V0Q2lUZXN0Q29udGV4dCgpO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMTAgLyogUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgc3RhcnRUaW1lID0gX2Euc3RhcnRUaW1lLCByYXdSdW1FdmVudCA9IF9hLnJhd1J1bUV2ZW50LCBkb21haW5Db250ZXh0ID0gX2EuZG9tYWluQ29udGV4dCwgc2F2ZWRDb21tb25Db250ZXh0ID0gX2Euc2F2ZWRDb21tb25Db250ZXh0LCBjdXN0b21lckNvbnRleHQgPSBfYS5jdXN0b21lckNvbnRleHQ7XG4gICAgICAgIHZhciB2aWV3Q29udGV4dCA9IHZpZXdDb250ZXh0cy5maW5kVmlldyhzdGFydFRpbWUpO1xuICAgICAgICB2YXIgdXJsQ29udGV4dCA9IHVybENvbnRleHRzLmZpbmRVcmwoc3RhcnRUaW1lKTtcbiAgICAgICAgLy8gYWxsb3cgdG8gc2VuZCBldmVudHMgaWYgdGhlIHNlc3Npb24gd2FzIHRyYWNrZWQgd2hlbiB0aGV5IHN0YXJ0XG4gICAgICAgIC8vIGV4Y2VwdCBmb3Igdmlld3Mgd2hpY2ggYXJlIGNvbnRpbnVvdXNseSB1cGRhdGVkXG4gICAgICAgIC8vIFRPRE86IHN0b3Agc2VuZGluZyB2aWV3IHVwZGF0ZXMgd2hlbiBzZXNzaW9uIGlzIGV4cGlyZWRcbiAgICAgICAgdmFyIHNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5maW5kVHJhY2tlZFNlc3Npb24ocmF3UnVtRXZlbnQudHlwZSAhPT0gXCJ2aWV3XCIgLyogVklFVyAqLyA/IHN0YXJ0VGltZSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChzZXNzaW9uICYmIHZpZXdDb250ZXh0ICYmIHVybENvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBjb21tb25Db250ZXh0ID0gc2F2ZWRDb21tb25Db250ZXh0IHx8IGdldENvbW1vbkNvbnRleHQoKTtcbiAgICAgICAgICAgIHZhciBydW1Db250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIF9kZDoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXRfdmVyc2lvbjogMixcbiAgICAgICAgICAgICAgICAgICAgZHJpZnQ6IGN1cnJlbnREcmlmdCgpLFxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFuOiBzZXNzaW9uLmhhc1ByZW1pdW1QbGFuID8gMiAvKiBQUkVNSVVNICovIDogMSAvKiBMSVRFICovLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBicm93c2VyX3Nka192ZXJzaW9uOiBjYW5Vc2VFdmVudEJyaWRnZSgpID8gXCI0LjExLjNcIiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBjb25maWd1cmF0aW9uLmFwcGxpY2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRlOiB0aW1lU3RhbXBOb3coKSxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBjb25maWd1cmF0aW9uLnNlcnZpY2UsXG4gICAgICAgICAgICAgICAgc291cmNlOiAnYnJvd3NlcicsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogc3ludGhldGljc0NvbnRleHQgPyBcInN5bnRoZXRpY3NcIiAvKiBTWU5USEVUSUNTICovIDogY2lUZXN0Q29udGV4dCA/IFwiY2lfdGVzdFwiIC8qIENJX1RFU1QgKi8gOiBcInVzZXJcIiAvKiBVU0VSICovLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3ludGhldGljczogc3ludGhldGljc0NvbnRleHQsXG4gICAgICAgICAgICAgICAgY2lfdGVzdDogY2lUZXN0Q29udGV4dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgYWN0aW9uSWQgPSBhY3Rpb25Db250ZXh0cy5maW5kQWN0aW9uSWQoc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIGlmICghaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZCgnc3ViLWFwcHMnKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB2aWV3Q29udGV4dC5zZXJ2aWNlO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB2aWV3Q29udGV4dC52ZXJzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcnVtQ29udGV4dC52ZXJzaW9uID0gY29uZmlndXJhdGlvbi52ZXJzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNlcnZlclJ1bUV2ZW50ID0gKG5lZWRUb0Fzc2VtYmxlV2l0aEFjdGlvbihyYXdSdW1FdmVudCkgJiYgYWN0aW9uSWRcbiAgICAgICAgICAgICAgICA/IGNvbWJpbmUocnVtQ29udGV4dCwgdXJsQ29udGV4dCwgdmlld0NvbnRleHQsIHsgYWN0aW9uOiB7IGlkOiBhY3Rpb25JZCB9IH0sIHJhd1J1bUV2ZW50KVxuICAgICAgICAgICAgICAgIDogY29tYmluZShydW1Db250ZXh0LCB1cmxDb250ZXh0LCB2aWV3Q29udGV4dCwgcmF3UnVtRXZlbnQpKTtcbiAgICAgICAgICAgIHNlcnZlclJ1bUV2ZW50LmNvbnRleHQgPSBjb21iaW5lKGNvbW1vbkNvbnRleHQuY29udGV4dCwgY3VzdG9tZXJDb250ZXh0KTtcbiAgICAgICAgICAgIGlmICghKCdoYXNfcmVwbGF5JyBpbiBzZXJ2ZXJSdW1FdmVudC5zZXNzaW9uKSkge1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJSdW1FdmVudC5zZXNzaW9uLmhhc19yZXBsYXkgPSBjb21tb25Db250ZXh0Lmhhc1JlcGxheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNFbXB0eU9iamVjdChjb21tb25Db250ZXh0LnVzZXIpKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIHNlcnZlclJ1bUV2ZW50LnVzciA9IGNvbW1vbkNvbnRleHQudXNlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaG91bGRTZW5kKHNlcnZlclJ1bUV2ZW50LCBjb25maWd1cmF0aW9uLmJlZm9yZVNlbmQsIGRvbWFpbkNvbnRleHQsIGV2ZW50UmF0ZUxpbWl0ZXJzKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5T2JqZWN0KHNlcnZlclJ1bUV2ZW50LmNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZXJ2ZXJSdW1FdmVudC5jb250ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDExIC8qIFJVTV9FVkVOVF9DT0xMRUNURUQgKi8sIHNlcnZlclJ1bUV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gc2hvdWxkU2VuZChldmVudCwgYmVmb3JlU2VuZCwgZG9tYWluQ29udGV4dCwgZXZlbnRSYXRlTGltaXRlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGJlZm9yZVNlbmQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGxpbWl0TW9kaWZpY2F0aW9uKGV2ZW50LCBldmVudC50eXBlID09PSBcInZpZXdcIiAvKiBWSUVXICovID8gVklFV19FVkVOVFNfTU9ESUZJQUJMRV9GSUVMRF9QQVRIUyA6IE9USEVSX0VWRU5UU19NT0RJRklBQkxFX0ZJRUxEX1BBVEhTLCBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGJlZm9yZVNlbmQoZXZlbnQsIGRvbWFpbkNvbnRleHQpOyB9KTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UgJiYgZXZlbnQudHlwZSAhPT0gXCJ2aWV3XCIgLyogVklFVyAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkaXNwbGF5Lndhcm4oXCJDYW4ndCBkaXNtaXNzIHZpZXcgZXZlbnRzIHVzaW5nIGJlZm9yZVNlbmQhXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciByYXRlTGltaXRSZWFjaGVkID0gKF9hID0gZXZlbnRSYXRlTGltaXRlcnNbZXZlbnQudHlwZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0xpbWl0UmVhY2hlZCgpO1xuICAgIHJldHVybiAhcmF0ZUxpbWl0UmVhY2hlZDtcbn1cbmZ1bmN0aW9uIG5lZWRUb0Fzc2VtYmxlV2l0aEFjdGlvbihldmVudCkge1xuICAgIHJldHVybiBbXCJlcnJvclwiIC8qIEVSUk9SICovLCBcInJlc291cmNlXCIgLyogUkVTT1VSQ0UgKi8sIFwibG9uZ190YXNrXCIgLyogTE9OR19UQVNLICovXS5pbmRleE9mKGV2ZW50LnR5cGUpICE9PSAtMTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2VtYmx5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/assembly.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/ciTestContext.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/ciTestContext.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getCiTestContext\": function() { return /* binding */ getCiTestContext; }\n/* harmony export */ });\nfunction getCiTestContext() {\n    var _a;\n    var testExecutionId = (_a = window.Cypress) === null || _a === void 0 ? void 0 : _a.env('traceId');\n    if (typeof testExecutionId === 'string') {\n        return {\n            test_execution_id: testExecutionId,\n        };\n    }\n}\n//# sourceMappingURL=ciTestContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2NpVGVzdENvbnRleHQuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vY2lUZXN0Q29udGV4dC5qcz8yNDFiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBnZXRDaVRlc3RDb250ZXh0KCkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgdGVzdEV4ZWN1dGlvbklkID0gKF9hID0gd2luZG93LkN5cHJlc3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbnYoJ3RyYWNlSWQnKTtcbiAgICBpZiAodHlwZW9mIHRlc3RFeGVjdXRpb25JZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlc3RfZXhlY3V0aW9uX2lkOiB0ZXN0RXhlY3V0aW9uSWQsXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2lUZXN0Q29udGV4dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/ciTestContext.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/configuration.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/configuration.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"validateAndBuildRumConfiguration\": function() { return /* binding */ validateAndBuildRumConfiguration; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nfunction validateAndBuildRumConfiguration(initConfiguration) {\n    var _a, _b, _c, _d;\n    if (!initConfiguration.applicationId) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.display.error('Application ID is not configured, no RUM data will be collected.');\n        return;\n    }\n    // TODO remove fallback in next major\n    var premiumSampleRate = (_a = initConfiguration.premiumSampleRate) !== null && _a !== void 0 ? _a : initConfiguration.replaySampleRate;\n    if (premiumSampleRate !== undefined && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isPercentage)(premiumSampleRate)) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.display.error('Premium Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    if (initConfiguration.tracingSampleRate !== undefined && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isPercentage)(initConfiguration.tracingSampleRate)) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.display.error('Tracing Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    if (initConfiguration.allowedTracingOrigins !== undefined) {\n        if (!Array.isArray(initConfiguration.allowedTracingOrigins)) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.display.error('Allowed Tracing Origins should be an array');\n            return;\n        }\n        if (initConfiguration.allowedTracingOrigins.length !== 0 && initConfiguration.service === undefined) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.display.error('Service need to be configured when tracing is enabled');\n            return;\n        }\n    }\n    if (initConfiguration.excludedActivityUrls !== undefined && !Array.isArray(initConfiguration.excludedActivityUrls)) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.display.error('Excluded Activity Urls should be an array');\n        return;\n    }\n    var baseConfiguration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.validateAndBuildConfiguration)(initConfiguration);\n    if (!baseConfiguration) {\n        return;\n    }\n    var trackFrustrations = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isExperimentalFeatureEnabled)('frustration-signals') && !!initConfiguration.trackFrustrations;\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.assign)({\n        applicationId: initConfiguration.applicationId,\n        version: initConfiguration.version,\n        actionNameAttribute: initConfiguration.actionNameAttribute,\n        premiumSampleRate: premiumSampleRate !== null && premiumSampleRate !== void 0 ? premiumSampleRate : 100,\n        allowedTracingOrigins: (_b = initConfiguration.allowedTracingOrigins) !== null && _b !== void 0 ? _b : [],\n        tracingSampleRate: (_c = initConfiguration.tracingSampleRate) !== null && _c !== void 0 ? _c : 100,\n        excludedActivityUrls: (_d = initConfiguration.excludedActivityUrls) !== null && _d !== void 0 ? _d : [],\n        trackInteractions: !!initConfiguration.trackInteractions || trackFrustrations,\n        trackFrustrations: trackFrustrations,\n        trackViewsManually: !!initConfiguration.trackViewsManually,\n        defaultPrivacyLevel: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.objectHasValue)(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel, initConfiguration.defaultPrivacyLevel)\n            ? initConfiguration.defaultPrivacyLevel\n            : _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel.MASK_USER_INPUT,\n    }, baseConfiguration);\n}\n//# sourceMappingURL=configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUs7QUFDbEs7QUFDUDtBQUNBO0FBQ0EsUUFBUSxnRUFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxtRUFBWTtBQUN4RCxRQUFRLGdFQUFhO0FBQ3JCO0FBQ0E7QUFDQSw4REFBOEQsbUVBQVk7QUFDMUUsUUFBUSxnRUFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0VBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0VBQWE7QUFDckI7QUFDQTtBQUNBLDRCQUE0QixvRkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1GQUE0QjtBQUN4RCxXQUFXLDZEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHFFQUFjLENBQUMsc0VBQW1CO0FBQy9EO0FBQ0EsY0FBYyxzRkFBbUM7QUFDakQsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb25maWd1cmF0aW9uLmpzPzNkZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZCwgYXNzaWduLCBEZWZhdWx0UHJpdmFjeUxldmVsLCBkaXNwbGF5LCBpc1BlcmNlbnRhZ2UsIG9iamVjdEhhc1ZhbHVlLCB2YWxpZGF0ZUFuZEJ1aWxkQ29uZmlndXJhdGlvbiwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQW5kQnVpbGRSdW1Db25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGlmICghaW5pdENvbmZpZ3VyYXRpb24uYXBwbGljYXRpb25JZCkge1xuICAgICAgICBkaXNwbGF5LmVycm9yKCdBcHBsaWNhdGlvbiBJRCBpcyBub3QgY29uZmlndXJlZCwgbm8gUlVNIGRhdGEgd2lsbCBiZSBjb2xsZWN0ZWQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gVE9ETyByZW1vdmUgZmFsbGJhY2sgaW4gbmV4dCBtYWpvclxuICAgIHZhciBwcmVtaXVtU2FtcGxlUmF0ZSA9IChfYSA9IGluaXRDb25maWd1cmF0aW9uLnByZW1pdW1TYW1wbGVSYXRlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBpbml0Q29uZmlndXJhdGlvbi5yZXBsYXlTYW1wbGVSYXRlO1xuICAgIGlmIChwcmVtaXVtU2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkICYmICFpc1BlcmNlbnRhZ2UocHJlbWl1bVNhbXBsZVJhdGUpKSB7XG4gICAgICAgIGRpc3BsYXkuZXJyb3IoJ1ByZW1pdW0gU2FtcGxlIFJhdGUgc2hvdWxkIGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGluaXRDb25maWd1cmF0aW9uLnRyYWNpbmdTYW1wbGVSYXRlICE9PSB1bmRlZmluZWQgJiYgIWlzUGVyY2VudGFnZShpbml0Q29uZmlndXJhdGlvbi50cmFjaW5nU2FtcGxlUmF0ZSkpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignVHJhY2luZyBTYW1wbGUgUmF0ZSBzaG91bGQgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5pdENvbmZpZ3VyYXRpb24uYWxsb3dlZFRyYWNpbmdPcmlnaW5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGluaXRDb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucykpIHtcbiAgICAgICAgICAgIGRpc3BsYXkuZXJyb3IoJ0FsbG93ZWQgVHJhY2luZyBPcmlnaW5zIHNob3VsZCBiZSBhbiBhcnJheScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi5hbGxvd2VkVHJhY2luZ09yaWdpbnMubGVuZ3RoICE9PSAwICYmIGluaXRDb25maWd1cmF0aW9uLnNlcnZpY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGlzcGxheS5lcnJvcignU2VydmljZSBuZWVkIHRvIGJlIGNvbmZpZ3VyZWQgd2hlbiB0cmFjaW5nIGlzIGVuYWJsZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5pdENvbmZpZ3VyYXRpb24uZXhjbHVkZWRBY3Rpdml0eVVybHMgIT09IHVuZGVmaW5lZCAmJiAhQXJyYXkuaXNBcnJheShpbml0Q29uZmlndXJhdGlvbi5leGNsdWRlZEFjdGl2aXR5VXJscykpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignRXhjbHVkZWQgQWN0aXZpdHkgVXJscyBzaG91bGQgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYmFzZUNvbmZpZ3VyYXRpb24gPSB2YWxpZGF0ZUFuZEJ1aWxkQ29uZmlndXJhdGlvbihpbml0Q29uZmlndXJhdGlvbik7XG4gICAgaWYgKCFiYXNlQ29uZmlndXJhdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0cmFja0ZydXN0cmF0aW9ucyA9IGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ2ZydXN0cmF0aW9uLXNpZ25hbHMnKSAmJiAhIWluaXRDb25maWd1cmF0aW9uLnRyYWNrRnJ1c3RyYXRpb25zO1xuICAgIHJldHVybiBhc3NpZ24oe1xuICAgICAgICBhcHBsaWNhdGlvbklkOiBpbml0Q29uZmlndXJhdGlvbi5hcHBsaWNhdGlvbklkLFxuICAgICAgICB2ZXJzaW9uOiBpbml0Q29uZmlndXJhdGlvbi52ZXJzaW9uLFxuICAgICAgICBhY3Rpb25OYW1lQXR0cmlidXRlOiBpbml0Q29uZmlndXJhdGlvbi5hY3Rpb25OYW1lQXR0cmlidXRlLFxuICAgICAgICBwcmVtaXVtU2FtcGxlUmF0ZTogcHJlbWl1bVNhbXBsZVJhdGUgIT09IG51bGwgJiYgcHJlbWl1bVNhbXBsZVJhdGUgIT09IHZvaWQgMCA/IHByZW1pdW1TYW1wbGVSYXRlIDogMTAwLFxuICAgICAgICBhbGxvd2VkVHJhY2luZ09yaWdpbnM6IChfYiA9IGluaXRDb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXG4gICAgICAgIHRyYWNpbmdTYW1wbGVSYXRlOiAoX2MgPSBpbml0Q29uZmlndXJhdGlvbi50cmFjaW5nU2FtcGxlUmF0ZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMTAwLFxuICAgICAgICBleGNsdWRlZEFjdGl2aXR5VXJsczogKF9kID0gaW5pdENvbmZpZ3VyYXRpb24uZXhjbHVkZWRBY3Rpdml0eVVybHMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IFtdLFxuICAgICAgICB0cmFja0ludGVyYWN0aW9uczogISFpbml0Q29uZmlndXJhdGlvbi50cmFja0ludGVyYWN0aW9ucyB8fCB0cmFja0ZydXN0cmF0aW9ucyxcbiAgICAgICAgdHJhY2tGcnVzdHJhdGlvbnM6IHRyYWNrRnJ1c3RyYXRpb25zLFxuICAgICAgICB0cmFja1ZpZXdzTWFudWFsbHk6ICEhaW5pdENvbmZpZ3VyYXRpb24udHJhY2tWaWV3c01hbnVhbGx5LFxuICAgICAgICBkZWZhdWx0UHJpdmFjeUxldmVsOiBvYmplY3RIYXNWYWx1ZShEZWZhdWx0UHJpdmFjeUxldmVsLCBpbml0Q29uZmlndXJhdGlvbi5kZWZhdWx0UHJpdmFjeUxldmVsKVxuICAgICAgICAgICAgPyBpbml0Q29uZmlndXJhdGlvbi5kZWZhdWx0UHJpdmFjeUxldmVsXG4gICAgICAgICAgICA6IERlZmF1bHRQcml2YWN5TGV2ZWwuTUFTS19VU0VSX0lOUFVULFxuICAgIH0sIGJhc2VDb25maWd1cmF0aW9uKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZ3VyYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/configuration.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/foregroundContexts.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/foregroundContexts.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS\": function() { return /* binding */ MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS; },\n/* harmony export */   \"MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS\": function() { return /* binding */ MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS; },\n/* harmony export */   \"addNewForegroundPeriod\": function() { return /* binding */ addNewForegroundPeriod; },\n/* harmony export */   \"closeForegroundPeriod\": function() { return /* binding */ closeForegroundPeriod; },\n/* harmony export */   \"startForegroundContexts\": function() { return /* binding */ startForegroundContexts; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\n// Arbitrary value to cap number of element mostly for backend & to save bandwidth\nvar MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS = 500;\n// Arbitrary value to cap number of element mostly for memory consumption in the browser\nvar MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS = 2500;\nvar foregroundPeriods = [];\nfunction startForegroundContexts() {\n    if (document.hasFocus()) {\n        addNewForegroundPeriod();\n    }\n    var stopForegroundTracking = trackFocus(addNewForegroundPeriod).stop;\n    var stopBlurTracking = trackBlur(closeForegroundPeriod).stop;\n    return {\n        isInForegroundAt: isInForegroundAt,\n        selectInForegroundPeriodsFor: selectInForegroundPeriodsFor,\n        stop: function () {\n            foregroundPeriods = [];\n            stopForegroundTracking();\n            stopBlurTracking();\n        },\n    };\n}\nfunction addNewForegroundPeriod() {\n    if (foregroundPeriods.length > MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS) {\n        return;\n    }\n    var currentForegroundPeriod = foregroundPeriods[foregroundPeriods.length - 1];\n    var now = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.relativeNow)();\n    if (currentForegroundPeriod !== undefined && currentForegroundPeriod.end === undefined) {\n        return;\n    }\n    foregroundPeriods.push({\n        start: now,\n    });\n}\nfunction closeForegroundPeriod() {\n    if (foregroundPeriods.length === 0) {\n        return;\n    }\n    var currentForegroundPeriod = foregroundPeriods[foregroundPeriods.length - 1];\n    var now = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.relativeNow)();\n    if (currentForegroundPeriod.end !== undefined) {\n        return;\n    }\n    currentForegroundPeriod.end = now;\n}\nfunction trackFocus(onFocusChange) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"focus\" /* FOCUS */, function (event) {\n        if (!event.isTrusted) {\n            return;\n        }\n        onFocusChange();\n    });\n}\nfunction trackBlur(onBlurChange) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"blur\" /* BLUR */, function (event) {\n        if (!event.isTrusted) {\n            return;\n        }\n        onBlurChange();\n    });\n}\nfunction isInForegroundAt(startTime) {\n    for (var i = foregroundPeriods.length - 1; i >= 0; i--) {\n        var foregroundPeriod = foregroundPeriods[i];\n        if (foregroundPeriod.end !== undefined && startTime > foregroundPeriod.end) {\n            break;\n        }\n        if (startTime > foregroundPeriod.start &&\n            (foregroundPeriod.end === undefined || startTime < foregroundPeriod.end)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction selectInForegroundPeriodsFor(eventStartTime, duration) {\n    // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n    var eventEndTime = (eventStartTime + duration);\n    var filteredForegroundPeriods = [];\n    var earliestIndex = Math.max(0, foregroundPeriods.length - MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS);\n    for (var i = foregroundPeriods.length - 1; i >= earliestIndex; i--) {\n        var foregroundPeriod = foregroundPeriods[i];\n        if (foregroundPeriod.end !== undefined && eventStartTime > foregroundPeriod.end) {\n            // event starts after the end of the current focus period\n            // since the array is sorted, we can stop looking for foreground periods\n            break;\n        }\n        if (eventEndTime < foregroundPeriod.start) {\n            // event ends before the start of the current focus period\n            // continue to previous one\n            continue;\n        }\n        var startTime = eventStartTime > foregroundPeriod.start ? eventStartTime : foregroundPeriod.start;\n        var startDuration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.elapsed)(eventStartTime, startTime);\n        var endTime = foregroundPeriod.end === undefined || eventEndTime < foregroundPeriod.end ? eventEndTime : foregroundPeriod.end;\n        var endDuration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.elapsed)(startTime, endTime);\n        filteredForegroundPeriods.unshift({\n            start: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)(startDuration),\n            duration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)(endDuration),\n        });\n    }\n    return filteredForegroundPeriods;\n}\n//# sourceMappingURL=foregroundContexts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2ZvcmVncm91bmRDb250ZXh0cy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUc7QUFDakc7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrRUFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0VBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1RUFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFdBQVcsdUVBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxvQkFBb0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhEQUFPO0FBQ25DO0FBQ0EsMEJBQTBCLDhEQUFPO0FBQ2pDO0FBQ0EsbUJBQW1CLHVFQUFnQjtBQUNuQyxzQkFBc0IsdUVBQWdCO0FBQ3RDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2ZvcmVncm91bmRDb250ZXh0cy5qcz8zNDJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIsIGVsYXBzZWQsIHJlbGF0aXZlTm93LCB0b1NlcnZlckR1cmF0aW9uIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbi8vIEFyYml0cmFyeSB2YWx1ZSB0byBjYXAgbnVtYmVyIG9mIGVsZW1lbnQgbW9zdGx5IGZvciBiYWNrZW5kICYgdG8gc2F2ZSBiYW5kd2lkdGhcbmV4cG9ydCB2YXIgTUFYX05VTUJFUl9PRl9TRUxFQ1RBQkxFX0ZPUkVHUk9VTkRfUEVSSU9EUyA9IDUwMDtcbi8vIEFyYml0cmFyeSB2YWx1ZSB0byBjYXAgbnVtYmVyIG9mIGVsZW1lbnQgbW9zdGx5IGZvciBtZW1vcnkgY29uc3VtcHRpb24gaW4gdGhlIGJyb3dzZXJcbmV4cG9ydCB2YXIgTUFYX05VTUJFUl9PRl9TVE9SRURfRk9SRUdST1VORF9QRVJJT0RTID0gMjUwMDtcbnZhciBmb3JlZ3JvdW5kUGVyaW9kcyA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Rm9yZWdyb3VuZENvbnRleHRzKCkge1xuICAgIGlmIChkb2N1bWVudC5oYXNGb2N1cygpKSB7XG4gICAgICAgIGFkZE5ld0ZvcmVncm91bmRQZXJpb2QoKTtcbiAgICB9XG4gICAgdmFyIHN0b3BGb3JlZ3JvdW5kVHJhY2tpbmcgPSB0cmFja0ZvY3VzKGFkZE5ld0ZvcmVncm91bmRQZXJpb2QpLnN0b3A7XG4gICAgdmFyIHN0b3BCbHVyVHJhY2tpbmcgPSB0cmFja0JsdXIoY2xvc2VGb3JlZ3JvdW5kUGVyaW9kKS5zdG9wO1xuICAgIHJldHVybiB7XG4gICAgICAgIGlzSW5Gb3JlZ3JvdW5kQXQ6IGlzSW5Gb3JlZ3JvdW5kQXQsXG4gICAgICAgIHNlbGVjdEluRm9yZWdyb3VuZFBlcmlvZHNGb3I6IHNlbGVjdEluRm9yZWdyb3VuZFBlcmlvZHNGb3IsXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvcmVncm91bmRQZXJpb2RzID0gW107XG4gICAgICAgICAgICBzdG9wRm9yZWdyb3VuZFRyYWNraW5nKCk7XG4gICAgICAgICAgICBzdG9wQmx1clRyYWNraW5nKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGROZXdGb3JlZ3JvdW5kUGVyaW9kKCkge1xuICAgIGlmIChmb3JlZ3JvdW5kUGVyaW9kcy5sZW5ndGggPiBNQVhfTlVNQkVSX09GX1NUT1JFRF9GT1JFR1JPVU5EX1BFUklPRFMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY3VycmVudEZvcmVncm91bmRQZXJpb2QgPSBmb3JlZ3JvdW5kUGVyaW9kc1tmb3JlZ3JvdW5kUGVyaW9kcy5sZW5ndGggLSAxXTtcbiAgICB2YXIgbm93ID0gcmVsYXRpdmVOb3coKTtcbiAgICBpZiAoY3VycmVudEZvcmVncm91bmRQZXJpb2QgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50Rm9yZWdyb3VuZFBlcmlvZC5lbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvcmVncm91bmRQZXJpb2RzLnB1c2goe1xuICAgICAgICBzdGFydDogbm93LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlRm9yZWdyb3VuZFBlcmlvZCgpIHtcbiAgICBpZiAoZm9yZWdyb3VuZFBlcmlvZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnRGb3JlZ3JvdW5kUGVyaW9kID0gZm9yZWdyb3VuZFBlcmlvZHNbZm9yZWdyb3VuZFBlcmlvZHMubGVuZ3RoIC0gMV07XG4gICAgdmFyIG5vdyA9IHJlbGF0aXZlTm93KCk7XG4gICAgaWYgKGN1cnJlbnRGb3JlZ3JvdW5kUGVyaW9kLmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudEZvcmVncm91bmRQZXJpb2QuZW5kID0gbm93O1xufVxuZnVuY3Rpb24gdHJhY2tGb2N1cyhvbkZvY3VzQ2hhbmdlKSB7XG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcImZvY3VzXCIgLyogRk9DVVMgKi8sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIWV2ZW50LmlzVHJ1c3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9uRm9jdXNDaGFuZ2UoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHRyYWNrQmx1cihvbkJsdXJDaGFuZ2UpIHtcbiAgICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiYmx1clwiIC8qIEJMVVIgKi8sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIWV2ZW50LmlzVHJ1c3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9uQmx1ckNoYW5nZSgpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gaXNJbkZvcmVncm91bmRBdChzdGFydFRpbWUpIHtcbiAgICBmb3IgKHZhciBpID0gZm9yZWdyb3VuZFBlcmlvZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIGZvcmVncm91bmRQZXJpb2QgPSBmb3JlZ3JvdW5kUGVyaW9kc1tpXTtcbiAgICAgICAgaWYgKGZvcmVncm91bmRQZXJpb2QuZW5kICE9PSB1bmRlZmluZWQgJiYgc3RhcnRUaW1lID4gZm9yZWdyb3VuZFBlcmlvZC5lbmQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydFRpbWUgPiBmb3JlZ3JvdW5kUGVyaW9kLnN0YXJ0ICYmXG4gICAgICAgICAgICAoZm9yZWdyb3VuZFBlcmlvZC5lbmQgPT09IHVuZGVmaW5lZCB8fCBzdGFydFRpbWUgPCBmb3JlZ3JvdW5kUGVyaW9kLmVuZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHNlbGVjdEluRm9yZWdyb3VuZFBlcmlvZHNGb3IoZXZlbnRTdGFydFRpbWUsIGR1cmF0aW9uKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC1wbHVzLW9wZXJhbmRzXG4gICAgdmFyIGV2ZW50RW5kVGltZSA9IChldmVudFN0YXJ0VGltZSArIGR1cmF0aW9uKTtcbiAgICB2YXIgZmlsdGVyZWRGb3JlZ3JvdW5kUGVyaW9kcyA9IFtdO1xuICAgIHZhciBlYXJsaWVzdEluZGV4ID0gTWF0aC5tYXgoMCwgZm9yZWdyb3VuZFBlcmlvZHMubGVuZ3RoIC0gTUFYX05VTUJFUl9PRl9TRUxFQ1RBQkxFX0ZPUkVHUk9VTkRfUEVSSU9EUyk7XG4gICAgZm9yICh2YXIgaSA9IGZvcmVncm91bmRQZXJpb2RzLmxlbmd0aCAtIDE7IGkgPj0gZWFybGllc3RJbmRleDsgaS0tKSB7XG4gICAgICAgIHZhciBmb3JlZ3JvdW5kUGVyaW9kID0gZm9yZWdyb3VuZFBlcmlvZHNbaV07XG4gICAgICAgIGlmIChmb3JlZ3JvdW5kUGVyaW9kLmVuZCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50U3RhcnRUaW1lID4gZm9yZWdyb3VuZFBlcmlvZC5lbmQpIHtcbiAgICAgICAgICAgIC8vIGV2ZW50IHN0YXJ0cyBhZnRlciB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGZvY3VzIHBlcmlvZFxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGFycmF5IGlzIHNvcnRlZCwgd2UgY2FuIHN0b3AgbG9va2luZyBmb3IgZm9yZWdyb3VuZCBwZXJpb2RzXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDwgZm9yZWdyb3VuZFBlcmlvZC5zdGFydCkge1xuICAgICAgICAgICAgLy8gZXZlbnQgZW5kcyBiZWZvcmUgdGhlIHN0YXJ0IG9mIHRoZSBjdXJyZW50IGZvY3VzIHBlcmlvZFxuICAgICAgICAgICAgLy8gY29udGludWUgdG8gcHJldmlvdXMgb25lXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnRUaW1lID0gZXZlbnRTdGFydFRpbWUgPiBmb3JlZ3JvdW5kUGVyaW9kLnN0YXJ0ID8gZXZlbnRTdGFydFRpbWUgOiBmb3JlZ3JvdW5kUGVyaW9kLnN0YXJ0O1xuICAgICAgICB2YXIgc3RhcnREdXJhdGlvbiA9IGVsYXBzZWQoZXZlbnRTdGFydFRpbWUsIHN0YXJ0VGltZSk7XG4gICAgICAgIHZhciBlbmRUaW1lID0gZm9yZWdyb3VuZFBlcmlvZC5lbmQgPT09IHVuZGVmaW5lZCB8fCBldmVudEVuZFRpbWUgPCBmb3JlZ3JvdW5kUGVyaW9kLmVuZCA/IGV2ZW50RW5kVGltZSA6IGZvcmVncm91bmRQZXJpb2QuZW5kO1xuICAgICAgICB2YXIgZW5kRHVyYXRpb24gPSBlbGFwc2VkKHN0YXJ0VGltZSwgZW5kVGltZSk7XG4gICAgICAgIGZpbHRlcmVkRm9yZWdyb3VuZFBlcmlvZHMudW5zaGlmdCh7XG4gICAgICAgICAgICBzdGFydDogdG9TZXJ2ZXJEdXJhdGlvbihzdGFydER1cmF0aW9uKSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0b1NlcnZlckR1cmF0aW9uKGVuZER1cmF0aW9uKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJlZEZvcmVncm91bmRQZXJpb2RzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9yZWdyb3VuZENvbnRleHRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/foregroundContexts.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/internalContext.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/internalContext.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startInternalContext\": function() { return /* binding */ startInternalContext; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\n/**\n * Internal context keep returning v1 format\n * to not break compatibility with logs data format\n */\nfunction startInternalContext(applicationId, sessionManager, viewContexts, actionContexts, urlContexts) {\n    return {\n        get: function (startTime) {\n            var viewContext = viewContexts.findView(startTime);\n            var urlContext = urlContexts.findUrl(startTime);\n            var session = sessionManager.findTrackedSession(startTime);\n            if (session && viewContext && urlContext) {\n                var actionId = actionContexts.findActionId(startTime);\n                return {\n                    application_id: applicationId,\n                    session_id: session.id,\n                    user_action: actionId ? { id: actionId } : undefined,\n                    view: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.assign)({}, viewContext.view, urlContext.view),\n                };\n            }\n        },\n    };\n}\n//# sourceMappingURL=internalContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2ludGVybmFsQ29udGV4dC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsZUFBZTtBQUM3RCwwQkFBMEIsNkRBQU0sR0FBRztBQUNuQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2ludGVybmFsQ29udGV4dC5qcz80MmZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG4vKipcbiAqIEludGVybmFsIGNvbnRleHQga2VlcCByZXR1cm5pbmcgdjEgZm9ybWF0XG4gKiB0byBub3QgYnJlYWsgY29tcGF0aWJpbGl0eSB3aXRoIGxvZ3MgZGF0YSBmb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0SW50ZXJuYWxDb250ZXh0KGFwcGxpY2F0aW9uSWQsIHNlc3Npb25NYW5hZ2VyLCB2aWV3Q29udGV4dHMsIGFjdGlvbkNvbnRleHRzLCB1cmxDb250ZXh0cykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgdmFyIHZpZXdDb250ZXh0ID0gdmlld0NvbnRleHRzLmZpbmRWaWV3KHN0YXJ0VGltZSk7XG4gICAgICAgICAgICB2YXIgdXJsQ29udGV4dCA9IHVybENvbnRleHRzLmZpbmRVcmwoc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZmluZFRyYWNrZWRTZXNzaW9uKHN0YXJ0VGltZSk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiB2aWV3Q29udGV4dCAmJiB1cmxDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbklkID0gYWN0aW9uQ29udGV4dHMuZmluZEFjdGlvbklkKHN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25faWQ6IGFwcGxpY2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfYWN0aW9uOiBhY3Rpb25JZCA/IHsgaWQ6IGFjdGlvbklkIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZXc6IGFzc2lnbih7fSwgdmlld0NvbnRleHQudmlldywgdXJsQ29udGV4dC52aWV3KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcm5hbENvbnRleHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/internalContext.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js":
/*!************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LifeCycle\": function() { return /* binding */ LifeCycle; }\n/* harmony export */ });\nvar LifeCycle = /** @class */ (function () {\n    function LifeCycle() {\n        this.callbacks = {};\n    }\n    LifeCycle.prototype.notify = function (eventType, data) {\n        var eventCallbacks = this.callbacks[eventType];\n        if (eventCallbacks) {\n            eventCallbacks.forEach(function (callback) { return callback(data); });\n        }\n    };\n    LifeCycle.prototype.subscribe = function (eventType, callback) {\n        var _this = this;\n        if (!this.callbacks[eventType]) {\n            this.callbacks[eventType] = [];\n        }\n        this.callbacks[eventType].push(callback);\n        return {\n            unsubscribe: function () {\n                _this.callbacks[eventType] = _this.callbacks[eventType].filter(function (other) { return callback !== other; });\n            },\n        };\n    };\n    return LifeCycle;\n}());\n\n//# sourceMappingURL=lifeCycle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2xpZmVDeWNsZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsd0JBQXdCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHLDRCQUE0QjtBQUM5SCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNvQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2xpZmVDeWNsZS5qcz81ZDYzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBMaWZlQ3ljbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGlmZUN5Y2xlKCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IHt9O1xuICAgIH1cbiAgICBMaWZlQ3ljbGUucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGRhdGEpIHtcbiAgICAgICAgdmFyIGV2ZW50Q2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXTtcbiAgICAgICAgaWYgKGV2ZW50Q2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBldmVudENhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gY2FsbGJhY2soZGF0YSk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaWZlQ3ljbGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzW2V2ZW50VHlwZV0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNhbGxiYWNrc1tldmVudFR5cGVdID0gX3RoaXMuY2FsbGJhY2tzW2V2ZW50VHlwZV0uZmlsdGVyKGZ1bmN0aW9uIChvdGhlcikgeyByZXR1cm4gY2FsbGJhY2sgIT09IG90aGVyOyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gTGlmZUN5Y2xlO1xufSgpKTtcbmV4cG9ydCB7IExpZmVDeWNsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmZUN5Y2xlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/requestCollection.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/requestCollection.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startRequestCollection\": function() { return /* binding */ startRequestCollection; },\n/* harmony export */   \"trackFetch\": function() { return /* binding */ trackFetch; },\n/* harmony export */   \"trackXhr\": function() { return /* binding */ trackXhr; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rumEventsCollection/resource/resourceUtils */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\");\n/* harmony import */ var _tracing_tracer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tracing/tracer */ \"./node_modules/@datadog/browser-rum-core/esm/domain/tracing/tracer.js\");\n\n\n\nvar nextRequestIndex = 1;\nfunction startRequestCollection(lifeCycle, configuration, sessionManager) {\n    var tracer = (0,_tracing_tracer__WEBPACK_IMPORTED_MODULE_1__.startTracer)(configuration, sessionManager);\n    trackXhr(lifeCycle, configuration, tracer);\n    trackFetch(lifeCycle, configuration, tracer);\n}\nfunction trackXhr(lifeCycle, configuration, tracer) {\n    var subscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.initXhrObservable)().subscribe(function (rawContext) {\n        var context = rawContext;\n        if (!(0,_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.isAllowedRequestUrl)(configuration, context.url)) {\n            return;\n        }\n        switch (context.state) {\n            case 'start':\n                tracer.traceXhr(context, context.xhr);\n                context.requestIndex = getNextRequestIndex();\n                lifeCycle.notify(5 /* REQUEST_STARTED */, {\n                    requestIndex: context.requestIndex,\n                    url: context.url,\n                });\n                break;\n            case 'complete':\n                tracer.clearTracingIfNeeded(context);\n                lifeCycle.notify(6 /* REQUEST_COMPLETED */, {\n                    duration: context.duration,\n                    method: context.method,\n                    requestIndex: context.requestIndex,\n                    spanId: context.spanId,\n                    startClocks: context.startClocks,\n                    status: context.status,\n                    traceId: context.traceId,\n                    traceSampled: context.traceSampled,\n                    type: \"xhr\" /* XHR */,\n                    url: context.url,\n                    xhr: context.xhr,\n                });\n                break;\n        }\n    });\n    return { stop: function () { return subscription.unsubscribe(); } };\n}\nfunction trackFetch(lifeCycle, configuration, tracer) {\n    var subscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.initFetchObservable)().subscribe(function (rawContext) {\n        var context = rawContext;\n        if (!(0,_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.isAllowedRequestUrl)(configuration, context.url)) {\n            return;\n        }\n        switch (context.state) {\n            case 'start':\n                tracer.traceFetch(context);\n                context.requestIndex = getNextRequestIndex();\n                lifeCycle.notify(5 /* REQUEST_STARTED */, {\n                    requestIndex: context.requestIndex,\n                    url: context.url,\n                });\n                break;\n            case 'complete':\n                tracer.clearTracingIfNeeded(context);\n                lifeCycle.notify(6 /* REQUEST_COMPLETED */, {\n                    duration: context.duration,\n                    method: context.method,\n                    requestIndex: context.requestIndex,\n                    responseType: context.responseType,\n                    spanId: context.spanId,\n                    startClocks: context.startClocks,\n                    status: context.status,\n                    traceId: context.traceId,\n                    traceSampled: context.traceSampled,\n                    type: \"fetch\" /* FETCH */,\n                    url: context.url,\n                    response: context.response,\n                    init: context.init,\n                    input: context.input,\n                });\n                break;\n        }\n    });\n    return { stop: function () { return subscription.unsubscribe(); } };\n}\nfunction getNextRequestIndex() {\n    var result = nextRequestIndex;\n    nextRequestIndex += 1;\n    return result;\n}\n//# sourceMappingURL=requestCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3JlcXVlc3RDb2xsZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUErRTtBQUNJO0FBQ3BDO0FBQy9DO0FBQ087QUFDUCxpQkFBaUIsNERBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUIsd0VBQWlCO0FBQ3hDO0FBQ0EsYUFBYSxnR0FBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsb0JBQW9CO0FBQ2pDO0FBQ087QUFDUCx1QkFBdUIsMEVBQW1CO0FBQzFDO0FBQ0EsYUFBYSxnR0FBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsb0JBQW9CO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcmVxdWVzdENvbGxlY3Rpb24uanM/MmZmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0RmV0Y2hPYnNlcnZhYmxlLCBpbml0WGhyT2JzZXJ2YWJsZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBpc0FsbG93ZWRSZXF1ZXN0VXJsIH0gZnJvbSAnLi9ydW1FdmVudHNDb2xsZWN0aW9uL3Jlc291cmNlL3Jlc291cmNlVXRpbHMnO1xuaW1wb3J0IHsgc3RhcnRUcmFjZXIgfSBmcm9tICcuL3RyYWNpbmcvdHJhY2VyJztcbnZhciBuZXh0UmVxdWVzdEluZGV4ID0gMTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFJlcXVlc3RDb2xsZWN0aW9uKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgc2Vzc2lvbk1hbmFnZXIpIHtcbiAgICB2YXIgdHJhY2VyID0gc3RhcnRUcmFjZXIoY29uZmlndXJhdGlvbiwgc2Vzc2lvbk1hbmFnZXIpO1xuICAgIHRyYWNrWGhyKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgdHJhY2VyKTtcbiAgICB0cmFja0ZldGNoKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgdHJhY2VyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja1hocihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHRyYWNlcikge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSBpbml0WGhyT2JzZXJ2YWJsZSgpLnN1YnNjcmliZShmdW5jdGlvbiAocmF3Q29udGV4dCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHJhd0NvbnRleHQ7XG4gICAgICAgIGlmICghaXNBbGxvd2VkUmVxdWVzdFVybChjb25maWd1cmF0aW9uLCBjb250ZXh0LnVybCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGNvbnRleHQuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgICAgICAgICB0cmFjZXIudHJhY2VYaHIoY29udGV4dCwgY29udGV4dC54aHIpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVxdWVzdEluZGV4ID0gZ2V0TmV4dFJlcXVlc3RJbmRleCgpO1xuICAgICAgICAgICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoNSAvKiBSRVFVRVNUX1NUQVJURUQgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEluZGV4OiBjb250ZXh0LnJlcXVlc3RJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LnVybCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlJzpcbiAgICAgICAgICAgICAgICB0cmFjZXIuY2xlYXJUcmFjaW5nSWZOZWVkZWQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSg2IC8qIFJFUVVFU1RfQ09NUExFVEVEICovLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBjb250ZXh0LmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGNvbnRleHQubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SW5kZXg6IGNvbnRleHQucmVxdWVzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICBzcGFuSWQ6IGNvbnRleHQuc3BhbklkLFxuICAgICAgICAgICAgICAgICAgICBzdGFydENsb2NrczogY29udGV4dC5zdGFydENsb2NrcyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBjb250ZXh0LnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2VJZDogY29udGV4dC50cmFjZUlkLFxuICAgICAgICAgICAgICAgICAgICB0cmFjZVNhbXBsZWQ6IGNvbnRleHQudHJhY2VTYW1wbGVkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInhoclwiIC8qIFhIUiAqLyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LnVybCxcbiAgICAgICAgICAgICAgICAgICAgeGhyOiBjb250ZXh0LnhocixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7IHN0b3A6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpOyB9IH07XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tGZXRjaChsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHRyYWNlcikge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSBpbml0RmV0Y2hPYnNlcnZhYmxlKCkuc3Vic2NyaWJlKGZ1bmN0aW9uIChyYXdDb250ZXh0KSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gcmF3Q29udGV4dDtcbiAgICAgICAgaWYgKCFpc0FsbG93ZWRSZXF1ZXN0VXJsKGNvbmZpZ3VyYXRpb24sIGNvbnRleHQudXJsKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoY29udGV4dC5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICAgICAgICAgIHRyYWNlci50cmFjZUZldGNoKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVxdWVzdEluZGV4ID0gZ2V0TmV4dFJlcXVlc3RJbmRleCgpO1xuICAgICAgICAgICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoNSAvKiBSRVFVRVNUX1NUQVJURUQgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEluZGV4OiBjb250ZXh0LnJlcXVlc3RJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LnVybCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlJzpcbiAgICAgICAgICAgICAgICB0cmFjZXIuY2xlYXJUcmFjaW5nSWZOZWVkZWQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSg2IC8qIFJFUVVFU1RfQ09NUExFVEVEICovLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBjb250ZXh0LmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGNvbnRleHQubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SW5kZXg6IGNvbnRleHQucmVxdWVzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IGNvbnRleHQucmVzcG9uc2VUeXBlLFxuICAgICAgICAgICAgICAgICAgICBzcGFuSWQ6IGNvbnRleHQuc3BhbklkLFxuICAgICAgICAgICAgICAgICAgICBzdGFydENsb2NrczogY29udGV4dC5zdGFydENsb2NrcyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBjb250ZXh0LnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2VJZDogY29udGV4dC50cmFjZUlkLFxuICAgICAgICAgICAgICAgICAgICB0cmFjZVNhbXBsZWQ6IGNvbnRleHQudHJhY2VTYW1wbGVkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZldGNoXCIgLyogRkVUQ0ggKi8sXG4gICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC51cmwsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICBpbml0OiBjb250ZXh0LmluaXQsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBjb250ZXh0LmlucHV0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgc3RvcDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7IH0gfTtcbn1cbmZ1bmN0aW9uIGdldE5leHRSZXF1ZXN0SW5kZXgoKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5leHRSZXF1ZXN0SW5kZXg7XG4gICAgbmV4dFJlcXVlc3RJbmRleCArPSAxO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0Q29sbGVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/requestCollection.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/actionCollection.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/actionCollection.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startActionCollection\": function() { return /* binding */ startActionCollection; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _trackClickActions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackClickActions */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/trackClickActions.js\");\n\n\nfunction startActionCollection(lifeCycle, domMutationObservable, configuration, foregroundContexts) {\n    lifeCycle.subscribe(1 /* AUTO_ACTION_COMPLETED */, function (action) {\n        return lifeCycle.notify(10 /* RAW_RUM_EVENT_COLLECTED */, processAction(action, foregroundContexts));\n    });\n    var actionContexts = { findActionId: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.noop };\n    if (configuration.trackInteractions) {\n        actionContexts = (0,_trackClickActions__WEBPACK_IMPORTED_MODULE_0__.trackClickActions)(lifeCycle, domMutationObservable, configuration).actionContexts;\n    }\n    return {\n        addAction: function (action, savedCommonContext) {\n            lifeCycle.notify(10 /* RAW_RUM_EVENT_COLLECTED */, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.assign)({\n                savedCommonContext: savedCommonContext,\n            }, processAction(action, foregroundContexts)));\n        },\n        actionContexts: actionContexts,\n    };\n}\nfunction processAction(action, foregroundContexts) {\n    var autoActionProperties = isAutoAction(action)\n        ? {\n            action: {\n                id: action.id,\n                loading_time: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(action.duration),\n                frustration: {\n                    type: action.frustrationTypes,\n                },\n                error: {\n                    count: action.counts.errorCount,\n                },\n                long_task: {\n                    count: action.counts.longTaskCount,\n                },\n                resource: {\n                    count: action.counts.resourceCount,\n                },\n            },\n        }\n        : undefined;\n    var customerContext = !isAutoAction(action) ? action.context : undefined;\n    var actionEvent = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.combine)({\n        action: {\n            id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.generateUUID)(),\n            target: {\n                name: action.name,\n            },\n            type: action.type,\n        },\n        date: action.startClocks.timeStamp,\n        type: \"action\" /* ACTION */,\n    }, autoActionProperties);\n    var inForeground = foregroundContexts.isInForegroundAt(action.startClocks.relative);\n    if (inForeground !== undefined) {\n        actionEvent.view = { in_foreground: inForeground };\n    }\n    return {\n        customerContext: customerContext,\n        rawRumEvent: actionEvent,\n        startTime: action.startClocks.relative,\n        domainContext: isAutoAction(action) ? { event: action.event } : {},\n    };\n}\nfunction isAutoAction(action) {\n    return action.type !== \"custom\" /* CUSTOM */;\n}\n//# sourceMappingURL=actionCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2FjdGlvbkNvbGxlY3Rpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThGO0FBQ3RDO0FBQ2pEO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCwyQkFBMkIsY0FBYyx1REFBSTtBQUM3QztBQUNBLHlCQUF5QixxRUFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDZEQUFNO0FBQ3JFO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHVFQUFnQjtBQUM5QztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOERBQU87QUFDN0I7QUFDQSxnQkFBZ0IsbUVBQVk7QUFDNUI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxzQkFBc0IsSUFBSTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9hY3Rpb25Db2xsZWN0aW9uLmpzP2M5NjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9vcCwgYXNzaWduLCBjb21iaW5lLCB0b1NlcnZlckR1cmF0aW9uLCBnZW5lcmF0ZVVVSUQgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgdHJhY2tDbGlja0FjdGlvbnMgfSBmcm9tICcuL3RyYWNrQ2xpY2tBY3Rpb25zJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydEFjdGlvbkNvbGxlY3Rpb24obGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGZvcmVncm91bmRDb250ZXh0cykge1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMSAvKiBBVVRPX0FDVElPTl9DT01QTEVURUQgKi8sIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGxpZmVDeWNsZS5ub3RpZnkoMTAgLyogUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQgKi8sIHByb2Nlc3NBY3Rpb24oYWN0aW9uLCBmb3JlZ3JvdW5kQ29udGV4dHMpKTtcbiAgICB9KTtcbiAgICB2YXIgYWN0aW9uQ29udGV4dHMgPSB7IGZpbmRBY3Rpb25JZDogbm9vcCB9O1xuICAgIGlmIChjb25maWd1cmF0aW9uLnRyYWNrSW50ZXJhY3Rpb25zKSB7XG4gICAgICAgIGFjdGlvbkNvbnRleHRzID0gdHJhY2tDbGlja0FjdGlvbnMobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24pLmFjdGlvbkNvbnRleHRzO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRBY3Rpb246IGZ1bmN0aW9uIChhY3Rpb24sIHNhdmVkQ29tbW9uQ29udGV4dCkge1xuICAgICAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgxMCAvKiBSQVdfUlVNX0VWRU5UX0NPTExFQ1RFRCAqLywgYXNzaWduKHtcbiAgICAgICAgICAgICAgICBzYXZlZENvbW1vbkNvbnRleHQ6IHNhdmVkQ29tbW9uQ29udGV4dCxcbiAgICAgICAgICAgIH0sIHByb2Nlc3NBY3Rpb24oYWN0aW9uLCBmb3JlZ3JvdW5kQ29udGV4dHMpKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbkNvbnRleHRzOiBhY3Rpb25Db250ZXh0cyxcbiAgICB9O1xufVxuZnVuY3Rpb24gcHJvY2Vzc0FjdGlvbihhY3Rpb24sIGZvcmVncm91bmRDb250ZXh0cykge1xuICAgIHZhciBhdXRvQWN0aW9uUHJvcGVydGllcyA9IGlzQXV0b0FjdGlvbihhY3Rpb24pXG4gICAgICAgID8ge1xuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgaWQ6IGFjdGlvbi5pZCxcbiAgICAgICAgICAgICAgICBsb2FkaW5nX3RpbWU6IHRvU2VydmVyRHVyYXRpb24oYWN0aW9uLmR1cmF0aW9uKSxcbiAgICAgICAgICAgICAgICBmcnVzdHJhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBhY3Rpb24uZnJ1c3RyYXRpb25UeXBlcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBhY3Rpb24uY291bnRzLmVycm9yQ291bnQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsb25nX3Rhc2s6IHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IGFjdGlvbi5jb3VudHMubG9uZ1Rhc2tDb3VudCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc291cmNlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBhY3Rpb24uY291bnRzLnJlc291cmNlQ291bnQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGN1c3RvbWVyQ29udGV4dCA9ICFpc0F1dG9BY3Rpb24oYWN0aW9uKSA/IGFjdGlvbi5jb250ZXh0IDogdW5kZWZpbmVkO1xuICAgIHZhciBhY3Rpb25FdmVudCA9IGNvbWJpbmUoe1xuICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcbiAgICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6IGFjdGlvbi50eXBlLFxuICAgICAgICB9LFxuICAgICAgICBkYXRlOiBhY3Rpb24uc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgICB0eXBlOiBcImFjdGlvblwiIC8qIEFDVElPTiAqLyxcbiAgICB9LCBhdXRvQWN0aW9uUHJvcGVydGllcyk7XG4gICAgdmFyIGluRm9yZWdyb3VuZCA9IGZvcmVncm91bmRDb250ZXh0cy5pc0luRm9yZWdyb3VuZEF0KGFjdGlvbi5zdGFydENsb2Nrcy5yZWxhdGl2ZSk7XG4gICAgaWYgKGluRm9yZWdyb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFjdGlvbkV2ZW50LnZpZXcgPSB7IGluX2ZvcmVncm91bmQ6IGluRm9yZWdyb3VuZCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjdXN0b21lckNvbnRleHQ6IGN1c3RvbWVyQ29udGV4dCxcbiAgICAgICAgcmF3UnVtRXZlbnQ6IGFjdGlvbkV2ZW50LFxuICAgICAgICBzdGFydFRpbWU6IGFjdGlvbi5zdGFydENsb2Nrcy5yZWxhdGl2ZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDogaXNBdXRvQWN0aW9uKGFjdGlvbikgPyB7IGV2ZW50OiBhY3Rpb24uZXZlbnQgfSA6IHt9LFxuICAgIH07XG59XG5mdW5jdGlvbiBpc0F1dG9BY3Rpb24oYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbi50eXBlICE9PSBcImN1c3RvbVwiIC8qIENVU1RPTSAqLztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjdGlvbkNvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/actionCollection.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js ***!
  \******************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getActionNameFromElement\": function() { return /* binding */ getActionNameFromElement; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\n/**\n * Get the action name from the attribute 'data-dd-action-name' on the element or any of its parent.\n * It can also be retrieved from a user defined attribute.\n */\nvar DEFAULT_PROGRAMMATIC_ATTRIBUTE = 'data-dd-action-name';\nfunction getActionNameFromElement(element, userProgrammaticAttribute) {\n    // Proceed to get the action name in two steps:\n    // * first, get the name programmatically, explicitly defined by the user.\n    // * then, use strategies that are known to return good results. Those strategies will be used on\n    //   the element and a few parents, but it's likely that they won't succeed at all.\n    // * if no name is found this way, use strategies returning less accurate names as a fallback.\n    //   Those are much likely to succeed.\n    return (getActionNameFromElementProgrammatically(element, DEFAULT_PROGRAMMATIC_ATTRIBUTE) ||\n        (userProgrammaticAttribute && getActionNameFromElementProgrammatically(element, userProgrammaticAttribute)) ||\n        getActionNameFromElementForStrategies(element, userProgrammaticAttribute, priorityStrategies) ||\n        getActionNameFromElementForStrategies(element, userProgrammaticAttribute, fallbackStrategies) ||\n        '');\n}\nfunction getActionNameFromElementProgrammatically(targetElement, programmaticAttribute) {\n    var elementWithAttribute;\n    // We don't use getActionNameFromElementForStrategies here, because we want to consider all parents,\n    // without limit. It is up to the user to declare a relevant naming strategy.\n    // If available, use element.closest() to match get the attribute from the element or any of its\n    // parent.  Else fallback to a more traditional implementation.\n    if (supportsElementClosest()) {\n        elementWithAttribute = targetElement.closest(\"[\".concat(programmaticAttribute, \"]\"));\n    }\n    else {\n        var element = targetElement;\n        while (element) {\n            if (element.hasAttribute(programmaticAttribute)) {\n                elementWithAttribute = element;\n                break;\n            }\n            element = element.parentElement;\n        }\n    }\n    if (!elementWithAttribute) {\n        return;\n    }\n    var name = elementWithAttribute.getAttribute(programmaticAttribute);\n    return truncate(normalizeWhitespace(name.trim()));\n}\nvar priorityStrategies = [\n    // associated LABEL text\n    function (element, userProgrammaticAttribute) {\n        // IE does not support element.labels, so we fallback to a CSS selector based on the element id\n        // instead\n        if (supportsLabelProperty()) {\n            if ('labels' in element && element.labels && element.labels.length > 0) {\n                return getTextualContent(element.labels[0], userProgrammaticAttribute);\n            }\n        }\n        else if (element.id) {\n            var label = element.ownerDocument && element.ownerDocument.querySelector(\"label[for=\\\"\".concat(element.id.replace('\"', '\\\\\"'), \"\\\"]\"));\n            return label && getTextualContent(label, userProgrammaticAttribute);\n        }\n    },\n    // INPUT button (and associated) value\n    function (element) {\n        if (element.nodeName === 'INPUT') {\n            var input = element;\n            var type = input.getAttribute('type');\n            if (type === 'button' || type === 'submit' || type === 'reset') {\n                return input.value;\n            }\n        }\n    },\n    // BUTTON, LABEL or button-like element text\n    function (element, userProgrammaticAttribute) {\n        if (element.nodeName === 'BUTTON' || element.nodeName === 'LABEL' || element.getAttribute('role') === 'button') {\n            return getTextualContent(element, userProgrammaticAttribute);\n        }\n    },\n    function (element) { return element.getAttribute('aria-label'); },\n    // associated element text designated by the aria-labelledby attribute\n    function (element, userProgrammaticAttribute) {\n        var labelledByAttribute = element.getAttribute('aria-labelledby');\n        if (labelledByAttribute) {\n            return labelledByAttribute\n                .split(/\\s+/)\n                .map(function (id) { return getElementById(element, id); })\n                .filter(function (label) { return Boolean(label); })\n                .map(function (element) { return getTextualContent(element, userProgrammaticAttribute); })\n                .join(' ');\n        }\n    },\n    function (element) { return element.getAttribute('alt'); },\n    function (element) { return element.getAttribute('name'); },\n    function (element) { return element.getAttribute('title'); },\n    function (element) { return element.getAttribute('placeholder'); },\n    // SELECT first OPTION text\n    function (element, userProgrammaticAttribute) {\n        if ('options' in element && element.options.length > 0) {\n            return getTextualContent(element.options[0], userProgrammaticAttribute);\n        }\n    },\n];\nvar fallbackStrategies = [\n    function (element, userProgrammaticAttribute) { return getTextualContent(element, userProgrammaticAttribute); },\n];\n/**\n * Iterates over the target element and its parent, using the strategies list to get an action name.\n * Each strategies are applied on each element, stopping as soon as a non-empty value is returned.\n */\nvar MAX_PARENTS_TO_CONSIDER = 10;\nfunction getActionNameFromElementForStrategies(targetElement, userProgrammaticAttribute, strategies) {\n    var element = targetElement;\n    var recursionCounter = 0;\n    while (recursionCounter <= MAX_PARENTS_TO_CONSIDER &&\n        element &&\n        element.nodeName !== 'BODY' &&\n        element.nodeName !== 'HTML' &&\n        element.nodeName !== 'HEAD') {\n        for (var _i = 0, strategies_1 = strategies; _i < strategies_1.length; _i++) {\n            var strategy = strategies_1[_i];\n            var name_1 = strategy(element, userProgrammaticAttribute);\n            if (typeof name_1 === 'string') {\n                var trimmedName = name_1.trim();\n                if (trimmedName) {\n                    return truncate(normalizeWhitespace(trimmedName));\n                }\n            }\n        }\n        // Consider a FORM as a contextual limit to get the action name.  This is experimental and may\n        // be reconsidered in the future.\n        if (element.nodeName === 'FORM') {\n            break;\n        }\n        element = element.parentElement;\n        recursionCounter += 1;\n    }\n}\nfunction normalizeWhitespace(s) {\n    return s.replace(/\\s+/g, ' ');\n}\nfunction truncate(s) {\n    return s.length > 100 ? \"\".concat((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.safeTruncate)(s, 100), \" [...]\") : s;\n}\nfunction getElementById(refElement, id) {\n    // Use the element ownerDocument here, because tests are executed in an iframe, so\n    // document.getElementById won't work.\n    return refElement.ownerDocument ? refElement.ownerDocument.getElementById(id) : null;\n}\nfunction getTextualContent(element, userProgrammaticAttribute) {\n    if (element.isContentEditable) {\n        return;\n    }\n    if ('innerText' in element) {\n        var text_1 = element.innerText;\n        var removeTextFromElements = function (query) {\n            var list = element.querySelectorAll(query);\n            for (var index = 0; index < list.length; index += 1) {\n                var element_1 = list[index];\n                if ('innerText' in element_1) {\n                    var textToReplace = element_1.innerText;\n                    if (textToReplace && textToReplace.trim().length > 0) {\n                        text_1 = text_1.replace(textToReplace, '');\n                    }\n                }\n            }\n        };\n        if (!supportsInnerTextScriptAndStyleRemoval()) {\n            // remove the inner text of SCRIPT and STYLES from the result. This is a bit dirty, but should\n            // be relatively fast and work in most cases.\n            removeTextFromElements('script, style');\n        }\n        // remove the text of elements with programmatic attribute value\n        removeTextFromElements(\"[\".concat(DEFAULT_PROGRAMMATIC_ATTRIBUTE, \"]\"));\n        if (userProgrammaticAttribute) {\n            removeTextFromElements(\"[\".concat(userProgrammaticAttribute, \"]\"));\n        }\n        return text_1;\n    }\n    return element.textContent;\n}\n/**\n * Returns true if element.innerText excludes the text from inline SCRIPT and STYLE element. This\n * should be the case everywhere except on Internet Explorer 10 and 11 (see [1])\n *\n * The innerText property relies on what is actually rendered to compute its output, so to check if\n * it actually excludes SCRIPT and STYLE content, a solution would be to create a style element, set\n * its content to '*', inject it in the document body, and check if the style element innerText\n * property returns '*'. Using a new `document` instance won't work as it is not rendered.\n *\n * This solution requires specific CSP rules (see [2]) to be set by the customer. We want to avoid\n * this, so instead we rely on browser detection. In case of false negative, the impact should be\n * low, since we rely on this result to remove the SCRIPT and STYLE innerText (which will be empty)\n * from a parent element innerText.\n *\n * [1]: https://web.archive.org/web/20210602165716/http://perfectionkills.com/the-poor-misunderstood-innerText/#diff-with-textContent\n * [2]: https://github.com/DataDog/browser-sdk/issues/1084\n */\nfunction supportsInnerTextScriptAndStyleRemoval() {\n    return !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isIE)();\n}\n/**\n * Returns true if the browser supports the element.labels property.  This should be the case\n * everywhere except on Internet Explorer.\n * Note: The result is computed lazily, because we don't want any DOM access when the SDK is\n * evaluated.\n */\nvar supportsLabelPropertyResult;\nfunction supportsLabelProperty() {\n    if (supportsLabelPropertyResult === undefined) {\n        supportsLabelPropertyResult = 'labels' in HTMLInputElement.prototype;\n    }\n    return supportsLabelPropertyResult;\n}\n/**\n * Returns true if the browser supports the element.closest method.  This should be the case\n * everywhere except on Internet Explorer.\n * Note: The result is computed lazily, because we don't want any DOM access when the SDK is\n * evaluated.\n */\nvar supportsElementClosestResult;\nfunction supportsElementClosest() {\n    if (supportsElementClosestResult === undefined) {\n        supportsElementClosestResult = 'closest' in HTMLElement.prototype;\n    }\n    return supportsElementClosestResult;\n}\n//# sourceMappingURL=getActionNameFromElement.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2dldEFjdGlvbk5hbWVGcm9tRWxlbWVudC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wseUJBQXlCLDRDQUE0QztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMscUNBQXFDO0FBQzFFLDJDQUEyQyx3QkFBd0I7QUFDbkUsMENBQTBDLCtEQUErRDtBQUN6RztBQUNBO0FBQ0EsS0FBSztBQUNMLHlCQUF5QixxQ0FBcUM7QUFDOUQseUJBQXlCLHNDQUFzQztBQUMvRCx5QkFBeUIsdUNBQXVDO0FBQ2hFLHlCQUF5Qiw2Q0FBNkM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0RBQW9ELCtEQUErRDtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELDBCQUEwQjtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxtRUFBWTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFCQUFxQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyREFBSTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2dldEFjdGlvbk5hbWVGcm9tRWxlbWVudC5qcz8wMjk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNhZmVUcnVuY2F0ZSwgaXNJRSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG4vKipcbiAqIEdldCB0aGUgYWN0aW9uIG5hbWUgZnJvbSB0aGUgYXR0cmlidXRlICdkYXRhLWRkLWFjdGlvbi1uYW1lJyBvbiB0aGUgZWxlbWVudCBvciBhbnkgb2YgaXRzIHBhcmVudC5cbiAqIEl0IGNhbiBhbHNvIGJlIHJldHJpZXZlZCBmcm9tIGEgdXNlciBkZWZpbmVkIGF0dHJpYnV0ZS5cbiAqL1xudmFyIERFRkFVTFRfUFJPR1JBTU1BVElDX0FUVFJJQlVURSA9ICdkYXRhLWRkLWFjdGlvbi1uYW1lJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSkge1xuICAgIC8vIFByb2NlZWQgdG8gZ2V0IHRoZSBhY3Rpb24gbmFtZSBpbiB0d28gc3RlcHM6XG4gICAgLy8gKiBmaXJzdCwgZ2V0IHRoZSBuYW1lIHByb2dyYW1tYXRpY2FsbHksIGV4cGxpY2l0bHkgZGVmaW5lZCBieSB0aGUgdXNlci5cbiAgICAvLyAqIHRoZW4sIHVzZSBzdHJhdGVnaWVzIHRoYXQgYXJlIGtub3duIHRvIHJldHVybiBnb29kIHJlc3VsdHMuIFRob3NlIHN0cmF0ZWdpZXMgd2lsbCBiZSB1c2VkIG9uXG4gICAgLy8gICB0aGUgZWxlbWVudCBhbmQgYSBmZXcgcGFyZW50cywgYnV0IGl0J3MgbGlrZWx5IHRoYXQgdGhleSB3b24ndCBzdWNjZWVkIGF0IGFsbC5cbiAgICAvLyAqIGlmIG5vIG5hbWUgaXMgZm91bmQgdGhpcyB3YXksIHVzZSBzdHJhdGVnaWVzIHJldHVybmluZyBsZXNzIGFjY3VyYXRlIG5hbWVzIGFzIGEgZmFsbGJhY2suXG4gICAgLy8gICBUaG9zZSBhcmUgbXVjaCBsaWtlbHkgdG8gc3VjY2VlZC5cbiAgICByZXR1cm4gKGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudFByb2dyYW1tYXRpY2FsbHkoZWxlbWVudCwgREVGQVVMVF9QUk9HUkFNTUFUSUNfQVRUUklCVVRFKSB8fFxuICAgICAgICAodXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSAmJiBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnRQcm9ncmFtbWF0aWNhbGx5KGVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUpKSB8fFxuICAgICAgICBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnRGb3JTdHJhdGVnaWVzKGVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUsIHByaW9yaXR5U3RyYXRlZ2llcykgfHxcbiAgICAgICAgZ2V0QWN0aW9uTmFtZUZyb21FbGVtZW50Rm9yU3RyYXRlZ2llcyhlbGVtZW50LCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlLCBmYWxsYmFja1N0cmF0ZWdpZXMpIHx8XG4gICAgICAgICcnKTtcbn1cbmZ1bmN0aW9uIGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudFByb2dyYW1tYXRpY2FsbHkodGFyZ2V0RWxlbWVudCwgcHJvZ3JhbW1hdGljQXR0cmlidXRlKSB7XG4gICAgdmFyIGVsZW1lbnRXaXRoQXR0cmlidXRlO1xuICAgIC8vIFdlIGRvbid0IHVzZSBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnRGb3JTdHJhdGVnaWVzIGhlcmUsIGJlY2F1c2Ugd2Ugd2FudCB0byBjb25zaWRlciBhbGwgcGFyZW50cyxcbiAgICAvLyB3aXRob3V0IGxpbWl0LiBJdCBpcyB1cCB0byB0aGUgdXNlciB0byBkZWNsYXJlIGEgcmVsZXZhbnQgbmFtaW5nIHN0cmF0ZWd5LlxuICAgIC8vIElmIGF2YWlsYWJsZSwgdXNlIGVsZW1lbnQuY2xvc2VzdCgpIHRvIG1hdGNoIGdldCB0aGUgYXR0cmlidXRlIGZyb20gdGhlIGVsZW1lbnQgb3IgYW55IG9mIGl0c1xuICAgIC8vIHBhcmVudC4gIEVsc2UgZmFsbGJhY2sgdG8gYSBtb3JlIHRyYWRpdGlvbmFsIGltcGxlbWVudGF0aW9uLlxuICAgIGlmIChzdXBwb3J0c0VsZW1lbnRDbG9zZXN0KCkpIHtcbiAgICAgICAgZWxlbWVudFdpdGhBdHRyaWJ1dGUgPSB0YXJnZXRFbGVtZW50LmNsb3Nlc3QoXCJbXCIuY29uY2F0KHByb2dyYW1tYXRpY0F0dHJpYnV0ZSwgXCJdXCIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGFyZ2V0RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZShwcm9ncmFtbWF0aWNBdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudFdpdGhBdHRyaWJ1dGUgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWVsZW1lbnRXaXRoQXR0cmlidXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5hbWUgPSBlbGVtZW50V2l0aEF0dHJpYnV0ZS5nZXRBdHRyaWJ1dGUocHJvZ3JhbW1hdGljQXR0cmlidXRlKTtcbiAgICByZXR1cm4gdHJ1bmNhdGUobm9ybWFsaXplV2hpdGVzcGFjZShuYW1lLnRyaW0oKSkpO1xufVxudmFyIHByaW9yaXR5U3RyYXRlZ2llcyA9IFtcbiAgICAvLyBhc3NvY2lhdGVkIExBQkVMIHRleHRcbiAgICBmdW5jdGlvbiAoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSkge1xuICAgICAgICAvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IGVsZW1lbnQubGFiZWxzLCBzbyB3ZSBmYWxsYmFjayB0byBhIENTUyBzZWxlY3RvciBiYXNlZCBvbiB0aGUgZWxlbWVudCBpZFxuICAgICAgICAvLyBpbnN0ZWFkXG4gICAgICAgIGlmIChzdXBwb3J0c0xhYmVsUHJvcGVydHkoKSkge1xuICAgICAgICAgICAgaWYgKCdsYWJlbHMnIGluIGVsZW1lbnQgJiYgZWxlbWVudC5sYWJlbHMgJiYgZWxlbWVudC5sYWJlbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUZXh0dWFsQ29udGVudChlbGVtZW50LmxhYmVsc1swXSwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudC5pZCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gZWxlbWVudC5vd25lckRvY3VtZW50ICYmIGVsZW1lbnQub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibGFiZWxbZm9yPVxcXCJcIi5jb25jYXQoZWxlbWVudC5pZC5yZXBsYWNlKCdcIicsICdcXFxcXCInKSwgXCJcXFwiXVwiKSk7XG4gICAgICAgICAgICByZXR1cm4gbGFiZWwgJiYgZ2V0VGV4dHVhbENvbnRlbnQobGFiZWwsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBJTlBVVCBidXR0b24gKGFuZCBhc3NvY2lhdGVkKSB2YWx1ZVxuICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50O1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnYnV0dG9uJyB8fCB0eXBlID09PSAnc3VibWl0JyB8fCB0eXBlID09PSAncmVzZXQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBCVVRUT04sIExBQkVMIG9yIGJ1dHRvbi1saWtlIGVsZW1lbnQgdGV4dFxuICAgIGZ1bmN0aW9uIChlbGVtZW50LCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKSB7XG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnQlVUVE9OJyB8fCBlbGVtZW50Lm5vZGVOYW1lID09PSAnTEFCRUwnIHx8IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICdidXR0b24nKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGV4dHVhbENvbnRlbnQoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7IHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpOyB9LFxuICAgIC8vIGFzc29jaWF0ZWQgZWxlbWVudCB0ZXh0IGRlc2lnbmF0ZWQgYnkgdGhlIGFyaWEtbGFiZWxsZWRieSBhdHRyaWJ1dGVcbiAgICBmdW5jdGlvbiAoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSkge1xuICAgICAgICB2YXIgbGFiZWxsZWRCeUF0dHJpYnV0ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknKTtcbiAgICAgICAgaWYgKGxhYmVsbGVkQnlBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHJldHVybiBsYWJlbGxlZEJ5QXR0cmlidXRlXG4gICAgICAgICAgICAgICAgLnNwbGl0KC9cXHMrLylcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCwgaWQpOyB9KVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGxhYmVsKSB7IHJldHVybiBCb29sZWFuKGxhYmVsKTsgfSlcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7IHJldHVybiBnZXRUZXh0dWFsQ29udGVudChlbGVtZW50LCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKTsgfSlcbiAgICAgICAgICAgICAgICAuam9pbignICcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FsdCcpOyB9LFxuICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7IHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpOyB9LFxuICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7IHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKTsgfSxcbiAgICBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7IH0sXG4gICAgLy8gU0VMRUNUIGZpcnN0IE9QVElPTiB0ZXh0XG4gICAgZnVuY3Rpb24gKGVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUpIHtcbiAgICAgICAgaWYgKCdvcHRpb25zJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQub3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGV4dHVhbENvbnRlbnQoZWxlbWVudC5vcHRpb25zWzBdLCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgIH0sXG5dO1xudmFyIGZhbGxiYWNrU3RyYXRlZ2llcyA9IFtcbiAgICBmdW5jdGlvbiAoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSkgeyByZXR1cm4gZ2V0VGV4dHVhbENvbnRlbnQoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSk7IH0sXG5dO1xuLyoqXG4gKiBJdGVyYXRlcyBvdmVyIHRoZSB0YXJnZXQgZWxlbWVudCBhbmQgaXRzIHBhcmVudCwgdXNpbmcgdGhlIHN0cmF0ZWdpZXMgbGlzdCB0byBnZXQgYW4gYWN0aW9uIG5hbWUuXG4gKiBFYWNoIHN0cmF0ZWdpZXMgYXJlIGFwcGxpZWQgb24gZWFjaCBlbGVtZW50LCBzdG9wcGluZyBhcyBzb29uIGFzIGEgbm9uLWVtcHR5IHZhbHVlIGlzIHJldHVybmVkLlxuICovXG52YXIgTUFYX1BBUkVOVFNfVE9fQ09OU0lERVIgPSAxMDtcbmZ1bmN0aW9uIGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudEZvclN0cmF0ZWdpZXModGFyZ2V0RWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSwgc3RyYXRlZ2llcykge1xuICAgIHZhciBlbGVtZW50ID0gdGFyZ2V0RWxlbWVudDtcbiAgICB2YXIgcmVjdXJzaW9uQ291bnRlciA9IDA7XG4gICAgd2hpbGUgKHJlY3Vyc2lvbkNvdW50ZXIgPD0gTUFYX1BBUkVOVFNfVE9fQ09OU0lERVIgJiZcbiAgICAgICAgZWxlbWVudCAmJlxuICAgICAgICBlbGVtZW50Lm5vZGVOYW1lICE9PSAnQk9EWScgJiZcbiAgICAgICAgZWxlbWVudC5ub2RlTmFtZSAhPT0gJ0hUTUwnICYmXG4gICAgICAgIGVsZW1lbnQubm9kZU5hbWUgIT09ICdIRUFEJykge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHN0cmF0ZWdpZXNfMSA9IHN0cmF0ZWdpZXM7IF9pIDwgc3RyYXRlZ2llc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHN0cmF0ZWd5ID0gc3RyYXRlZ2llc18xW19pXTtcbiAgICAgICAgICAgIHZhciBuYW1lXzEgPSBzdHJhdGVneShlbGVtZW50LCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZV8xID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciB0cmltbWVkTmFtZSA9IG5hbWVfMS50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRyaW1tZWROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVuY2F0ZShub3JtYWxpemVXaGl0ZXNwYWNlKHRyaW1tZWROYW1lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENvbnNpZGVyIGEgRk9STSBhcyBhIGNvbnRleHR1YWwgbGltaXQgdG8gZ2V0IHRoZSBhY3Rpb24gbmFtZS4gIFRoaXMgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXlcbiAgICAgICAgLy8gYmUgcmVjb25zaWRlcmVkIGluIHRoZSBmdXR1cmUuXG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnRk9STScpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHJlY3Vyc2lvbkNvdW50ZXIgKz0gMTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVXaGl0ZXNwYWNlKHMpIHtcbiAgICByZXR1cm4gcy5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG59XG5mdW5jdGlvbiB0cnVuY2F0ZShzKSB7XG4gICAgcmV0dXJuIHMubGVuZ3RoID4gMTAwID8gXCJcIi5jb25jYXQoc2FmZVRydW5jYXRlKHMsIDEwMCksIFwiIFsuLi5dXCIpIDogcztcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnRCeUlkKHJlZkVsZW1lbnQsIGlkKSB7XG4gICAgLy8gVXNlIHRoZSBlbGVtZW50IG93bmVyRG9jdW1lbnQgaGVyZSwgYmVjYXVzZSB0ZXN0cyBhcmUgZXhlY3V0ZWQgaW4gYW4gaWZyYW1lLCBzb1xuICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIHdvbid0IHdvcmsuXG4gICAgcmV0dXJuIHJlZkVsZW1lbnQub3duZXJEb2N1bWVudCA/IHJlZkVsZW1lbnQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgOiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0VGV4dHVhbENvbnRlbnQoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSkge1xuICAgIGlmIChlbGVtZW50LmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCdpbm5lclRleHQnIGluIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHRleHRfMSA9IGVsZW1lbnQuaW5uZXJUZXh0O1xuICAgICAgICB2YXIgcmVtb3ZlVGV4dEZyb21FbGVtZW50cyA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxpc3QubGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRfMSA9IGxpc3RbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICgnaW5uZXJUZXh0JyBpbiBlbGVtZW50XzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRUb1JlcGxhY2UgPSBlbGVtZW50XzEuaW5uZXJUZXh0O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dFRvUmVwbGFjZSAmJiB0ZXh0VG9SZXBsYWNlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0XzEgPSB0ZXh0XzEucmVwbGFjZSh0ZXh0VG9SZXBsYWNlLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICghc3VwcG9ydHNJbm5lclRleHRTY3JpcHRBbmRTdHlsZVJlbW92YWwoKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBpbm5lciB0ZXh0IG9mIFNDUklQVCBhbmQgU1RZTEVTIGZyb20gdGhlIHJlc3VsdC4gVGhpcyBpcyBhIGJpdCBkaXJ0eSwgYnV0IHNob3VsZFxuICAgICAgICAgICAgLy8gYmUgcmVsYXRpdmVseSBmYXN0IGFuZCB3b3JrIGluIG1vc3QgY2FzZXMuXG4gICAgICAgICAgICByZW1vdmVUZXh0RnJvbUVsZW1lbnRzKCdzY3JpcHQsIHN0eWxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHRoZSB0ZXh0IG9mIGVsZW1lbnRzIHdpdGggcHJvZ3JhbW1hdGljIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgICByZW1vdmVUZXh0RnJvbUVsZW1lbnRzKFwiW1wiLmNvbmNhdChERUZBVUxUX1BST0dSQU1NQVRJQ19BVFRSSUJVVEUsIFwiXVwiKSk7XG4gICAgICAgIGlmICh1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKSB7XG4gICAgICAgICAgICByZW1vdmVUZXh0RnJvbUVsZW1lbnRzKFwiW1wiLmNvbmNhdCh1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlLCBcIl1cIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0XzE7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50LnRleHRDb250ZW50O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZWxlbWVudC5pbm5lclRleHQgZXhjbHVkZXMgdGhlIHRleHQgZnJvbSBpbmxpbmUgU0NSSVBUIGFuZCBTVFlMRSBlbGVtZW50LiBUaGlzXG4gKiBzaG91bGQgYmUgdGhlIGNhc2UgZXZlcnl3aGVyZSBleGNlcHQgb24gSW50ZXJuZXQgRXhwbG9yZXIgMTAgYW5kIDExIChzZWUgWzFdKVxuICpcbiAqIFRoZSBpbm5lclRleHQgcHJvcGVydHkgcmVsaWVzIG9uIHdoYXQgaXMgYWN0dWFsbHkgcmVuZGVyZWQgdG8gY29tcHV0ZSBpdHMgb3V0cHV0LCBzbyB0byBjaGVjayBpZlxuICogaXQgYWN0dWFsbHkgZXhjbHVkZXMgU0NSSVBUIGFuZCBTVFlMRSBjb250ZW50LCBhIHNvbHV0aW9uIHdvdWxkIGJlIHRvIGNyZWF0ZSBhIHN0eWxlIGVsZW1lbnQsIHNldFxuICogaXRzIGNvbnRlbnQgdG8gJyonLCBpbmplY3QgaXQgaW4gdGhlIGRvY3VtZW50IGJvZHksIGFuZCBjaGVjayBpZiB0aGUgc3R5bGUgZWxlbWVudCBpbm5lclRleHRcbiAqIHByb3BlcnR5IHJldHVybnMgJyonLiBVc2luZyBhIG5ldyBgZG9jdW1lbnRgIGluc3RhbmNlIHdvbid0IHdvcmsgYXMgaXQgaXMgbm90IHJlbmRlcmVkLlxuICpcbiAqIFRoaXMgc29sdXRpb24gcmVxdWlyZXMgc3BlY2lmaWMgQ1NQIHJ1bGVzIChzZWUgWzJdKSB0byBiZSBzZXQgYnkgdGhlIGN1c3RvbWVyLiBXZSB3YW50IHRvIGF2b2lkXG4gKiB0aGlzLCBzbyBpbnN0ZWFkIHdlIHJlbHkgb24gYnJvd3NlciBkZXRlY3Rpb24uIEluIGNhc2Ugb2YgZmFsc2UgbmVnYXRpdmUsIHRoZSBpbXBhY3Qgc2hvdWxkIGJlXG4gKiBsb3csIHNpbmNlIHdlIHJlbHkgb24gdGhpcyByZXN1bHQgdG8gcmVtb3ZlIHRoZSBTQ1JJUFQgYW5kIFNUWUxFIGlubmVyVGV4dCAod2hpY2ggd2lsbCBiZSBlbXB0eSlcbiAqIGZyb20gYSBwYXJlbnQgZWxlbWVudCBpbm5lclRleHQuXG4gKlxuICogWzFdOiBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAyMTA2MDIxNjU3MTYvaHR0cDovL3BlcmZlY3Rpb25raWxscy5jb20vdGhlLXBvb3ItbWlzdW5kZXJzdG9vZC1pbm5lclRleHQvI2RpZmYtd2l0aC10ZXh0Q29udGVudFxuICogWzJdOiBodHRwczovL2dpdGh1Yi5jb20vRGF0YURvZy9icm93c2VyLXNkay9pc3N1ZXMvMTA4NFxuICovXG5mdW5jdGlvbiBzdXBwb3J0c0lubmVyVGV4dFNjcmlwdEFuZFN0eWxlUmVtb3ZhbCgpIHtcbiAgICByZXR1cm4gIWlzSUUoKTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBlbGVtZW50LmxhYmVscyBwcm9wZXJ0eS4gIFRoaXMgc2hvdWxkIGJlIHRoZSBjYXNlXG4gKiBldmVyeXdoZXJlIGV4Y2VwdCBvbiBJbnRlcm5ldCBFeHBsb3Jlci5cbiAqIE5vdGU6IFRoZSByZXN1bHQgaXMgY29tcHV0ZWQgbGF6aWx5LCBiZWNhdXNlIHdlIGRvbid0IHdhbnQgYW55IERPTSBhY2Nlc3Mgd2hlbiB0aGUgU0RLIGlzXG4gKiBldmFsdWF0ZWQuXG4gKi9cbnZhciBzdXBwb3J0c0xhYmVsUHJvcGVydHlSZXN1bHQ7XG5mdW5jdGlvbiBzdXBwb3J0c0xhYmVsUHJvcGVydHkoKSB7XG4gICAgaWYgKHN1cHBvcnRzTGFiZWxQcm9wZXJ0eVJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN1cHBvcnRzTGFiZWxQcm9wZXJ0eVJlc3VsdCA9ICdsYWJlbHMnIGluIEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydHNMYWJlbFByb3BlcnR5UmVzdWx0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIGVsZW1lbnQuY2xvc2VzdCBtZXRob2QuICBUaGlzIHNob3VsZCBiZSB0aGUgY2FzZVxuICogZXZlcnl3aGVyZSBleGNlcHQgb24gSW50ZXJuZXQgRXhwbG9yZXIuXG4gKiBOb3RlOiBUaGUgcmVzdWx0IGlzIGNvbXB1dGVkIGxhemlseSwgYmVjYXVzZSB3ZSBkb24ndCB3YW50IGFueSBET00gYWNjZXNzIHdoZW4gdGhlIFNESyBpc1xuICogZXZhbHVhdGVkLlxuICovXG52YXIgc3VwcG9ydHNFbGVtZW50Q2xvc2VzdFJlc3VsdDtcbmZ1bmN0aW9uIHN1cHBvcnRzRWxlbWVudENsb3Nlc3QoKSB7XG4gICAgaWYgKHN1cHBvcnRzRWxlbWVudENsb3Nlc3RSZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdXBwb3J0c0VsZW1lbnRDbG9zZXN0UmVzdWx0ID0gJ2Nsb3Nlc3QnIGluIEhUTUxFbGVtZW50LnByb3RvdHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRzRWxlbWVudENsb3Nlc3RSZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/rageClickChain.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/rageClickChain.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MAX_DISTANCE_BETWEEN_CLICKS\": function() { return /* binding */ MAX_DISTANCE_BETWEEN_CLICKS; },\n/* harmony export */   \"MAX_DURATION_BETWEEN_CLICKS\": function() { return /* binding */ MAX_DURATION_BETWEEN_CLICKS; },\n/* harmony export */   \"createRageClickChain\": function() { return /* binding */ createRageClickChain; },\n/* harmony export */   \"isRage\": function() { return /* binding */ isRage; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nvar MAX_DURATION_BETWEEN_CLICKS = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND;\nvar MAX_DISTANCE_BETWEEN_CLICKS = 100;\nfunction createRageClickChain(firstClick) {\n    var bufferedClicks = [];\n    var status = 0 /* WaitingForMoreClicks */;\n    var maxDurationBetweenClicksTimeout;\n    var rageClick = firstClick.clone();\n    appendClick(firstClick);\n    function appendClick(click) {\n        click.stopObservable.subscribe(tryFinalize);\n        bufferedClicks.push(click);\n        clearTimeout(maxDurationBetweenClicksTimeout);\n        maxDurationBetweenClicksTimeout = setTimeout((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.monitor)(dontAcceptMoreClick), MAX_DURATION_BETWEEN_CLICKS);\n    }\n    function tryFinalize() {\n        if (status === 1 /* WaitingForClicksToStop */ && bufferedClicks.every(function (click) { return click.isStopped(); })) {\n            status = 2 /* Finalized */;\n            finalizeClicks(bufferedClicks, rageClick);\n        }\n    }\n    function dontAcceptMoreClick() {\n        clearTimeout(maxDurationBetweenClicksTimeout);\n        if (status === 0 /* WaitingForMoreClicks */) {\n            status = 1 /* WaitingForClicksToStop */;\n            tryFinalize();\n        }\n    }\n    return {\n        tryAppend: function (click) {\n            if (status !== 0 /* WaitingForMoreClicks */) {\n                return false;\n            }\n            if (bufferedClicks.length > 0 &&\n                !areEventsSimilar(bufferedClicks[bufferedClicks.length - 1].event, click.event)) {\n                dontAcceptMoreClick();\n                return false;\n            }\n            appendClick(click);\n            return true;\n        },\n        stop: function () {\n            dontAcceptMoreClick();\n        },\n    };\n}\n/**\n * Checks whether two events are similar by comparing their target, position and timestamp\n */\nfunction areEventsSimilar(first, second) {\n    return (first.target === second.target &&\n        mouseEventDistance(first, second) <= MAX_DISTANCE_BETWEEN_CLICKS &&\n        first.timeStamp - second.timeStamp <= MAX_DURATION_BETWEEN_CLICKS);\n}\nfunction mouseEventDistance(origin, other) {\n    return Math.sqrt(Math.pow(origin.clientX - other.clientX, 2) + Math.pow(origin.clientY - other.clientY, 2));\n}\nfunction finalizeClicks(clicks, rageClick) {\n    if (isRage(clicks)) {\n        clicks.forEach(function (click) {\n            click.discard();\n            click.getFrustrations().forEach(function (frustration) {\n                rageClick.addFrustration(frustration);\n            });\n        });\n        rageClick.addFrustration(\"rage_click\" /* RAGE_CLICK */);\n        rageClick.validate((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.timeStampNow)());\n    }\n    else {\n        rageClick.discard();\n        clicks.forEach(function (click) { return click.validate(); });\n    }\n}\nvar MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE = 3;\nfunction isRage(clicks) {\n    // TODO: this condition should be improved to avoid reporting 3-click selection as rage click\n    for (var i = 0; i < clicks.length - (MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE - 1); i += 1) {\n        if (clicks[i + MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE - 1].event.timeStamp - clicks[i].event.timeStamp <=\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=rageClickChain.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL3JhZ2VDbGlja0NoYWluLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBFO0FBQ25FLGtDQUFrQyw2REFBVTtBQUM1QztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDhEQUFPO0FBQzVEO0FBQ0E7QUFDQSxpR0FBaUcsMkJBQTJCO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSwyQkFBMkIsbUVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDBCQUEwQjtBQUNwRTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CLGtFQUFrRTtBQUN0RjtBQUNBLFlBQVksNkRBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9hY3Rpb24vcmFnZUNsaWNrQ2hhaW4uanM/M2Q1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtb25pdG9yLCBPTkVfU0VDT05ELCB0aW1lU3RhbXBOb3cgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IHZhciBNQVhfRFVSQVRJT05fQkVUV0VFTl9DTElDS1MgPSBPTkVfU0VDT05EO1xuZXhwb3J0IHZhciBNQVhfRElTVEFOQ0VfQkVUV0VFTl9DTElDS1MgPSAxMDA7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmFnZUNsaWNrQ2hhaW4oZmlyc3RDbGljaykge1xuICAgIHZhciBidWZmZXJlZENsaWNrcyA9IFtdO1xuICAgIHZhciBzdGF0dXMgPSAwIC8qIFdhaXRpbmdGb3JNb3JlQ2xpY2tzICovO1xuICAgIHZhciBtYXhEdXJhdGlvbkJldHdlZW5DbGlja3NUaW1lb3V0O1xuICAgIHZhciByYWdlQ2xpY2sgPSBmaXJzdENsaWNrLmNsb25lKCk7XG4gICAgYXBwZW5kQ2xpY2soZmlyc3RDbGljayk7XG4gICAgZnVuY3Rpb24gYXBwZW5kQ2xpY2soY2xpY2spIHtcbiAgICAgICAgY2xpY2suc3RvcE9ic2VydmFibGUuc3Vic2NyaWJlKHRyeUZpbmFsaXplKTtcbiAgICAgICAgYnVmZmVyZWRDbGlja3MucHVzaChjbGljayk7XG4gICAgICAgIGNsZWFyVGltZW91dChtYXhEdXJhdGlvbkJldHdlZW5DbGlja3NUaW1lb3V0KTtcbiAgICAgICAgbWF4RHVyYXRpb25CZXR3ZWVuQ2xpY2tzVGltZW91dCA9IHNldFRpbWVvdXQobW9uaXRvcihkb250QWNjZXB0TW9yZUNsaWNrKSwgTUFYX0RVUkFUSU9OX0JFVFdFRU5fQ0xJQ0tTKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJ5RmluYWxpemUoKSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDEgLyogV2FpdGluZ0ZvckNsaWNrc1RvU3RvcCAqLyAmJiBidWZmZXJlZENsaWNrcy5ldmVyeShmdW5jdGlvbiAoY2xpY2spIHsgcmV0dXJuIGNsaWNrLmlzU3RvcHBlZCgpOyB9KSkge1xuICAgICAgICAgICAgc3RhdHVzID0gMiAvKiBGaW5hbGl6ZWQgKi87XG4gICAgICAgICAgICBmaW5hbGl6ZUNsaWNrcyhidWZmZXJlZENsaWNrcywgcmFnZUNsaWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkb250QWNjZXB0TW9yZUNsaWNrKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQobWF4RHVyYXRpb25CZXR3ZWVuQ2xpY2tzVGltZW91dCk7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDAgLyogV2FpdGluZ0Zvck1vcmVDbGlja3MgKi8pIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IDEgLyogV2FpdGluZ0ZvckNsaWNrc1RvU3RvcCAqLztcbiAgICAgICAgICAgIHRyeUZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJ5QXBwZW5kOiBmdW5jdGlvbiAoY2xpY2spIHtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IDAgLyogV2FpdGluZ0Zvck1vcmVDbGlja3MgKi8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmZmVyZWRDbGlja3MubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICFhcmVFdmVudHNTaW1pbGFyKGJ1ZmZlcmVkQ2xpY2tzW2J1ZmZlcmVkQ2xpY2tzLmxlbmd0aCAtIDFdLmV2ZW50LCBjbGljay5ldmVudCkpIHtcbiAgICAgICAgICAgICAgICBkb250QWNjZXB0TW9yZUNsaWNrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBwZW5kQ2xpY2soY2xpY2spO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvbnRBY2NlcHRNb3JlQ2xpY2soKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0d28gZXZlbnRzIGFyZSBzaW1pbGFyIGJ5IGNvbXBhcmluZyB0aGVpciB0YXJnZXQsIHBvc2l0aW9uIGFuZCB0aW1lc3RhbXBcbiAqL1xuZnVuY3Rpb24gYXJlRXZlbnRzU2ltaWxhcihmaXJzdCwgc2Vjb25kKSB7XG4gICAgcmV0dXJuIChmaXJzdC50YXJnZXQgPT09IHNlY29uZC50YXJnZXQgJiZcbiAgICAgICAgbW91c2VFdmVudERpc3RhbmNlKGZpcnN0LCBzZWNvbmQpIDw9IE1BWF9ESVNUQU5DRV9CRVRXRUVOX0NMSUNLUyAmJlxuICAgICAgICBmaXJzdC50aW1lU3RhbXAgLSBzZWNvbmQudGltZVN0YW1wIDw9IE1BWF9EVVJBVElPTl9CRVRXRUVOX0NMSUNLUyk7XG59XG5mdW5jdGlvbiBtb3VzZUV2ZW50RGlzdGFuY2Uob3JpZ2luLCBvdGhlcikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cob3JpZ2luLmNsaWVudFggLSBvdGhlci5jbGllbnRYLCAyKSArIE1hdGgucG93KG9yaWdpbi5jbGllbnRZIC0gb3RoZXIuY2xpZW50WSwgMikpO1xufVxuZnVuY3Rpb24gZmluYWxpemVDbGlja3MoY2xpY2tzLCByYWdlQ2xpY2spIHtcbiAgICBpZiAoaXNSYWdlKGNsaWNrcykpIHtcbiAgICAgICAgY2xpY2tzLmZvckVhY2goZnVuY3Rpb24gKGNsaWNrKSB7XG4gICAgICAgICAgICBjbGljay5kaXNjYXJkKCk7XG4gICAgICAgICAgICBjbGljay5nZXRGcnVzdHJhdGlvbnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChmcnVzdHJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJhZ2VDbGljay5hZGRGcnVzdHJhdGlvbihmcnVzdHJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJhZ2VDbGljay5hZGRGcnVzdHJhdGlvbihcInJhZ2VfY2xpY2tcIiAvKiBSQUdFX0NMSUNLICovKTtcbiAgICAgICAgcmFnZUNsaWNrLnZhbGlkYXRlKHRpbWVTdGFtcE5vdygpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJhZ2VDbGljay5kaXNjYXJkKCk7XG4gICAgICAgIGNsaWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjbGljaykgeyByZXR1cm4gY2xpY2sudmFsaWRhdGUoKTsgfSk7XG4gICAgfVxufVxudmFyIE1JTl9DTElDS1NfUEVSX1NFQ09ORF9UT19DT05TSURFUl9SQUdFID0gMztcbmV4cG9ydCBmdW5jdGlvbiBpc1JhZ2UoY2xpY2tzKSB7XG4gICAgLy8gVE9ETzogdGhpcyBjb25kaXRpb24gc2hvdWxkIGJlIGltcHJvdmVkIHRvIGF2b2lkIHJlcG9ydGluZyAzLWNsaWNrIHNlbGVjdGlvbiBhcyByYWdlIGNsaWNrXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGlja3MubGVuZ3RoIC0gKE1JTl9DTElDS1NfUEVSX1NFQ09ORF9UT19DT05TSURFUl9SQUdFIC0gMSk7IGkgKz0gMSkge1xuICAgICAgICBpZiAoY2xpY2tzW2kgKyBNSU5fQ0xJQ0tTX1BFUl9TRUNPTkRfVE9fQ09OU0lERVJfUkFHRSAtIDFdLmV2ZW50LnRpbWVTdGFtcCAtIGNsaWNrc1tpXS5ldmVudC50aW1lU3RhbXAgPD1cbiAgICAgICAgICAgIE9ORV9TRUNPTkQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhZ2VDbGlja0NoYWluLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/rageClickChain.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/trackClickActions.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/trackClickActions.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ACTION_CONTEXT_TIME_OUT_DELAY\": function() { return /* binding */ ACTION_CONTEXT_TIME_OUT_DELAY; },\n/* harmony export */   \"CLICK_ACTION_MAX_DURATION\": function() { return /* binding */ CLICK_ACTION_MAX_DURATION; },\n/* harmony export */   \"trackClickActions\": function() { return /* binding */ trackClickActions; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _trackEventCounts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../trackEventCounts */ \"./node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js\");\n/* harmony import */ var _waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../waitPageActivityEnd */ \"./node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js\");\n/* harmony import */ var _rageClickChain__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./rageClickChain */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/rageClickChain.js\");\n/* harmony import */ var _getActionNameFromElement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getActionNameFromElement */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js\");\n\n\n\n\n\n// Maximum duration for click actions\nvar CLICK_ACTION_MAX_DURATION = 10 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND;\nvar ACTION_CONTEXT_TIME_OUT_DELAY = 5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE; // arbitrary\nfunction trackClickActions(lifeCycle, domMutationObservable, configuration) {\n    var history = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ContextHistory(ACTION_CONTEXT_TIME_OUT_DELAY);\n    var stopObservable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.Observable();\n    var trackFrustrations = configuration.trackFrustrations;\n    var currentRageClickChain;\n    lifeCycle.subscribe(8 /* SESSION_RENEWED */, function () {\n        history.reset();\n    });\n    lifeCycle.subscribe(9 /* BEFORE_UNLOAD */, stopRageClickChain);\n    lifeCycle.subscribe(4 /* VIEW_ENDED */, stopRageClickChain);\n    var stopListener = listenClickEvents(processClick).stop;\n    var actionContexts = {\n        findActionId: function (startTime) {\n            return trackFrustrations ? history.findAll(startTime) : history.find(startTime);\n        },\n    };\n    return {\n        stop: function () {\n            stopRageClickChain();\n            stopObservable.notify();\n            stopListener();\n        },\n        actionContexts: actionContexts,\n    };\n    function stopRageClickChain() {\n        if (currentRageClickChain) {\n            currentRageClickChain.stop();\n        }\n    }\n    function processClick(event) {\n        if (!trackFrustrations && history.find()) {\n            // TODO: remove this in a future major version. To keep retrocompatibility, ignore any new\n            // action if another one is already occurring.\n            return;\n        }\n        var name = (0,_getActionNameFromElement__WEBPACK_IMPORTED_MODULE_3__.getActionNameFromElement)(event.target, configuration.actionNameAttribute);\n        if (!trackFrustrations && !name) {\n            // TODO: remove this in a future major version. To keep retrocompatibility, ignore any action\n            // with a blank name\n            return;\n        }\n        var startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.clocksNow)();\n        var click = newClick(lifeCycle, history, trackFrustrations, {\n            name: name,\n            event: event,\n            startClocks: startClocks,\n        });\n        if (trackFrustrations && (!currentRageClickChain || !currentRageClickChain.tryAppend(click))) {\n            currentRageClickChain = (0,_rageClickChain__WEBPACK_IMPORTED_MODULE_2__.createRageClickChain)(click);\n        }\n        var stopWaitPageActivityEnd = (0,_waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_1__.waitPageActivityEnd)(lifeCycle, domMutationObservable, configuration, function (pageActivityEndEvent) {\n            if (!pageActivityEndEvent.hadActivity) {\n                // If it has no activity, consider it as a dead click.\n                // TODO: this will yield a lot of false positive. We'll need to refine it in the future.\n                if (trackFrustrations) {\n                    click.addFrustration(\"dead_click\" /* DEAD_CLICK */);\n                    click.stop();\n                }\n                else {\n                    click.discard();\n                }\n            }\n            else if (pageActivityEndEvent.end < startClocks.timeStamp) {\n                // If the clock is looking weird, just discard the click\n                click.discard();\n            }\n            else if (trackFrustrations) {\n                // If we track frustrations, let's stop the click, but validate it later\n                click.stop(pageActivityEndEvent.end);\n            }\n            else {\n                // Else just validate it now\n                click.validate(pageActivityEndEvent.end);\n            }\n        }, CLICK_ACTION_MAX_DURATION).stop;\n        var viewEndedSubscription = lifeCycle.subscribe(4 /* VIEW_ENDED */, function (_a) {\n            var endClocks = _a.endClocks;\n            click.stop(endClocks.timeStamp);\n        });\n        var stopSubscription = stopObservable.subscribe(function () {\n            click.stop();\n        });\n        click.stopObservable.subscribe(function () {\n            viewEndedSubscription.unsubscribe();\n            stopWaitPageActivityEnd();\n            stopSubscription.unsubscribe();\n        });\n    }\n}\nfunction listenClickEvents(callback) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.addEventListener)(window, \"click\" /* CLICK */, function (clickEvent) {\n        if (clickEvent.target instanceof Element) {\n            callback(clickEvent);\n        }\n    }, { capture: true });\n}\nfunction newClick(lifeCycle, history, trackFrustrations, base) {\n    var id = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.generateUUID)();\n    var historyEntry = history.add(id, base.startClocks.relative);\n    var eventCountsSubscription = (0,_trackEventCounts__WEBPACK_IMPORTED_MODULE_0__.trackEventCounts)(lifeCycle);\n    var state = { status: 0 /* ONGOING */ };\n    var frustrations = new Set();\n    var stopObservable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.Observable();\n    function stop(endTime) {\n        if (state.status !== 0 /* ONGOING */) {\n            return;\n        }\n        state = { status: 1 /* STOPPED */, endTime: endTime };\n        if (endTime) {\n            historyEntry.close((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.getRelativeTime)(endTime));\n        }\n        else {\n            historyEntry.remove();\n        }\n        eventCountsSubscription.stop();\n        stopObservable.notify();\n    }\n    function addFrustration(frustration) {\n        if (trackFrustrations) {\n            frustrations.add(frustration);\n        }\n    }\n    return {\n        event: base.event,\n        addFrustration: addFrustration,\n        stop: stop,\n        stopObservable: stopObservable,\n        getFrustrations: function () { return frustrations; },\n        isStopped: function () { return state.status === 1 /* STOPPED */ || state.status === 2 /* FINALIZED */; },\n        clone: function () { return newClick(lifeCycle, history, trackFrustrations, base); },\n        validate: function (endTime) {\n            stop(endTime);\n            if (state.status !== 1 /* STOPPED */) {\n                return;\n            }\n            if (eventCountsSubscription.eventCounts.errorCount > 0) {\n                addFrustration(\"error_click\" /* ERROR_CLICK */);\n            }\n            var _a = eventCountsSubscription.eventCounts, resourceCount = _a.resourceCount, errorCount = _a.errorCount, longTaskCount = _a.longTaskCount;\n            var clickAction = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.assign)({\n                type: \"click\" /* CLICK */,\n                duration: state.endTime && (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.elapsed)(base.startClocks.timeStamp, state.endTime),\n                id: id,\n                frustrationTypes: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.setToArray)(frustrations),\n                counts: {\n                    resourceCount: resourceCount,\n                    errorCount: errorCount,\n                    longTaskCount: longTaskCount,\n                },\n            }, base);\n            lifeCycle.notify(1 /* AUTO_ACTION_COMPLETED */, clickAction);\n            state = { status: 2 /* FINALIZED */ };\n        },\n        discard: function () {\n            stop();\n            state = { status: 2 /* FINALIZED */ };\n        },\n    };\n}\n//# sourceMappingURL=trackClickActions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL3RyYWNrQ2xpY2tBY3Rpb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXFMO0FBQzNIO0FBQ007QUFDUjtBQUNjO0FBQ3RFO0FBQ08scUNBQXFDLDZEQUFVO0FBQy9DLHdDQUF3Qyw2REFBVSxFQUFFO0FBQ3BEO0FBQ1Asc0JBQXNCLGlFQUFjO0FBQ3BDLDZCQUE2Qiw2REFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1GQUF3QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFTO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esb0NBQW9DLHFFQUFvQjtBQUN4RDtBQUNBLHNDQUFzQyx5RUFBbUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVFQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUksZUFBZTtBQUN4QjtBQUNBO0FBQ0EsYUFBYSxtRUFBWTtBQUN6QjtBQUNBLGtDQUFrQyxtRUFBZ0I7QUFDbEQsa0JBQWtCO0FBQ2xCO0FBQ0EsNkJBQTZCLDZEQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsK0JBQStCLHNFQUFlO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0JBQXNCO0FBQzdELGlDQUFpQyxnRkFBZ0Y7QUFDakgsNkJBQTZCLCtEQUErRDtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNkRBQU07QUFDcEM7QUFDQSwyQ0FBMkMsOERBQU87QUFDbEQ7QUFDQSxrQ0FBa0MsaUVBQVU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0Esc0JBQXNCO0FBQ3RCLFNBQVM7QUFDVDtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi90cmFja0NsaWNrQWN0aW9ucy5qcz9mODhkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFRvQXJyYXksIE9ic2VydmFibGUsIGFzc2lnbiwgZ2V0UmVsYXRpdmVUaW1lLCBPTkVfTUlOVVRFLCBDb250ZXh0SGlzdG9yeSwgYWRkRXZlbnRMaXN0ZW5lciwgZ2VuZXJhdGVVVUlELCBjbG9ja3NOb3csIE9ORV9TRUNPTkQsIGVsYXBzZWQsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHRyYWNrRXZlbnRDb3VudHMgfSBmcm9tICcuLi8uLi90cmFja0V2ZW50Q291bnRzJztcbmltcG9ydCB7IHdhaXRQYWdlQWN0aXZpdHlFbmQgfSBmcm9tICcuLi8uLi93YWl0UGFnZUFjdGl2aXR5RW5kJztcbmltcG9ydCB7IGNyZWF0ZVJhZ2VDbGlja0NoYWluIH0gZnJvbSAnLi9yYWdlQ2xpY2tDaGFpbic7XG5pbXBvcnQgeyBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQgfSBmcm9tICcuL2dldEFjdGlvbk5hbWVGcm9tRWxlbWVudCc7XG4vLyBNYXhpbXVtIGR1cmF0aW9uIGZvciBjbGljayBhY3Rpb25zXG5leHBvcnQgdmFyIENMSUNLX0FDVElPTl9NQVhfRFVSQVRJT04gPSAxMCAqIE9ORV9TRUNPTkQ7XG5leHBvcnQgdmFyIEFDVElPTl9DT05URVhUX1RJTUVfT1VUX0RFTEFZID0gNSAqIE9ORV9NSU5VVEU7IC8vIGFyYml0cmFyeVxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrQ2xpY2tBY3Rpb25zKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIGhpc3RvcnkgPSBuZXcgQ29udGV4dEhpc3RvcnkoQUNUSU9OX0NPTlRFWFRfVElNRV9PVVRfREVMQVkpO1xuICAgIHZhciBzdG9wT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgdmFyIHRyYWNrRnJ1c3RyYXRpb25zID0gY29uZmlndXJhdGlvbi50cmFja0ZydXN0cmF0aW9ucztcbiAgICB2YXIgY3VycmVudFJhZ2VDbGlja0NoYWluO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoOCAvKiBTRVNTSU9OX1JFTkVXRUQgKi8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaGlzdG9yeS5yZXNldCgpO1xuICAgIH0pO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoOSAvKiBCRUZPUkVfVU5MT0FEICovLCBzdG9wUmFnZUNsaWNrQ2hhaW4pO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoNCAvKiBWSUVXX0VOREVEICovLCBzdG9wUmFnZUNsaWNrQ2hhaW4pO1xuICAgIHZhciBzdG9wTGlzdGVuZXIgPSBsaXN0ZW5DbGlja0V2ZW50cyhwcm9jZXNzQ2xpY2spLnN0b3A7XG4gICAgdmFyIGFjdGlvbkNvbnRleHRzID0ge1xuICAgICAgICBmaW5kQWN0aW9uSWQ6IGZ1bmN0aW9uIChzdGFydFRpbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFja0ZydXN0cmF0aW9ucyA/IGhpc3RvcnkuZmluZEFsbChzdGFydFRpbWUpIDogaGlzdG9yeS5maW5kKHN0YXJ0VGltZSk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wUmFnZUNsaWNrQ2hhaW4oKTtcbiAgICAgICAgICAgIHN0b3BPYnNlcnZhYmxlLm5vdGlmeSgpO1xuICAgICAgICAgICAgc3RvcExpc3RlbmVyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbkNvbnRleHRzOiBhY3Rpb25Db250ZXh0cyxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHN0b3BSYWdlQ2xpY2tDaGFpbigpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRSYWdlQ2xpY2tDaGFpbikge1xuICAgICAgICAgICAgY3VycmVudFJhZ2VDbGlja0NoYWluLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9jZXNzQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0cmFja0ZydXN0cmF0aW9ucyAmJiBoaXN0b3J5LmZpbmQoKSkge1xuICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgaW4gYSBmdXR1cmUgbWFqb3IgdmVyc2lvbi4gVG8ga2VlcCByZXRyb2NvbXBhdGliaWxpdHksIGlnbm9yZSBhbnkgbmV3XG4gICAgICAgICAgICAvLyBhY3Rpb24gaWYgYW5vdGhlciBvbmUgaXMgYWxyZWFkeSBvY2N1cnJpbmcuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5hbWUgPSBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQoZXZlbnQudGFyZ2V0LCBjb25maWd1cmF0aW9uLmFjdGlvbk5hbWVBdHRyaWJ1dGUpO1xuICAgICAgICBpZiAoIXRyYWNrRnJ1c3RyYXRpb25zICYmICFuYW1lKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBpbiBhIGZ1dHVyZSBtYWpvciB2ZXJzaW9uLiBUbyBrZWVwIHJldHJvY29tcGF0aWJpbGl0eSwgaWdub3JlIGFueSBhY3Rpb25cbiAgICAgICAgICAgIC8vIHdpdGggYSBibGFuayBuYW1lXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0Q2xvY2tzID0gY2xvY2tzTm93KCk7XG4gICAgICAgIHZhciBjbGljayA9IG5ld0NsaWNrKGxpZmVDeWNsZSwgaGlzdG9yeSwgdHJhY2tGcnVzdHJhdGlvbnMsIHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICBzdGFydENsb2Nrczogc3RhcnRDbG9ja3MsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHJhY2tGcnVzdHJhdGlvbnMgJiYgKCFjdXJyZW50UmFnZUNsaWNrQ2hhaW4gfHwgIWN1cnJlbnRSYWdlQ2xpY2tDaGFpbi50cnlBcHBlbmQoY2xpY2spKSkge1xuICAgICAgICAgICAgY3VycmVudFJhZ2VDbGlja0NoYWluID0gY3JlYXRlUmFnZUNsaWNrQ2hhaW4oY2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdG9wV2FpdFBhZ2VBY3Rpdml0eUVuZCA9IHdhaXRQYWdlQWN0aXZpdHlFbmQobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGZ1bmN0aW9uIChwYWdlQWN0aXZpdHlFbmRFdmVudCkge1xuICAgICAgICAgICAgaWYgKCFwYWdlQWN0aXZpdHlFbmRFdmVudC5oYWRBY3Rpdml0eSkge1xuICAgICAgICAgICAgICAgIC8vIElmIGl0IGhhcyBubyBhY3Rpdml0eSwgY29uc2lkZXIgaXQgYXMgYSBkZWFkIGNsaWNrLlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IHRoaXMgd2lsbCB5aWVsZCBhIGxvdCBvZiBmYWxzZSBwb3NpdGl2ZS4gV2UnbGwgbmVlZCB0byByZWZpbmUgaXQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgICAgICAgICBpZiAodHJhY2tGcnVzdHJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2suYWRkRnJ1c3RyYXRpb24oXCJkZWFkX2NsaWNrXCIgLyogREVBRF9DTElDSyAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrLmRpc2NhcmQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYWdlQWN0aXZpdHlFbmRFdmVudC5lbmQgPCBzdGFydENsb2Nrcy50aW1lU3RhbXApIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2xvY2sgaXMgbG9va2luZyB3ZWlyZCwganVzdCBkaXNjYXJkIHRoZSBjbGlja1xuICAgICAgICAgICAgICAgIGNsaWNrLmRpc2NhcmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRyYWNrRnJ1c3RyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgdHJhY2sgZnJ1c3RyYXRpb25zLCBsZXQncyBzdG9wIHRoZSBjbGljaywgYnV0IHZhbGlkYXRlIGl0IGxhdGVyXG4gICAgICAgICAgICAgICAgY2xpY2suc3RvcChwYWdlQWN0aXZpdHlFbmRFdmVudC5lbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRWxzZSBqdXN0IHZhbGlkYXRlIGl0IG5vd1xuICAgICAgICAgICAgICAgIGNsaWNrLnZhbGlkYXRlKHBhZ2VBY3Rpdml0eUVuZEV2ZW50LmVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIENMSUNLX0FDVElPTl9NQVhfRFVSQVRJT04pLnN0b3A7XG4gICAgICAgIHZhciB2aWV3RW5kZWRTdWJzY3JpcHRpb24gPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDQgLyogVklFV19FTkRFRCAqLywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZW5kQ2xvY2tzID0gX2EuZW5kQ2xvY2tzO1xuICAgICAgICAgICAgY2xpY2suc3RvcChlbmRDbG9ja3MudGltZVN0YW1wKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzdG9wU3Vic2NyaXB0aW9uID0gc3RvcE9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsaWNrLnN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNsaWNrLnN0b3BPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2aWV3RW5kZWRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHN0b3BXYWl0UGFnZUFjdGl2aXR5RW5kKCk7XG4gICAgICAgICAgICBzdG9wU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxpc3RlbkNsaWNrRXZlbnRzKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcImNsaWNrXCIgLyogQ0xJQ0sgKi8sIGZ1bmN0aW9uIChjbGlja0V2ZW50KSB7XG4gICAgICAgIGlmIChjbGlja0V2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGNsaWNrRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSwgeyBjYXB0dXJlOiB0cnVlIH0pO1xufVxuZnVuY3Rpb24gbmV3Q2xpY2sobGlmZUN5Y2xlLCBoaXN0b3J5LCB0cmFja0ZydXN0cmF0aW9ucywgYmFzZSkge1xuICAgIHZhciBpZCA9IGdlbmVyYXRlVVVJRCgpO1xuICAgIHZhciBoaXN0b3J5RW50cnkgPSBoaXN0b3J5LmFkZChpZCwgYmFzZS5zdGFydENsb2Nrcy5yZWxhdGl2ZSk7XG4gICAgdmFyIGV2ZW50Q291bnRzU3Vic2NyaXB0aW9uID0gdHJhY2tFdmVudENvdW50cyhsaWZlQ3ljbGUpO1xuICAgIHZhciBzdGF0ZSA9IHsgc3RhdHVzOiAwIC8qIE9OR09JTkcgKi8gfTtcbiAgICB2YXIgZnJ1c3RyYXRpb25zID0gbmV3IFNldCgpO1xuICAgIHZhciBzdG9wT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgZnVuY3Rpb24gc3RvcChlbmRUaW1lKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgIT09IDAgLyogT05HT0lORyAqLykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlID0geyBzdGF0dXM6IDEgLyogU1RPUFBFRCAqLywgZW5kVGltZTogZW5kVGltZSB9O1xuICAgICAgICBpZiAoZW5kVGltZSkge1xuICAgICAgICAgICAgaGlzdG9yeUVudHJ5LmNsb3NlKGdldFJlbGF0aXZlVGltZShlbmRUaW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoaXN0b3J5RW50cnkucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnRDb3VudHNTdWJzY3JpcHRpb24uc3RvcCgpO1xuICAgICAgICBzdG9wT2JzZXJ2YWJsZS5ub3RpZnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRnJ1c3RyYXRpb24oZnJ1c3RyYXRpb24pIHtcbiAgICAgICAgaWYgKHRyYWNrRnJ1c3RyYXRpb25zKSB7XG4gICAgICAgICAgICBmcnVzdHJhdGlvbnMuYWRkKGZydXN0cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBldmVudDogYmFzZS5ldmVudCxcbiAgICAgICAgYWRkRnJ1c3RyYXRpb246IGFkZEZydXN0cmF0aW9uLFxuICAgICAgICBzdG9wOiBzdG9wLFxuICAgICAgICBzdG9wT2JzZXJ2YWJsZTogc3RvcE9ic2VydmFibGUsXG4gICAgICAgIGdldEZydXN0cmF0aW9uczogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnJ1c3RyYXRpb25zOyB9LFxuICAgICAgICBpc1N0b3BwZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXRlLnN0YXR1cyA9PT0gMSAvKiBTVE9QUEVEICovIHx8IHN0YXRlLnN0YXR1cyA9PT0gMiAvKiBGSU5BTElaRUQgKi87IH0sXG4gICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXdDbGljayhsaWZlQ3ljbGUsIGhpc3RvcnksIHRyYWNrRnJ1c3RyYXRpb25zLCBiYXNlKTsgfSxcbiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIChlbmRUaW1lKSB7XG4gICAgICAgICAgICBzdG9wKGVuZFRpbWUpO1xuICAgICAgICAgICAgaWYgKHN0YXRlLnN0YXR1cyAhPT0gMSAvKiBTVE9QUEVEICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50Q291bnRzU3Vic2NyaXB0aW9uLmV2ZW50Q291bnRzLmVycm9yQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgYWRkRnJ1c3RyYXRpb24oXCJlcnJvcl9jbGlja1wiIC8qIEVSUk9SX0NMSUNLICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYSA9IGV2ZW50Q291bnRzU3Vic2NyaXB0aW9uLmV2ZW50Q291bnRzLCByZXNvdXJjZUNvdW50ID0gX2EucmVzb3VyY2VDb3VudCwgZXJyb3JDb3VudCA9IF9hLmVycm9yQ291bnQsIGxvbmdUYXNrQ291bnQgPSBfYS5sb25nVGFza0NvdW50O1xuICAgICAgICAgICAgdmFyIGNsaWNrQWN0aW9uID0gYXNzaWduKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNsaWNrXCIgLyogQ0xJQ0sgKi8sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHN0YXRlLmVuZFRpbWUgJiYgZWxhcHNlZChiYXNlLnN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCwgc3RhdGUuZW5kVGltZSksXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGZydXN0cmF0aW9uVHlwZXM6IHNldFRvQXJyYXkoZnJ1c3RyYXRpb25zKSxcbiAgICAgICAgICAgICAgICBjb3VudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VDb3VudDogcmVzb3VyY2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb3VudDogZXJyb3JDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgbG9uZ1Rhc2tDb3VudDogbG9uZ1Rhc2tDb3VudCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSwgYmFzZSk7XG4gICAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDEgLyogQVVUT19BQ1RJT05fQ09NUExFVEVEICovLCBjbGlja0FjdGlvbik7XG4gICAgICAgICAgICBzdGF0ZSA9IHsgc3RhdHVzOiAyIC8qIEZJTkFMSVpFRCAqLyB9O1xuICAgICAgICB9LFxuICAgICAgICBkaXNjYXJkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICBzdGF0ZSA9IHsgc3RhdHVzOiAyIC8qIEZJTkFMSVpFRCAqLyB9O1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFja0NsaWNrQWN0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/trackClickActions.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/errorCollection.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/errorCollection.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"doStartErrorCollection\": function() { return /* binding */ doStartErrorCollection; },\n/* harmony export */   \"startErrorCollection\": function() { return /* binding */ startErrorCollection; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _trackConsoleError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackConsoleError */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackConsoleError.js\");\n/* harmony import */ var _trackReportError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trackReportError */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackReportError.js\");\n\n\n\nfunction startErrorCollection(lifeCycle, foregroundContexts) {\n    var errorObservable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.Observable();\n    (0,_trackConsoleError__WEBPACK_IMPORTED_MODULE_0__.trackConsoleError)(errorObservable);\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.trackRuntimeError)(errorObservable);\n    (0,_trackReportError__WEBPACK_IMPORTED_MODULE_1__.trackReportError)(errorObservable);\n    errorObservable.subscribe(function (error) { return lifeCycle.notify(12 /* RAW_ERROR_COLLECTED */, { error: error }); });\n    return doStartErrorCollection(lifeCycle, foregroundContexts);\n}\nfunction doStartErrorCollection(lifeCycle, foregroundContexts) {\n    lifeCycle.subscribe(12 /* RAW_ERROR_COLLECTED */, function (_a) {\n        var error = _a.error, customerContext = _a.customerContext, savedCommonContext = _a.savedCommonContext;\n        lifeCycle.notify(10 /* RAW_RUM_EVENT_COLLECTED */, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n            customerContext: customerContext,\n            savedCommonContext: savedCommonContext,\n        }, processError(error, foregroundContexts)));\n    });\n    return {\n        addError: function (_a, savedCommonContext) {\n            var error = _a.error, handlingStack = _a.handlingStack, startClocks = _a.startClocks, customerContext = _a.context;\n            var rawError = computeRawError(error, handlingStack, startClocks);\n            lifeCycle.notify(12 /* RAW_ERROR_COLLECTED */, {\n                customerContext: customerContext,\n                savedCommonContext: savedCommonContext,\n                error: rawError,\n            });\n        },\n    };\n}\nfunction computeRawError(error, handlingStack, startClocks) {\n    var stackTrace = error instanceof Error ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.computeStackTrace)(error) : undefined;\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        startClocks: startClocks,\n        source: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.CUSTOM,\n        originalError: error,\n        handling: \"handled\" /* HANDLED */,\n    }, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.formatUnknownError)(stackTrace, error, 'Provided', handlingStack));\n}\nfunction processError(error, foregroundContexts) {\n    var rawRumEvent = {\n        date: error.startClocks.timeStamp,\n        error: {\n            id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.generateUUID)(),\n            message: error.message,\n            source: error.source,\n            stack: error.stack,\n            handling_stack: error.handlingStack,\n            type: error.type,\n            handling: error.handling,\n            source_type: 'browser',\n        },\n        type: \"error\" /* ERROR */,\n    };\n    var inForeground = foregroundContexts.isInForegroundAt(error.startClocks.relative);\n    if (inForeground !== undefined) {\n        rawRumEvent.view = { in_foreground: inForeground };\n    }\n    return {\n        rawRumEvent: rawRumEvent,\n        startTime: error.startClocks.relative,\n        domainContext: {\n            error: error.originalError,\n        },\n    };\n}\n//# sourceMappingURL=errorCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vZXJyb3IvZXJyb3JDb2xsZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlKO0FBQ3pGO0FBQ0Y7QUFDL0M7QUFDUCw4QkFBOEIsNkRBQVU7QUFDeEMsSUFBSSxxRUFBaUI7QUFDckIsSUFBSSx3RUFBaUI7QUFDckIsSUFBSSxtRUFBZ0I7QUFDcEIsaURBQWlELHdEQUF3RCxjQUFjLElBQUk7QUFDM0g7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDJEQUEyRCw2REFBTTtBQUNqRTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsd0VBQWlCO0FBQy9ELFdBQVcsNkRBQU07QUFDakI7QUFDQSxnQkFBZ0IscUVBQWtCO0FBQ2xDO0FBQ0E7QUFDQSxLQUFLLEVBQUUseUVBQWtCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUVBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vZXJyb3IvZXJyb3JDb2xsZWN0aW9uLmpzPzZiMDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzaWduLCBjb21wdXRlU3RhY2tUcmFjZSwgZm9ybWF0VW5rbm93bkVycm9yLCBFcnJvclNvdXJjZSwgZ2VuZXJhdGVVVUlELCBPYnNlcnZhYmxlLCB0cmFja1J1bnRpbWVFcnJvciwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgdHJhY2tDb25zb2xlRXJyb3IgfSBmcm9tICcuL3RyYWNrQ29uc29sZUVycm9yJztcbmltcG9ydCB7IHRyYWNrUmVwb3J0RXJyb3IgfSBmcm9tICcuL3RyYWNrUmVwb3J0RXJyb3InO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RXJyb3JDb2xsZWN0aW9uKGxpZmVDeWNsZSwgZm9yZWdyb3VuZENvbnRleHRzKSB7XG4gICAgdmFyIGVycm9yT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgdHJhY2tDb25zb2xlRXJyb3IoZXJyb3JPYnNlcnZhYmxlKTtcbiAgICB0cmFja1J1bnRpbWVFcnJvcihlcnJvck9ic2VydmFibGUpO1xuICAgIHRyYWNrUmVwb3J0RXJyb3IoZXJyb3JPYnNlcnZhYmxlKTtcbiAgICBlcnJvck9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gbGlmZUN5Y2xlLm5vdGlmeSgxMiAvKiBSQVdfRVJST1JfQ09MTEVDVEVEICovLCB7IGVycm9yOiBlcnJvciB9KTsgfSk7XG4gICAgcmV0dXJuIGRvU3RhcnRFcnJvckNvbGxlY3Rpb24obGlmZUN5Y2xlLCBmb3JlZ3JvdW5kQ29udGV4dHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRvU3RhcnRFcnJvckNvbGxlY3Rpb24obGlmZUN5Y2xlLCBmb3JlZ3JvdW5kQ29udGV4dHMpIHtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDEyIC8qIFJBV19FUlJPUl9DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZXJyb3IgPSBfYS5lcnJvciwgY3VzdG9tZXJDb250ZXh0ID0gX2EuY3VzdG9tZXJDb250ZXh0LCBzYXZlZENvbW1vbkNvbnRleHQgPSBfYS5zYXZlZENvbW1vbkNvbnRleHQ7XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMTAgLyogUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQgKi8sIGFzc2lnbih7XG4gICAgICAgICAgICBjdXN0b21lckNvbnRleHQ6IGN1c3RvbWVyQ29udGV4dCxcbiAgICAgICAgICAgIHNhdmVkQ29tbW9uQ29udGV4dDogc2F2ZWRDb21tb25Db250ZXh0LFxuICAgICAgICB9LCBwcm9jZXNzRXJyb3IoZXJyb3IsIGZvcmVncm91bmRDb250ZXh0cykpKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRFcnJvcjogZnVuY3Rpb24gKF9hLCBzYXZlZENvbW1vbkNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IF9hLmVycm9yLCBoYW5kbGluZ1N0YWNrID0gX2EuaGFuZGxpbmdTdGFjaywgc3RhcnRDbG9ja3MgPSBfYS5zdGFydENsb2NrcywgY3VzdG9tZXJDb250ZXh0ID0gX2EuY29udGV4dDtcbiAgICAgICAgICAgIHZhciByYXdFcnJvciA9IGNvbXB1dGVSYXdFcnJvcihlcnJvciwgaGFuZGxpbmdTdGFjaywgc3RhcnRDbG9ja3MpO1xuICAgICAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgxMiAvKiBSQVdfRVJST1JfQ09MTEVDVEVEICovLCB7XG4gICAgICAgICAgICAgICAgY3VzdG9tZXJDb250ZXh0OiBjdXN0b21lckNvbnRleHQsXG4gICAgICAgICAgICAgICAgc2F2ZWRDb21tb25Db250ZXh0OiBzYXZlZENvbW1vbkNvbnRleHQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHJhd0Vycm9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVSYXdFcnJvcihlcnJvciwgaGFuZGxpbmdTdGFjaywgc3RhcnRDbG9ja3MpIHtcbiAgICB2YXIgc3RhY2tUcmFjZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBjb21wdXRlU3RhY2tUcmFjZShlcnJvcikgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGFzc2lnbih7XG4gICAgICAgIHN0YXJ0Q2xvY2tzOiBzdGFydENsb2NrcyxcbiAgICAgICAgc291cmNlOiBFcnJvclNvdXJjZS5DVVNUT00sXG4gICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yLFxuICAgICAgICBoYW5kbGluZzogXCJoYW5kbGVkXCIgLyogSEFORExFRCAqLyxcbiAgICB9LCBmb3JtYXRVbmtub3duRXJyb3Ioc3RhY2tUcmFjZSwgZXJyb3IsICdQcm92aWRlZCcsIGhhbmRsaW5nU3RhY2spKTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NFcnJvcihlcnJvciwgZm9yZWdyb3VuZENvbnRleHRzKSB7XG4gICAgdmFyIHJhd1J1bUV2ZW50ID0ge1xuICAgICAgICBkYXRlOiBlcnJvci5zdGFydENsb2Nrcy50aW1lU3RhbXAsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgc291cmNlOiBlcnJvci5zb3VyY2UsXG4gICAgICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgICAgICAgICBoYW5kbGluZ19zdGFjazogZXJyb3IuaGFuZGxpbmdTdGFjayxcbiAgICAgICAgICAgIHR5cGU6IGVycm9yLnR5cGUsXG4gICAgICAgICAgICBoYW5kbGluZzogZXJyb3IuaGFuZGxpbmcsXG4gICAgICAgICAgICBzb3VyY2VfdHlwZTogJ2Jyb3dzZXInLFxuICAgICAgICB9LFxuICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogRVJST1IgKi8sXG4gICAgfTtcbiAgICB2YXIgaW5Gb3JlZ3JvdW5kID0gZm9yZWdyb3VuZENvbnRleHRzLmlzSW5Gb3JlZ3JvdW5kQXQoZXJyb3Iuc3RhcnRDbG9ja3MucmVsYXRpdmUpO1xuICAgIGlmIChpbkZvcmVncm91bmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByYXdSdW1FdmVudC52aWV3ID0geyBpbl9mb3JlZ3JvdW5kOiBpbkZvcmVncm91bmQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmF3UnVtRXZlbnQ6IHJhd1J1bUV2ZW50LFxuICAgICAgICBzdGFydFRpbWU6IGVycm9yLnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3Iub3JpZ2luYWxFcnJvcixcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/errorCollection.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackConsoleError.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackConsoleError.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"trackConsoleError\": function() { return /* binding */ trackConsoleError; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nfunction trackConsoleError(errorObservable) {\n    var subscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.initConsoleObservable)([_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ConsoleApiName.error]).subscribe(function (consoleError) {\n        return errorObservable.notify({\n            startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.clocksNow)(),\n            message: consoleError.message,\n            stack: consoleError.stack,\n            source: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ErrorSource.CONSOLE,\n            handling: \"handled\" /* HANDLED */,\n            handlingStack: consoleError.handlingStack,\n        });\n    });\n    return {\n        stop: function () {\n            subscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=trackConsoleError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vZXJyb3IvdHJhY2tDb25zb2xlRXJyb3IuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0c7QUFDL0Y7QUFDUCx1QkFBdUIsNEVBQXFCLEVBQUUsdUVBQW9CO0FBQ2xFO0FBQ0EseUJBQXlCLGdFQUFTO0FBQ2xDO0FBQ0E7QUFDQSxvQkFBb0Isc0VBQW1CO0FBQ3ZDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2Vycm9yL3RyYWNrQ29uc29sZUVycm9yLmpzPzhhZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xvY2tzTm93LCBpbml0Q29uc29sZU9ic2VydmFibGUsIEVycm9yU291cmNlLCBDb25zb2xlQXBpTmFtZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tDb25zb2xlRXJyb3IoZXJyb3JPYnNlcnZhYmxlKSB7XG4gICAgdmFyIHN1YnNjcmlwdGlvbiA9IGluaXRDb25zb2xlT2JzZXJ2YWJsZShbQ29uc29sZUFwaU5hbWUuZXJyb3JdKS5zdWJzY3JpYmUoZnVuY3Rpb24gKGNvbnNvbGVFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3JPYnNlcnZhYmxlLm5vdGlmeSh7XG4gICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgICBtZXNzYWdlOiBjb25zb2xlRXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrOiBjb25zb2xlRXJyb3Iuc3RhY2ssXG4gICAgICAgICAgICBzb3VyY2U6IEVycm9yU291cmNlLkNPTlNPTEUsXG4gICAgICAgICAgICBoYW5kbGluZzogXCJoYW5kbGVkXCIgLyogSEFORExFRCAqLyxcbiAgICAgICAgICAgIGhhbmRsaW5nU3RhY2s6IGNvbnNvbGVFcnJvci5oYW5kbGluZ1N0YWNrLFxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2tDb25zb2xlRXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackConsoleError.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackReportError.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackReportError.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"trackReportError\": function() { return /* binding */ trackReportError; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nfunction trackReportError(errorObservable) {\n    var subscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.initReportObservable)([_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.RawReportType.cspViolation, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.RawReportType.intervention]).subscribe(function (reportError) {\n        return errorObservable.notify({\n            startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.clocksNow)(),\n            message: reportError.message,\n            stack: reportError.stack,\n            type: reportError.subtype,\n            source: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ErrorSource.REPORT,\n            handling: \"unhandled\" /* UNHANDLED */,\n        });\n    });\n    return {\n        stop: function () {\n            subscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=trackReportError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vZXJyb3IvdHJhY2tSZXBvcnRFcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRztBQUM3RjtBQUNQLHVCQUF1QiwyRUFBb0IsRUFBRSw2RUFBMEIsRUFBRSw2RUFBMEI7QUFDbkc7QUFDQSx5QkFBeUIsZ0VBQVM7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFFQUFrQjtBQUN0QztBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vZXJyb3IvdHJhY2tSZXBvcnRFcnJvci5qcz9kOTNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb2Nrc05vdywgRXJyb3JTb3VyY2UsIGluaXRSZXBvcnRPYnNlcnZhYmxlLCBSYXdSZXBvcnRUeXBlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiB0cmFja1JlcG9ydEVycm9yKGVycm9yT2JzZXJ2YWJsZSkge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSBpbml0UmVwb3J0T2JzZXJ2YWJsZShbUmF3UmVwb3J0VHlwZS5jc3BWaW9sYXRpb24sIFJhd1JlcG9ydFR5cGUuaW50ZXJ2ZW50aW9uXSkuc3Vic2NyaWJlKGZ1bmN0aW9uIChyZXBvcnRFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3JPYnNlcnZhYmxlLm5vdGlmeSh7XG4gICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgICBtZXNzYWdlOiByZXBvcnRFcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgc3RhY2s6IHJlcG9ydEVycm9yLnN0YWNrLFxuICAgICAgICAgICAgdHlwZTogcmVwb3J0RXJyb3Iuc3VidHlwZSxcbiAgICAgICAgICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuUkVQT1JULFxuICAgICAgICAgICAgaGFuZGxpbmc6IFwidW5oYW5kbGVkXCIgLyogVU5IQU5ETEVEICovLFxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2tSZXBvcnRFcnJvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackReportError.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/longTask/longTaskCollection.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/longTask/longTaskCollection.js ***!
  \**************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startLongTaskCollection\": function() { return /* binding */ startLongTaskCollection; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nfunction startLongTaskCollection(lifeCycle, sessionManager) {\n    lifeCycle.subscribe(0 /* PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var entry = entries_1[_i];\n            if (entry.entryType !== 'longtask') {\n                break;\n            }\n            var session = sessionManager.findTrackedSession(entry.startTime);\n            if (!session || session.hasLitePlan) {\n                break;\n            }\n            var startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.relativeToClocks)(entry.startTime);\n            var rawRumEvent = {\n                date: startClocks.timeStamp,\n                long_task: {\n                    id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.generateUUID)(),\n                    duration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)(entry.duration),\n                },\n                type: \"long_task\" /* LONG_TASK */,\n            };\n            lifeCycle.notify(10 /* RAW_RUM_EVENT_COLLECTED */, {\n                rawRumEvent: rawRumEvent,\n                startTime: startClocks.relative,\n                domainContext: { performanceEntry: entry.toJSON() },\n            });\n        }\n    });\n}\n//# sourceMappingURL=longTaskCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vbG9uZ1Rhc2svbG9uZ1Rhc2tDb2xsZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlGO0FBQ2xGO0FBQ1A7QUFDQSw4Q0FBOEMsdUJBQXVCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdUVBQWdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtRUFBWTtBQUNwQyw4QkFBOEIsdUVBQWdCO0FBQzlDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGtDQUFrQztBQUNuRSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vbG9uZ1Rhc2svbG9uZ1Rhc2tDb2xsZWN0aW9uLmpzP2JlZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9TZXJ2ZXJEdXJhdGlvbiwgcmVsYXRpdmVUb0Nsb2NrcywgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydExvbmdUYXNrQ29sbGVjdGlvbihsaWZlQ3ljbGUsIHNlc3Npb25NYW5hZ2VyKSB7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSgwIC8qIFBFUkZPUk1BTkNFX0VOVFJJRVNfQ09MTEVDVEVEICovLCBmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGVudHJpZXNfMSA9IGVudHJpZXM7IF9pIDwgZW50cmllc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc18xW19pXTtcbiAgICAgICAgICAgIGlmIChlbnRyeS5lbnRyeVR5cGUgIT09ICdsb25ndGFzaycpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZmluZFRyYWNrZWRTZXNzaW9uKGVudHJ5LnN0YXJ0VGltZSk7XG4gICAgICAgICAgICBpZiAoIXNlc3Npb24gfHwgc2Vzc2lvbi5oYXNMaXRlUGxhbikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXJ0Q2xvY2tzID0gcmVsYXRpdmVUb0Nsb2NrcyhlbnRyeS5zdGFydFRpbWUpO1xuICAgICAgICAgICAgdmFyIHJhd1J1bUV2ZW50ID0ge1xuICAgICAgICAgICAgICAgIGRhdGU6IHN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCxcbiAgICAgICAgICAgICAgICBsb25nX3Rhc2s6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdG9TZXJ2ZXJEdXJhdGlvbihlbnRyeS5kdXJhdGlvbiksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImxvbmdfdGFza1wiIC8qIExPTkdfVEFTSyAqLyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDEwIC8qIFJBV19SVU1fRVZFTlRfQ09MTEVDVEVEICovLCB7XG4gICAgICAgICAgICAgICAgcmF3UnVtRXZlbnQ6IHJhd1J1bUV2ZW50LFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRDbG9ja3MucmVsYXRpdmUsXG4gICAgICAgICAgICAgICAgZG9tYWluQ29udGV4dDogeyBwZXJmb3JtYW5jZUVudHJ5OiBlbnRyeS50b0pTT04oKSB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvbmdUYXNrQ29sbGVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/longTask/longTaskCollection.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/matchRequestTiming.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/matchRequestTiming.js ***!
  \**************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"matchRequestTiming\": function() { return /* binding */ matchRequestTiming; }\n/* harmony export */ });\n/* harmony import */ var _resourceUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./resourceUtils */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\");\n\n/**\n * Look for corresponding timing in resource timing buffer\n *\n * Observations:\n * - Timing (start, end) are nested inside the request (start, end)\n * - Some timing can be not exactly nested, being off by < 1 ms\n * - Browsers generate a timing entry for OPTIONS request\n *\n * Strategy:\n * - from valid nested entries (with 1 ms error margin)\n * - if a single timing match, return the timing\n * - if two following timings match (OPTIONS request), return the timing for the actual request\n * - otherwise we can't decide, return undefined\n */\nfunction matchRequestTiming(request) {\n    if (!performance || !('getEntriesByName' in performance)) {\n        return;\n    }\n    var sameNameEntries = performance.getEntriesByName(request.url, 'resource');\n    if (!sameNameEntries.length || !('toJSON' in sameNameEntries[0])) {\n        return;\n    }\n    var candidates = sameNameEntries\n        .map(function (entry) { return entry.toJSON(); })\n        .filter(_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.toValidEntry)\n        .filter(function (entry) {\n        return isBetween(entry, request.startClocks.relative, endTime({ startTime: request.startClocks.relative, duration: request.duration }));\n    });\n    if (candidates.length === 1) {\n        return candidates[0];\n    }\n    if (candidates.length === 2 && firstCanBeOptionRequest(candidates)) {\n        return candidates[1];\n    }\n    return;\n}\nfunction firstCanBeOptionRequest(correspondingEntries) {\n    return endTime(correspondingEntries[0]) <= correspondingEntries[1].startTime;\n}\nfunction endTime(timing) {\n    // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n    return (timing.startTime + timing.duration);\n}\nfunction isBetween(timing, start, end) {\n    var errorMargin = 1;\n    // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n    return timing.startTime >= start - errorMargin && endTime(timing) <= end + errorMargin;\n}\n//# sourceMappingURL=matchRequestTiming.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vcmVzb3VyY2UvbWF0Y2hSZXF1ZXN0VGltaW5nLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0JBQXdCO0FBQ3hELGdCQUFnQix3REFBWTtBQUM1QjtBQUNBLHdFQUF3RSxxRUFBcUU7QUFDN0ksS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vcmVzb3VyY2UvbWF0Y2hSZXF1ZXN0VGltaW5nLmpzPzk4NDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9WYWxpZEVudHJ5IH0gZnJvbSAnLi9yZXNvdXJjZVV0aWxzJztcbi8qKlxuICogTG9vayBmb3IgY29ycmVzcG9uZGluZyB0aW1pbmcgaW4gcmVzb3VyY2UgdGltaW5nIGJ1ZmZlclxuICpcbiAqIE9ic2VydmF0aW9uczpcbiAqIC0gVGltaW5nIChzdGFydCwgZW5kKSBhcmUgbmVzdGVkIGluc2lkZSB0aGUgcmVxdWVzdCAoc3RhcnQsIGVuZClcbiAqIC0gU29tZSB0aW1pbmcgY2FuIGJlIG5vdCBleGFjdGx5IG5lc3RlZCwgYmVpbmcgb2ZmIGJ5IDwgMSBtc1xuICogLSBCcm93c2VycyBnZW5lcmF0ZSBhIHRpbWluZyBlbnRyeSBmb3IgT1BUSU9OUyByZXF1ZXN0XG4gKlxuICogU3RyYXRlZ3k6XG4gKiAtIGZyb20gdmFsaWQgbmVzdGVkIGVudHJpZXMgKHdpdGggMSBtcyBlcnJvciBtYXJnaW4pXG4gKiAtIGlmIGEgc2luZ2xlIHRpbWluZyBtYXRjaCwgcmV0dXJuIHRoZSB0aW1pbmdcbiAqIC0gaWYgdHdvIGZvbGxvd2luZyB0aW1pbmdzIG1hdGNoIChPUFRJT05TIHJlcXVlc3QpLCByZXR1cm4gdGhlIHRpbWluZyBmb3IgdGhlIGFjdHVhbCByZXF1ZXN0XG4gKiAtIG90aGVyd2lzZSB3ZSBjYW4ndCBkZWNpZGUsIHJldHVybiB1bmRlZmluZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoUmVxdWVzdFRpbWluZyhyZXF1ZXN0KSB7XG4gICAgaWYgKCFwZXJmb3JtYW5jZSB8fCAhKCdnZXRFbnRyaWVzQnlOYW1lJyBpbiBwZXJmb3JtYW5jZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2FtZU5hbWVFbnRyaWVzID0gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShyZXF1ZXN0LnVybCwgJ3Jlc291cmNlJyk7XG4gICAgaWYgKCFzYW1lTmFtZUVudHJpZXMubGVuZ3RoIHx8ICEoJ3RvSlNPTicgaW4gc2FtZU5hbWVFbnRyaWVzWzBdKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjYW5kaWRhdGVzID0gc2FtZU5hbWVFbnRyaWVzXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeS50b0pTT04oKTsgfSlcbiAgICAgICAgLmZpbHRlcih0b1ZhbGlkRW50cnkpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBpc0JldHdlZW4oZW50cnksIHJlcXVlc3Quc3RhcnRDbG9ja3MucmVsYXRpdmUsIGVuZFRpbWUoeyBzdGFydFRpbWU6IHJlcXVlc3Quc3RhcnRDbG9ja3MucmVsYXRpdmUsIGR1cmF0aW9uOiByZXF1ZXN0LmR1cmF0aW9uIH0pKTtcbiAgICB9KTtcbiAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZXNbMF07XG4gICAgfVxuICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMiAmJiBmaXJzdENhbkJlT3B0aW9uUmVxdWVzdChjYW5kaWRhdGVzKSkge1xuICAgICAgICByZXR1cm4gY2FuZGlkYXRlc1sxXTtcbiAgICB9XG4gICAgcmV0dXJuO1xufVxuZnVuY3Rpb24gZmlyc3RDYW5CZU9wdGlvblJlcXVlc3QoY29ycmVzcG9uZGluZ0VudHJpZXMpIHtcbiAgICByZXR1cm4gZW5kVGltZShjb3JyZXNwb25kaW5nRW50cmllc1swXSkgPD0gY29ycmVzcG9uZGluZ0VudHJpZXNbMV0uc3RhcnRUaW1lO1xufVxuZnVuY3Rpb24gZW5kVGltZSh0aW1pbmcpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXBsdXMtb3BlcmFuZHNcbiAgICByZXR1cm4gKHRpbWluZy5zdGFydFRpbWUgKyB0aW1pbmcuZHVyYXRpb24pO1xufVxuZnVuY3Rpb24gaXNCZXR3ZWVuKHRpbWluZywgc3RhcnQsIGVuZCkge1xuICAgIHZhciBlcnJvck1hcmdpbiA9IDE7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC1wbHVzLW9wZXJhbmRzXG4gICAgcmV0dXJuIHRpbWluZy5zdGFydFRpbWUgPj0gc3RhcnQgLSBlcnJvck1hcmdpbiAmJiBlbmRUaW1lKHRpbWluZykgPD0gZW5kICsgZXJyb3JNYXJnaW47XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRjaFJlcXVlc3RUaW1pbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/matchRequestTiming.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceCollection.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceCollection.js ***!
  \**************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startResourceCollection\": function() { return /* binding */ startResourceCollection; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../browser/performanceCollection */ \"./node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js\");\n/* harmony import */ var _matchRequestTiming__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matchRequestTiming */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/matchRequestTiming.js\");\n/* harmony import */ var _resourceUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resourceUtils */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\");\n\n\n\n\nfunction startResourceCollection(lifeCycle) {\n    lifeCycle.subscribe(6 /* REQUEST_COMPLETED */, function (request) {\n        lifeCycle.notify(10 /* RAW_RUM_EVENT_COLLECTED */, processRequest(request));\n    });\n    lifeCycle.subscribe(0 /* PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var entry = entries_1[_i];\n            if (entry.entryType === 'resource' && !(0,_resourceUtils__WEBPACK_IMPORTED_MODULE_2__.isRequestKind)(entry)) {\n                lifeCycle.notify(10 /* RAW_RUM_EVENT_COLLECTED */, processResourceEntry(entry));\n            }\n        }\n    });\n}\nfunction processRequest(request) {\n    var type = request.type === \"xhr\" /* XHR */ ? \"xhr\" /* XHR */ : \"fetch\" /* FETCH */;\n    var matchingTiming = (0,_matchRequestTiming__WEBPACK_IMPORTED_MODULE_1__.matchRequestTiming)(request);\n    var startClocks = matchingTiming ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.relativeToClocks)(matchingTiming.startTime) : request.startClocks;\n    var correspondingTimingOverrides = matchingTiming ? computePerformanceEntryMetrics(matchingTiming) : undefined;\n    var tracingInfo = computeRequestTracingInfo(request);\n    var resourceEvent = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.combine)({\n        date: startClocks.timeStamp,\n        resource: {\n            id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.generateUUID)(),\n            type: type,\n            duration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(request.duration),\n            method: request.method,\n            status_code: request.status,\n            url: request.url,\n        },\n        type: \"resource\" /* RESOURCE */,\n    }, tracingInfo, correspondingTimingOverrides);\n    return {\n        startTime: startClocks.relative,\n        rawRumEvent: resourceEvent,\n        domainContext: {\n            performanceEntry: matchingTiming && toPerformanceEntryRepresentation(matchingTiming),\n            xhr: request.xhr,\n            response: request.response,\n            requestInput: request.input,\n            requestInit: request.init,\n            error: request.error,\n        },\n    };\n}\nfunction processResourceEntry(entry) {\n    var type = (0,_resourceUtils__WEBPACK_IMPORTED_MODULE_2__.computeResourceKind)(entry);\n    var entryMetrics = computePerformanceEntryMetrics(entry);\n    var tracingInfo = computeEntryTracingInfo(entry);\n    var startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.relativeToClocks)(entry.startTime);\n    var resourceEvent = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.combine)({\n        date: startClocks.timeStamp,\n        resource: {\n            id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.generateUUID)(),\n            type: type,\n            url: entry.name,\n        },\n        type: \"resource\" /* RESOURCE */,\n    }, tracingInfo, entryMetrics);\n    return {\n        startTime: startClocks.relative,\n        rawRumEvent: resourceEvent,\n        domainContext: {\n            performanceEntry: toPerformanceEntryRepresentation(entry),\n        },\n    };\n}\nfunction computePerformanceEntryMetrics(timing) {\n    return {\n        resource: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.assign)({\n            duration: (0,_resourceUtils__WEBPACK_IMPORTED_MODULE_2__.computePerformanceResourceDuration)(timing),\n            size: (0,_resourceUtils__WEBPACK_IMPORTED_MODULE_2__.computeSize)(timing),\n        }, (0,_resourceUtils__WEBPACK_IMPORTED_MODULE_2__.computePerformanceResourceDetails)(timing)),\n    };\n}\nfunction computeRequestTracingInfo(request) {\n    var hasBeenTraced = request.traceSampled && request.traceId && request.spanId;\n    if (!hasBeenTraced) {\n        return undefined;\n    }\n    return {\n        _dd: {\n            span_id: request.spanId.toDecimalString(),\n            trace_id: request.traceId.toDecimalString(),\n        },\n    };\n}\nfunction computeEntryTracingInfo(entry) {\n    return entry.traceId ? { _dd: { trace_id: entry.traceId } } : undefined;\n}\nfunction toPerformanceEntryRepresentation(entry) {\n    if ((0,_browser_performanceCollection__WEBPACK_IMPORTED_MODULE_0__.supportPerformanceEntry)() && entry instanceof PerformanceEntry) {\n        entry.toJSON();\n    }\n    return entry;\n}\n//# sourceMappingURL=resourceCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vcmVzb3VyY2UvcmVzb3VyY2VDb2xsZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJHO0FBQzFCO0FBQ3ZCO0FBQ2dHO0FBQ25KO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE4Qyx1QkFBdUI7QUFDckU7QUFDQSxtREFBbUQsNkRBQWE7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1RUFBa0I7QUFDM0MsdUNBQXVDLHVFQUFnQjtBQUN2RDtBQUNBO0FBQ0Esd0JBQXdCLDhEQUFPO0FBQy9CO0FBQ0E7QUFDQSxnQkFBZ0IsbUVBQVk7QUFDNUI7QUFDQSxzQkFBc0IsdUVBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1FQUFtQjtBQUNsQztBQUNBO0FBQ0Esc0JBQXNCLHVFQUFnQjtBQUN0Qyx3QkFBd0IsOERBQU87QUFDL0I7QUFDQTtBQUNBLGdCQUFnQixtRUFBWTtBQUM1QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkRBQU07QUFDeEIsc0JBQXNCLGtGQUFrQztBQUN4RCxrQkFBa0IsMkRBQVc7QUFDN0IsU0FBUyxFQUFFLGlGQUFpQztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixPQUFPLDRCQUE0QjtBQUNoRTtBQUNBO0FBQ0EsUUFBUSx1RkFBdUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vcmVzb3VyY2UvcmVzb3VyY2VDb2xsZWN0aW9uLmpzP2Y2MmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tYmluZSwgZ2VuZXJhdGVVVUlELCB0b1NlcnZlckR1cmF0aW9uLCByZWxhdGl2ZVRvQ2xvY2tzLCBhc3NpZ24sIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHN1cHBvcnRQZXJmb3JtYW5jZUVudHJ5IH0gZnJvbSAnLi4vLi4vLi4vYnJvd3Nlci9wZXJmb3JtYW5jZUNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgbWF0Y2hSZXF1ZXN0VGltaW5nIH0gZnJvbSAnLi9tYXRjaFJlcXVlc3RUaW1pbmcnO1xuaW1wb3J0IHsgY29tcHV0ZVBlcmZvcm1hbmNlUmVzb3VyY2VEZXRhaWxzLCBjb21wdXRlUGVyZm9ybWFuY2VSZXNvdXJjZUR1cmF0aW9uLCBjb21wdXRlUmVzb3VyY2VLaW5kLCBjb21wdXRlU2l6ZSwgaXNSZXF1ZXN0S2luZCwgfSBmcm9tICcuL3Jlc291cmNlVXRpbHMnO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UmVzb3VyY2VDb2xsZWN0aW9uKGxpZmVDeWNsZSkge1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoNiAvKiBSRVFVRVNUX0NPTVBMRVRFRCAqLywgZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgxMCAvKiBSQVdfUlVNX0VWRU5UX0NPTExFQ1RFRCAqLywgcHJvY2Vzc1JlcXVlc3QocmVxdWVzdCkpO1xuICAgIH0pO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMCAvKiBQRVJGT1JNQU5DRV9FTlRSSUVTX0NPTExFQ1RFRCAqLywgZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBlbnRyaWVzXzEgPSBlbnRyaWVzOyBfaSA8IGVudHJpZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNfMVtfaV07XG4gICAgICAgICAgICBpZiAoZW50cnkuZW50cnlUeXBlID09PSAncmVzb3VyY2UnICYmICFpc1JlcXVlc3RLaW5kKGVudHJ5KSkge1xuICAgICAgICAgICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMTAgLyogUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQgKi8sIHByb2Nlc3NSZXNvdXJjZUVudHJ5KGVudHJ5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICB2YXIgdHlwZSA9IHJlcXVlc3QudHlwZSA9PT0gXCJ4aHJcIiAvKiBYSFIgKi8gPyBcInhoclwiIC8qIFhIUiAqLyA6IFwiZmV0Y2hcIiAvKiBGRVRDSCAqLztcbiAgICB2YXIgbWF0Y2hpbmdUaW1pbmcgPSBtYXRjaFJlcXVlc3RUaW1pbmcocmVxdWVzdCk7XG4gICAgdmFyIHN0YXJ0Q2xvY2tzID0gbWF0Y2hpbmdUaW1pbmcgPyByZWxhdGl2ZVRvQ2xvY2tzKG1hdGNoaW5nVGltaW5nLnN0YXJ0VGltZSkgOiByZXF1ZXN0LnN0YXJ0Q2xvY2tzO1xuICAgIHZhciBjb3JyZXNwb25kaW5nVGltaW5nT3ZlcnJpZGVzID0gbWF0Y2hpbmdUaW1pbmcgPyBjb21wdXRlUGVyZm9ybWFuY2VFbnRyeU1ldHJpY3MobWF0Y2hpbmdUaW1pbmcpIDogdW5kZWZpbmVkO1xuICAgIHZhciB0cmFjaW5nSW5mbyA9IGNvbXB1dGVSZXF1ZXN0VHJhY2luZ0luZm8ocmVxdWVzdCk7XG4gICAgdmFyIHJlc291cmNlRXZlbnQgPSBjb21iaW5lKHtcbiAgICAgICAgZGF0ZTogc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgICByZXNvdXJjZToge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0b1NlcnZlckR1cmF0aW9uKHJlcXVlc3QuZHVyYXRpb24pLFxuICAgICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgIHN0YXR1c19jb2RlOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgICAgIHVybDogcmVxdWVzdC51cmwsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IFwicmVzb3VyY2VcIiAvKiBSRVNPVVJDRSAqLyxcbiAgICB9LCB0cmFjaW5nSW5mbywgY29ycmVzcG9uZGluZ1RpbWluZ092ZXJyaWRlcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnRUaW1lOiBzdGFydENsb2Nrcy5yZWxhdGl2ZSxcbiAgICAgICAgcmF3UnVtRXZlbnQ6IHJlc291cmNlRXZlbnQsXG4gICAgICAgIGRvbWFpbkNvbnRleHQ6IHtcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlRW50cnk6IG1hdGNoaW5nVGltaW5nICYmIHRvUGVyZm9ybWFuY2VFbnRyeVJlcHJlc2VudGF0aW9uKG1hdGNoaW5nVGltaW5nKSxcbiAgICAgICAgICAgIHhocjogcmVxdWVzdC54aHIsXG4gICAgICAgICAgICByZXNwb25zZTogcmVxdWVzdC5yZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3RJbnB1dDogcmVxdWVzdC5pbnB1dCxcbiAgICAgICAgICAgIHJlcXVlc3RJbml0OiByZXF1ZXN0LmluaXQsXG4gICAgICAgICAgICBlcnJvcjogcmVxdWVzdC5lcnJvcixcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gcHJvY2Vzc1Jlc291cmNlRW50cnkoZW50cnkpIHtcbiAgICB2YXIgdHlwZSA9IGNvbXB1dGVSZXNvdXJjZUtpbmQoZW50cnkpO1xuICAgIHZhciBlbnRyeU1ldHJpY3MgPSBjb21wdXRlUGVyZm9ybWFuY2VFbnRyeU1ldHJpY3MoZW50cnkpO1xuICAgIHZhciB0cmFjaW5nSW5mbyA9IGNvbXB1dGVFbnRyeVRyYWNpbmdJbmZvKGVudHJ5KTtcbiAgICB2YXIgc3RhcnRDbG9ja3MgPSByZWxhdGl2ZVRvQ2xvY2tzKGVudHJ5LnN0YXJ0VGltZSk7XG4gICAgdmFyIHJlc291cmNlRXZlbnQgPSBjb21iaW5lKHtcbiAgICAgICAgZGF0ZTogc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgICByZXNvdXJjZToge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHVybDogZW50cnkubmFtZSxcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZTogXCJyZXNvdXJjZVwiIC8qIFJFU09VUkNFICovLFxuICAgIH0sIHRyYWNpbmdJbmZvLCBlbnRyeU1ldHJpY3MpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0VGltZTogc3RhcnRDbG9ja3MucmVsYXRpdmUsXG4gICAgICAgIHJhd1J1bUV2ZW50OiByZXNvdXJjZUV2ZW50LFxuICAgICAgICBkb21haW5Db250ZXh0OiB7XG4gICAgICAgICAgICBwZXJmb3JtYW5jZUVudHJ5OiB0b1BlcmZvcm1hbmNlRW50cnlSZXByZXNlbnRhdGlvbihlbnRyeSksXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVQZXJmb3JtYW5jZUVudHJ5TWV0cmljcyh0aW1pbmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXNvdXJjZTogYXNzaWduKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBjb21wdXRlUGVyZm9ybWFuY2VSZXNvdXJjZUR1cmF0aW9uKHRpbWluZyksXG4gICAgICAgICAgICBzaXplOiBjb21wdXRlU2l6ZSh0aW1pbmcpLFxuICAgICAgICB9LCBjb21wdXRlUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHModGltaW5nKSksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVSZXF1ZXN0VHJhY2luZ0luZm8ocmVxdWVzdCkge1xuICAgIHZhciBoYXNCZWVuVHJhY2VkID0gcmVxdWVzdC50cmFjZVNhbXBsZWQgJiYgcmVxdWVzdC50cmFjZUlkICYmIHJlcXVlc3Quc3BhbklkO1xuICAgIGlmICghaGFzQmVlblRyYWNlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBfZGQ6IHtcbiAgICAgICAgICAgIHNwYW5faWQ6IHJlcXVlc3Quc3BhbklkLnRvRGVjaW1hbFN0cmluZygpLFxuICAgICAgICAgICAgdHJhY2VfaWQ6IHJlcXVlc3QudHJhY2VJZC50b0RlY2ltYWxTdHJpbmcoKSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZUVudHJ5VHJhY2luZ0luZm8oZW50cnkpIHtcbiAgICByZXR1cm4gZW50cnkudHJhY2VJZCA/IHsgX2RkOiB7IHRyYWNlX2lkOiBlbnRyeS50cmFjZUlkIH0gfSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHRvUGVyZm9ybWFuY2VFbnRyeVJlcHJlc2VudGF0aW9uKGVudHJ5KSB7XG4gICAgaWYgKHN1cHBvcnRQZXJmb3JtYW5jZUVudHJ5KCkgJiYgZW50cnkgaW5zdGFuY2VvZiBQZXJmb3JtYW5jZUVudHJ5KSB7XG4gICAgICAgIGVudHJ5LnRvSlNPTigpO1xuICAgIH1cbiAgICByZXR1cm4gZW50cnk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZUNvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceCollection.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FAKE_INITIAL_DOCUMENT\": function() { return /* binding */ FAKE_INITIAL_DOCUMENT; },\n/* harmony export */   \"computePerformanceResourceDetails\": function() { return /* binding */ computePerformanceResourceDetails; },\n/* harmony export */   \"computePerformanceResourceDuration\": function() { return /* binding */ computePerformanceResourceDuration; },\n/* harmony export */   \"computeResourceKind\": function() { return /* binding */ computeResourceKind; },\n/* harmony export */   \"computeSize\": function() { return /* binding */ computeSize; },\n/* harmony export */   \"isAllowedRequestUrl\": function() { return /* binding */ isAllowedRequestUrl; },\n/* harmony export */   \"isRequestKind\": function() { return /* binding */ isRequestKind; },\n/* harmony export */   \"toValidEntry\": function() { return /* binding */ toValidEntry; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nvar FAKE_INITIAL_DOCUMENT = 'initial_document';\nvar RESOURCE_TYPES = [\n    [\"document\" /* DOCUMENT */, function (initiatorType) { return FAKE_INITIAL_DOCUMENT === initiatorType; }],\n    [\"xhr\" /* XHR */, function (initiatorType) { return 'xmlhttprequest' === initiatorType; }],\n    [\"fetch\" /* FETCH */, function (initiatorType) { return 'fetch' === initiatorType; }],\n    [\"beacon\" /* BEACON */, function (initiatorType) { return 'beacon' === initiatorType; }],\n    [\"css\" /* CSS */, function (_, path) { return /\\.css$/i.test(path); }],\n    [\"js\" /* JS */, function (_, path) { return /\\.js$/i.test(path); }],\n    [\n        \"image\" /* IMAGE */,\n        function (initiatorType, path) {\n            return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.includes)(['image', 'img', 'icon'], initiatorType) || /\\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(path) !== null;\n        },\n    ],\n    [\"font\" /* FONT */, function (_, path) { return /\\.(woff|eot|woff2|ttf)$/i.exec(path) !== null; }],\n    [\n        \"media\" /* MEDIA */,\n        function (initiatorType, path) {\n            return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.includes)(['audio', 'video'], initiatorType) || /\\.(mp3|mp4)$/i.exec(path) !== null;\n        },\n    ],\n];\nfunction computeResourceKind(timing) {\n    var url = timing.name;\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isValidUrl)(url)) {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addTelemetryDebug)(\"Failed to construct URL for \\\"\".concat(timing.name, \"\\\"\"));\n        return \"other\" /* OTHER */;\n    }\n    var path = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getPathName)(url);\n    for (var _i = 0, RESOURCE_TYPES_1 = RESOURCE_TYPES; _i < RESOURCE_TYPES_1.length; _i++) {\n        var _a = RESOURCE_TYPES_1[_i], type = _a[0], isType = _a[1];\n        if (isType(timing.initiatorType, path)) {\n            return type;\n        }\n    }\n    return \"other\" /* OTHER */;\n}\nfunction areInOrder() {\n    var numbers = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        numbers[_i] = arguments[_i];\n    }\n    for (var i = 1; i < numbers.length; i += 1) {\n        if (numbers[i - 1] > numbers[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isRequestKind(timing) {\n    return timing.initiatorType === 'xmlhttprequest' || timing.initiatorType === 'fetch';\n}\nfunction computePerformanceResourceDuration(entry) {\n    var duration = entry.duration, startTime = entry.startTime, responseEnd = entry.responseEnd;\n    // Safari duration is always 0 on timings blocked by cross origin policies.\n    if (duration === 0 && startTime < responseEnd) {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.elapsed)(startTime, responseEnd));\n    }\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)(duration);\n}\nfunction computePerformanceResourceDetails(entry) {\n    var validEntry = toValidEntry(entry);\n    if (!validEntry) {\n        return undefined;\n    }\n    var startTime = validEntry.startTime, fetchStart = validEntry.fetchStart, redirectStart = validEntry.redirectStart, redirectEnd = validEntry.redirectEnd, domainLookupStart = validEntry.domainLookupStart, domainLookupEnd = validEntry.domainLookupEnd, connectStart = validEntry.connectStart, secureConnectionStart = validEntry.secureConnectionStart, connectEnd = validEntry.connectEnd, requestStart = validEntry.requestStart, responseStart = validEntry.responseStart, responseEnd = validEntry.responseEnd;\n    var details = {\n        download: formatTiming(startTime, responseStart, responseEnd),\n        first_byte: formatTiming(startTime, requestStart, responseStart),\n    };\n    // Make sure a connection occurred\n    if (connectEnd !== fetchStart) {\n        details.connect = formatTiming(startTime, connectStart, connectEnd);\n        // Make sure a secure connection occurred\n        if (areInOrder(connectStart, secureConnectionStart, connectEnd)) {\n            details.ssl = formatTiming(startTime, secureConnectionStart, connectEnd);\n        }\n    }\n    // Make sure a domain lookup occurred\n    if (domainLookupEnd !== fetchStart) {\n        details.dns = formatTiming(startTime, domainLookupStart, domainLookupEnd);\n    }\n    if (hasRedirection(entry)) {\n        details.redirect = formatTiming(startTime, redirectStart, redirectEnd);\n    }\n    return details;\n}\nfunction toValidEntry(entry) {\n    // Ensure timings are in the right order. On top of filtering out potential invalid\n    // RumPerformanceResourceTiming, it will ignore entries from requests where timings cannot be\n    // collected, for example cross origin requests without a \"Timing-Allow-Origin\" header allowing\n    // it.\n    if (!areInOrder(entry.startTime, entry.fetchStart, entry.domainLookupStart, entry.domainLookupEnd, entry.connectStart, entry.connectEnd, entry.requestStart, entry.responseStart, entry.responseEnd)) {\n        return undefined;\n    }\n    if (!hasRedirection(entry)) {\n        return entry;\n    }\n    var redirectStart = entry.redirectStart, redirectEnd = entry.redirectEnd;\n    // Firefox doesn't provide redirect timings on cross origin requests.\n    // Provide a default for those.\n    if (redirectStart < entry.startTime) {\n        redirectStart = entry.startTime;\n    }\n    if (redirectEnd < entry.startTime) {\n        redirectEnd = entry.fetchStart;\n    }\n    // Make sure redirect timings are in order\n    if (!areInOrder(entry.startTime, redirectStart, redirectEnd, entry.fetchStart)) {\n        return undefined;\n    }\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.assign)({}, entry, {\n        redirectEnd: redirectEnd,\n        redirectStart: redirectStart,\n    });\n}\nfunction hasRedirection(entry) {\n    // The only time fetchStart is different than startTime is if a redirection occurred.\n    return entry.fetchStart !== entry.startTime;\n}\nfunction formatTiming(origin, start, end) {\n    return {\n        duration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.elapsed)(start, end)),\n        start: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.elapsed)(origin, start)),\n    };\n}\nfunction computeSize(entry) {\n    // Make sure a request actually occurred\n    if (entry.startTime < entry.responseStart) {\n        return entry.decodedBodySize;\n    }\n    return undefined;\n}\nfunction isAllowedRequestUrl(configuration, url) {\n    return url && !configuration.isIntakeUrl(url);\n}\n//# sourceMappingURL=resourceUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vcmVzb3VyY2UvcmVzb3VyY2VVdGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBaUk7QUFDMUg7QUFDUDtBQUNBLDJEQUEyRCxpREFBaUQ7QUFDNUcsaURBQWlELDRDQUE0QztBQUM3RixxREFBcUQsbUNBQW1DO0FBQ3hGLHVEQUF1RCxvQ0FBb0M7QUFDM0YsMkNBQTJDLDhCQUE4QjtBQUN6RSx5Q0FBeUMsNkJBQTZCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrREFBUTtBQUMzQixTQUFTO0FBQ1Q7QUFDQSw2Q0FBNkMsd0RBQXdEO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrREFBUTtBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNPO0FBQ1A7QUFDQSxTQUFTLGlFQUFVO0FBQ25CLFFBQVEsd0VBQWlCO0FBQ3pCO0FBQ0E7QUFDQSxlQUFlLGtFQUFXO0FBQzFCLHdEQUF3RCw4QkFBOEI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVCQUF1QjtBQUM1QztBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdUVBQWdCLENBQUMsOERBQU87QUFDdkM7QUFDQSxXQUFXLHVFQUFnQjtBQUMzQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkRBQU0sR0FBRztBQUNwQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVFQUFnQixDQUFDLDhEQUFPO0FBQzFDLGVBQWUsdUVBQWdCLENBQUMsOERBQU87QUFDdkM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3Jlc291cmNlL3Jlc291cmNlVXRpbHMuanM/YjI1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24sIGFkZFRlbGVtZXRyeURlYnVnLCBlbGFwc2VkLCBnZXRQYXRoTmFtZSwgaW5jbHVkZXMsIGlzVmFsaWRVcmwsIHRvU2VydmVyRHVyYXRpb24sIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCB2YXIgRkFLRV9JTklUSUFMX0RPQ1VNRU5UID0gJ2luaXRpYWxfZG9jdW1lbnQnO1xudmFyIFJFU09VUkNFX1RZUEVTID0gW1xuICAgIFtcImRvY3VtZW50XCIgLyogRE9DVU1FTlQgKi8sIGZ1bmN0aW9uIChpbml0aWF0b3JUeXBlKSB7IHJldHVybiBGQUtFX0lOSVRJQUxfRE9DVU1FTlQgPT09IGluaXRpYXRvclR5cGU7IH1dLFxuICAgIFtcInhoclwiIC8qIFhIUiAqLywgZnVuY3Rpb24gKGluaXRpYXRvclR5cGUpIHsgcmV0dXJuICd4bWxodHRwcmVxdWVzdCcgPT09IGluaXRpYXRvclR5cGU7IH1dLFxuICAgIFtcImZldGNoXCIgLyogRkVUQ0ggKi8sIGZ1bmN0aW9uIChpbml0aWF0b3JUeXBlKSB7IHJldHVybiAnZmV0Y2gnID09PSBpbml0aWF0b3JUeXBlOyB9XSxcbiAgICBbXCJiZWFjb25cIiAvKiBCRUFDT04gKi8sIGZ1bmN0aW9uIChpbml0aWF0b3JUeXBlKSB7IHJldHVybiAnYmVhY29uJyA9PT0gaW5pdGlhdG9yVHlwZTsgfV0sXG4gICAgW1wiY3NzXCIgLyogQ1NTICovLCBmdW5jdGlvbiAoXywgcGF0aCkgeyByZXR1cm4gL1xcLmNzcyQvaS50ZXN0KHBhdGgpOyB9XSxcbiAgICBbXCJqc1wiIC8qIEpTICovLCBmdW5jdGlvbiAoXywgcGF0aCkgeyByZXR1cm4gL1xcLmpzJC9pLnRlc3QocGF0aCk7IH1dLFxuICAgIFtcbiAgICAgICAgXCJpbWFnZVwiIC8qIElNQUdFICovLFxuICAgICAgICBmdW5jdGlvbiAoaW5pdGlhdG9yVHlwZSwgcGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGluY2x1ZGVzKFsnaW1hZ2UnLCAnaW1nJywgJ2ljb24nXSwgaW5pdGlhdG9yVHlwZSkgfHwgL1xcLihnaWZ8anBnfGpwZWd8dGlmZnxwbmd8c3ZnfGljbykkL2kuZXhlYyhwYXRoKSAhPT0gbnVsbDtcbiAgICAgICAgfSxcbiAgICBdLFxuICAgIFtcImZvbnRcIiAvKiBGT05UICovLCBmdW5jdGlvbiAoXywgcGF0aCkgeyByZXR1cm4gL1xcLih3b2ZmfGVvdHx3b2ZmMnx0dGYpJC9pLmV4ZWMocGF0aCkgIT09IG51bGw7IH1dLFxuICAgIFtcbiAgICAgICAgXCJtZWRpYVwiIC8qIE1FRElBICovLFxuICAgICAgICBmdW5jdGlvbiAoaW5pdGlhdG9yVHlwZSwgcGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGluY2x1ZGVzKFsnYXVkaW8nLCAndmlkZW8nXSwgaW5pdGlhdG9yVHlwZSkgfHwgL1xcLihtcDN8bXA0KSQvaS5leGVjKHBhdGgpICE9PSBudWxsO1xuICAgICAgICB9LFxuICAgIF0sXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVSZXNvdXJjZUtpbmQodGltaW5nKSB7XG4gICAgdmFyIHVybCA9IHRpbWluZy5uYW1lO1xuICAgIGlmICghaXNWYWxpZFVybCh1cmwpKSB7XG4gICAgICAgIGFkZFRlbGVtZXRyeURlYnVnKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCBVUkwgZm9yIFxcXCJcIi5jb25jYXQodGltaW5nLm5hbWUsIFwiXFxcIlwiKSk7XG4gICAgICAgIHJldHVybiBcIm90aGVyXCIgLyogT1RIRVIgKi87XG4gICAgfVxuICAgIHZhciBwYXRoID0gZ2V0UGF0aE5hbWUodXJsKTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIFJFU09VUkNFX1RZUEVTXzEgPSBSRVNPVVJDRV9UWVBFUzsgX2kgPCBSRVNPVVJDRV9UWVBFU18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgX2EgPSBSRVNPVVJDRV9UWVBFU18xW19pXSwgdHlwZSA9IF9hWzBdLCBpc1R5cGUgPSBfYVsxXTtcbiAgICAgICAgaWYgKGlzVHlwZSh0aW1pbmcuaW5pdGlhdG9yVHlwZSwgcGF0aCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcIm90aGVyXCIgLyogT1RIRVIgKi87XG59XG5mdW5jdGlvbiBhcmVJbk9yZGVyKCkge1xuICAgIHZhciBudW1iZXJzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgbnVtYmVyc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IG51bWJlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG51bWJlcnNbaSAtIDFdID4gbnVtYmVyc1tpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVxdWVzdEtpbmQodGltaW5nKSB7XG4gICAgcmV0dXJuIHRpbWluZy5pbml0aWF0b3JUeXBlID09PSAneG1saHR0cHJlcXVlc3QnIHx8IHRpbWluZy5pbml0aWF0b3JUeXBlID09PSAnZmV0Y2gnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVQZXJmb3JtYW5jZVJlc291cmNlRHVyYXRpb24oZW50cnkpIHtcbiAgICB2YXIgZHVyYXRpb24gPSBlbnRyeS5kdXJhdGlvbiwgc3RhcnRUaW1lID0gZW50cnkuc3RhcnRUaW1lLCByZXNwb25zZUVuZCA9IGVudHJ5LnJlc3BvbnNlRW5kO1xuICAgIC8vIFNhZmFyaSBkdXJhdGlvbiBpcyBhbHdheXMgMCBvbiB0aW1pbmdzIGJsb2NrZWQgYnkgY3Jvc3Mgb3JpZ2luIHBvbGljaWVzLlxuICAgIGlmIChkdXJhdGlvbiA9PT0gMCAmJiBzdGFydFRpbWUgPCByZXNwb25zZUVuZCkge1xuICAgICAgICByZXR1cm4gdG9TZXJ2ZXJEdXJhdGlvbihlbGFwc2VkKHN0YXJ0VGltZSwgcmVzcG9uc2VFbmQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRvU2VydmVyRHVyYXRpb24oZHVyYXRpb24pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVQZXJmb3JtYW5jZVJlc291cmNlRGV0YWlscyhlbnRyeSkge1xuICAgIHZhciB2YWxpZEVudHJ5ID0gdG9WYWxpZEVudHJ5KGVudHJ5KTtcbiAgICBpZiAoIXZhbGlkRW50cnkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIHN0YXJ0VGltZSA9IHZhbGlkRW50cnkuc3RhcnRUaW1lLCBmZXRjaFN0YXJ0ID0gdmFsaWRFbnRyeS5mZXRjaFN0YXJ0LCByZWRpcmVjdFN0YXJ0ID0gdmFsaWRFbnRyeS5yZWRpcmVjdFN0YXJ0LCByZWRpcmVjdEVuZCA9IHZhbGlkRW50cnkucmVkaXJlY3RFbmQsIGRvbWFpbkxvb2t1cFN0YXJ0ID0gdmFsaWRFbnRyeS5kb21haW5Mb29rdXBTdGFydCwgZG9tYWluTG9va3VwRW5kID0gdmFsaWRFbnRyeS5kb21haW5Mb29rdXBFbmQsIGNvbm5lY3RTdGFydCA9IHZhbGlkRW50cnkuY29ubmVjdFN0YXJ0LCBzZWN1cmVDb25uZWN0aW9uU3RhcnQgPSB2YWxpZEVudHJ5LnNlY3VyZUNvbm5lY3Rpb25TdGFydCwgY29ubmVjdEVuZCA9IHZhbGlkRW50cnkuY29ubmVjdEVuZCwgcmVxdWVzdFN0YXJ0ID0gdmFsaWRFbnRyeS5yZXF1ZXN0U3RhcnQsIHJlc3BvbnNlU3RhcnQgPSB2YWxpZEVudHJ5LnJlc3BvbnNlU3RhcnQsIHJlc3BvbnNlRW5kID0gdmFsaWRFbnRyeS5yZXNwb25zZUVuZDtcbiAgICB2YXIgZGV0YWlscyA9IHtcbiAgICAgICAgZG93bmxvYWQ6IGZvcm1hdFRpbWluZyhzdGFydFRpbWUsIHJlc3BvbnNlU3RhcnQsIHJlc3BvbnNlRW5kKSxcbiAgICAgICAgZmlyc3RfYnl0ZTogZm9ybWF0VGltaW5nKHN0YXJ0VGltZSwgcmVxdWVzdFN0YXJ0LCByZXNwb25zZVN0YXJ0KSxcbiAgICB9O1xuICAgIC8vIE1ha2Ugc3VyZSBhIGNvbm5lY3Rpb24gb2NjdXJyZWRcbiAgICBpZiAoY29ubmVjdEVuZCAhPT0gZmV0Y2hTdGFydCkge1xuICAgICAgICBkZXRhaWxzLmNvbm5lY3QgPSBmb3JtYXRUaW1pbmcoc3RhcnRUaW1lLCBjb25uZWN0U3RhcnQsIGNvbm5lY3RFbmQpO1xuICAgICAgICAvLyBNYWtlIHN1cmUgYSBzZWN1cmUgY29ubmVjdGlvbiBvY2N1cnJlZFxuICAgICAgICBpZiAoYXJlSW5PcmRlcihjb25uZWN0U3RhcnQsIHNlY3VyZUNvbm5lY3Rpb25TdGFydCwgY29ubmVjdEVuZCkpIHtcbiAgICAgICAgICAgIGRldGFpbHMuc3NsID0gZm9ybWF0VGltaW5nKHN0YXJ0VGltZSwgc2VjdXJlQ29ubmVjdGlvblN0YXJ0LCBjb25uZWN0RW5kKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBNYWtlIHN1cmUgYSBkb21haW4gbG9va3VwIG9jY3VycmVkXG4gICAgaWYgKGRvbWFpbkxvb2t1cEVuZCAhPT0gZmV0Y2hTdGFydCkge1xuICAgICAgICBkZXRhaWxzLmRucyA9IGZvcm1hdFRpbWluZyhzdGFydFRpbWUsIGRvbWFpbkxvb2t1cFN0YXJ0LCBkb21haW5Mb29rdXBFbmQpO1xuICAgIH1cbiAgICBpZiAoaGFzUmVkaXJlY3Rpb24oZW50cnkpKSB7XG4gICAgICAgIGRldGFpbHMucmVkaXJlY3QgPSBmb3JtYXRUaW1pbmcoc3RhcnRUaW1lLCByZWRpcmVjdFN0YXJ0LCByZWRpcmVjdEVuZCk7XG4gICAgfVxuICAgIHJldHVybiBkZXRhaWxzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvVmFsaWRFbnRyeShlbnRyeSkge1xuICAgIC8vIEVuc3VyZSB0aW1pbmdzIGFyZSBpbiB0aGUgcmlnaHQgb3JkZXIuIE9uIHRvcCBvZiBmaWx0ZXJpbmcgb3V0IHBvdGVudGlhbCBpbnZhbGlkXG4gICAgLy8gUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZywgaXQgd2lsbCBpZ25vcmUgZW50cmllcyBmcm9tIHJlcXVlc3RzIHdoZXJlIHRpbWluZ3MgY2Fubm90IGJlXG4gICAgLy8gY29sbGVjdGVkLCBmb3IgZXhhbXBsZSBjcm9zcyBvcmlnaW4gcmVxdWVzdHMgd2l0aG91dCBhIFwiVGltaW5nLUFsbG93LU9yaWdpblwiIGhlYWRlciBhbGxvd2luZ1xuICAgIC8vIGl0LlxuICAgIGlmICghYXJlSW5PcmRlcihlbnRyeS5zdGFydFRpbWUsIGVudHJ5LmZldGNoU3RhcnQsIGVudHJ5LmRvbWFpbkxvb2t1cFN0YXJ0LCBlbnRyeS5kb21haW5Mb29rdXBFbmQsIGVudHJ5LmNvbm5lY3RTdGFydCwgZW50cnkuY29ubmVjdEVuZCwgZW50cnkucmVxdWVzdFN0YXJ0LCBlbnRyeS5yZXNwb25zZVN0YXJ0LCBlbnRyeS5yZXNwb25zZUVuZCkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCFoYXNSZWRpcmVjdGlvbihlbnRyeSkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH1cbiAgICB2YXIgcmVkaXJlY3RTdGFydCA9IGVudHJ5LnJlZGlyZWN0U3RhcnQsIHJlZGlyZWN0RW5kID0gZW50cnkucmVkaXJlY3RFbmQ7XG4gICAgLy8gRmlyZWZveCBkb2Vzbid0IHByb3ZpZGUgcmVkaXJlY3QgdGltaW5ncyBvbiBjcm9zcyBvcmlnaW4gcmVxdWVzdHMuXG4gICAgLy8gUHJvdmlkZSBhIGRlZmF1bHQgZm9yIHRob3NlLlxuICAgIGlmIChyZWRpcmVjdFN0YXJ0IDwgZW50cnkuc3RhcnRUaW1lKSB7XG4gICAgICAgIHJlZGlyZWN0U3RhcnQgPSBlbnRyeS5zdGFydFRpbWU7XG4gICAgfVxuICAgIGlmIChyZWRpcmVjdEVuZCA8IGVudHJ5LnN0YXJ0VGltZSkge1xuICAgICAgICByZWRpcmVjdEVuZCA9IGVudHJ5LmZldGNoU3RhcnQ7XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSByZWRpcmVjdCB0aW1pbmdzIGFyZSBpbiBvcmRlclxuICAgIGlmICghYXJlSW5PcmRlcihlbnRyeS5zdGFydFRpbWUsIHJlZGlyZWN0U3RhcnQsIHJlZGlyZWN0RW5kLCBlbnRyeS5mZXRjaFN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduKHt9LCBlbnRyeSwge1xuICAgICAgICByZWRpcmVjdEVuZDogcmVkaXJlY3RFbmQsXG4gICAgICAgIHJlZGlyZWN0U3RhcnQ6IHJlZGlyZWN0U3RhcnQsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBoYXNSZWRpcmVjdGlvbihlbnRyeSkge1xuICAgIC8vIFRoZSBvbmx5IHRpbWUgZmV0Y2hTdGFydCBpcyBkaWZmZXJlbnQgdGhhbiBzdGFydFRpbWUgaXMgaWYgYSByZWRpcmVjdGlvbiBvY2N1cnJlZC5cbiAgICByZXR1cm4gZW50cnkuZmV0Y2hTdGFydCAhPT0gZW50cnkuc3RhcnRUaW1lO1xufVxuZnVuY3Rpb24gZm9ybWF0VGltaW5nKG9yaWdpbiwgc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGR1cmF0aW9uOiB0b1NlcnZlckR1cmF0aW9uKGVsYXBzZWQoc3RhcnQsIGVuZCkpLFxuICAgICAgICBzdGFydDogdG9TZXJ2ZXJEdXJhdGlvbihlbGFwc2VkKG9yaWdpbiwgc3RhcnQpKSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTaXplKGVudHJ5KSB7XG4gICAgLy8gTWFrZSBzdXJlIGEgcmVxdWVzdCBhY3R1YWxseSBvY2N1cnJlZFxuICAgIGlmIChlbnRyeS5zdGFydFRpbWUgPCBlbnRyeS5yZXNwb25zZVN0YXJ0KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5kZWNvZGVkQm9keVNpemU7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBbGxvd2VkUmVxdWVzdFVybChjb25maWd1cmF0aW9uLCB1cmwpIHtcbiAgICByZXR1cm4gdXJsICYmICFjb25maWd1cmF0aW9uLmlzSW50YWtlVXJsKHVybCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZVV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackFirstHidden.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackFirstHidden.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resetFirstHidden\": function() { return /* binding */ resetFirstHidden; },\n/* harmony export */   \"trackFirstHidden\": function() { return /* binding */ trackFirstHidden; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nvar trackFirstHiddenSingleton;\nvar stopListeners;\nfunction trackFirstHidden(emitter) {\n    if (emitter === void 0) { emitter = window; }\n    if (!trackFirstHiddenSingleton) {\n        if (document.visibilityState === 'hidden') {\n            trackFirstHiddenSingleton = {\n                timeStamp: 0,\n            };\n        }\n        else {\n            trackFirstHiddenSingleton = {\n                timeStamp: Infinity,\n            };\n            (stopListeners = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListeners)(emitter, [\"pagehide\" /* PAGE_HIDE */, \"visibilitychange\" /* VISIBILITY_CHANGE */], function (event) {\n                if (event.type === 'pagehide' || document.visibilityState === 'hidden') {\n                    trackFirstHiddenSingleton.timeStamp = event.timeStamp;\n                    stopListeners();\n                }\n            }, { capture: true }).stop);\n        }\n    }\n    return trackFirstHiddenSingleton;\n}\nfunction resetFirstHidden() {\n    if (stopListeners) {\n        stopListeners();\n    }\n    trackFirstHiddenSingleton = undefined;\n}\n//# sourceMappingURL=trackFirstHidden.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja0ZpcnN0SGlkZGVuLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwRDtBQUMxRDtBQUNBO0FBQ087QUFDUCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsd0VBQWlCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja0ZpcnN0SGlkZGVuLmpzP2UwZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkRXZlbnRMaXN0ZW5lcnMgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xudmFyIHRyYWNrRmlyc3RIaWRkZW5TaW5nbGV0b247XG52YXIgc3RvcExpc3RlbmVycztcbmV4cG9ydCBmdW5jdGlvbiB0cmFja0ZpcnN0SGlkZGVuKGVtaXR0ZXIpIHtcbiAgICBpZiAoZW1pdHRlciA9PT0gdm9pZCAwKSB7IGVtaXR0ZXIgPSB3aW5kb3c7IH1cbiAgICBpZiAoIXRyYWNrRmlyc3RIaWRkZW5TaW5nbGV0b24pIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIHRyYWNrRmlyc3RIaWRkZW5TaW5nbGV0b24gPSB7XG4gICAgICAgICAgICAgICAgdGltZVN0YW1wOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNrRmlyc3RIaWRkZW5TaW5nbGV0b24gPSB7XG4gICAgICAgICAgICAgICAgdGltZVN0YW1wOiBJbmZpbml0eSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAoc3RvcExpc3RlbmVycyA9IGFkZEV2ZW50TGlzdGVuZXJzKGVtaXR0ZXIsIFtcInBhZ2VoaWRlXCIgLyogUEFHRV9ISURFICovLCBcInZpc2liaWxpdHljaGFuZ2VcIiAvKiBWSVNJQklMSVRZX0NIQU5HRSAqL10sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAncGFnZWhpZGUnIHx8IGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tGaXJzdEhpZGRlblNpbmdsZXRvbi50aW1lU3RhbXAgPSBldmVudC50aW1lU3RhbXA7XG4gICAgICAgICAgICAgICAgICAgIHN0b3BMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7IGNhcHR1cmU6IHRydWUgfSkuc3RvcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRyYWNrRmlyc3RIaWRkZW5TaW5nbGV0b247XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXRGaXJzdEhpZGRlbigpIHtcbiAgICBpZiAoc3RvcExpc3RlbmVycykge1xuICAgICAgICBzdG9wTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIHRyYWNrRmlyc3RIaWRkZW5TaW5nbGV0b24gPSB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFja0ZpcnN0SGlkZGVuLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackFirstHidden.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackInitialViewTimings.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackInitialViewTimings.js ***!
  \***************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TIMING_MAXIMUM_DELAY\": function() { return /* binding */ TIMING_MAXIMUM_DELAY; },\n/* harmony export */   \"trackFirstContentfulPaintTiming\": function() { return /* binding */ trackFirstContentfulPaintTiming; },\n/* harmony export */   \"trackFirstInputTimings\": function() { return /* binding */ trackFirstInputTimings; },\n/* harmony export */   \"trackInitialViewTimings\": function() { return /* binding */ trackInitialViewTimings; },\n/* harmony export */   \"trackLargestContentfulPaintTiming\": function() { return /* binding */ trackLargestContentfulPaintTiming; },\n/* harmony export */   \"trackNavigationTimings\": function() { return /* binding */ trackNavigationTimings; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _trackFirstHidden__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackFirstHidden */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackFirstHidden.js\");\n\n\n// Discard LCP and FCP timings above a certain delay to avoid incorrect data\n// It happens in some cases like sleep mode or some browser implementations\nvar TIMING_MAXIMUM_DELAY = 10 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE;\nfunction trackInitialViewTimings(lifeCycle, callback) {\n    var timings = {};\n    function setTimings(newTimings) {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.assign)(timings, newTimings);\n        callback(timings);\n    }\n    var stopNavigationTracking = trackNavigationTimings(lifeCycle, setTimings).stop;\n    var stopFCPTracking = trackFirstContentfulPaintTiming(lifeCycle, function (firstContentfulPaint) {\n        return setTimings({ firstContentfulPaint: firstContentfulPaint });\n    }).stop;\n    var stopLCPTracking = trackLargestContentfulPaintTiming(lifeCycle, window, function (largestContentfulPaint) {\n        setTimings({\n            largestContentfulPaint: largestContentfulPaint,\n        });\n    }).stop;\n    var stopFIDTracking = trackFirstInputTimings(lifeCycle, function (_a) {\n        var firstInputDelay = _a.firstInputDelay, firstInputTime = _a.firstInputTime;\n        setTimings({\n            firstInputDelay: firstInputDelay,\n            firstInputTime: firstInputTime,\n        });\n    }).stop;\n    return {\n        stop: function () {\n            stopNavigationTracking();\n            stopFCPTracking();\n            stopLCPTracking();\n            stopFIDTracking();\n        },\n    };\n}\nfunction trackNavigationTimings(lifeCycle, callback) {\n    var stop = lifeCycle.subscribe(0 /* PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var entry = entries_1[_i];\n            if (entry.entryType === 'navigation') {\n                callback({\n                    domComplete: entry.domComplete,\n                    domContentLoaded: entry.domContentLoadedEventEnd,\n                    domInteractive: entry.domInteractive,\n                    loadEvent: entry.loadEventEnd,\n                });\n            }\n        }\n    }).unsubscribe;\n    return { stop: stop };\n}\nfunction trackFirstContentfulPaintTiming(lifeCycle, callback) {\n    var firstHidden = (0,_trackFirstHidden__WEBPACK_IMPORTED_MODULE_0__.trackFirstHidden)();\n    var stop = lifeCycle.subscribe(0 /* PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        var fcpEntry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.find)(entries, function (entry) {\n            return entry.entryType === 'paint' &&\n                entry.name === 'first-contentful-paint' &&\n                entry.startTime < firstHidden.timeStamp &&\n                entry.startTime < TIMING_MAXIMUM_DELAY;\n        });\n        if (fcpEntry) {\n            callback(fcpEntry.startTime);\n        }\n    }).unsubscribe;\n    return { stop: stop };\n}\n/**\n * Track the largest contentful paint (LCP) occurring during the initial View.  This can yield\n * multiple values, only the most recent one should be used.\n * Documentation: https://web.dev/lcp/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getLCP.ts\n */\nfunction trackLargestContentfulPaintTiming(lifeCycle, emitter, callback) {\n    var firstHidden = (0,_trackFirstHidden__WEBPACK_IMPORTED_MODULE_0__.trackFirstHidden)();\n    // Ignore entries that come after the first user interaction.  According to the documentation, the\n    // browser should not send largest-contentful-paint entries after a user interact with the page,\n    // but the web-vitals reference implementation uses this as a safeguard.\n    var firstInteractionTimestamp = Infinity;\n    var stopEventListener = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addEventListeners)(emitter, [\"pointerdown\" /* POINTER_DOWN */, \"keydown\" /* KEY_DOWN */], function (event) {\n        firstInteractionTimestamp = event.timeStamp;\n    }, { capture: true, once: true }).stop;\n    var unsubscribeLifeCycle = lifeCycle.subscribe(0 /* PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        var lcpEntry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.findLast)(entries, function (entry) {\n            return entry.entryType === 'largest-contentful-paint' &&\n                entry.startTime < firstInteractionTimestamp &&\n                entry.startTime < firstHidden.timeStamp &&\n                entry.startTime < TIMING_MAXIMUM_DELAY;\n        });\n        if (lcpEntry) {\n            callback(lcpEntry.startTime);\n        }\n    }).unsubscribe;\n    return {\n        stop: function () {\n            stopEventListener();\n            unsubscribeLifeCycle();\n        },\n    };\n}\n/**\n * Track the first input occurring during the initial View to return:\n * - First Input Delay\n * - First Input Time\n * Callback is called at most one time.\n * Documentation: https://web.dev/fid/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getFID.ts\n */\nfunction trackFirstInputTimings(lifeCycle, callback) {\n    var firstHidden = (0,_trackFirstHidden__WEBPACK_IMPORTED_MODULE_0__.trackFirstHidden)();\n    var stop = lifeCycle.subscribe(0 /* PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        var firstInputEntry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.find)(entries, function (entry) {\n            return entry.entryType === 'first-input' && entry.startTime < firstHidden.timeStamp;\n        });\n        if (firstInputEntry) {\n            var firstInputDelay = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.elapsed)(firstInputEntry.startTime, firstInputEntry.processingStart);\n            callback({\n                // Ensure firstInputDelay to be positive, see\n                // https://bugs.chromium.org/p/chromium/issues/detail?id=1185815\n                firstInputDelay: firstInputDelay >= 0 ? firstInputDelay : 0,\n                firstInputTime: firstInputEntry.startTime,\n            });\n        }\n    }).unsubscribe;\n    return {\n        stop: stop,\n    };\n}\n//# sourceMappingURL=trackInitialViewTimings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja0luaXRpYWxWaWV3VGltaW5ncy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF1RztBQUNqRDtBQUN0RDtBQUNBO0FBQ08sZ0NBQWdDLDZEQUFVO0FBQzFDO0FBQ1A7QUFDQTtBQUNBLFFBQVEsNkRBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0Q0FBNEM7QUFDeEUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0EsOENBQThDLHVCQUF1QjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYjtBQUNPO0FBQ1Asc0JBQXNCLG1FQUFnQjtBQUN0QztBQUNBLHVCQUF1QiwyREFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxzQkFBc0IsbUVBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdFQUFpQjtBQUM3QztBQUNBLEtBQUssSUFBSSwyQkFBMkI7QUFDcEM7QUFDQSx1QkFBdUIsK0RBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxzQkFBc0IsbUVBQWdCO0FBQ3RDO0FBQ0EsOEJBQThCLDJEQUFJO0FBQ2xDO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0NBQWtDLDhEQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja0luaXRpYWxWaWV3VGltaW5ncy5qcz9jOGRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2lnbiwgYWRkRXZlbnRMaXN0ZW5lcnMsIGVsYXBzZWQsIE9ORV9NSU5VVEUsIGZpbmQsIGZpbmRMYXN0IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHRyYWNrRmlyc3RIaWRkZW4gfSBmcm9tICcuL3RyYWNrRmlyc3RIaWRkZW4nO1xuLy8gRGlzY2FyZCBMQ1AgYW5kIEZDUCB0aW1pbmdzIGFib3ZlIGEgY2VydGFpbiBkZWxheSB0byBhdm9pZCBpbmNvcnJlY3QgZGF0YVxuLy8gSXQgaGFwcGVucyBpbiBzb21lIGNhc2VzIGxpa2Ugc2xlZXAgbW9kZSBvciBzb21lIGJyb3dzZXIgaW1wbGVtZW50YXRpb25zXG5leHBvcnQgdmFyIFRJTUlOR19NQVhJTVVNX0RFTEFZID0gMTAgKiBPTkVfTUlOVVRFO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrSW5pdGlhbFZpZXdUaW1pbmdzKGxpZmVDeWNsZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgdGltaW5ncyA9IHt9O1xuICAgIGZ1bmN0aW9uIHNldFRpbWluZ3MobmV3VGltaW5ncykge1xuICAgICAgICBhc3NpZ24odGltaW5ncywgbmV3VGltaW5ncyk7XG4gICAgICAgIGNhbGxiYWNrKHRpbWluZ3MpO1xuICAgIH1cbiAgICB2YXIgc3RvcE5hdmlnYXRpb25UcmFja2luZyA9IHRyYWNrTmF2aWdhdGlvblRpbWluZ3MobGlmZUN5Y2xlLCBzZXRUaW1pbmdzKS5zdG9wO1xuICAgIHZhciBzdG9wRkNQVHJhY2tpbmcgPSB0cmFja0ZpcnN0Q29udGVudGZ1bFBhaW50VGltaW5nKGxpZmVDeWNsZSwgZnVuY3Rpb24gKGZpcnN0Q29udGVudGZ1bFBhaW50KSB7XG4gICAgICAgIHJldHVybiBzZXRUaW1pbmdzKHsgZmlyc3RDb250ZW50ZnVsUGFpbnQ6IGZpcnN0Q29udGVudGZ1bFBhaW50IH0pO1xuICAgIH0pLnN0b3A7XG4gICAgdmFyIHN0b3BMQ1BUcmFja2luZyA9IHRyYWNrTGFyZ2VzdENvbnRlbnRmdWxQYWludFRpbWluZyhsaWZlQ3ljbGUsIHdpbmRvdywgZnVuY3Rpb24gKGxhcmdlc3RDb250ZW50ZnVsUGFpbnQpIHtcbiAgICAgICAgc2V0VGltaW5ncyh7XG4gICAgICAgICAgICBsYXJnZXN0Q29udGVudGZ1bFBhaW50OiBsYXJnZXN0Q29udGVudGZ1bFBhaW50LFxuICAgICAgICB9KTtcbiAgICB9KS5zdG9wO1xuICAgIHZhciBzdG9wRklEVHJhY2tpbmcgPSB0cmFja0ZpcnN0SW5wdXRUaW1pbmdzKGxpZmVDeWNsZSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBmaXJzdElucHV0RGVsYXkgPSBfYS5maXJzdElucHV0RGVsYXksIGZpcnN0SW5wdXRUaW1lID0gX2EuZmlyc3RJbnB1dFRpbWU7XG4gICAgICAgIHNldFRpbWluZ3Moe1xuICAgICAgICAgICAgZmlyc3RJbnB1dERlbGF5OiBmaXJzdElucHV0RGVsYXksXG4gICAgICAgICAgICBmaXJzdElucHV0VGltZTogZmlyc3RJbnB1dFRpbWUsXG4gICAgICAgIH0pO1xuICAgIH0pLnN0b3A7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcE5hdmlnYXRpb25UcmFja2luZygpO1xuICAgICAgICAgICAgc3RvcEZDUFRyYWNraW5nKCk7XG4gICAgICAgICAgICBzdG9wTENQVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIHN0b3BGSURUcmFja2luZygpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tOYXZpZ2F0aW9uVGltaW5ncyhsaWZlQ3ljbGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHN0b3AgPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDAgLyogUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgZW50cmllc18xID0gZW50cmllczsgX2kgPCBlbnRyaWVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzXzFbX2ldO1xuICAgICAgICAgICAgaWYgKGVudHJ5LmVudHJ5VHlwZSA9PT0gJ25hdmlnYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICBkb21Db21wbGV0ZTogZW50cnkuZG9tQ29tcGxldGUsXG4gICAgICAgICAgICAgICAgICAgIGRvbUNvbnRlbnRMb2FkZWQ6IGVudHJ5LmRvbUNvbnRlbnRMb2FkZWRFdmVudEVuZCxcbiAgICAgICAgICAgICAgICAgICAgZG9tSW50ZXJhY3RpdmU6IGVudHJ5LmRvbUludGVyYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXZlbnQ6IGVudHJ5LmxvYWRFdmVudEVuZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pLnVuc3Vic2NyaWJlO1xuICAgIHJldHVybiB7IHN0b3A6IHN0b3AgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0ZpcnN0Q29udGVudGZ1bFBhaW50VGltaW5nKGxpZmVDeWNsZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZmlyc3RIaWRkZW4gPSB0cmFja0ZpcnN0SGlkZGVuKCk7XG4gICAgdmFyIHN0b3AgPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDAgLyogUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIHZhciBmY3BFbnRyeSA9IGZpbmQoZW50cmllcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkuZW50cnlUeXBlID09PSAncGFpbnQnICYmXG4gICAgICAgICAgICAgICAgZW50cnkubmFtZSA9PT0gJ2ZpcnN0LWNvbnRlbnRmdWwtcGFpbnQnICYmXG4gICAgICAgICAgICAgICAgZW50cnkuc3RhcnRUaW1lIDwgZmlyc3RIaWRkZW4udGltZVN0YW1wICYmXG4gICAgICAgICAgICAgICAgZW50cnkuc3RhcnRUaW1lIDwgVElNSU5HX01BWElNVU1fREVMQVk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZmNwRW50cnkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGZjcEVudHJ5LnN0YXJ0VGltZSk7XG4gICAgICAgIH1cbiAgICB9KS51bnN1YnNjcmliZTtcbiAgICByZXR1cm4geyBzdG9wOiBzdG9wIH07XG59XG4vKipcbiAqIFRyYWNrIHRoZSBsYXJnZXN0IGNvbnRlbnRmdWwgcGFpbnQgKExDUCkgb2NjdXJyaW5nIGR1cmluZyB0aGUgaW5pdGlhbCBWaWV3LiAgVGhpcyBjYW4geWllbGRcbiAqIG11bHRpcGxlIHZhbHVlcywgb25seSB0aGUgbW9zdCByZWNlbnQgb25lIHNob3VsZCBiZSB1c2VkLlxuICogRG9jdW1lbnRhdGlvbjogaHR0cHM6Ly93ZWIuZGV2L2xjcC9cbiAqIFJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93ZWItdml0YWxzL2Jsb2IvbWFzdGVyL3NyYy9nZXRMQ1AudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrTGFyZ2VzdENvbnRlbnRmdWxQYWludFRpbWluZyhsaWZlQ3ljbGUsIGVtaXR0ZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZpcnN0SGlkZGVuID0gdHJhY2tGaXJzdEhpZGRlbigpO1xuICAgIC8vIElnbm9yZSBlbnRyaWVzIHRoYXQgY29tZSBhZnRlciB0aGUgZmlyc3QgdXNlciBpbnRlcmFjdGlvbi4gIEFjY29yZGluZyB0byB0aGUgZG9jdW1lbnRhdGlvbiwgdGhlXG4gICAgLy8gYnJvd3NlciBzaG91bGQgbm90IHNlbmQgbGFyZ2VzdC1jb250ZW50ZnVsLXBhaW50IGVudHJpZXMgYWZ0ZXIgYSB1c2VyIGludGVyYWN0IHdpdGggdGhlIHBhZ2UsXG4gICAgLy8gYnV0IHRoZSB3ZWItdml0YWxzIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiB1c2VzIHRoaXMgYXMgYSBzYWZlZ3VhcmQuXG4gICAgdmFyIGZpcnN0SW50ZXJhY3Rpb25UaW1lc3RhbXAgPSBJbmZpbml0eTtcbiAgICB2YXIgc3RvcEV2ZW50TGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVycyhlbWl0dGVyLCBbXCJwb2ludGVyZG93blwiIC8qIFBPSU5URVJfRE9XTiAqLywgXCJrZXlkb3duXCIgLyogS0VZX0RPV04gKi9dLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZmlyc3RJbnRlcmFjdGlvblRpbWVzdGFtcCA9IGV2ZW50LnRpbWVTdGFtcDtcbiAgICB9LCB7IGNhcHR1cmU6IHRydWUsIG9uY2U6IHRydWUgfSkuc3RvcDtcbiAgICB2YXIgdW5zdWJzY3JpYmVMaWZlQ3ljbGUgPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDAgLyogUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIHZhciBsY3BFbnRyeSA9IGZpbmRMYXN0KGVudHJpZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ2xhcmdlc3QtY29udGVudGZ1bC1wYWludCcgJiZcbiAgICAgICAgICAgICAgICBlbnRyeS5zdGFydFRpbWUgPCBmaXJzdEludGVyYWN0aW9uVGltZXN0YW1wICYmXG4gICAgICAgICAgICAgICAgZW50cnkuc3RhcnRUaW1lIDwgZmlyc3RIaWRkZW4udGltZVN0YW1wICYmXG4gICAgICAgICAgICAgICAgZW50cnkuc3RhcnRUaW1lIDwgVElNSU5HX01BWElNVU1fREVMQVk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobGNwRW50cnkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGxjcEVudHJ5LnN0YXJ0VGltZSk7XG4gICAgICAgIH1cbiAgICB9KS51bnN1YnNjcmliZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICAgICAgdW5zdWJzY3JpYmVMaWZlQ3ljbGUoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBUcmFjayB0aGUgZmlyc3QgaW5wdXQgb2NjdXJyaW5nIGR1cmluZyB0aGUgaW5pdGlhbCBWaWV3IHRvIHJldHVybjpcbiAqIC0gRmlyc3QgSW5wdXQgRGVsYXlcbiAqIC0gRmlyc3QgSW5wdXQgVGltZVxuICogQ2FsbGJhY2sgaXMgY2FsbGVkIGF0IG1vc3Qgb25lIHRpbWUuXG4gKiBEb2N1bWVudGF0aW9uOiBodHRwczovL3dlYi5kZXYvZmlkL1xuICogUmVmZXJlbmNlIGltcGxlbWVudGF0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi12aXRhbHMvYmxvYi9tYXN0ZXIvc3JjL2dldEZJRC50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tGaXJzdElucHV0VGltaW5ncyhsaWZlQ3ljbGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZpcnN0SGlkZGVuID0gdHJhY2tGaXJzdEhpZGRlbigpO1xuICAgIHZhciBzdG9wID0gbGlmZUN5Y2xlLnN1YnNjcmliZSgwIC8qIFBFUkZPUk1BTkNFX0VOVFJJRVNfQ09MTEVDVEVEICovLCBmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgICB2YXIgZmlyc3RJbnB1dEVudHJ5ID0gZmluZChlbnRyaWVzLCBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5lbnRyeVR5cGUgPT09ICdmaXJzdC1pbnB1dCcgJiYgZW50cnkuc3RhcnRUaW1lIDwgZmlyc3RIaWRkZW4udGltZVN0YW1wO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZpcnN0SW5wdXRFbnRyeSkge1xuICAgICAgICAgICAgdmFyIGZpcnN0SW5wdXREZWxheSA9IGVsYXBzZWQoZmlyc3RJbnB1dEVudHJ5LnN0YXJ0VGltZSwgZmlyc3RJbnB1dEVudHJ5LnByb2Nlc3NpbmdTdGFydCk7XG4gICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIGZpcnN0SW5wdXREZWxheSB0byBiZSBwb3NpdGl2ZSwgc2VlXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTE4NTgxNVxuICAgICAgICAgICAgICAgIGZpcnN0SW5wdXREZWxheTogZmlyc3RJbnB1dERlbGF5ID49IDAgPyBmaXJzdElucHV0RGVsYXkgOiAwLFxuICAgICAgICAgICAgICAgIGZpcnN0SW5wdXRUaW1lOiBmaXJzdElucHV0RW50cnkuc3RhcnRUaW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KS51bnN1YnNjcmliZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBzdG9wLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFja0luaXRpYWxWaWV3VGltaW5ncy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackInitialViewTimings.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewMetrics.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewMetrics.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"trackViewMetrics\": function() { return /* binding */ trackViewMetrics; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../browser/performanceCollection */ \"./node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js\");\n/* harmony import */ var _trackEventCounts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../trackEventCounts */ \"./node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js\");\n/* harmony import */ var _waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../waitPageActivityEnd */ \"./node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js\");\n\n\n\n\nfunction trackViewMetrics(lifeCycle, domMutationObservable, configuration, scheduleViewUpdate, loadingType, viewStart) {\n    var viewMetrics = {\n        eventCounts: {\n            errorCount: 0,\n            longTaskCount: 0,\n            resourceCount: 0,\n            actionCount: 0,\n            frustrationCount: 0,\n        },\n    };\n    var stopEventCountsTracking = (0,_trackEventCounts__WEBPACK_IMPORTED_MODULE_1__.trackEventCounts)(lifeCycle, function (newEventCounts) {\n        viewMetrics.eventCounts = newEventCounts;\n        scheduleViewUpdate();\n    }).stop;\n    var _a = trackLoadingTime(lifeCycle, domMutationObservable, configuration, loadingType, viewStart, function (newLoadingTime) {\n        viewMetrics.loadingTime = newLoadingTime;\n        scheduleViewUpdate();\n    }), stopLoadingTimeTracking = _a.stop, setLoadEvent = _a.setLoadEvent;\n    var stopCLSTracking;\n    if (isLayoutShiftSupported()) {\n        viewMetrics.cumulativeLayoutShift = 0;\n        (stopCLSTracking = trackCumulativeLayoutShift(lifeCycle, function (cumulativeLayoutShift) {\n            viewMetrics.cumulativeLayoutShift = cumulativeLayoutShift;\n            scheduleViewUpdate();\n        }).stop);\n    }\n    else {\n        stopCLSTracking = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.noop;\n    }\n    return {\n        stop: function () {\n            stopEventCountsTracking();\n            stopLoadingTimeTracking();\n            stopCLSTracking();\n        },\n        setLoadEvent: setLoadEvent,\n        viewMetrics: viewMetrics,\n    };\n}\nfunction trackLoadingTime(lifeCycle, domMutationObservable, configuration, loadType, viewStart, callback) {\n    var isWaitingForLoadEvent = loadType === \"initial_load\" /* INITIAL_LOAD */;\n    var isWaitingForActivityLoadingTime = true;\n    var loadingTimeCandidates = [];\n    function invokeCallbackIfAllCandidatesAreReceived() {\n        if (!isWaitingForActivityLoadingTime && !isWaitingForLoadEvent && loadingTimeCandidates.length > 0) {\n            callback(Math.max.apply(Math, loadingTimeCandidates));\n        }\n    }\n    var stop = (0,_waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_2__.waitPageActivityEnd)(lifeCycle, domMutationObservable, configuration, function (event) {\n        if (isWaitingForActivityLoadingTime) {\n            isWaitingForActivityLoadingTime = false;\n            if (event.hadActivity) {\n                loadingTimeCandidates.push((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.elapsed)(viewStart.timeStamp, event.end));\n            }\n            invokeCallbackIfAllCandidatesAreReceived();\n        }\n    }).stop;\n    return {\n        stop: stop,\n        setLoadEvent: function (loadEvent) {\n            if (isWaitingForLoadEvent) {\n                isWaitingForLoadEvent = false;\n                loadingTimeCandidates.push(loadEvent);\n                invokeCallbackIfAllCandidatesAreReceived();\n            }\n        },\n    };\n}\n/**\n * Track the cumulative layout shifts (CLS).\n * Layout shifts are grouped into session windows.\n * The minimum gap between session windows is 1 second.\n * The maximum duration of a session window is 5 second.\n * The session window layout shift value is the sum of layout shifts inside it.\n * The CLS value is the max of session windows values.\n *\n * This yields a new value whenever the CLS value is updated (a higher session window value is computed).\n *\n * See isLayoutShiftSupported to check for browser support.\n *\n * Documentation:\n * https://web.dev/cls/\n * https://web.dev/evolving-cls/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getCLS.ts\n */\nfunction trackCumulativeLayoutShift(lifeCycle, callback) {\n    var maxClsValue = 0;\n    var window = slidingSessionWindow();\n    var stop = lifeCycle.subscribe(0 /* PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var entry = entries_1[_i];\n            if (entry.entryType === 'layout-shift' && !entry.hadRecentInput) {\n                window.update(entry);\n                if (window.value() > maxClsValue) {\n                    maxClsValue = window.value();\n                    callback((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.round)(maxClsValue, 4));\n                }\n            }\n        }\n    }).unsubscribe;\n    return {\n        stop: stop,\n    };\n}\nfunction slidingSessionWindow() {\n    var value = 0;\n    var startTime;\n    var endTime;\n    return {\n        update: function (entry) {\n            var shouldCreateNewWindow = startTime === undefined ||\n                entry.startTime - endTime >= _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ONE_SECOND ||\n                entry.startTime - startTime >= 5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ONE_SECOND;\n            if (shouldCreateNewWindow) {\n                startTime = endTime = entry.startTime;\n                value = entry.value;\n            }\n            else {\n                value += entry.value;\n                endTime = entry.startTime;\n            }\n        },\n        value: function () { return value; },\n    };\n}\n/**\n * Check whether `layout-shift` is supported by the browser.\n */\nfunction isLayoutShiftSupported() {\n    return (0,_browser_performanceCollection__WEBPACK_IMPORTED_MODULE_0__.supportPerformanceTimingEvent)('layout-shift');\n}\n//# sourceMappingURL=trackViewMetrics.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja1ZpZXdNZXRyaWNzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlFO0FBQ2M7QUFDN0I7QUFDTTtBQUN6RDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0NBQWtDLG1FQUFnQjtBQUNsRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQix1REFBSTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlFQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsOERBQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx1QkFBdUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBSztBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw2REFBVTtBQUN2RCxtREFBbUQsNkRBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCw2QkFBNkIsZUFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZGQUE2QjtBQUN4QztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi92aWV3L3RyYWNrVmlld01ldHJpY3MuanM/YjFhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub29wLCByb3VuZCwgT05FX1NFQ09ORCwgZWxhcHNlZCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBzdXBwb3J0UGVyZm9ybWFuY2VUaW1pbmdFdmVudCB9IGZyb20gJy4uLy4uLy4uL2Jyb3dzZXIvcGVyZm9ybWFuY2VDb2xsZWN0aW9uJztcbmltcG9ydCB7IHRyYWNrRXZlbnRDb3VudHMgfSBmcm9tICcuLi8uLi90cmFja0V2ZW50Q291bnRzJztcbmltcG9ydCB7IHdhaXRQYWdlQWN0aXZpdHlFbmQgfSBmcm9tICcuLi8uLi93YWl0UGFnZUFjdGl2aXR5RW5kJztcbmV4cG9ydCBmdW5jdGlvbiB0cmFja1ZpZXdNZXRyaWNzKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uLCBzY2hlZHVsZVZpZXdVcGRhdGUsIGxvYWRpbmdUeXBlLCB2aWV3U3RhcnQpIHtcbiAgICB2YXIgdmlld01ldHJpY3MgPSB7XG4gICAgICAgIGV2ZW50Q291bnRzOiB7XG4gICAgICAgICAgICBlcnJvckNvdW50OiAwLFxuICAgICAgICAgICAgbG9uZ1Rhc2tDb3VudDogMCxcbiAgICAgICAgICAgIHJlc291cmNlQ291bnQ6IDAsXG4gICAgICAgICAgICBhY3Rpb25Db3VudDogMCxcbiAgICAgICAgICAgIGZydXN0cmF0aW9uQ291bnQ6IDAsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICB2YXIgc3RvcEV2ZW50Q291bnRzVHJhY2tpbmcgPSB0cmFja0V2ZW50Q291bnRzKGxpZmVDeWNsZSwgZnVuY3Rpb24gKG5ld0V2ZW50Q291bnRzKSB7XG4gICAgICAgIHZpZXdNZXRyaWNzLmV2ZW50Q291bnRzID0gbmV3RXZlbnRDb3VudHM7XG4gICAgICAgIHNjaGVkdWxlVmlld1VwZGF0ZSgpO1xuICAgIH0pLnN0b3A7XG4gICAgdmFyIF9hID0gdHJhY2tMb2FkaW5nVGltZShsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbiwgbG9hZGluZ1R5cGUsIHZpZXdTdGFydCwgZnVuY3Rpb24gKG5ld0xvYWRpbmdUaW1lKSB7XG4gICAgICAgIHZpZXdNZXRyaWNzLmxvYWRpbmdUaW1lID0gbmV3TG9hZGluZ1RpbWU7XG4gICAgICAgIHNjaGVkdWxlVmlld1VwZGF0ZSgpO1xuICAgIH0pLCBzdG9wTG9hZGluZ1RpbWVUcmFja2luZyA9IF9hLnN0b3AsIHNldExvYWRFdmVudCA9IF9hLnNldExvYWRFdmVudDtcbiAgICB2YXIgc3RvcENMU1RyYWNraW5nO1xuICAgIGlmIChpc0xheW91dFNoaWZ0U3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdmlld01ldHJpY3MuY3VtdWxhdGl2ZUxheW91dFNoaWZ0ID0gMDtcbiAgICAgICAgKHN0b3BDTFNUcmFja2luZyA9IHRyYWNrQ3VtdWxhdGl2ZUxheW91dFNoaWZ0KGxpZmVDeWNsZSwgZnVuY3Rpb24gKGN1bXVsYXRpdmVMYXlvdXRTaGlmdCkge1xuICAgICAgICAgICAgdmlld01ldHJpY3MuY3VtdWxhdGl2ZUxheW91dFNoaWZ0ID0gY3VtdWxhdGl2ZUxheW91dFNoaWZ0O1xuICAgICAgICAgICAgc2NoZWR1bGVWaWV3VXBkYXRlKCk7XG4gICAgICAgIH0pLnN0b3ApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RvcENMU1RyYWNraW5nID0gbm9vcDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcEV2ZW50Q291bnRzVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIHN0b3BMb2FkaW5nVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgICBzdG9wQ0xTVHJhY2tpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0TG9hZEV2ZW50OiBzZXRMb2FkRXZlbnQsXG4gICAgICAgIHZpZXdNZXRyaWNzOiB2aWV3TWV0cmljcyxcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJhY2tMb2FkaW5nVGltZShsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbiwgbG9hZFR5cGUsIHZpZXdTdGFydCwgY2FsbGJhY2spIHtcbiAgICB2YXIgaXNXYWl0aW5nRm9yTG9hZEV2ZW50ID0gbG9hZFR5cGUgPT09IFwiaW5pdGlhbF9sb2FkXCIgLyogSU5JVElBTF9MT0FEICovO1xuICAgIHZhciBpc1dhaXRpbmdGb3JBY3Rpdml0eUxvYWRpbmdUaW1lID0gdHJ1ZTtcbiAgICB2YXIgbG9hZGluZ1RpbWVDYW5kaWRhdGVzID0gW107XG4gICAgZnVuY3Rpb24gaW52b2tlQ2FsbGJhY2tJZkFsbENhbmRpZGF0ZXNBcmVSZWNlaXZlZCgpIHtcbiAgICAgICAgaWYgKCFpc1dhaXRpbmdGb3JBY3Rpdml0eUxvYWRpbmdUaW1lICYmICFpc1dhaXRpbmdGb3JMb2FkRXZlbnQgJiYgbG9hZGluZ1RpbWVDYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKE1hdGgubWF4LmFwcGx5KE1hdGgsIGxvYWRpbmdUaW1lQ2FuZGlkYXRlcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBzdG9wID0gd2FpdFBhZ2VBY3Rpdml0eUVuZChsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChpc1dhaXRpbmdGb3JBY3Rpdml0eUxvYWRpbmdUaW1lKSB7XG4gICAgICAgICAgICBpc1dhaXRpbmdGb3JBY3Rpdml0eUxvYWRpbmdUaW1lID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZXZlbnQuaGFkQWN0aXZpdHkpIHtcbiAgICAgICAgICAgICAgICBsb2FkaW5nVGltZUNhbmRpZGF0ZXMucHVzaChlbGFwc2VkKHZpZXdTdGFydC50aW1lU3RhbXAsIGV2ZW50LmVuZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2tJZkFsbENhbmRpZGF0ZXNBcmVSZWNlaXZlZCgpO1xuICAgICAgICB9XG4gICAgfSkuc3RvcDtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBzdG9wLFxuICAgICAgICBzZXRMb2FkRXZlbnQ6IGZ1bmN0aW9uIChsb2FkRXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChpc1dhaXRpbmdGb3JMb2FkRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpc1dhaXRpbmdGb3JMb2FkRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsb2FkaW5nVGltZUNhbmRpZGF0ZXMucHVzaChsb2FkRXZlbnQpO1xuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrSWZBbGxDYW5kaWRhdGVzQXJlUmVjZWl2ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBUcmFjayB0aGUgY3VtdWxhdGl2ZSBsYXlvdXQgc2hpZnRzIChDTFMpLlxuICogTGF5b3V0IHNoaWZ0cyBhcmUgZ3JvdXBlZCBpbnRvIHNlc3Npb24gd2luZG93cy5cbiAqIFRoZSBtaW5pbXVtIGdhcCBiZXR3ZWVuIHNlc3Npb24gd2luZG93cyBpcyAxIHNlY29uZC5cbiAqIFRoZSBtYXhpbXVtIGR1cmF0aW9uIG9mIGEgc2Vzc2lvbiB3aW5kb3cgaXMgNSBzZWNvbmQuXG4gKiBUaGUgc2Vzc2lvbiB3aW5kb3cgbGF5b3V0IHNoaWZ0IHZhbHVlIGlzIHRoZSBzdW0gb2YgbGF5b3V0IHNoaWZ0cyBpbnNpZGUgaXQuXG4gKiBUaGUgQ0xTIHZhbHVlIGlzIHRoZSBtYXggb2Ygc2Vzc2lvbiB3aW5kb3dzIHZhbHVlcy5cbiAqXG4gKiBUaGlzIHlpZWxkcyBhIG5ldyB2YWx1ZSB3aGVuZXZlciB0aGUgQ0xTIHZhbHVlIGlzIHVwZGF0ZWQgKGEgaGlnaGVyIHNlc3Npb24gd2luZG93IHZhbHVlIGlzIGNvbXB1dGVkKS5cbiAqXG4gKiBTZWUgaXNMYXlvdXRTaGlmdFN1cHBvcnRlZCB0byBjaGVjayBmb3IgYnJvd3NlciBzdXBwb3J0LlxuICpcbiAqIERvY3VtZW50YXRpb246XG4gKiBodHRwczovL3dlYi5kZXYvY2xzL1xuICogaHR0cHM6Ly93ZWIuZGV2L2V2b2x2aW5nLWNscy9cbiAqIFJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93ZWItdml0YWxzL2Jsb2IvbWFzdGVyL3NyYy9nZXRDTFMudHNcbiAqL1xuZnVuY3Rpb24gdHJhY2tDdW11bGF0aXZlTGF5b3V0U2hpZnQobGlmZUN5Y2xlLCBjYWxsYmFjaykge1xuICAgIHZhciBtYXhDbHNWYWx1ZSA9IDA7XG4gICAgdmFyIHdpbmRvdyA9IHNsaWRpbmdTZXNzaW9uV2luZG93KCk7XG4gICAgdmFyIHN0b3AgPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDAgLyogUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgZW50cmllc18xID0gZW50cmllczsgX2kgPCBlbnRyaWVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzXzFbX2ldO1xuICAgICAgICAgICAgaWYgKGVudHJ5LmVudHJ5VHlwZSA9PT0gJ2xheW91dC1zaGlmdCcgJiYgIWVudHJ5LmhhZFJlY2VudElucHV0KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnVwZGF0ZShlbnRyeSk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy52YWx1ZSgpID4gbWF4Q2xzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4Q2xzVmFsdWUgPSB3aW5kb3cudmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socm91bmQobWF4Q2xzVmFsdWUsIDQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KS51bnN1YnNjcmliZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBzdG9wLFxuICAgIH07XG59XG5mdW5jdGlvbiBzbGlkaW5nU2Vzc2lvbldpbmRvdygpIHtcbiAgICB2YXIgdmFsdWUgPSAwO1xuICAgIHZhciBzdGFydFRpbWU7XG4gICAgdmFyIGVuZFRpbWU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgIHZhciBzaG91bGRDcmVhdGVOZXdXaW5kb3cgPSBzdGFydFRpbWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIGVudHJ5LnN0YXJ0VGltZSAtIGVuZFRpbWUgPj0gT05FX1NFQ09ORCB8fFxuICAgICAgICAgICAgICAgIGVudHJ5LnN0YXJ0VGltZSAtIHN0YXJ0VGltZSA+PSA1ICogT05FX1NFQ09ORDtcbiAgICAgICAgICAgIGlmIChzaG91bGRDcmVhdGVOZXdXaW5kb3cpIHtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBlbmRUaW1lID0gZW50cnkuc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZW50cnkudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBlbnRyeS52YWx1ZTtcbiAgICAgICAgICAgICAgICBlbmRUaW1lID0gZW50cnkuc3RhcnRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0sXG4gICAgfTtcbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciBgbGF5b3V0LXNoaWZ0YCBpcyBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIuXG4gKi9cbmZ1bmN0aW9uIGlzTGF5b3V0U2hpZnRTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHN1cHBvcnRQZXJmb3JtYW5jZVRpbWluZ0V2ZW50KCdsYXlvdXQtc2hpZnQnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNrVmlld01ldHJpY3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewMetrics.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViews.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViews.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SESSION_KEEP_ALIVE_INTERVAL\": function() { return /* binding */ SESSION_KEEP_ALIVE_INTERVAL; },\n/* harmony export */   \"THROTTLE_VIEW_UPDATE_PERIOD\": function() { return /* binding */ THROTTLE_VIEW_UPDATE_PERIOD; },\n/* harmony export */   \"trackViews\": function() { return /* binding */ trackViews; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _trackInitialViewTimings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackInitialViewTimings */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackInitialViewTimings.js\");\n/* harmony import */ var _trackViewMetrics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trackViewMetrics */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewMetrics.js\");\n\n\n\nvar THROTTLE_VIEW_UPDATE_PERIOD = 3000;\nvar SESSION_KEEP_ALIVE_INTERVAL = 5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ONE_MINUTE;\nfunction trackViews(location, lifeCycle, domMutationObservable, configuration, locationChangeObservable, areViewsTrackedAutomatically, initialViewOptions) {\n    var _a = trackInitialView(initialViewOptions), stopInitialViewTracking = _a.stop, initialView = _a.initialView;\n    var currentView = initialView;\n    var stopViewLifeCycle = startViewLifeCycle().stop;\n    var locationChangeSubscription;\n    if (areViewsTrackedAutomatically) {\n        locationChangeSubscription = renewViewOnLocationChange(locationChangeObservable);\n    }\n    function trackInitialView(options) {\n        var initialView = newView(lifeCycle, domMutationObservable, configuration, location, \"initial_load\" /* INITIAL_LOAD */, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.clocksOrigin)(), options);\n        var stop = (0,_trackInitialViewTimings__WEBPACK_IMPORTED_MODULE_0__.trackInitialViewTimings)(lifeCycle, function (timings) {\n            initialView.updateTimings(timings);\n            initialView.scheduleUpdate();\n        }).stop;\n        return { initialView: initialView, stop: stop };\n    }\n    function trackViewChange(startClocks, viewOptions) {\n        return newView(lifeCycle, domMutationObservable, configuration, location, \"route_change\" /* ROUTE_CHANGE */, startClocks, viewOptions);\n    }\n    function startViewLifeCycle() {\n        lifeCycle.subscribe(8 /* SESSION_RENEWED */, function () {\n            // do not trigger view update to avoid wrong data\n            currentView.end();\n            // Renew view on session renewal\n            currentView = trackViewChange(undefined, {\n                name: currentView.name,\n                service: currentView.service,\n                version: currentView.version,\n            });\n        });\n        // End the current view on page unload\n        lifeCycle.subscribe(9 /* BEFORE_UNLOAD */, function () {\n            currentView.end();\n            currentView.triggerUpdate();\n        });\n        // Session keep alive\n        var keepAliveInterval = window.setInterval((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function () {\n            currentView.triggerUpdate();\n        }), SESSION_KEEP_ALIVE_INTERVAL);\n        return {\n            stop: function () {\n                clearInterval(keepAliveInterval);\n            },\n        };\n    }\n    function renewViewOnLocationChange(locationChangeObservable) {\n        return locationChangeObservable.subscribe(function (_a) {\n            var oldLocation = _a.oldLocation, newLocation = _a.newLocation;\n            if (areDifferentLocation(oldLocation, newLocation)) {\n                currentView.end();\n                currentView.triggerUpdate();\n                currentView = trackViewChange();\n                return;\n            }\n        });\n    }\n    return {\n        addTiming: function (name, time) {\n            if (time === void 0) { time = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.timeStampNow)(); }\n            currentView.addTiming(name, time);\n            currentView.scheduleUpdate();\n        },\n        startView: function (options, startClocks) {\n            currentView.end(startClocks);\n            currentView.triggerUpdate();\n            currentView = trackViewChange(startClocks, options);\n        },\n        stop: function () {\n            locationChangeSubscription === null || locationChangeSubscription === void 0 ? void 0 : locationChangeSubscription.unsubscribe();\n            stopInitialViewTracking();\n            stopViewLifeCycle();\n            currentView.end();\n        },\n    };\n}\nfunction newView(lifeCycle, domMutationObservable, configuration, initialLocation, loadingType, startClocks, viewOptions) {\n    if (startClocks === void 0) { startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(); }\n    // Setup initial values\n    var id = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.generateUUID)();\n    var timings = {};\n    var customTimings = {};\n    var documentVersion = 0;\n    var endClocks;\n    var location = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.shallowClone)(initialLocation);\n    var name;\n    var service;\n    var version;\n    if (viewOptions) {\n        name = viewOptions.name;\n        service = viewOptions.service;\n        version = viewOptions.version;\n    }\n    lifeCycle.notify(2 /* VIEW_CREATED */, { id: id, name: name, startClocks: startClocks, service: service, version: version });\n    // Update the view every time the measures are changing\n    var _a = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.throttle)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(triggerViewUpdate), THROTTLE_VIEW_UPDATE_PERIOD, {\n        leading: false,\n    }), scheduleViewUpdate = _a.throttled, cancelScheduleViewUpdate = _a.cancel;\n    var _b = (0,_trackViewMetrics__WEBPACK_IMPORTED_MODULE_1__.trackViewMetrics)(lifeCycle, domMutationObservable, configuration, scheduleViewUpdate, loadingType, startClocks), setLoadEvent = _b.setLoadEvent, stopViewMetricsTracking = _b.stop, viewMetrics = _b.viewMetrics;\n    // Initial view update\n    triggerViewUpdate();\n    function triggerViewUpdate() {\n        documentVersion += 1;\n        var currentEnd = endClocks === undefined ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.timeStampNow)() : endClocks.timeStamp;\n        lifeCycle.notify(3 /* VIEW_UPDATED */, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n            customTimings: customTimings,\n            documentVersion: documentVersion,\n            id: id,\n            name: name,\n            service: service,\n            version: version,\n            loadingType: loadingType,\n            location: location,\n            startClocks: startClocks,\n            timings: timings,\n            duration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.elapsed)(startClocks.timeStamp, currentEnd),\n            isActive: endClocks === undefined,\n        }, viewMetrics));\n    }\n    return {\n        name: name,\n        service: service,\n        version: version,\n        scheduleUpdate: scheduleViewUpdate,\n        end: function (clocks) {\n            if (clocks === void 0) { clocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(); }\n            endClocks = clocks;\n            lifeCycle.notify(4 /* VIEW_ENDED */, { endClocks: endClocks });\n            stopViewMetricsTracking();\n        },\n        triggerUpdate: function () {\n            // cancel any pending view updates execution\n            cancelScheduleViewUpdate();\n            triggerViewUpdate();\n        },\n        updateTimings: function (newTimings) {\n            timings = newTimings;\n            if (newTimings.loadEvent !== undefined) {\n                setLoadEvent(newTimings.loadEvent);\n            }\n        },\n        addTiming: function (name, time) {\n            var relativeTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.looksLikeRelativeTime)(time) ? time : (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.elapsed)(startClocks.timeStamp, time);\n            customTimings[sanitizeTiming(name)] = relativeTime;\n        },\n    };\n}\n/**\n * Timing name is used as facet path that must contain only letters, digits, or the characters - _ . @ $\n */\nfunction sanitizeTiming(name) {\n    var sanitized = name.replace(/[^a-zA-Z0-9-_.@$]/g, '_');\n    if (sanitized !== name) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.warn(\"Invalid timing name: \".concat(name, \", sanitized to: \").concat(sanitized));\n    }\n    return sanitized;\n}\nfunction areDifferentLocation(currentLocation, otherLocation) {\n    return (currentLocation.pathname !== otherLocation.pathname ||\n        (!isHashAnAnchor(otherLocation.hash) &&\n            getPathFromHash(otherLocation.hash) !== getPathFromHash(currentLocation.hash)));\n}\nfunction isHashAnAnchor(hash) {\n    var correspondingId = hash.substr(1);\n    return !!document.getElementById(correspondingId);\n}\nfunction getPathFromHash(hash) {\n    var index = hash.indexOf('?');\n    return index < 0 ? hash : hash.slice(0, index);\n}\n//# sourceMappingURL=trackViews.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja1ZpZXdzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyTDtBQUN2SDtBQUNkO0FBQy9DO0FBQ0Esc0NBQXNDLDZEQUFVO0FBQ2hEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdJQUFnSSxtRUFBWTtBQUM1SSxtQkFBbUIsaUZBQXVCO0FBQzFDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG1EQUFtRCw4REFBTztBQUMxRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTyxtRUFBWTtBQUN0RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGNBQWMsZ0VBQVM7QUFDekQ7QUFDQSxhQUFhLG1FQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1FQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsa0ZBQWtGO0FBQy9IO0FBQ0EsYUFBYSwrREFBUSxDQUFDLDhEQUFPO0FBQzdCO0FBQ0EsS0FBSztBQUNMLGFBQWEsbUVBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELG1FQUFZO0FBQy9ELCtDQUErQyw2REFBTTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4REFBTztBQUM3QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxTQUFTLGdFQUFTO0FBQ3ZEO0FBQ0EsbURBQW1ELHNCQUFzQjtBQUN6RTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsK0JBQStCLDRFQUFxQixnQkFBZ0IsOERBQU87QUFDM0U7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0RBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja1ZpZXdzLmpzPzExNjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2hhbGxvd0Nsb25lLCBhc3NpZ24sIGVsYXBzZWQsIGdlbmVyYXRlVVVJRCwgbW9uaXRvciwgT05FX01JTlVURSwgdGhyb3R0bGUsIGNsb2Nrc05vdywgY2xvY2tzT3JpZ2luLCB0aW1lU3RhbXBOb3csIGRpc3BsYXksIGxvb2tzTGlrZVJlbGF0aXZlVGltZSwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgdHJhY2tJbml0aWFsVmlld1RpbWluZ3MgfSBmcm9tICcuL3RyYWNrSW5pdGlhbFZpZXdUaW1pbmdzJztcbmltcG9ydCB7IHRyYWNrVmlld01ldHJpY3MgfSBmcm9tICcuL3RyYWNrVmlld01ldHJpY3MnO1xuZXhwb3J0IHZhciBUSFJPVFRMRV9WSUVXX1VQREFURV9QRVJJT0QgPSAzMDAwO1xuZXhwb3J0IHZhciBTRVNTSU9OX0tFRVBfQUxJVkVfSU5URVJWQUwgPSA1ICogT05FX01JTlVURTtcbmV4cG9ydCBmdW5jdGlvbiB0cmFja1ZpZXdzKGxvY2F0aW9uLCBsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbiwgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLCBhcmVWaWV3c1RyYWNrZWRBdXRvbWF0aWNhbGx5LCBpbml0aWFsVmlld09wdGlvbnMpIHtcbiAgICB2YXIgX2EgPSB0cmFja0luaXRpYWxWaWV3KGluaXRpYWxWaWV3T3B0aW9ucyksIHN0b3BJbml0aWFsVmlld1RyYWNraW5nID0gX2Euc3RvcCwgaW5pdGlhbFZpZXcgPSBfYS5pbml0aWFsVmlldztcbiAgICB2YXIgY3VycmVudFZpZXcgPSBpbml0aWFsVmlldztcbiAgICB2YXIgc3RvcFZpZXdMaWZlQ3ljbGUgPSBzdGFydFZpZXdMaWZlQ3ljbGUoKS5zdG9wO1xuICAgIHZhciBsb2NhdGlvbkNoYW5nZVN1YnNjcmlwdGlvbjtcbiAgICBpZiAoYXJlVmlld3NUcmFja2VkQXV0b21hdGljYWxseSkge1xuICAgICAgICBsb2NhdGlvbkNoYW5nZVN1YnNjcmlwdGlvbiA9IHJlbmV3Vmlld09uTG9jYXRpb25DaGFuZ2UobG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhY2tJbml0aWFsVmlldyhvcHRpb25zKSB7XG4gICAgICAgIHZhciBpbml0aWFsVmlldyA9IG5ld1ZpZXcobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGxvY2F0aW9uLCBcImluaXRpYWxfbG9hZFwiIC8qIElOSVRJQUxfTE9BRCAqLywgY2xvY2tzT3JpZ2luKCksIG9wdGlvbnMpO1xuICAgICAgICB2YXIgc3RvcCA9IHRyYWNrSW5pdGlhbFZpZXdUaW1pbmdzKGxpZmVDeWNsZSwgZnVuY3Rpb24gKHRpbWluZ3MpIHtcbiAgICAgICAgICAgIGluaXRpYWxWaWV3LnVwZGF0ZVRpbWluZ3ModGltaW5ncyk7XG4gICAgICAgICAgICBpbml0aWFsVmlldy5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgICB9KS5zdG9wO1xuICAgICAgICByZXR1cm4geyBpbml0aWFsVmlldzogaW5pdGlhbFZpZXcsIHN0b3A6IHN0b3AgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhY2tWaWV3Q2hhbmdlKHN0YXJ0Q2xvY2tzLCB2aWV3T3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3VmlldyhsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbiwgbG9jYXRpb24sIFwicm91dGVfY2hhbmdlXCIgLyogUk9VVEVfQ0hBTkdFICovLCBzdGFydENsb2Nrcywgdmlld09wdGlvbnMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydFZpZXdMaWZlQ3ljbGUoKSB7XG4gICAgICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoOCAvKiBTRVNTSU9OX1JFTkVXRUQgKi8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGRvIG5vdCB0cmlnZ2VyIHZpZXcgdXBkYXRlIHRvIGF2b2lkIHdyb25nIGRhdGFcbiAgICAgICAgICAgIGN1cnJlbnRWaWV3LmVuZCgpO1xuICAgICAgICAgICAgLy8gUmVuZXcgdmlldyBvbiBzZXNzaW9uIHJlbmV3YWxcbiAgICAgICAgICAgIGN1cnJlbnRWaWV3ID0gdHJhY2tWaWV3Q2hhbmdlKHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRWaWV3Lm5hbWUsXG4gICAgICAgICAgICAgICAgc2VydmljZTogY3VycmVudFZpZXcuc2VydmljZSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBjdXJyZW50Vmlldy52ZXJzaW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBFbmQgdGhlIGN1cnJlbnQgdmlldyBvbiBwYWdlIHVubG9hZFxuICAgICAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDkgLyogQkVGT1JFX1VOTE9BRCAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3VycmVudFZpZXcuZW5kKCk7XG4gICAgICAgICAgICBjdXJyZW50Vmlldy50cmlnZ2VyVXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTZXNzaW9uIGtlZXAgYWxpdmVcbiAgICAgICAgdmFyIGtlZXBBbGl2ZUludGVydmFsID0gd2luZG93LnNldEludGVydmFsKG1vbml0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3VycmVudFZpZXcudHJpZ2dlclVwZGF0ZSgpO1xuICAgICAgICB9KSwgU0VTU0lPTl9LRUVQX0FMSVZFX0lOVEVSVkFMKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGtlZXBBbGl2ZUludGVydmFsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmV3Vmlld09uTG9jYXRpb25DaGFuZ2UobG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIG9sZExvY2F0aW9uID0gX2Eub2xkTG9jYXRpb24sIG5ld0xvY2F0aW9uID0gX2EubmV3TG9jYXRpb247XG4gICAgICAgICAgICBpZiAoYXJlRGlmZmVyZW50TG9jYXRpb24ob2xkTG9jYXRpb24sIG5ld0xvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3LmVuZCgpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3LnRyaWdnZXJVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmlldyA9IHRyYWNrVmlld0NoYW5nZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZFRpbWluZzogZnVuY3Rpb24gKG5hbWUsIHRpbWUpIHtcbiAgICAgICAgICAgIGlmICh0aW1lID09PSB2b2lkIDApIHsgdGltZSA9IHRpbWVTdGFtcE5vdygpOyB9XG4gICAgICAgICAgICBjdXJyZW50Vmlldy5hZGRUaW1pbmcobmFtZSwgdGltZSk7XG4gICAgICAgICAgICBjdXJyZW50Vmlldy5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBzdGFydFZpZXc6IGZ1bmN0aW9uIChvcHRpb25zLCBzdGFydENsb2Nrcykge1xuICAgICAgICAgICAgY3VycmVudFZpZXcuZW5kKHN0YXJ0Q2xvY2tzKTtcbiAgICAgICAgICAgIGN1cnJlbnRWaWV3LnRyaWdnZXJVcGRhdGUoKTtcbiAgICAgICAgICAgIGN1cnJlbnRWaWV3ID0gdHJhY2tWaWV3Q2hhbmdlKHN0YXJ0Q2xvY2tzLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9jYXRpb25DaGFuZ2VTdWJzY3JpcHRpb24gPT09IG51bGwgfHwgbG9jYXRpb25DaGFuZ2VTdWJzY3JpcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxvY2F0aW9uQ2hhbmdlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBzdG9wSW5pdGlhbFZpZXdUcmFja2luZygpO1xuICAgICAgICAgICAgc3RvcFZpZXdMaWZlQ3ljbGUoKTtcbiAgICAgICAgICAgIGN1cnJlbnRWaWV3LmVuZCgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBuZXdWaWV3KGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uLCBpbml0aWFsTG9jYXRpb24sIGxvYWRpbmdUeXBlLCBzdGFydENsb2Nrcywgdmlld09wdGlvbnMpIHtcbiAgICBpZiAoc3RhcnRDbG9ja3MgPT09IHZvaWQgMCkgeyBzdGFydENsb2NrcyA9IGNsb2Nrc05vdygpOyB9XG4gICAgLy8gU2V0dXAgaW5pdGlhbCB2YWx1ZXNcbiAgICB2YXIgaWQgPSBnZW5lcmF0ZVVVSUQoKTtcbiAgICB2YXIgdGltaW5ncyA9IHt9O1xuICAgIHZhciBjdXN0b21UaW1pbmdzID0ge307XG4gICAgdmFyIGRvY3VtZW50VmVyc2lvbiA9IDA7XG4gICAgdmFyIGVuZENsb2NrcztcbiAgICB2YXIgbG9jYXRpb24gPSBzaGFsbG93Q2xvbmUoaW5pdGlhbExvY2F0aW9uKTtcbiAgICB2YXIgbmFtZTtcbiAgICB2YXIgc2VydmljZTtcbiAgICB2YXIgdmVyc2lvbjtcbiAgICBpZiAodmlld09wdGlvbnMpIHtcbiAgICAgICAgbmFtZSA9IHZpZXdPcHRpb25zLm5hbWU7XG4gICAgICAgIHNlcnZpY2UgPSB2aWV3T3B0aW9ucy5zZXJ2aWNlO1xuICAgICAgICB2ZXJzaW9uID0gdmlld09wdGlvbnMudmVyc2lvbjtcbiAgICB9XG4gICAgbGlmZUN5Y2xlLm5vdGlmeSgyIC8qIFZJRVdfQ1JFQVRFRCAqLywgeyBpZDogaWQsIG5hbWU6IG5hbWUsIHN0YXJ0Q2xvY2tzOiBzdGFydENsb2Nrcywgc2VydmljZTogc2VydmljZSwgdmVyc2lvbjogdmVyc2lvbiB9KTtcbiAgICAvLyBVcGRhdGUgdGhlIHZpZXcgZXZlcnkgdGltZSB0aGUgbWVhc3VyZXMgYXJlIGNoYW5naW5nXG4gICAgdmFyIF9hID0gdGhyb3R0bGUobW9uaXRvcih0cmlnZ2VyVmlld1VwZGF0ZSksIFRIUk9UVExFX1ZJRVdfVVBEQVRFX1BFUklPRCwge1xuICAgICAgICBsZWFkaW5nOiBmYWxzZSxcbiAgICB9KSwgc2NoZWR1bGVWaWV3VXBkYXRlID0gX2EudGhyb3R0bGVkLCBjYW5jZWxTY2hlZHVsZVZpZXdVcGRhdGUgPSBfYS5jYW5jZWw7XG4gICAgdmFyIF9iID0gdHJhY2tWaWV3TWV0cmljcyhsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbiwgc2NoZWR1bGVWaWV3VXBkYXRlLCBsb2FkaW5nVHlwZSwgc3RhcnRDbG9ja3MpLCBzZXRMb2FkRXZlbnQgPSBfYi5zZXRMb2FkRXZlbnQsIHN0b3BWaWV3TWV0cmljc1RyYWNraW5nID0gX2Iuc3RvcCwgdmlld01ldHJpY3MgPSBfYi52aWV3TWV0cmljcztcbiAgICAvLyBJbml0aWFsIHZpZXcgdXBkYXRlXG4gICAgdHJpZ2dlclZpZXdVcGRhdGUoKTtcbiAgICBmdW5jdGlvbiB0cmlnZ2VyVmlld1VwZGF0ZSgpIHtcbiAgICAgICAgZG9jdW1lbnRWZXJzaW9uICs9IDE7XG4gICAgICAgIHZhciBjdXJyZW50RW5kID0gZW5kQ2xvY2tzID09PSB1bmRlZmluZWQgPyB0aW1lU3RhbXBOb3coKSA6IGVuZENsb2Nrcy50aW1lU3RhbXA7XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMyAvKiBWSUVXX1VQREFURUQgKi8sIGFzc2lnbih7XG4gICAgICAgICAgICBjdXN0b21UaW1pbmdzOiBjdXN0b21UaW1pbmdzLFxuICAgICAgICAgICAgZG9jdW1lbnRWZXJzaW9uOiBkb2N1bWVudFZlcnNpb24sXG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgc2VydmljZTogc2VydmljZSxcbiAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgICAgICBsb2FkaW5nVHlwZTogbG9hZGluZ1R5cGUsXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgICBzdGFydENsb2Nrczogc3RhcnRDbG9ja3MsXG4gICAgICAgICAgICB0aW1pbmdzOiB0aW1pbmdzLFxuICAgICAgICAgICAgZHVyYXRpb246IGVsYXBzZWQoc3RhcnRDbG9ja3MudGltZVN0YW1wLCBjdXJyZW50RW5kKSxcbiAgICAgICAgICAgIGlzQWN0aXZlOiBlbmRDbG9ja3MgPT09IHVuZGVmaW5lZCxcbiAgICAgICAgfSwgdmlld01ldHJpY3MpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgc2VydmljZTogc2VydmljZSxcbiAgICAgICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICAgICAgc2NoZWR1bGVVcGRhdGU6IHNjaGVkdWxlVmlld1VwZGF0ZSxcbiAgICAgICAgZW5kOiBmdW5jdGlvbiAoY2xvY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2xvY2tzID09PSB2b2lkIDApIHsgY2xvY2tzID0gY2xvY2tzTm93KCk7IH1cbiAgICAgICAgICAgIGVuZENsb2NrcyA9IGNsb2NrcztcbiAgICAgICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoNCAvKiBWSUVXX0VOREVEICovLCB7IGVuZENsb2NrczogZW5kQ2xvY2tzIH0pO1xuICAgICAgICAgICAgc3RvcFZpZXdNZXRyaWNzVHJhY2tpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJpZ2dlclVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gY2FuY2VsIGFueSBwZW5kaW5nIHZpZXcgdXBkYXRlcyBleGVjdXRpb25cbiAgICAgICAgICAgIGNhbmNlbFNjaGVkdWxlVmlld1VwZGF0ZSgpO1xuICAgICAgICAgICAgdHJpZ2dlclZpZXdVcGRhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlVGltaW5nczogZnVuY3Rpb24gKG5ld1RpbWluZ3MpIHtcbiAgICAgICAgICAgIHRpbWluZ3MgPSBuZXdUaW1pbmdzO1xuICAgICAgICAgICAgaWYgKG5ld1RpbWluZ3MubG9hZEV2ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZXRMb2FkRXZlbnQobmV3VGltaW5ncy5sb2FkRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZGRUaW1pbmc6IGZ1bmN0aW9uIChuYW1lLCB0aW1lKSB7XG4gICAgICAgICAgICB2YXIgcmVsYXRpdmVUaW1lID0gbG9va3NMaWtlUmVsYXRpdmVUaW1lKHRpbWUpID8gdGltZSA6IGVsYXBzZWQoc3RhcnRDbG9ja3MudGltZVN0YW1wLCB0aW1lKTtcbiAgICAgICAgICAgIGN1c3RvbVRpbWluZ3Nbc2FuaXRpemVUaW1pbmcobmFtZSldID0gcmVsYXRpdmVUaW1lO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIFRpbWluZyBuYW1lIGlzIHVzZWQgYXMgZmFjZXQgcGF0aCB0aGF0IG11c3QgY29udGFpbiBvbmx5IGxldHRlcnMsIGRpZ2l0cywgb3IgdGhlIGNoYXJhY3RlcnMgLSBfIC4gQCAkXG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplVGltaW5nKG5hbWUpIHtcbiAgICB2YXIgc2FuaXRpemVkID0gbmFtZS5yZXBsYWNlKC9bXmEtekEtWjAtOS1fLkAkXS9nLCAnXycpO1xuICAgIGlmIChzYW5pdGl6ZWQgIT09IG5hbWUpIHtcbiAgICAgICAgZGlzcGxheS53YXJuKFwiSW52YWxpZCB0aW1pbmcgbmFtZTogXCIuY29uY2F0KG5hbWUsIFwiLCBzYW5pdGl6ZWQgdG86IFwiKS5jb25jYXQoc2FuaXRpemVkKSk7XG4gICAgfVxuICAgIHJldHVybiBzYW5pdGl6ZWQ7XG59XG5mdW5jdGlvbiBhcmVEaWZmZXJlbnRMb2NhdGlvbihjdXJyZW50TG9jYXRpb24sIG90aGVyTG9jYXRpb24pIHtcbiAgICByZXR1cm4gKGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSAhPT0gb3RoZXJMb2NhdGlvbi5wYXRobmFtZSB8fFxuICAgICAgICAoIWlzSGFzaEFuQW5jaG9yKG90aGVyTG9jYXRpb24uaGFzaCkgJiZcbiAgICAgICAgICAgIGdldFBhdGhGcm9tSGFzaChvdGhlckxvY2F0aW9uLmhhc2gpICE9PSBnZXRQYXRoRnJvbUhhc2goY3VycmVudExvY2F0aW9uLmhhc2gpKSk7XG59XG5mdW5jdGlvbiBpc0hhc2hBbkFuY2hvcihoYXNoKSB7XG4gICAgdmFyIGNvcnJlc3BvbmRpbmdJZCA9IGhhc2guc3Vic3RyKDEpO1xuICAgIHJldHVybiAhIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvcnJlc3BvbmRpbmdJZCk7XG59XG5mdW5jdGlvbiBnZXRQYXRoRnJvbUhhc2goaGFzaCkge1xuICAgIHZhciBpbmRleCA9IGhhc2guaW5kZXhPZignPycpO1xuICAgIHJldHVybiBpbmRleCA8IDAgPyBoYXNoIDogaGFzaC5zbGljZSgwLCBpbmRleCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFja1ZpZXdzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViews.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/viewCollection.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/viewCollection.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startViewCollection\": function() { return /* binding */ startViewCollection; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _trackViews__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackViews */ \"./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViews.js\");\n\n\nfunction startViewCollection(lifeCycle, configuration, location, domMutationObservable, locationChangeObservable, foregroundContexts, recorderApi, initialViewOptions) {\n    lifeCycle.subscribe(3 /* VIEW_UPDATED */, function (view) {\n        return lifeCycle.notify(10 /* RAW_RUM_EVENT_COLLECTED */, processViewUpdate(view, foregroundContexts, recorderApi));\n    });\n    return (0,_trackViews__WEBPACK_IMPORTED_MODULE_0__.trackViews)(location, lifeCycle, domMutationObservable, configuration, locationChangeObservable, !configuration.trackViewsManually, initialViewOptions);\n}\nfunction processViewUpdate(view, foregroundContexts, recorderApi) {\n    var replayStats = recorderApi.getReplayStats(view.id);\n    var viewEvent = {\n        _dd: {\n            document_version: view.documentVersion,\n            replay_stats: replayStats,\n        },\n        date: view.startClocks.timeStamp,\n        type: \"view\" /* VIEW */,\n        view: {\n            action: {\n                count: view.eventCounts.actionCount,\n            },\n            frustration: {\n                count: view.eventCounts.frustrationCount,\n            },\n            cumulative_layout_shift: view.cumulativeLayoutShift,\n            dom_complete: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.domComplete),\n            dom_content_loaded: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.domContentLoaded),\n            dom_interactive: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.domInteractive),\n            error: {\n                count: view.eventCounts.errorCount,\n            },\n            first_contentful_paint: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.firstContentfulPaint),\n            first_input_delay: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.firstInputDelay),\n            first_input_time: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.firstInputTime),\n            is_active: view.isActive,\n            name: view.name,\n            largest_contentful_paint: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.largestContentfulPaint),\n            load_event: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.loadEvent),\n            loading_time: discardNegativeDuration((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.loadingTime)),\n            loading_type: view.loadingType,\n            long_task: {\n                count: view.eventCounts.longTaskCount,\n            },\n            resource: {\n                count: view.eventCounts.resourceCount,\n            },\n            time_spent: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.duration),\n            in_foreground_periods: foregroundContexts.selectInForegroundPeriodsFor(view.startClocks.relative, view.duration),\n        },\n        session: {\n            has_replay: replayStats ? true : undefined,\n        },\n    };\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(view.customTimings)) {\n        viewEvent.view.custom_timings = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.mapValues)(view.customTimings, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration);\n    }\n    return {\n        rawRumEvent: viewEvent,\n        startTime: view.startClocks.relative,\n        domainContext: {\n            location: view.location,\n        },\n    };\n}\nfunction discardNegativeDuration(duration) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.isNumber)(duration) && duration < 0 ? undefined : duration;\n}\n//# sourceMappingURL=viewCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy92aWV3Q29sbGVjdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkY7QUFDbkQ7QUFDbkM7QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsdURBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsMEJBQTBCLHVFQUFnQjtBQUMxQyxnQ0FBZ0MsdUVBQWdCO0FBQ2hELDZCQUE2Qix1RUFBZ0I7QUFDN0M7QUFDQTtBQUNBLGFBQWE7QUFDYixvQ0FBb0MsdUVBQWdCO0FBQ3BELCtCQUErQix1RUFBZ0I7QUFDL0MsOEJBQThCLHVFQUFnQjtBQUM5QztBQUNBO0FBQ0Esc0NBQXNDLHVFQUFnQjtBQUN0RCx3QkFBd0IsdUVBQWdCO0FBQ3hDLGtEQUFrRCx1RUFBZ0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isd0JBQXdCLHVFQUFnQjtBQUN4QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxvRUFBYTtBQUN0Qix3Q0FBd0MsZ0VBQVMscUJBQXFCLG1FQUFnQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsV0FBVywrREFBUTtBQUNuQjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi92aWV3L3ZpZXdDb2xsZWN0aW9uLmpzP2I3ODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbXB0eU9iamVjdCwgbWFwVmFsdWVzLCB0b1NlcnZlckR1cmF0aW9uLCBpc051bWJlciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyB0cmFja1ZpZXdzIH0gZnJvbSAnLi90cmFja1ZpZXdzJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFZpZXdDb2xsZWN0aW9uKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgbG9jYXRpb24sIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLCBmb3JlZ3JvdW5kQ29udGV4dHMsIHJlY29yZGVyQXBpLCBpbml0aWFsVmlld09wdGlvbnMpIHtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDMgLyogVklFV19VUERBVEVEICovLCBmdW5jdGlvbiAodmlldykge1xuICAgICAgICByZXR1cm4gbGlmZUN5Y2xlLm5vdGlmeSgxMCAvKiBSQVdfUlVNX0VWRU5UX0NPTExFQ1RFRCAqLywgcHJvY2Vzc1ZpZXdVcGRhdGUodmlldywgZm9yZWdyb3VuZENvbnRleHRzLCByZWNvcmRlckFwaSkpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cmFja1ZpZXdzKGxvY2F0aW9uLCBsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbiwgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLCAhY29uZmlndXJhdGlvbi50cmFja1ZpZXdzTWFudWFsbHksIGluaXRpYWxWaWV3T3B0aW9ucyk7XG59XG5mdW5jdGlvbiBwcm9jZXNzVmlld1VwZGF0ZSh2aWV3LCBmb3JlZ3JvdW5kQ29udGV4dHMsIHJlY29yZGVyQXBpKSB7XG4gICAgdmFyIHJlcGxheVN0YXRzID0gcmVjb3JkZXJBcGkuZ2V0UmVwbGF5U3RhdHModmlldy5pZCk7XG4gICAgdmFyIHZpZXdFdmVudCA9IHtcbiAgICAgICAgX2RkOiB7XG4gICAgICAgICAgICBkb2N1bWVudF92ZXJzaW9uOiB2aWV3LmRvY3VtZW50VmVyc2lvbixcbiAgICAgICAgICAgIHJlcGxheV9zdGF0czogcmVwbGF5U3RhdHMsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGU6IHZpZXcuc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgICB0eXBlOiBcInZpZXdcIiAvKiBWSUVXICovLFxuICAgICAgICB2aWV3OiB7XG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBjb3VudDogdmlldy5ldmVudENvdW50cy5hY3Rpb25Db3VudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcnVzdHJhdGlvbjoge1xuICAgICAgICAgICAgICAgIGNvdW50OiB2aWV3LmV2ZW50Q291bnRzLmZydXN0cmF0aW9uQ291bnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VtdWxhdGl2ZV9sYXlvdXRfc2hpZnQ6IHZpZXcuY3VtdWxhdGl2ZUxheW91dFNoaWZ0LFxuICAgICAgICAgICAgZG9tX2NvbXBsZXRlOiB0b1NlcnZlckR1cmF0aW9uKHZpZXcudGltaW5ncy5kb21Db21wbGV0ZSksXG4gICAgICAgICAgICBkb21fY29udGVudF9sb2FkZWQ6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmRvbUNvbnRlbnRMb2FkZWQpLFxuICAgICAgICAgICAgZG9tX2ludGVyYWN0aXZlOiB0b1NlcnZlckR1cmF0aW9uKHZpZXcudGltaW5ncy5kb21JbnRlcmFjdGl2ZSksXG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGNvdW50OiB2aWV3LmV2ZW50Q291bnRzLmVycm9yQ291bnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlyc3RfY29udGVudGZ1bF9wYWludDogdG9TZXJ2ZXJEdXJhdGlvbih2aWV3LnRpbWluZ3MuZmlyc3RDb250ZW50ZnVsUGFpbnQpLFxuICAgICAgICAgICAgZmlyc3RfaW5wdXRfZGVsYXk6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmZpcnN0SW5wdXREZWxheSksXG4gICAgICAgICAgICBmaXJzdF9pbnB1dF90aW1lOiB0b1NlcnZlckR1cmF0aW9uKHZpZXcudGltaW5ncy5maXJzdElucHV0VGltZSksXG4gICAgICAgICAgICBpc19hY3RpdmU6IHZpZXcuaXNBY3RpdmUsXG4gICAgICAgICAgICBuYW1lOiB2aWV3Lm5hbWUsXG4gICAgICAgICAgICBsYXJnZXN0X2NvbnRlbnRmdWxfcGFpbnQ6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmxhcmdlc3RDb250ZW50ZnVsUGFpbnQpLFxuICAgICAgICAgICAgbG9hZF9ldmVudDogdG9TZXJ2ZXJEdXJhdGlvbih2aWV3LnRpbWluZ3MubG9hZEV2ZW50KSxcbiAgICAgICAgICAgIGxvYWRpbmdfdGltZTogZGlzY2FyZE5lZ2F0aXZlRHVyYXRpb24odG9TZXJ2ZXJEdXJhdGlvbih2aWV3LmxvYWRpbmdUaW1lKSksXG4gICAgICAgICAgICBsb2FkaW5nX3R5cGU6IHZpZXcubG9hZGluZ1R5cGUsXG4gICAgICAgICAgICBsb25nX3Rhc2s6IHtcbiAgICAgICAgICAgICAgICBjb3VudDogdmlldy5ldmVudENvdW50cy5sb25nVGFza0NvdW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc291cmNlOiB7XG4gICAgICAgICAgICAgICAgY291bnQ6IHZpZXcuZXZlbnRDb3VudHMucmVzb3VyY2VDb3VudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aW1lX3NwZW50OiB0b1NlcnZlckR1cmF0aW9uKHZpZXcuZHVyYXRpb24pLFxuICAgICAgICAgICAgaW5fZm9yZWdyb3VuZF9wZXJpb2RzOiBmb3JlZ3JvdW5kQ29udGV4dHMuc2VsZWN0SW5Gb3JlZ3JvdW5kUGVyaW9kc0Zvcih2aWV3LnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLCB2aWV3LmR1cmF0aW9uKSxcbiAgICAgICAgfSxcbiAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgaGFzX3JlcGxheTogcmVwbGF5U3RhdHMgPyB0cnVlIDogdW5kZWZpbmVkLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgaWYgKCFpc0VtcHR5T2JqZWN0KHZpZXcuY3VzdG9tVGltaW5ncykpIHtcbiAgICAgICAgdmlld0V2ZW50LnZpZXcuY3VzdG9tX3RpbWluZ3MgPSBtYXBWYWx1ZXModmlldy5jdXN0b21UaW1pbmdzLCB0b1NlcnZlckR1cmF0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmF3UnVtRXZlbnQ6IHZpZXdFdmVudCxcbiAgICAgICAgc3RhcnRUaW1lOiB2aWV3LnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7XG4gICAgICAgICAgICBsb2NhdGlvbjogdmlldy5sb2NhdGlvbixcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZGlzY2FyZE5lZ2F0aXZlRHVyYXRpb24oZHVyYXRpb24pIHtcbiAgICByZXR1cm4gaXNOdW1iZXIoZHVyYXRpb24pICYmIGR1cmF0aW9uIDwgMCA/IHVuZGVmaW5lZCA6IGR1cmF0aW9uO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlld0NvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/viewCollection.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/rumSessionManager.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/rumSessionManager.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RUM_SESSION_KEY\": function() { return /* binding */ RUM_SESSION_KEY; },\n/* harmony export */   \"startRumSessionManager\": function() { return /* binding */ startRumSessionManager; },\n/* harmony export */   \"startRumSessionManagerStub\": function() { return /* binding */ startRumSessionManagerStub; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nvar RUM_SESSION_KEY = 'rum';\nfunction startRumSessionManager(configuration, lifeCycle) {\n    var sessionManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.startSessionManager)(configuration.cookieOptions, RUM_SESSION_KEY, function (rawTrackingType) {\n        return computeSessionState(configuration, rawTrackingType);\n    });\n    sessionManager.expireObservable.subscribe(function () {\n        lifeCycle.notify(7 /* SESSION_EXPIRED */);\n    });\n    sessionManager.renewObservable.subscribe(function () {\n        lifeCycle.notify(8 /* SESSION_RENEWED */);\n    });\n    return {\n        findTrackedSession: function (startTime) {\n            var session = sessionManager.findActiveSession(startTime);\n            if (!session || !isTypeTracked(session.trackingType)) {\n                return;\n            }\n            return {\n                id: session.id,\n                hasPremiumPlan: session.trackingType === \"1\" /* TRACKED_PREMIUM */,\n                hasLitePlan: session.trackingType === \"2\" /* TRACKED_LITE */,\n            };\n        },\n    };\n}\n/**\n * Start a tracked replay session stub\n * It needs to be a premium plan in order to get long tasks\n */\nfunction startRumSessionManagerStub() {\n    var session = {\n        id: '00000000-aaaa-0000-aaaa-000000000000',\n        hasPremiumPlan: true,\n        hasLitePlan: false,\n    };\n    return {\n        findTrackedSession: function () { return session; },\n    };\n}\nfunction computeSessionState(configuration, rawTrackingType) {\n    var trackingType;\n    if (hasValidRumSession(rawTrackingType)) {\n        trackingType = rawTrackingType;\n    }\n    else if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.performDraw)(configuration.sampleRate)) {\n        trackingType = \"0\" /* NOT_TRACKED */;\n    }\n    else if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.performDraw)(configuration.premiumSampleRate)) {\n        trackingType = \"2\" /* TRACKED_LITE */;\n    }\n    else {\n        trackingType = \"1\" /* TRACKED_PREMIUM */;\n    }\n    return {\n        trackingType: trackingType,\n        isTracked: isTypeTracked(trackingType),\n    };\n}\nfunction hasValidRumSession(trackingType) {\n    return (trackingType === \"0\" /* NOT_TRACKED */ ||\n        trackingType === \"1\" /* TRACKED_PREMIUM */ ||\n        trackingType === \"2\" /* TRACKED_LITE */);\n}\nfunction isTypeTracked(rumSessionType) {\n    return rumSessionType === \"2\" /* TRACKED_LITE */ || rumSessionType === \"1\" /* TRACKED_PREMIUM */;\n}\n//# sourceMappingURL=rumSessionManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bVNlc3Npb25NYW5hZ2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUU7QUFDbEU7QUFDQTtBQUNQLHlCQUF5QiwwRUFBbUI7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsaUJBQWlCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrRUFBVztBQUN6QjtBQUNBO0FBQ0EsY0FBYyxrRUFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bVNlc3Npb25NYW5hZ2VyLmpzPzQ5ZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGVyZm9ybURyYXcsIHN0YXJ0U2Vzc2lvbk1hbmFnZXIgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IHZhciBSVU1fU0VTU0lPTl9LRVkgPSAncnVtJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFJ1bVNlc3Npb25NYW5hZ2VyKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSkge1xuICAgIHZhciBzZXNzaW9uTWFuYWdlciA9IHN0YXJ0U2Vzc2lvbk1hbmFnZXIoY29uZmlndXJhdGlvbi5jb29raWVPcHRpb25zLCBSVU1fU0VTU0lPTl9LRVksIGZ1bmN0aW9uIChyYXdUcmFja2luZ1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVTZXNzaW9uU3RhdGUoY29uZmlndXJhdGlvbiwgcmF3VHJhY2tpbmdUeXBlKTtcbiAgICB9KTtcbiAgICBzZXNzaW9uTWFuYWdlci5leHBpcmVPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoNyAvKiBTRVNTSU9OX0VYUElSRUQgKi8pO1xuICAgIH0pO1xuICAgIHNlc3Npb25NYW5hZ2VyLnJlbmV3T2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDggLyogU0VTU0lPTl9SRU5FV0VEICovKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaW5kVHJhY2tlZFNlc3Npb246IGZ1bmN0aW9uIChzdGFydFRpbWUpIHtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZmluZEFjdGl2ZVNlc3Npb24oc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIGlmICghc2Vzc2lvbiB8fCAhaXNUeXBlVHJhY2tlZChzZXNzaW9uLnRyYWNraW5nVHlwZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiBzZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgIGhhc1ByZW1pdW1QbGFuOiBzZXNzaW9uLnRyYWNraW5nVHlwZSA9PT0gXCIxXCIgLyogVFJBQ0tFRF9QUkVNSVVNICovLFxuICAgICAgICAgICAgICAgIGhhc0xpdGVQbGFuOiBzZXNzaW9uLnRyYWNraW5nVHlwZSA9PT0gXCIyXCIgLyogVFJBQ0tFRF9MSVRFICovLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBTdGFydCBhIHRyYWNrZWQgcmVwbGF5IHNlc3Npb24gc3R1YlxuICogSXQgbmVlZHMgdG8gYmUgYSBwcmVtaXVtIHBsYW4gaW4gb3JkZXIgdG8gZ2V0IGxvbmcgdGFza3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UnVtU2Vzc2lvbk1hbmFnZXJTdHViKCkge1xuICAgIHZhciBzZXNzaW9uID0ge1xuICAgICAgICBpZDogJzAwMDAwMDAwLWFhYWEtMDAwMC1hYWFhLTAwMDAwMDAwMDAwMCcsXG4gICAgICAgIGhhc1ByZW1pdW1QbGFuOiB0cnVlLFxuICAgICAgICBoYXNMaXRlUGxhbjogZmFsc2UsXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaW5kVHJhY2tlZFNlc3Npb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlc3Npb247IH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVTZXNzaW9uU3RhdGUoY29uZmlndXJhdGlvbiwgcmF3VHJhY2tpbmdUeXBlKSB7XG4gICAgdmFyIHRyYWNraW5nVHlwZTtcbiAgICBpZiAoaGFzVmFsaWRSdW1TZXNzaW9uKHJhd1RyYWNraW5nVHlwZSkpIHtcbiAgICAgICAgdHJhY2tpbmdUeXBlID0gcmF3VHJhY2tpbmdUeXBlO1xuICAgIH1cbiAgICBlbHNlIGlmICghcGVyZm9ybURyYXcoY29uZmlndXJhdGlvbi5zYW1wbGVSYXRlKSkge1xuICAgICAgICB0cmFja2luZ1R5cGUgPSBcIjBcIiAvKiBOT1RfVFJBQ0tFRCAqLztcbiAgICB9XG4gICAgZWxzZSBpZiAoIXBlcmZvcm1EcmF3KGNvbmZpZ3VyYXRpb24ucHJlbWl1bVNhbXBsZVJhdGUpKSB7XG4gICAgICAgIHRyYWNraW5nVHlwZSA9IFwiMlwiIC8qIFRSQUNLRURfTElURSAqLztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRyYWNraW5nVHlwZSA9IFwiMVwiIC8qIFRSQUNLRURfUFJFTUlVTSAqLztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhY2tpbmdUeXBlOiB0cmFja2luZ1R5cGUsXG4gICAgICAgIGlzVHJhY2tlZDogaXNUeXBlVHJhY2tlZCh0cmFja2luZ1R5cGUpLFxuICAgIH07XG59XG5mdW5jdGlvbiBoYXNWYWxpZFJ1bVNlc3Npb24odHJhY2tpbmdUeXBlKSB7XG4gICAgcmV0dXJuICh0cmFja2luZ1R5cGUgPT09IFwiMFwiIC8qIE5PVF9UUkFDS0VEICovIHx8XG4gICAgICAgIHRyYWNraW5nVHlwZSA9PT0gXCIxXCIgLyogVFJBQ0tFRF9QUkVNSVVNICovIHx8XG4gICAgICAgIHRyYWNraW5nVHlwZSA9PT0gXCIyXCIgLyogVFJBQ0tFRF9MSVRFICovKTtcbn1cbmZ1bmN0aW9uIGlzVHlwZVRyYWNrZWQocnVtU2Vzc2lvblR5cGUpIHtcbiAgICByZXR1cm4gcnVtU2Vzc2lvblR5cGUgPT09IFwiMlwiIC8qIFRSQUNLRURfTElURSAqLyB8fCBydW1TZXNzaW9uVHlwZSA9PT0gXCIxXCIgLyogVFJBQ0tFRF9QUkVNSVVNICovO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVtU2Vzc2lvbk1hbmFnZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/rumSessionManager.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/syntheticsContext.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/syntheticsContext.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SYNTHETICS_INJECTS_RUM_COOKIE_NAME\": function() { return /* binding */ SYNTHETICS_INJECTS_RUM_COOKIE_NAME; },\n/* harmony export */   \"SYNTHETICS_RESULT_ID_COOKIE_NAME\": function() { return /* binding */ SYNTHETICS_RESULT_ID_COOKIE_NAME; },\n/* harmony export */   \"SYNTHETICS_TEST_ID_COOKIE_NAME\": function() { return /* binding */ SYNTHETICS_TEST_ID_COOKIE_NAME; },\n/* harmony export */   \"getSyntheticsContext\": function() { return /* binding */ getSyntheticsContext; },\n/* harmony export */   \"willSyntheticsInjectRum\": function() { return /* binding */ willSyntheticsInjectRum; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nvar SYNTHETICS_TEST_ID_COOKIE_NAME = 'datadog-synthetics-public-id';\nvar SYNTHETICS_RESULT_ID_COOKIE_NAME = 'datadog-synthetics-result-id';\nvar SYNTHETICS_INJECTS_RUM_COOKIE_NAME = 'datadog-synthetics-injects-rum';\nfunction getSyntheticsContext() {\n    var testId = window._DATADOG_SYNTHETICS_PUBLIC_ID || (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getCookie)(SYNTHETICS_TEST_ID_COOKIE_NAME);\n    var resultId = window._DATADOG_SYNTHETICS_RESULT_ID || (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getCookie)(SYNTHETICS_RESULT_ID_COOKIE_NAME);\n    if (typeof testId === 'string' && typeof resultId === 'string') {\n        return {\n            test_id: testId,\n            result_id: resultId,\n            injected: willSyntheticsInjectRum(),\n        };\n    }\n}\nfunction willSyntheticsInjectRum() {\n    return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM || (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getCookie)(SYNTHETICS_INJECTS_RUM_COOKIE_NAME));\n}\n//# sourceMappingURL=syntheticsContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3N5bnRoZXRpY3NDb250ZXh0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFrRDtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNQLHlEQUF5RCxnRUFBUztBQUNsRSwyREFBMkQsZ0VBQVM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkRBQTZELGdFQUFTO0FBQ3RFO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9zeW50aGV0aWNzQ29udGV4dC5qcz81ZWFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENvb2tpZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIFNZTlRIRVRJQ1NfVEVTVF9JRF9DT09LSUVfTkFNRSA9ICdkYXRhZG9nLXN5bnRoZXRpY3MtcHVibGljLWlkJztcbmV4cG9ydCB2YXIgU1lOVEhFVElDU19SRVNVTFRfSURfQ09PS0lFX05BTUUgPSAnZGF0YWRvZy1zeW50aGV0aWNzLXJlc3VsdC1pZCc7XG5leHBvcnQgdmFyIFNZTlRIRVRJQ1NfSU5KRUNUU19SVU1fQ09PS0lFX05BTUUgPSAnZGF0YWRvZy1zeW50aGV0aWNzLWluamVjdHMtcnVtJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRTeW50aGV0aWNzQ29udGV4dCgpIHtcbiAgICB2YXIgdGVzdElkID0gd2luZG93Ll9EQVRBRE9HX1NZTlRIRVRJQ1NfUFVCTElDX0lEIHx8IGdldENvb2tpZShTWU5USEVUSUNTX1RFU1RfSURfQ09PS0lFX05BTUUpO1xuICAgIHZhciByZXN1bHRJZCA9IHdpbmRvdy5fREFUQURPR19TWU5USEVUSUNTX1JFU1VMVF9JRCB8fCBnZXRDb29raWUoU1lOVEhFVElDU19SRVNVTFRfSURfQ09PS0lFX05BTUUpO1xuICAgIGlmICh0eXBlb2YgdGVzdElkID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgcmVzdWx0SWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXN0X2lkOiB0ZXN0SWQsXG4gICAgICAgICAgICByZXN1bHRfaWQ6IHJlc3VsdElkLFxuICAgICAgICAgICAgaW5qZWN0ZWQ6IHdpbGxTeW50aGV0aWNzSW5qZWN0UnVtKCksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHdpbGxTeW50aGV0aWNzSW5qZWN0UnVtKCkge1xuICAgIHJldHVybiBCb29sZWFuKHdpbmRvdy5fREFUQURPR19TWU5USEVUSUNTX0lOSkVDVFNfUlVNIHx8IGdldENvb2tpZShTWU5USEVUSUNTX0lOSkVDVFNfUlVNX0NPT0tJRV9OQU1FKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zeW50aGV0aWNzQ29udGV4dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/syntheticsContext.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/tracing/getDocumentTraceId.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/tracing/getDocumentTraceId.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD\": function() { return /* binding */ INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD; },\n/* harmony export */   \"createDocumentTraceData\": function() { return /* binding */ createDocumentTraceData; },\n/* harmony export */   \"findTraceComment\": function() { return /* binding */ findTraceComment; },\n/* harmony export */   \"getDocumentTraceDataFromComment\": function() { return /* binding */ getDocumentTraceDataFromComment; },\n/* harmony export */   \"getDocumentTraceDataFromMeta\": function() { return /* binding */ getDocumentTraceDataFromMeta; },\n/* harmony export */   \"getDocumentTraceId\": function() { return /* binding */ getDocumentTraceId; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nvar INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD = 2 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\nfunction getDocumentTraceId(document) {\n    var data = getDocumentTraceDataFromMeta(document) || getDocumentTraceDataFromComment(document);\n    if (!data || data.traceTime <= Date.now() - INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD) {\n        return undefined;\n    }\n    return data.traceId;\n}\nfunction getDocumentTraceDataFromMeta(document) {\n    var traceIdMeta = document.querySelector('meta[name=dd-trace-id]');\n    var traceTimeMeta = document.querySelector('meta[name=dd-trace-time]');\n    return createDocumentTraceData(traceIdMeta && traceIdMeta.content, traceTimeMeta && traceTimeMeta.content);\n}\nfunction getDocumentTraceDataFromComment(document) {\n    var comment = findTraceComment(document);\n    if (!comment) {\n        return undefined;\n    }\n    return createDocumentTraceData((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.findCommaSeparatedValue)(comment, 'trace-id'), (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.findCommaSeparatedValue)(comment, 'trace-time'));\n}\nfunction createDocumentTraceData(traceId, rawTraceTime) {\n    var traceTime = rawTraceTime && Number(rawTraceTime);\n    if (!traceId || !traceTime) {\n        return undefined;\n    }\n    return {\n        traceId: traceId,\n        traceTime: traceTime,\n    };\n}\nfunction findTraceComment(document) {\n    // 1. Try to find the comment as a direct child of the document\n    // Note: TSLint advises to use a 'for of', but TS doesn't allow to use 'for of' if the iterated\n    // value is not an array or string (here, a NodeList).\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\n    for (var i = 0; i < document.childNodes.length; i += 1) {\n        var comment = getTraceCommentFromNode(document.childNodes[i]);\n        if (comment) {\n            return comment;\n        }\n    }\n    // 2. If the comment is placed after the </html> tag, but have some space or new lines before or\n    // after, the DOM parser will lift it (and the surrounding text) at the end of the <body> tag.\n    // Try to look for the comment at the end of the <body> by by iterating over its child nodes in\n    // reverse order, stopping if we come across a non-text node.\n    if (document.body) {\n        for (var i = document.body.childNodes.length - 1; i >= 0; i -= 1) {\n            var node = document.body.childNodes[i];\n            var comment = getTraceCommentFromNode(node);\n            if (comment) {\n                return comment;\n            }\n            if (!isTextNode(node)) {\n                break;\n            }\n        }\n    }\n}\nfunction getTraceCommentFromNode(node) {\n    if (node && isCommentNode(node)) {\n        var match = /^\\s*DATADOG;(.*?)\\s*$/.exec(node.data);\n        if (match) {\n            return match[1];\n        }\n    }\n}\nfunction isCommentNode(node) {\n    return node.nodeName === '#comment';\n}\nfunction isTextNode(node) {\n    return node.nodeName === '#text';\n}\n//# sourceMappingURL=getDocumentTraceId.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3RyYWNpbmcvZ2V0RG9jdW1lbnRUcmFjZUlkLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBNEU7QUFDckUsdURBQXVELDZEQUFVO0FBQ2pFO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsOEVBQXVCLHVCQUF1Qiw4RUFBdUI7QUFDeEc7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0NBQWdDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFFBQVE7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vdHJhY2luZy9nZXREb2N1bWVudFRyYWNlSWQuanM/ZDc3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZSwgT05FX01JTlVURSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIElOSVRJQUxfRE9DVU1FTlRfT1VUREFURURfVFJBQ0VfSURfVEhSRVNIT0xEID0gMiAqIE9ORV9NSU5VVEU7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRUcmFjZUlkKGRvY3VtZW50KSB7XG4gICAgdmFyIGRhdGEgPSBnZXREb2N1bWVudFRyYWNlRGF0YUZyb21NZXRhKGRvY3VtZW50KSB8fCBnZXREb2N1bWVudFRyYWNlRGF0YUZyb21Db21tZW50KGRvY3VtZW50KTtcbiAgICBpZiAoIWRhdGEgfHwgZGF0YS50cmFjZVRpbWUgPD0gRGF0ZS5ub3coKSAtIElOSVRJQUxfRE9DVU1FTlRfT1VUREFURURfVFJBQ0VfSURfVEhSRVNIT0xEKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBkYXRhLnRyYWNlSWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tTWV0YShkb2N1bWVudCkge1xuICAgIHZhciB0cmFjZUlkTWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1kZC10cmFjZS1pZF0nKTtcbiAgICB2YXIgdHJhY2VUaW1lTWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1kZC10cmFjZS10aW1lXScpO1xuICAgIHJldHVybiBjcmVhdGVEb2N1bWVudFRyYWNlRGF0YSh0cmFjZUlkTWV0YSAmJiB0cmFjZUlkTWV0YS5jb250ZW50LCB0cmFjZVRpbWVNZXRhICYmIHRyYWNlVGltZU1ldGEuY29udGVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tQ29tbWVudChkb2N1bWVudCkge1xuICAgIHZhciBjb21tZW50ID0gZmluZFRyYWNlQ29tbWVudChkb2N1bWVudCk7XG4gICAgaWYgKCFjb21tZW50KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVEb2N1bWVudFRyYWNlRGF0YShmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZShjb21tZW50LCAndHJhY2UtaWQnKSwgZmluZENvbW1hU2VwYXJhdGVkVmFsdWUoY29tbWVudCwgJ3RyYWNlLXRpbWUnKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRUcmFjZURhdGEodHJhY2VJZCwgcmF3VHJhY2VUaW1lKSB7XG4gICAgdmFyIHRyYWNlVGltZSA9IHJhd1RyYWNlVGltZSAmJiBOdW1iZXIocmF3VHJhY2VUaW1lKTtcbiAgICBpZiAoIXRyYWNlSWQgfHwgIXRyYWNlVGltZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFjZUlkOiB0cmFjZUlkLFxuICAgICAgICB0cmFjZVRpbWU6IHRyYWNlVGltZSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRUcmFjZUNvbW1lbnQoZG9jdW1lbnQpIHtcbiAgICAvLyAxLiBUcnkgdG8gZmluZCB0aGUgY29tbWVudCBhcyBhIGRpcmVjdCBjaGlsZCBvZiB0aGUgZG9jdW1lbnRcbiAgICAvLyBOb3RlOiBUU0xpbnQgYWR2aXNlcyB0byB1c2UgYSAnZm9yIG9mJywgYnV0IFRTIGRvZXNuJ3QgYWxsb3cgdG8gdXNlICdmb3Igb2YnIGlmIHRoZSBpdGVyYXRlZFxuICAgIC8vIHZhbHVlIGlzIG5vdCBhbiBhcnJheSBvciBzdHJpbmcgKGhlcmUsIGEgTm9kZUxpc3QpLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLWZvci1vZlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jdW1lbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgY29tbWVudCA9IGdldFRyYWNlQ29tbWVudEZyb21Ob2RlKGRvY3VtZW50LmNoaWxkTm9kZXNbaV0pO1xuICAgICAgICBpZiAoY29tbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gMi4gSWYgdGhlIGNvbW1lbnQgaXMgcGxhY2VkIGFmdGVyIHRoZSA8L2h0bWw+IHRhZywgYnV0IGhhdmUgc29tZSBzcGFjZSBvciBuZXcgbGluZXMgYmVmb3JlIG9yXG4gICAgLy8gYWZ0ZXIsIHRoZSBET00gcGFyc2VyIHdpbGwgbGlmdCBpdCAoYW5kIHRoZSBzdXJyb3VuZGluZyB0ZXh0KSBhdCB0aGUgZW5kIG9mIHRoZSA8Ym9keT4gdGFnLlxuICAgIC8vIFRyeSB0byBsb29rIGZvciB0aGUgY29tbWVudCBhdCB0aGUgZW5kIG9mIHRoZSA8Ym9keT4gYnkgYnkgaXRlcmF0aW5nIG92ZXIgaXRzIGNoaWxkIG5vZGVzIGluXG4gICAgLy8gcmV2ZXJzZSBvcmRlciwgc3RvcHBpbmcgaWYgd2UgY29tZSBhY3Jvc3MgYSBub24tdGV4dCBub2RlLlxuICAgIGlmIChkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBkb2N1bWVudC5ib2R5LmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuYm9keS5jaGlsZE5vZGVzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbW1lbnQgPSBnZXRUcmFjZUNvbW1lbnRGcm9tTm9kZShub2RlKTtcbiAgICAgICAgICAgIGlmIChjb21tZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzVGV4dE5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRyYWNlQ29tbWVudEZyb21Ob2RlKG5vZGUpIHtcbiAgICBpZiAobm9kZSAmJiBpc0NvbW1lbnROb2RlKG5vZGUpKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IC9eXFxzKkRBVEFET0c7KC4qPylcXHMqJC8uZXhlYyhub2RlLmRhdGEpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaFsxXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzQ29tbWVudE5vZGUobm9kZSkge1xuICAgIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnI2NvbW1lbnQnO1xufVxuZnVuY3Rpb24gaXNUZXh0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZU5hbWUgPT09ICcjdGV4dCc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXREb2N1bWVudFRyYWNlSWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/tracing/getDocumentTraceId.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/tracing/tracer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/tracing/tracer.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TraceIdentifier\": function() { return /* binding */ TraceIdentifier; },\n/* harmony export */   \"clearTracingIfNeeded\": function() { return /* binding */ clearTracingIfNeeded; },\n/* harmony export */   \"isTracingSupported\": function() { return /* binding */ isTracingSupported; },\n/* harmony export */   \"startTracer\": function() { return /* binding */ startTracer; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\n/**\n * Clear tracing information to avoid incomplete traces. Ideally, we should do it when the\n * request did not reach the server, but the browser does not expose this. So, we clear tracing\n * information if the request ended with status 0 without being aborted by the application.\n *\n * Reasoning:\n *\n * * Applications are usually aborting requests after a bit of time, for example when the user is\n * typing (autocompletion) or navigating away (in a SPA). With a performant device and good\n * network conditions, the request is likely to reach the server before being canceled.\n *\n * * Requests aborted otherwise (ex: lack of internet, CORS issue, blocked by a privacy extension)\n * are likely to finish quickly and without reaching the server.\n *\n * Of course, it might not be the case every time, but it should limit having incomplete traces a\n * bit.\n * */\nfunction clearTracingIfNeeded(context) {\n    if (context.status === 0 && !context.isAborted) {\n        context.traceId = undefined;\n        context.spanId = undefined;\n        context.traceSampled = undefined;\n    }\n}\nfunction startTracer(configuration, sessionManager) {\n    return {\n        clearTracingIfNeeded: clearTracingIfNeeded,\n        traceFetch: function (context) {\n            return injectHeadersIfTracingAllowed(configuration, context, sessionManager, function (tracingHeaders) {\n                var _a;\n                if (context.input instanceof Request && !((_a = context.init) === null || _a === void 0 ? void 0 : _a.headers)) {\n                    context.input = new Request(context.input);\n                    Object.keys(tracingHeaders).forEach(function (key) {\n                        ;\n                        context.input.headers.append(key, tracingHeaders[key]);\n                    });\n                }\n                else {\n                    context.init = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.shallowClone)(context.init);\n                    var headers_1 = [];\n                    if (context.init.headers instanceof Headers) {\n                        context.init.headers.forEach(function (value, key) {\n                            headers_1.push([key, value]);\n                        });\n                    }\n                    else if (Array.isArray(context.init.headers)) {\n                        context.init.headers.forEach(function (header) {\n                            headers_1.push(header);\n                        });\n                    }\n                    else if (context.init.headers) {\n                        Object.keys(context.init.headers).forEach(function (key) {\n                            headers_1.push([key, context.init.headers[key]]);\n                        });\n                    }\n                    context.init.headers = headers_1.concat((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.objectEntries)(tracingHeaders));\n                }\n            });\n        },\n        traceXhr: function (context, xhr) {\n            return injectHeadersIfTracingAllowed(configuration, context, sessionManager, function (tracingHeaders) {\n                Object.keys(tracingHeaders).forEach(function (name) {\n                    xhr.setRequestHeader(name, tracingHeaders[name]);\n                });\n            });\n        },\n    };\n}\nfunction injectHeadersIfTracingAllowed(configuration, context, sessionManager, inject) {\n    if (!isTracingSupported() || !isAllowedUrl(configuration, context.url) || !sessionManager.findTrackedSession()) {\n        return;\n    }\n    context.traceId = new TraceIdentifier();\n    context.spanId = new TraceIdentifier();\n    context.traceSampled = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.performDraw)(configuration.tracingSampleRate);\n    inject(makeTracingHeaders(context.traceId, context.spanId, context.traceSampled));\n}\nfunction isAllowedUrl(configuration, requestUrl) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.matchList)(configuration.allowedTracingOrigins, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getOrigin)(requestUrl));\n}\nfunction isTracingSupported() {\n    return getCrypto() !== undefined;\n}\nfunction getCrypto() {\n    return window.crypto || window.msCrypto;\n}\n/**\n * When trace is not sampled, set priority to '0' instead of not adding the tracing headers\n * to prepare the implementation for sampling delegation.\n */\nfunction makeTracingHeaders(traceId, spanId, traceSampled) {\n    return {\n        'x-datadog-origin': 'rum',\n        'x-datadog-parent-id': spanId.toDecimalString(),\n        'x-datadog-sampling-priority': traceSampled ? '1' : '0',\n        'x-datadog-trace-id': traceId.toDecimalString(),\n    };\n}\n/* eslint-disable no-bitwise */\nvar TraceIdentifier = /** @class */ (function () {\n    function TraceIdentifier() {\n        this.buffer = new Uint8Array(8);\n        getCrypto().getRandomValues(this.buffer);\n        this.buffer[0] = this.buffer[0] & 0x7f; // force 63-bit\n    }\n    TraceIdentifier.prototype.toString = function (radix) {\n        var high = this.readInt32(0);\n        var low = this.readInt32(4);\n        var str = '';\n        do {\n            var mod = (high % radix) * 4294967296 + low;\n            high = Math.floor(high / radix);\n            low = Math.floor(mod / radix);\n            str = (mod % radix).toString(radix) + str;\n        } while (high || low);\n        return str;\n    };\n    /**\n     * Format used everywhere except the trace intake\n     */\n    TraceIdentifier.prototype.toDecimalString = function () {\n        return this.toString(10);\n    };\n    TraceIdentifier.prototype.readInt32 = function (offset) {\n        return (this.buffer[offset] * 16777216 +\n            (this.buffer[offset + 1] << 16) +\n            (this.buffer[offset + 2] << 8) +\n            this.buffer[offset + 3]);\n    };\n    return TraceIdentifier;\n}());\n\n/* eslint-enable no-bitwise */\n//# sourceMappingURL=tracer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3RyYWNpbmcvdHJhY2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVHO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLG1DQUFtQyxtRUFBWTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLDREQUE0RCxvRUFBYTtBQUN6RTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0VBQVMsc0NBQXNDLGdFQUFTO0FBQ25FO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQzBCO0FBQzNCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi90cmFjaW5nL3RyYWNlci5qcz8wNWVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldE9yaWdpbiwgbWF0Y2hMaXN0LCBvYmplY3RFbnRyaWVzLCBzaGFsbG93Q2xvbmUsIHBlcmZvcm1EcmF3IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbi8qKlxuICogQ2xlYXIgdHJhY2luZyBpbmZvcm1hdGlvbiB0byBhdm9pZCBpbmNvbXBsZXRlIHRyYWNlcy4gSWRlYWxseSwgd2Ugc2hvdWxkIGRvIGl0IHdoZW4gdGhlXG4gKiByZXF1ZXN0IGRpZCBub3QgcmVhY2ggdGhlIHNlcnZlciwgYnV0IHRoZSBicm93c2VyIGRvZXMgbm90IGV4cG9zZSB0aGlzLiBTbywgd2UgY2xlYXIgdHJhY2luZ1xuICogaW5mb3JtYXRpb24gaWYgdGhlIHJlcXVlc3QgZW5kZWQgd2l0aCBzdGF0dXMgMCB3aXRob3V0IGJlaW5nIGFib3J0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqIFJlYXNvbmluZzpcbiAqXG4gKiAqIEFwcGxpY2F0aW9ucyBhcmUgdXN1YWxseSBhYm9ydGluZyByZXF1ZXN0cyBhZnRlciBhIGJpdCBvZiB0aW1lLCBmb3IgZXhhbXBsZSB3aGVuIHRoZSB1c2VyIGlzXG4gKiB0eXBpbmcgKGF1dG9jb21wbGV0aW9uKSBvciBuYXZpZ2F0aW5nIGF3YXkgKGluIGEgU1BBKS4gV2l0aCBhIHBlcmZvcm1hbnQgZGV2aWNlIGFuZCBnb29kXG4gKiBuZXR3b3JrIGNvbmRpdGlvbnMsIHRoZSByZXF1ZXN0IGlzIGxpa2VseSB0byByZWFjaCB0aGUgc2VydmVyIGJlZm9yZSBiZWluZyBjYW5jZWxlZC5cbiAqXG4gKiAqIFJlcXVlc3RzIGFib3J0ZWQgb3RoZXJ3aXNlIChleDogbGFjayBvZiBpbnRlcm5ldCwgQ09SUyBpc3N1ZSwgYmxvY2tlZCBieSBhIHByaXZhY3kgZXh0ZW5zaW9uKVxuICogYXJlIGxpa2VseSB0byBmaW5pc2ggcXVpY2tseSBhbmQgd2l0aG91dCByZWFjaGluZyB0aGUgc2VydmVyLlxuICpcbiAqIE9mIGNvdXJzZSwgaXQgbWlnaHQgbm90IGJlIHRoZSBjYXNlIGV2ZXJ5IHRpbWUsIGJ1dCBpdCBzaG91bGQgbGltaXQgaGF2aW5nIGluY29tcGxldGUgdHJhY2VzIGFcbiAqIGJpdC5cbiAqICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJUcmFjaW5nSWZOZWVkZWQoY29udGV4dCkge1xuICAgIGlmIChjb250ZXh0LnN0YXR1cyA9PT0gMCAmJiAhY29udGV4dC5pc0Fib3J0ZWQpIHtcbiAgICAgICAgY29udGV4dC50cmFjZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICBjb250ZXh0LnNwYW5JZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29udGV4dC50cmFjZVNhbXBsZWQgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VHJhY2VyKGNvbmZpZ3VyYXRpb24sIHNlc3Npb25NYW5hZ2VyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xlYXJUcmFjaW5nSWZOZWVkZWQ6IGNsZWFyVHJhY2luZ0lmTmVlZGVkLFxuICAgICAgICB0cmFjZUZldGNoOiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGluamVjdEhlYWRlcnNJZlRyYWNpbmdBbGxvd2VkKGNvbmZpZ3VyYXRpb24sIGNvbnRleHQsIHNlc3Npb25NYW5hZ2VyLCBmdW5jdGlvbiAodHJhY2luZ0hlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0ICYmICEoKF9hID0gY29udGV4dC5pbml0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGVhZGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnB1dCA9IG5ldyBSZXF1ZXN0KGNvbnRleHQuaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0cmFjaW5nSGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmlucHV0LmhlYWRlcnMuYXBwZW5kKGtleSwgdHJhY2luZ0hlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbml0ID0gc2hhbGxvd0Nsb25lKGNvbnRleHQuaW5pdCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzXzEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuaW5pdC5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbml0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNfMS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbnRleHQuaW5pdC5oZWFkZXJzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbml0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc18xLnB1c2goaGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRleHQuaW5pdC5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0LmluaXQuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc18xLnB1c2goW2tleSwgY29udGV4dC5pbml0LmhlYWRlcnNba2V5XV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbml0LmhlYWRlcnMgPSBoZWFkZXJzXzEuY29uY2F0KG9iamVjdEVudHJpZXModHJhY2luZ0hlYWRlcnMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhY2VYaHI6IGZ1bmN0aW9uIChjb250ZXh0LCB4aHIpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmplY3RIZWFkZXJzSWZUcmFjaW5nQWxsb3dlZChjb25maWd1cmF0aW9uLCBjb250ZXh0LCBzZXNzaW9uTWFuYWdlciwgZnVuY3Rpb24gKHRyYWNpbmdIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModHJhY2luZ0hlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdHJhY2luZ0hlYWRlcnNbbmFtZV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGluamVjdEhlYWRlcnNJZlRyYWNpbmdBbGxvd2VkKGNvbmZpZ3VyYXRpb24sIGNvbnRleHQsIHNlc3Npb25NYW5hZ2VyLCBpbmplY3QpIHtcbiAgICBpZiAoIWlzVHJhY2luZ1N1cHBvcnRlZCgpIHx8ICFpc0FsbG93ZWRVcmwoY29uZmlndXJhdGlvbiwgY29udGV4dC51cmwpIHx8ICFzZXNzaW9uTWFuYWdlci5maW5kVHJhY2tlZFNlc3Npb24oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnRleHQudHJhY2VJZCA9IG5ldyBUcmFjZUlkZW50aWZpZXIoKTtcbiAgICBjb250ZXh0LnNwYW5JZCA9IG5ldyBUcmFjZUlkZW50aWZpZXIoKTtcbiAgICBjb250ZXh0LnRyYWNlU2FtcGxlZCA9IHBlcmZvcm1EcmF3KGNvbmZpZ3VyYXRpb24udHJhY2luZ1NhbXBsZVJhdGUpO1xuICAgIGluamVjdChtYWtlVHJhY2luZ0hlYWRlcnMoY29udGV4dC50cmFjZUlkLCBjb250ZXh0LnNwYW5JZCwgY29udGV4dC50cmFjZVNhbXBsZWQpKTtcbn1cbmZ1bmN0aW9uIGlzQWxsb3dlZFVybChjb25maWd1cmF0aW9uLCByZXF1ZXN0VXJsKSB7XG4gICAgcmV0dXJuIG1hdGNoTGlzdChjb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucywgZ2V0T3JpZ2luKHJlcXVlc3RVcmwpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1RyYWNpbmdTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIGdldENyeXB0bygpICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBnZXRDcnlwdG8oKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5jcnlwdG8gfHwgd2luZG93Lm1zQ3J5cHRvO1xufVxuLyoqXG4gKiBXaGVuIHRyYWNlIGlzIG5vdCBzYW1wbGVkLCBzZXQgcHJpb3JpdHkgdG8gJzAnIGluc3RlYWQgb2Ygbm90IGFkZGluZyB0aGUgdHJhY2luZyBoZWFkZXJzXG4gKiB0byBwcmVwYXJlIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3Igc2FtcGxpbmcgZGVsZWdhdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWFrZVRyYWNpbmdIZWFkZXJzKHRyYWNlSWQsIHNwYW5JZCwgdHJhY2VTYW1wbGVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3gtZGF0YWRvZy1vcmlnaW4nOiAncnVtJyxcbiAgICAgICAgJ3gtZGF0YWRvZy1wYXJlbnQtaWQnOiBzcGFuSWQudG9EZWNpbWFsU3RyaW5nKCksXG4gICAgICAgICd4LWRhdGFkb2ctc2FtcGxpbmctcHJpb3JpdHknOiB0cmFjZVNhbXBsZWQgPyAnMScgOiAnMCcsXG4gICAgICAgICd4LWRhdGFkb2ctdHJhY2UtaWQnOiB0cmFjZUlkLnRvRGVjaW1hbFN0cmluZygpLFxuICAgIH07XG59XG4vKiBlc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG52YXIgVHJhY2VJZGVudGlmaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyYWNlSWRlbnRpZmllcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICAgICAgZ2V0Q3J5cHRvKCkuZ2V0UmFuZG9tVmFsdWVzKHRoaXMuYnVmZmVyKTtcbiAgICAgICAgdGhpcy5idWZmZXJbMF0gPSB0aGlzLmJ1ZmZlclswXSAmIDB4N2Y7IC8vIGZvcmNlIDYzLWJpdFxuICAgIH1cbiAgICBUcmFjZUlkZW50aWZpZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKHJhZGl4KSB7XG4gICAgICAgIHZhciBoaWdoID0gdGhpcy5yZWFkSW50MzIoMCk7XG4gICAgICAgIHZhciBsb3cgPSB0aGlzLnJlYWRJbnQzMig0KTtcbiAgICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgbW9kID0gKGhpZ2ggJSByYWRpeCkgKiA0Mjk0OTY3Mjk2ICsgbG93O1xuICAgICAgICAgICAgaGlnaCA9IE1hdGguZmxvb3IoaGlnaCAvIHJhZGl4KTtcbiAgICAgICAgICAgIGxvdyA9IE1hdGguZmxvb3IobW9kIC8gcmFkaXgpO1xuICAgICAgICAgICAgc3RyID0gKG1vZCAlIHJhZGl4KS50b1N0cmluZyhyYWRpeCkgKyBzdHI7XG4gICAgICAgIH0gd2hpbGUgKGhpZ2ggfHwgbG93KTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvcm1hdCB1c2VkIGV2ZXJ5d2hlcmUgZXhjZXB0IHRoZSB0cmFjZSBpbnRha2VcbiAgICAgKi9cbiAgICBUcmFjZUlkZW50aWZpZXIucHJvdG90eXBlLnRvRGVjaW1hbFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoMTApO1xuICAgIH07XG4gICAgVHJhY2VJZGVudGlmaWVyLnByb3RvdHlwZS5yZWFkSW50MzIgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5idWZmZXJbb2Zmc2V0XSAqIDE2Nzc3MjE2ICtcbiAgICAgICAgICAgICh0aGlzLmJ1ZmZlcltvZmZzZXQgKyAxXSA8PCAxNikgK1xuICAgICAgICAgICAgKHRoaXMuYnVmZmVyW29mZnNldCArIDJdIDw8IDgpICtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW29mZnNldCArIDNdKTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFjZUlkZW50aWZpZXI7XG59KCkpO1xuZXhwb3J0IHsgVHJhY2VJZGVudGlmaWVyIH07XG4vKiBlc2xpbnQtZW5hYmxlIG5vLWJpdHdpc2UgKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/tracing/tracer.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"trackEventCounts\": function() { return /* binding */ trackEventCounts; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nfunction trackEventCounts(lifeCycle, callback) {\n    if (callback === void 0) { callback = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.noop; }\n    var eventCounts = {\n        errorCount: 0,\n        longTaskCount: 0,\n        resourceCount: 0,\n        actionCount: 0,\n        frustrationCount: 0,\n    };\n    var subscription = lifeCycle.subscribe(11 /* RUM_EVENT_COLLECTED */, function (event) {\n        switch (event.type) {\n            case \"error\" /* ERROR */:\n                eventCounts.errorCount += 1;\n                callback(eventCounts);\n                break;\n            case \"action\" /* ACTION */:\n                eventCounts.actionCount += 1;\n                if (event.action.frustration) {\n                    eventCounts.frustrationCount += event.action.frustration.type.length;\n                }\n                callback(eventCounts);\n                break;\n            case \"long_task\" /* LONG_TASK */:\n                eventCounts.longTaskCount += 1;\n                callback(eventCounts);\n                break;\n            case \"resource\" /* RESOURCE */:\n                eventCounts.resourceCount += 1;\n                callback(eventCounts);\n                break;\n        }\n    });\n    return {\n        stop: function () {\n            subscription.unsubscribe();\n        },\n        eventCounts: eventCounts,\n    };\n}\n//# sourceMappingURL=trackEventCounts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3RyYWNrRXZlbnRDb3VudHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7QUFDdEM7QUFDUCwrQkFBK0IsV0FBVyx1REFBSTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3RyYWNrRXZlbnRDb3VudHMuanM/ZjdlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub29wIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiB0cmFja0V2ZW50Q291bnRzKGxpZmVDeWNsZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2sgPT09IHZvaWQgMCkgeyBjYWxsYmFjayA9IG5vb3A7IH1cbiAgICB2YXIgZXZlbnRDb3VudHMgPSB7XG4gICAgICAgIGVycm9yQ291bnQ6IDAsXG4gICAgICAgIGxvbmdUYXNrQ291bnQ6IDAsXG4gICAgICAgIHJlc291cmNlQ291bnQ6IDAsXG4gICAgICAgIGFjdGlvbkNvdW50OiAwLFxuICAgICAgICBmcnVzdHJhdGlvbkNvdW50OiAwLFxuICAgIH07XG4gICAgdmFyIHN1YnNjcmlwdGlvbiA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoMTEgLyogUlVNX0VWRU5UX0NPTExFQ1RFRCAqLywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImVycm9yXCIgLyogRVJST1IgKi86XG4gICAgICAgICAgICAgICAgZXZlbnRDb3VudHMuZXJyb3JDb3VudCArPSAxO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50Q291bnRzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhY3Rpb25cIiAvKiBBQ1RJT04gKi86XG4gICAgICAgICAgICAgICAgZXZlbnRDb3VudHMuYWN0aW9uQ291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuYWN0aW9uLmZydXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q291bnRzLmZydXN0cmF0aW9uQ291bnQgKz0gZXZlbnQuYWN0aW9uLmZydXN0cmF0aW9uLnR5cGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudENvdW50cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibG9uZ190YXNrXCIgLyogTE9OR19UQVNLICovOlxuICAgICAgICAgICAgICAgIGV2ZW50Q291bnRzLmxvbmdUYXNrQ291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudENvdW50cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVzb3VyY2VcIiAvKiBSRVNPVVJDRSAqLzpcbiAgICAgICAgICAgICAgICBldmVudENvdW50cy5yZXNvdXJjZUNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXZlbnRDb3VudHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50Q291bnRzOiBldmVudENvdW50cyxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2tFdmVudENvdW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/urlContexts.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/urlContexts.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"URL_CONTEXT_TIME_OUT_DELAY\": function() { return /* binding */ URL_CONTEXT_TIME_OUT_DELAY; },\n/* harmony export */   \"startUrlContexts\": function() { return /* binding */ startUrlContexts; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\n/**\n * We want to attach to an event:\n * - the url corresponding to its start\n * - the referrer corresponding to the previous view url (or document referrer for initial view)\n */\nvar URL_CONTEXT_TIME_OUT_DELAY = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.SESSION_TIME_OUT_DELAY;\nfunction startUrlContexts(lifeCycle, locationChangeObservable, location) {\n    var urlContextHistory = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ContextHistory(URL_CONTEXT_TIME_OUT_DELAY);\n    var previousViewUrl;\n    lifeCycle.subscribe(4 /* VIEW_ENDED */, function (_a) {\n        var endClocks = _a.endClocks;\n        urlContextHistory.closeActive(endClocks.relative);\n    });\n    lifeCycle.subscribe(2 /* VIEW_CREATED */, function (_a) {\n        var startClocks = _a.startClocks;\n        var viewUrl = location.href;\n        urlContextHistory.add(buildUrlContext({\n            url: viewUrl,\n            referrer: !previousViewUrl ? document.referrer : previousViewUrl,\n        }), startClocks.relative);\n        previousViewUrl = viewUrl;\n    });\n    var locationChangeSubscription = locationChangeObservable.subscribe(function (_a) {\n        var newLocation = _a.newLocation;\n        var current = urlContextHistory.find();\n        if (current) {\n            var changeTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.relativeNow)();\n            urlContextHistory.closeActive(changeTime);\n            urlContextHistory.add(buildUrlContext({\n                url: newLocation.href,\n                referrer: current.view.referrer,\n            }), changeTime);\n        }\n    });\n    function buildUrlContext(_a) {\n        var url = _a.url, referrer = _a.referrer;\n        return {\n            view: {\n                url: url,\n                referrer: referrer,\n            },\n        };\n    }\n    return {\n        findUrl: function (startTime) { return urlContextHistory.find(startTime); },\n        stop: function () {\n            locationChangeSubscription.unsubscribe();\n            urlContextHistory.stop();\n        },\n    };\n}\n//# sourceMappingURL=urlContexts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3VybENvbnRleHRzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0RjtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08saUNBQWlDLHlFQUFzQjtBQUN2RDtBQUNQLGdDQUFnQyxpRUFBYztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsa0VBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywyQ0FBMkM7QUFDbkY7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3VybENvbnRleHRzLmpzPzUzMGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU0VTU0lPTl9USU1FX09VVF9ERUxBWSwgcmVsYXRpdmVOb3csIENvbnRleHRIaXN0b3J5IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbi8qKlxuICogV2Ugd2FudCB0byBhdHRhY2ggdG8gYW4gZXZlbnQ6XG4gKiAtIHRoZSB1cmwgY29ycmVzcG9uZGluZyB0byBpdHMgc3RhcnRcbiAqIC0gdGhlIHJlZmVycmVyIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByZXZpb3VzIHZpZXcgdXJsIChvciBkb2N1bWVudCByZWZlcnJlciBmb3IgaW5pdGlhbCB2aWV3KVxuICovXG5leHBvcnQgdmFyIFVSTF9DT05URVhUX1RJTUVfT1VUX0RFTEFZID0gU0VTU0lPTl9USU1FX09VVF9ERUxBWTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFVybENvbnRleHRzKGxpZmVDeWNsZSwgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLCBsb2NhdGlvbikge1xuICAgIHZhciB1cmxDb250ZXh0SGlzdG9yeSA9IG5ldyBDb250ZXh0SGlzdG9yeShVUkxfQ09OVEVYVF9USU1FX09VVF9ERUxBWSk7XG4gICAgdmFyIHByZXZpb3VzVmlld1VybDtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDQgLyogVklFV19FTkRFRCAqLywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBlbmRDbG9ja3MgPSBfYS5lbmRDbG9ja3M7XG4gICAgICAgIHVybENvbnRleHRIaXN0b3J5LmNsb3NlQWN0aXZlKGVuZENsb2Nrcy5yZWxhdGl2ZSk7XG4gICAgfSk7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSgyIC8qIFZJRVdfQ1JFQVRFRCAqLywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBzdGFydENsb2NrcyA9IF9hLnN0YXJ0Q2xvY2tzO1xuICAgICAgICB2YXIgdmlld1VybCA9IGxvY2F0aW9uLmhyZWY7XG4gICAgICAgIHVybENvbnRleHRIaXN0b3J5LmFkZChidWlsZFVybENvbnRleHQoe1xuICAgICAgICAgICAgdXJsOiB2aWV3VXJsLFxuICAgICAgICAgICAgcmVmZXJyZXI6ICFwcmV2aW91c1ZpZXdVcmwgPyBkb2N1bWVudC5yZWZlcnJlciA6IHByZXZpb3VzVmlld1VybCxcbiAgICAgICAgfSksIHN0YXJ0Q2xvY2tzLnJlbGF0aXZlKTtcbiAgICAgICAgcHJldmlvdXNWaWV3VXJsID0gdmlld1VybDtcbiAgICB9KTtcbiAgICB2YXIgbG9jYXRpb25DaGFuZ2VTdWJzY3JpcHRpb24gPSBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgbmV3TG9jYXRpb24gPSBfYS5uZXdMb2NhdGlvbjtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB1cmxDb250ZXh0SGlzdG9yeS5maW5kKCk7XG4gICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlVGltZSA9IHJlbGF0aXZlTm93KCk7XG4gICAgICAgICAgICB1cmxDb250ZXh0SGlzdG9yeS5jbG9zZUFjdGl2ZShjaGFuZ2VUaW1lKTtcbiAgICAgICAgICAgIHVybENvbnRleHRIaXN0b3J5LmFkZChidWlsZFVybENvbnRleHQoe1xuICAgICAgICAgICAgICAgIHVybDogbmV3TG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgICAgICByZWZlcnJlcjogY3VycmVudC52aWV3LnJlZmVycmVyLFxuICAgICAgICAgICAgfSksIGNoYW5nZVRpbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gYnVpbGRVcmxDb250ZXh0KF9hKSB7XG4gICAgICAgIHZhciB1cmwgPSBfYS51cmwsIHJlZmVycmVyID0gX2EucmVmZXJyZXI7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2aWV3OiB7XG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgcmVmZXJyZXI6IHJlZmVycmVyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmluZFVybDogZnVuY3Rpb24gKHN0YXJ0VGltZSkgeyByZXR1cm4gdXJsQ29udGV4dEhpc3RvcnkuZmluZChzdGFydFRpbWUpOyB9LFxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2NhdGlvbkNoYW5nZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdXJsQ29udGV4dEhpc3Rvcnkuc3RvcCgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmxDb250ZXh0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/urlContexts.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/viewContexts.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/viewContexts.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VIEW_CONTEXT_TIME_OUT_DELAY\": function() { return /* binding */ VIEW_CONTEXT_TIME_OUT_DELAY; },\n/* harmony export */   \"startViewContexts\": function() { return /* binding */ startViewContexts; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nvar VIEW_CONTEXT_TIME_OUT_DELAY = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.SESSION_TIME_OUT_DELAY;\nfunction startViewContexts(lifeCycle) {\n    var viewContextHistory = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ContextHistory(VIEW_CONTEXT_TIME_OUT_DELAY);\n    lifeCycle.subscribe(2 /* VIEW_CREATED */, function (view) {\n        viewContextHistory.add(buildViewContext(view), view.startClocks.relative);\n    });\n    lifeCycle.subscribe(4 /* VIEW_ENDED */, function (_a) {\n        var endClocks = _a.endClocks;\n        viewContextHistory.closeActive(endClocks.relative);\n    });\n    lifeCycle.subscribe(8 /* SESSION_RENEWED */, function () {\n        viewContextHistory.reset();\n    });\n    function buildViewContext(view) {\n        return {\n            service: view.service,\n            version: view.version,\n            view: {\n                id: view.id,\n                name: view.name,\n            },\n        };\n    }\n    return {\n        findView: function (startTime) { return viewContextHistory.find(startTime); },\n        stop: function () {\n            viewContextHistory.stop();\n        },\n    };\n}\n//# sourceMappingURL=viewContexts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3ZpZXdDb250ZXh0cy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0U7QUFDeEUsa0NBQWtDLHlFQUFzQjtBQUN4RDtBQUNQLGlDQUFpQyxpRUFBYztBQUMvQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyw0Q0FBNEM7QUFDckY7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi92aWV3Q29udGV4dHMuanM/ZTI4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZLCBDb250ZXh0SGlzdG9yeSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIFZJRVdfQ09OVEVYVF9USU1FX09VVF9ERUxBWSA9IFNFU1NJT05fVElNRV9PVVRfREVMQVk7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRWaWV3Q29udGV4dHMobGlmZUN5Y2xlKSB7XG4gICAgdmFyIHZpZXdDb250ZXh0SGlzdG9yeSA9IG5ldyBDb250ZXh0SGlzdG9yeShWSUVXX0NPTlRFWFRfVElNRV9PVVRfREVMQVkpO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMiAvKiBWSUVXX0NSRUFURUQgKi8sIGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgIHZpZXdDb250ZXh0SGlzdG9yeS5hZGQoYnVpbGRWaWV3Q29udGV4dCh2aWV3KSwgdmlldy5zdGFydENsb2Nrcy5yZWxhdGl2ZSk7XG4gICAgfSk7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSg0IC8qIFZJRVdfRU5ERUQgKi8sIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZW5kQ2xvY2tzID0gX2EuZW5kQ2xvY2tzO1xuICAgICAgICB2aWV3Q29udGV4dEhpc3RvcnkuY2xvc2VBY3RpdmUoZW5kQ2xvY2tzLnJlbGF0aXZlKTtcbiAgICB9KTtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDggLyogU0VTU0lPTl9SRU5FV0VEICovLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZpZXdDb250ZXh0SGlzdG9yeS5yZXNldCgpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGJ1aWxkVmlld0NvbnRleHQodmlldykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VydmljZTogdmlldy5zZXJ2aWNlLFxuICAgICAgICAgICAgdmVyc2lvbjogdmlldy52ZXJzaW9uLFxuICAgICAgICAgICAgdmlldzoge1xuICAgICAgICAgICAgICAgIGlkOiB2aWV3LmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHZpZXcubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGZpbmRWaWV3OiBmdW5jdGlvbiAoc3RhcnRUaW1lKSB7IHJldHVybiB2aWV3Q29udGV4dEhpc3RvcnkuZmluZChzdGFydFRpbWUpOyB9LFxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2aWV3Q29udGV4dEhpc3Rvcnkuc3RvcCgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3Q29udGV4dHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/viewContexts.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PAGE_ACTIVITY_END_DELAY\": function() { return /* binding */ PAGE_ACTIVITY_END_DELAY; },\n/* harmony export */   \"PAGE_ACTIVITY_VALIDATION_DELAY\": function() { return /* binding */ PAGE_ACTIVITY_VALIDATION_DELAY; },\n/* harmony export */   \"createPageActivityObservable\": function() { return /* binding */ createPageActivityObservable; },\n/* harmony export */   \"doWaitPageActivityEnd\": function() { return /* binding */ doWaitPageActivityEnd; },\n/* harmony export */   \"waitPageActivityEnd\": function() { return /* binding */ waitPageActivityEnd; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\n// Delay to wait for a page activity to validate the tracking process\nvar PAGE_ACTIVITY_VALIDATION_DELAY = 100;\n// Delay to wait after a page activity to end the tracking process\nvar PAGE_ACTIVITY_END_DELAY = 100;\n/**\n * Wait for the page activity end\n *\n * Detection lifecycle:\n * ```\n *                        Wait page activity end\n *              .-------------------'--------------------.\n *              v                                        v\n *     [Wait for a page activity ]          [Wait for a maximum duration]\n *     [timeout: VALIDATION_DELAY]          [  timeout: maxDuration     ]\n *          /                  \\                           |\n *         v                    v                          |\n *  [No page activity]   [Page activity]                   |\n *         |                   |,----------------------.   |\n *         v                   v                       |   |\n *     (Discard)     [Wait for a page activity]        |   |\n *                   [   timeout: END_DELAY   ]        |   |\n *                       /                \\            |   |\n *                      v                  v           |   |\n *             [No page activity]    [Page activity]   |   |\n *                      |                 |            |   |\n *                      |                 '------------'   |\n *                      '-----------. ,--------------------'\n *                                   v\n *                                 (End)\n * ```\n *\n * Note: by assuming that maxDuration is greater than VALIDATION_DELAY, we are sure that if the\n * process is still alive after maxDuration, it has been validated.\n */\nfunction waitPageActivityEnd(lifeCycle, domMutationObservable, configuration, pageActivityEndCallback, maxDuration) {\n    var pageActivityObservable = createPageActivityObservable(lifeCycle, domMutationObservable, configuration);\n    return doWaitPageActivityEnd(pageActivityObservable, pageActivityEndCallback, maxDuration);\n}\nfunction doWaitPageActivityEnd(pageActivityObservable, pageActivityEndCallback, maxDuration) {\n    var pageActivityEndTimeoutId;\n    var hasCompleted = false;\n    var validationTimeoutId = setTimeout((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.monitor)(function () { return complete({ hadActivity: false }); }), PAGE_ACTIVITY_VALIDATION_DELAY);\n    var maxDurationTimeoutId = maxDuration &&\n        setTimeout((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.monitor)(function () { return complete({ hadActivity: true, end: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.timeStampNow)() }); }), maxDuration);\n    var pageActivitySubscription = pageActivityObservable.subscribe(function (_a) {\n        var isBusy = _a.isBusy;\n        clearTimeout(validationTimeoutId);\n        clearTimeout(pageActivityEndTimeoutId);\n        var lastChangeTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.timeStampNow)();\n        if (!isBusy) {\n            pageActivityEndTimeoutId = setTimeout((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.monitor)(function () { return complete({ hadActivity: true, end: lastChangeTime }); }), PAGE_ACTIVITY_END_DELAY);\n        }\n    });\n    var stop = function () {\n        hasCompleted = true;\n        clearTimeout(validationTimeoutId);\n        clearTimeout(pageActivityEndTimeoutId);\n        clearTimeout(maxDurationTimeoutId);\n        pageActivitySubscription.unsubscribe();\n    };\n    function complete(event) {\n        if (hasCompleted) {\n            return;\n        }\n        stop();\n        pageActivityEndCallback(event);\n    }\n    return { stop: stop };\n}\nfunction createPageActivityObservable(lifeCycle, domMutationObservable, configuration) {\n    var observable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var subscriptions = [];\n        var firstRequestIndex;\n        var pendingRequestsCount = 0;\n        subscriptions.push(domMutationObservable.subscribe(function () { return notifyPageActivity(pendingRequestsCount); }), lifeCycle.subscribe(0 /* PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n            if (entries.some(function (entry) { return entry.entryType === 'resource' && !isExcludedUrl(configuration, entry.name); })) {\n                notifyPageActivity(pendingRequestsCount);\n            }\n        }), lifeCycle.subscribe(5 /* REQUEST_STARTED */, function (startEvent) {\n            if (isExcludedUrl(configuration, startEvent.url)) {\n                return;\n            }\n            if (firstRequestIndex === undefined) {\n                firstRequestIndex = startEvent.requestIndex;\n            }\n            notifyPageActivity(++pendingRequestsCount);\n        }), lifeCycle.subscribe(6 /* REQUEST_COMPLETED */, function (request) {\n            if (isExcludedUrl(configuration, request.url) ||\n                firstRequestIndex === undefined ||\n                // If the request started before the tracking start, ignore it\n                request.requestIndex < firstRequestIndex) {\n                return;\n            }\n            notifyPageActivity(--pendingRequestsCount);\n        }));\n        return function () { return subscriptions.forEach(function (s) { return s.unsubscribe(); }); };\n    });\n    function notifyPageActivity(pendingRequestsCount) {\n        observable.notify({ isBusy: pendingRequestsCount > 0 });\n    }\n    return observable;\n}\nfunction isExcludedUrl(configuration, requestUrl) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.matchList)(configuration.excludedActivityUrls, requestUrl);\n}\n//# sourceMappingURL=waitPageActivityEnd.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3dhaXRQYWdlQWN0aXZpdHlFbmQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFGO0FBQ3JGO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSx5Q0FBeUMsOERBQU8sZUFBZSxrQkFBa0Isb0JBQW9CLElBQUk7QUFDekc7QUFDQSxtQkFBbUIsOERBQU8sZUFBZSxrQkFBa0Isd0JBQXdCLG1FQUFZLElBQUksSUFBSTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtRUFBWTtBQUN6QztBQUNBLGtEQUFrRCw4REFBTyxlQUFlLGtCQUFrQix3Q0FBd0MsSUFBSTtBQUN0STtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUCx5QkFBeUIsNkRBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLGtEQUFrRDtBQUMzSCxnREFBZ0QscUZBQXFGO0FBQ3JJO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsNkJBQTZCLDRDQUE0Qyx5QkFBeUI7QUFDbEcsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLGtDQUFrQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0VBQVM7QUFDcEI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3dhaXRQYWdlQWN0aXZpdHlFbmQuanM/MTUyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYXRjaExpc3QsIG1vbml0b3IsIE9ic2VydmFibGUsIHRpbWVTdGFtcE5vdyB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG4vLyBEZWxheSB0byB3YWl0IGZvciBhIHBhZ2UgYWN0aXZpdHkgdG8gdmFsaWRhdGUgdGhlIHRyYWNraW5nIHByb2Nlc3NcbmV4cG9ydCB2YXIgUEFHRV9BQ1RJVklUWV9WQUxJREFUSU9OX0RFTEFZID0gMTAwO1xuLy8gRGVsYXkgdG8gd2FpdCBhZnRlciBhIHBhZ2UgYWN0aXZpdHkgdG8gZW5kIHRoZSB0cmFja2luZyBwcm9jZXNzXG5leHBvcnQgdmFyIFBBR0VfQUNUSVZJVFlfRU5EX0RFTEFZID0gMTAwO1xuLyoqXG4gKiBXYWl0IGZvciB0aGUgcGFnZSBhY3Rpdml0eSBlbmRcbiAqXG4gKiBEZXRlY3Rpb24gbGlmZWN5Y2xlOlxuICogYGBgXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIFdhaXQgcGFnZSBhY3Rpdml0eSBlbmRcbiAqICAgICAgICAgICAgICAuLS0tLS0tLS0tLS0tLS0tLS0tLSctLS0tLS0tLS0tLS0tLS0tLS0tLS5cbiAqICAgICAgICAgICAgICB2ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZcbiAqICAgICBbV2FpdCBmb3IgYSBwYWdlIGFjdGl2aXR5IF0gICAgICAgICAgW1dhaXQgZm9yIGEgbWF4aW11bSBkdXJhdGlvbl1cbiAqICAgICBbdGltZW91dDogVkFMSURBVElPTl9ERUxBWV0gICAgICAgICAgWyAgdGltZW91dDogbWF4RHVyYXRpb24gICAgIF1cbiAqICAgICAgICAgIC8gICAgICAgICAgICAgICAgICBcXCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgdiAgICAgICAgICAgICAgICAgICAgdiAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogIFtObyBwYWdlIGFjdGl2aXR5XSAgIFtQYWdlIGFjdGl2aXR5XSAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgfCwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLiAgIHxcbiAqICAgICAgICAgdiAgICAgICAgICAgICAgICAgICB2ICAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgIChEaXNjYXJkKSAgICAgW1dhaXQgZm9yIGEgcGFnZSBhY3Rpdml0eV0gICAgICAgIHwgICB8XG4gKiAgICAgICAgICAgICAgICAgICBbICAgdGltZW91dDogRU5EX0RFTEFZICAgXSAgICAgICAgfCAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgIFxcICAgICAgICAgICAgfCAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIHYgICAgICAgICAgICAgICAgICB2ICAgICAgICAgICB8ICAgfFxuICogICAgICAgICAgICAgW05vIHBhZ2UgYWN0aXZpdHldICAgIFtQYWdlIGFjdGl2aXR5XSAgIHwgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgfCAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICctLS0tLS0tLS0tLS0nICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgJy0tLS0tLS0tLS0tLiAsLS0tLS0tLS0tLS0tLS0tLS0tLS0nXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoRW5kKVxuICogYGBgXG4gKlxuICogTm90ZTogYnkgYXNzdW1pbmcgdGhhdCBtYXhEdXJhdGlvbiBpcyBncmVhdGVyIHRoYW4gVkFMSURBVElPTl9ERUxBWSwgd2UgYXJlIHN1cmUgdGhhdCBpZiB0aGVcbiAqIHByb2Nlc3MgaXMgc3RpbGwgYWxpdmUgYWZ0ZXIgbWF4RHVyYXRpb24sIGl0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRQYWdlQWN0aXZpdHlFbmQobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIHBhZ2VBY3Rpdml0eUVuZENhbGxiYWNrLCBtYXhEdXJhdGlvbikge1xuICAgIHZhciBwYWdlQWN0aXZpdHlPYnNlcnZhYmxlID0gY3JlYXRlUGFnZUFjdGl2aXR5T2JzZXJ2YWJsZShsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIGRvV2FpdFBhZ2VBY3Rpdml0eUVuZChwYWdlQWN0aXZpdHlPYnNlcnZhYmxlLCBwYWdlQWN0aXZpdHlFbmRDYWxsYmFjaywgbWF4RHVyYXRpb24pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRvV2FpdFBhZ2VBY3Rpdml0eUVuZChwYWdlQWN0aXZpdHlPYnNlcnZhYmxlLCBwYWdlQWN0aXZpdHlFbmRDYWxsYmFjaywgbWF4RHVyYXRpb24pIHtcbiAgICB2YXIgcGFnZUFjdGl2aXR5RW5kVGltZW91dElkO1xuICAgIHZhciBoYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICB2YXIgdmFsaWRhdGlvblRpbWVvdXRJZCA9IHNldFRpbWVvdXQobW9uaXRvcihmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wbGV0ZSh7IGhhZEFjdGl2aXR5OiBmYWxzZSB9KTsgfSksIFBBR0VfQUNUSVZJVFlfVkFMSURBVElPTl9ERUxBWSk7XG4gICAgdmFyIG1heER1cmF0aW9uVGltZW91dElkID0gbWF4RHVyYXRpb24gJiZcbiAgICAgICAgc2V0VGltZW91dChtb25pdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbXBsZXRlKHsgaGFkQWN0aXZpdHk6IHRydWUsIGVuZDogdGltZVN0YW1wTm93KCkgfSk7IH0pLCBtYXhEdXJhdGlvbik7XG4gICAgdmFyIHBhZ2VBY3Rpdml0eVN1YnNjcmlwdGlvbiA9IHBhZ2VBY3Rpdml0eU9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgaXNCdXN5ID0gX2EuaXNCdXN5O1xuICAgICAgICBjbGVhclRpbWVvdXQodmFsaWRhdGlvblRpbWVvdXRJZCk7XG4gICAgICAgIGNsZWFyVGltZW91dChwYWdlQWN0aXZpdHlFbmRUaW1lb3V0SWQpO1xuICAgICAgICB2YXIgbGFzdENoYW5nZVRpbWUgPSB0aW1lU3RhbXBOb3coKTtcbiAgICAgICAgaWYgKCFpc0J1c3kpIHtcbiAgICAgICAgICAgIHBhZ2VBY3Rpdml0eUVuZFRpbWVvdXRJZCA9IHNldFRpbWVvdXQobW9uaXRvcihmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wbGV0ZSh7IGhhZEFjdGl2aXR5OiB0cnVlLCBlbmQ6IGxhc3RDaGFuZ2VUaW1lIH0pOyB9KSwgUEFHRV9BQ1RJVklUWV9FTkRfREVMQVkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIHN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGNsZWFyVGltZW91dCh2YWxpZGF0aW9uVGltZW91dElkKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHBhZ2VBY3Rpdml0eUVuZFRpbWVvdXRJZCk7XG4gICAgICAgIGNsZWFyVGltZW91dChtYXhEdXJhdGlvblRpbWVvdXRJZCk7XG4gICAgICAgIHBhZ2VBY3Rpdml0eVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gY29tcGxldGUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0b3AoKTtcbiAgICAgICAgcGFnZUFjdGl2aXR5RW5kQ2FsbGJhY2soZXZlbnQpO1xuICAgIH1cbiAgICByZXR1cm4geyBzdG9wOiBzdG9wIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFnZUFjdGl2aXR5T2JzZXJ2YWJsZShsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbikge1xuICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgZmlyc3RSZXF1ZXN0SW5kZXg7XG4gICAgICAgIHZhciBwZW5kaW5nUmVxdWVzdHNDb3VudCA9IDA7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChkb21NdXRhdGlvbk9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5vdGlmeVBhZ2VBY3Rpdml0eShwZW5kaW5nUmVxdWVzdHNDb3VudCk7IH0pLCBsaWZlQ3ljbGUuc3Vic2NyaWJlKDAgLyogUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgICAgICBpZiAoZW50cmllcy5zb21lKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkuZW50cnlUeXBlID09PSAncmVzb3VyY2UnICYmICFpc0V4Y2x1ZGVkVXJsKGNvbmZpZ3VyYXRpb24sIGVudHJ5Lm5hbWUpOyB9KSkge1xuICAgICAgICAgICAgICAgIG5vdGlmeVBhZ2VBY3Rpdml0eShwZW5kaW5nUmVxdWVzdHNDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCBsaWZlQ3ljbGUuc3Vic2NyaWJlKDUgLyogUkVRVUVTVF9TVEFSVEVEICovLCBmdW5jdGlvbiAoc3RhcnRFdmVudCkge1xuICAgICAgICAgICAgaWYgKGlzRXhjbHVkZWRVcmwoY29uZmlndXJhdGlvbiwgc3RhcnRFdmVudC51cmwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0UmVxdWVzdEluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBmaXJzdFJlcXVlc3RJbmRleCA9IHN0YXJ0RXZlbnQucmVxdWVzdEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm90aWZ5UGFnZUFjdGl2aXR5KCsrcGVuZGluZ1JlcXVlc3RzQ291bnQpO1xuICAgICAgICB9KSwgbGlmZUN5Y2xlLnN1YnNjcmliZSg2IC8qIFJFUVVFU1RfQ09NUExFVEVEICovLCBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAgICAgaWYgKGlzRXhjbHVkZWRVcmwoY29uZmlndXJhdGlvbiwgcmVxdWVzdC51cmwpIHx8XG4gICAgICAgICAgICAgICAgZmlyc3RSZXF1ZXN0SW5kZXggPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IHN0YXJ0ZWQgYmVmb3JlIHRoZSB0cmFja2luZyBzdGFydCwgaWdub3JlIGl0XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5yZXF1ZXN0SW5kZXggPCBmaXJzdFJlcXVlc3RJbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vdGlmeVBhZ2VBY3Rpdml0eSgtLXBlbmRpbmdSZXF1ZXN0c0NvdW50KTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaXB0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnVuc3Vic2NyaWJlKCk7IH0pOyB9O1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIG5vdGlmeVBhZ2VBY3Rpdml0eShwZW5kaW5nUmVxdWVzdHNDb3VudCkge1xuICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeSh7IGlzQnVzeTogcGVuZGluZ1JlcXVlc3RzQ291bnQgPiAwIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIGlzRXhjbHVkZWRVcmwoY29uZmlndXJhdGlvbiwgcmVxdWVzdFVybCkge1xuICAgIHJldHVybiBtYXRjaExpc3QoY29uZmlndXJhdGlvbi5leGNsdWRlZEFjdGl2aXR5VXJscywgcmVxdWVzdFVybCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YWl0UGFnZUFjdGl2aXR5RW5kLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/index.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LifeCycle\": function() { return /* reexport safe */ _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycle; },\n/* harmony export */   \"getMutationObserverConstructor\": function() { return /* reexport safe */ _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_3__.getMutationObserverConstructor; },\n/* harmony export */   \"makeRumPublicApi\": function() { return /* reexport safe */ _boot_rumPublicApi__WEBPACK_IMPORTED_MODULE_0__.makeRumPublicApi; },\n/* harmony export */   \"startRum\": function() { return /* reexport safe */ _boot_startRum__WEBPACK_IMPORTED_MODULE_1__.startRum; }\n/* harmony export */ });\n/* harmony import */ var _boot_rumPublicApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boot/rumPublicApi */ \"./node_modules/@datadog/browser-rum-core/esm/boot/rumPublicApi.js\");\n/* harmony import */ var _boot_startRum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./boot/startRum */ \"./node_modules/@datadog/browser-rum-core/esm/boot/startRum.js\");\n/* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./domain/lifeCycle */ \"./node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js\");\n/* harmony import */ var _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./browser/domMutationObservable */ \"./node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js\");\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDWjtBQUNJO0FBQ2tDO0FBQ2pGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9pbmRleC5qcz9lOGY5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IG1ha2VSdW1QdWJsaWNBcGkgfSBmcm9tICcuL2Jvb3QvcnVtUHVibGljQXBpJztcbmV4cG9ydCB7IHN0YXJ0UnVtIH0gZnJvbSAnLi9ib290L3N0YXJ0UnVtJztcbmV4cG9ydCB7IExpZmVDeWNsZSB9IGZyb20gJy4vZG9tYWluL2xpZmVDeWNsZSc7XG5leHBvcnQgeyBnZXRNdXRhdGlvbk9ic2VydmVyQ29uc3RydWN0b3IgfSBmcm9tICcuL2Jyb3dzZXIvZG9tTXV0YXRpb25PYnNlcnZhYmxlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/transport/startRumBatch.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/transport/startRumBatch.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startRumBatch\": function() { return /* binding */ startRumBatch; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nfunction startRumBatch(configuration, lifeCycle, telemetryEventObservable) {\n    var batch = makeRumBatch(configuration, lifeCycle);\n    lifeCycle.subscribe(11 /* RUM_EVENT_COLLECTED */, function (serverRumEvent) {\n        if (serverRumEvent.type === \"view\" /* VIEW */) {\n            batch.upsert(serverRumEvent, serverRumEvent.view.id);\n        }\n        else {\n            batch.add(serverRumEvent);\n        }\n    });\n    telemetryEventObservable.subscribe(function (event) { return batch.add(event, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isTelemetryReplicationAllowed)(configuration)); });\n}\nfunction makeRumBatch(configuration, lifeCycle) {\n    var primaryBatch = createRumBatch(configuration.rumEndpointBuilder, function () {\n        return lifeCycle.notify(9 /* BEFORE_UNLOAD */);\n    });\n    var replicaBatch;\n    var replica = configuration.replica;\n    if (replica !== undefined) {\n        replicaBatch = createRumBatch(replica.rumEndpointBuilder);\n    }\n    function createRumBatch(endpointBuilder, unloadCallback) {\n        return new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.Batch(new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.HttpRequest(endpointBuilder, configuration.batchBytesLimit), configuration.batchMessagesLimit, configuration.batchBytesLimit, configuration.messageBytesLimit, configuration.flushTimeout, unloadCallback);\n    }\n    function withReplicaApplicationId(message) {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.combine)(message, { application: { id: replica.applicationId } });\n    }\n    return {\n        add: function (message, replicated) {\n            if (replicated === void 0) { replicated = true; }\n            primaryBatch.add(message);\n            if (replicaBatch && replicated) {\n                replicaBatch.add(withReplicaApplicationId(message));\n            }\n        },\n        upsert: function (message, key) {\n            primaryBatch.upsert(message, key);\n            if (replicaBatch) {\n                replicaBatch.upsert(withReplicaApplicationId(message), key);\n            }\n        },\n    };\n}\n//# sourceMappingURL=startRumBatch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vdHJhbnNwb3J0L3N0YXJ0UnVtQmF0Y2guanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUc7QUFDNUY7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDBEQUEwRCx3QkFBd0Isb0ZBQTZCLG1CQUFtQjtBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0RBQUssS0FBSyw4REFBVztBQUN4QztBQUNBO0FBQ0EsZUFBZSw4REFBTyxZQUFZLGVBQWUsNkJBQTZCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vdHJhbnNwb3J0L3N0YXJ0UnVtQmF0Y2guanM/ZWViNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXRjaCwgY29tYmluZSwgSHR0cFJlcXVlc3QsIGlzVGVsZW1ldHJ5UmVwbGljYXRpb25BbGxvd2VkIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFJ1bUJhdGNoKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSwgdGVsZW1ldHJ5RXZlbnRPYnNlcnZhYmxlKSB7XG4gICAgdmFyIGJhdGNoID0gbWFrZVJ1bUJhdGNoKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSk7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSgxMSAvKiBSVU1fRVZFTlRfQ09MTEVDVEVEICovLCBmdW5jdGlvbiAoc2VydmVyUnVtRXZlbnQpIHtcbiAgICAgICAgaWYgKHNlcnZlclJ1bUV2ZW50LnR5cGUgPT09IFwidmlld1wiIC8qIFZJRVcgKi8pIHtcbiAgICAgICAgICAgIGJhdGNoLnVwc2VydChzZXJ2ZXJSdW1FdmVudCwgc2VydmVyUnVtRXZlbnQudmlldy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYXRjaC5hZGQoc2VydmVyUnVtRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdGVsZW1ldHJ5RXZlbnRPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGJhdGNoLmFkZChldmVudCwgaXNUZWxlbWV0cnlSZXBsaWNhdGlvbkFsbG93ZWQoY29uZmlndXJhdGlvbikpOyB9KTtcbn1cbmZ1bmN0aW9uIG1ha2VSdW1CYXRjaChjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUpIHtcbiAgICB2YXIgcHJpbWFyeUJhdGNoID0gY3JlYXRlUnVtQmF0Y2goY29uZmlndXJhdGlvbi5ydW1FbmRwb2ludEJ1aWxkZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxpZmVDeWNsZS5ub3RpZnkoOSAvKiBCRUZPUkVfVU5MT0FEICovKTtcbiAgICB9KTtcbiAgICB2YXIgcmVwbGljYUJhdGNoO1xuICAgIHZhciByZXBsaWNhID0gY29uZmlndXJhdGlvbi5yZXBsaWNhO1xuICAgIGlmIChyZXBsaWNhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVwbGljYUJhdGNoID0gY3JlYXRlUnVtQmF0Y2gocmVwbGljYS5ydW1FbmRwb2ludEJ1aWxkZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVSdW1CYXRjaChlbmRwb2ludEJ1aWxkZXIsIHVubG9hZENhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmF0Y2gobmV3IEh0dHBSZXF1ZXN0KGVuZHBvaW50QnVpbGRlciwgY29uZmlndXJhdGlvbi5iYXRjaEJ5dGVzTGltaXQpLCBjb25maWd1cmF0aW9uLmJhdGNoTWVzc2FnZXNMaW1pdCwgY29uZmlndXJhdGlvbi5iYXRjaEJ5dGVzTGltaXQsIGNvbmZpZ3VyYXRpb24ubWVzc2FnZUJ5dGVzTGltaXQsIGNvbmZpZ3VyYXRpb24uZmx1c2hUaW1lb3V0LCB1bmxvYWRDYWxsYmFjayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdpdGhSZXBsaWNhQXBwbGljYXRpb25JZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lKG1lc3NhZ2UsIHsgYXBwbGljYXRpb246IHsgaWQ6IHJlcGxpY2EuYXBwbGljYXRpb25JZCB9IH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChtZXNzYWdlLCByZXBsaWNhdGVkKSB7XG4gICAgICAgICAgICBpZiAocmVwbGljYXRlZCA9PT0gdm9pZCAwKSB7IHJlcGxpY2F0ZWQgPSB0cnVlOyB9XG4gICAgICAgICAgICBwcmltYXJ5QmF0Y2guYWRkKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKHJlcGxpY2FCYXRjaCAmJiByZXBsaWNhdGVkKSB7XG4gICAgICAgICAgICAgICAgcmVwbGljYUJhdGNoLmFkZCh3aXRoUmVwbGljYUFwcGxpY2F0aW9uSWQobWVzc2FnZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1cHNlcnQ6IGZ1bmN0aW9uIChtZXNzYWdlLCBrZXkpIHtcbiAgICAgICAgICAgIHByaW1hcnlCYXRjaC51cHNlcnQobWVzc2FnZSwga2V5KTtcbiAgICAgICAgICAgIGlmIChyZXBsaWNhQmF0Y2gpIHtcbiAgICAgICAgICAgICAgICByZXBsaWNhQmF0Y2gudXBzZXJ0KHdpdGhSZXBsaWNhQXBwbGljYXRpb25JZChtZXNzYWdlKSwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRSdW1CYXRjaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/transport/startRumBatch.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum-core/esm/transport/startRumEventBridge.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum-core/esm/transport/startRumEventBridge.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startRumEventBridge\": function() { return /* binding */ startRumEventBridge; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nfunction startRumEventBridge(lifeCycle) {\n    var bridge = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getEventBridge)();\n    lifeCycle.subscribe(11 /* RUM_EVENT_COLLECTED */, function (serverRumEvent) {\n        bridge.send('rum', serverRumEvent);\n    });\n}\n//# sourceMappingURL=startRumEventBridge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vdHJhbnNwb3J0L3N0YXJ0UnVtRXZlbnRCcmlkZ2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUQ7QUFDaEQ7QUFDUCxpQkFBaUIscUVBQWM7QUFDL0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS90cmFuc3BvcnQvc3RhcnRSdW1FdmVudEJyaWRnZS5qcz80Nzg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEV2ZW50QnJpZGdlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFJ1bUV2ZW50QnJpZGdlKGxpZmVDeWNsZSkge1xuICAgIHZhciBicmlkZ2UgPSBnZXRFdmVudEJyaWRnZSgpO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMTEgLyogUlVNX0VWRU5UX0NPTExFQ1RFRCAqLywgZnVuY3Rpb24gKHNlcnZlclJ1bUV2ZW50KSB7XG4gICAgICAgIGJyaWRnZS5zZW5kKCdydW0nLCBzZXJ2ZXJSdW1FdmVudCk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFydFJ1bUV2ZW50QnJpZGdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum-core/esm/transport/startRumEventBridge.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/boot/recorderApi.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/boot/recorderApi.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"makeRecorderApi\": function() { return /* binding */ makeRecorderApi; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _domain_replayStats__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/replayStats */ \"./node_modules/@datadog/browser-rum/esm/domain/replayStats.js\");\n/* harmony import */ var _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/segmentCollection */ \"./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js\");\n\n\n\nfunction makeRecorderApi(startRecordingImpl, startDeflateWorkerImpl) {\n    if (startDeflateWorkerImpl === void 0) { startDeflateWorkerImpl = _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_1__.startDeflateWorker; }\n    if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.canUseEventBridge)()) {\n        return {\n            start: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.noop,\n            stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.noop,\n            getReplayStats: function () { return undefined; },\n            onRumStart: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.noop,\n            isRecording: function () { return false; },\n        };\n    }\n    var state = {\n        status: 0 /* Stopped */,\n    };\n    var startStrategy = function () {\n        state = { status: 1 /* IntentToStart */ };\n    };\n    var stopStrategy = function () {\n        state = { status: 0 /* Stopped */ };\n    };\n    return {\n        start: function () { return startStrategy(); },\n        stop: function () { return stopStrategy(); },\n        getReplayStats: _domain_replayStats__WEBPACK_IMPORTED_MODULE_0__.getReplayStats,\n        onRumStart: function (lifeCycle, configuration, sessionManager, viewContexts) {\n            lifeCycle.subscribe(7 /* SESSION_EXPIRED */, function () {\n                if (state.status === 2 /* Starting */ || state.status === 3 /* Started */) {\n                    stopStrategy();\n                    state = { status: 1 /* IntentToStart */ };\n                }\n            });\n            lifeCycle.subscribe(8 /* SESSION_RENEWED */, function () {\n                if (state.status === 1 /* IntentToStart */) {\n                    startStrategy();\n                }\n            });\n            startStrategy = function () {\n                var session = sessionManager.findTrackedSession();\n                if (!session || !session.hasPremiumPlan) {\n                    state = { status: 1 /* IntentToStart */ };\n                    return;\n                }\n                if (state.status === 2 /* Starting */ || state.status === 3 /* Started */) {\n                    return;\n                }\n                state = { status: 2 /* Starting */ };\n                (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.runOnReadyState)('interactive', function () {\n                    if (state.status !== 2 /* Starting */) {\n                        return;\n                    }\n                    startDeflateWorkerImpl(function (worker) {\n                        if (state.status !== 2 /* Starting */) {\n                            return;\n                        }\n                        if (!worker) {\n                            state = {\n                                status: 0 /* Stopped */,\n                            };\n                            return;\n                        }\n                        var stopRecording = startRecordingImpl(lifeCycle, configuration, sessionManager, viewContexts, worker).stop;\n                        state = {\n                            status: 3 /* Started */,\n                            stopRecording: stopRecording,\n                        };\n                    });\n                });\n            };\n            stopStrategy = function () {\n                if (state.status === 0 /* Stopped */) {\n                    return;\n                }\n                if (state.status === 3 /* Started */) {\n                    state.stopRecording();\n                }\n                state = {\n                    status: 0 /* Stopped */,\n                };\n            };\n            if (state.status === 1 /* IntentToStart */) {\n                startStrategy();\n            }\n        },\n        isRecording: function () { return state.status === 3 /* Started */; },\n    };\n}\n//# sourceMappingURL=recorderApi.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2Jvb3QvcmVjb3JkZXJBcGkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRjtBQUMxQjtBQUNVO0FBQzFEO0FBQ1AsNkNBQTZDLHlCQUF5Qix5RUFBa0I7QUFDeEYsUUFBUSx3RUFBaUI7QUFDekI7QUFDQSxtQkFBbUIsdURBQUk7QUFDdkIsa0JBQWtCLHVEQUFJO0FBQ3RCLDBDQUEwQyxtQkFBbUI7QUFDN0Qsd0JBQXdCLHVEQUFJO0FBQzVCLHVDQUF1QyxlQUFlO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSw2QkFBNkIseUJBQXlCO0FBQ3RELDRCQUE0Qix3QkFBd0I7QUFDcEQsd0JBQXdCLCtEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLGdCQUFnQixzRUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxtQ0FBbUMsMENBQTBDO0FBQzdFO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2Jvb3QvcmVjb3JkZXJBcGkuanM/OTA4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYW5Vc2VFdmVudEJyaWRnZSwgbm9vcCwgcnVuT25SZWFkeVN0YXRlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IGdldFJlcGxheVN0YXRzIH0gZnJvbSAnLi4vZG9tYWluL3JlcGxheVN0YXRzJztcbmltcG9ydCB7IHN0YXJ0RGVmbGF0ZVdvcmtlciB9IGZyb20gJy4uL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gbWFrZVJlY29yZGVyQXBpKHN0YXJ0UmVjb3JkaW5nSW1wbCwgc3RhcnREZWZsYXRlV29ya2VySW1wbCkge1xuICAgIGlmIChzdGFydERlZmxhdGVXb3JrZXJJbXBsID09PSB2b2lkIDApIHsgc3RhcnREZWZsYXRlV29ya2VySW1wbCA9IHN0YXJ0RGVmbGF0ZVdvcmtlcjsgfVxuICAgIGlmIChjYW5Vc2VFdmVudEJyaWRnZSgpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogbm9vcCxcbiAgICAgICAgICAgIHN0b3A6IG5vb3AsXG4gICAgICAgICAgICBnZXRSZXBsYXlTdGF0czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgb25SdW1TdGFydDogbm9vcCxcbiAgICAgICAgICAgIGlzUmVjb3JkaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgICBzdGF0dXM6IDAgLyogU3RvcHBlZCAqLyxcbiAgICB9O1xuICAgIHZhciBzdGFydFN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzdGF0ZSA9IHsgc3RhdHVzOiAxIC8qIEludGVudFRvU3RhcnQgKi8gfTtcbiAgICB9O1xuICAgIHZhciBzdG9wU3RyYXRlZ3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0YXRlID0geyBzdGF0dXM6IDAgLyogU3RvcHBlZCAqLyB9O1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXJ0U3RyYXRlZ3koKTsgfSxcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RvcFN0cmF0ZWd5KCk7IH0sXG4gICAgICAgIGdldFJlcGxheVN0YXRzOiBnZXRSZXBsYXlTdGF0cyxcbiAgICAgICAgb25SdW1TdGFydDogZnVuY3Rpb24gKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cykge1xuICAgICAgICAgICAgbGlmZUN5Y2xlLnN1YnNjcmliZSg3IC8qIFNFU1NJT05fRVhQSVJFRCAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IDIgLyogU3RhcnRpbmcgKi8gfHwgc3RhdGUuc3RhdHVzID09PSAzIC8qIFN0YXJ0ZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0geyBzdGF0dXM6IDEgLyogSW50ZW50VG9TdGFydCAqLyB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGlmZUN5Y2xlLnN1YnNjcmliZSg4IC8qIFNFU1NJT05fUkVORVdFRCAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IDEgLyogSW50ZW50VG9TdGFydCAqLykge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGFydFN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZmluZFRyYWNrZWRTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLmhhc1ByZW1pdW1QbGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0geyBzdGF0dXM6IDEgLyogSW50ZW50VG9TdGFydCAqLyB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IDIgLyogU3RhcnRpbmcgKi8gfHwgc3RhdGUuc3RhdHVzID09PSAzIC8qIFN0YXJ0ZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgc3RhdHVzOiAyIC8qIFN0YXJ0aW5nICovIH07XG4gICAgICAgICAgICAgICAgcnVuT25SZWFkeVN0YXRlKCdpbnRlcmFjdGl2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLnN0YXR1cyAhPT0gMiAvKiBTdGFydGluZyAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RGVmbGF0ZVdvcmtlckltcGwoZnVuY3Rpb24gKHdvcmtlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLnN0YXR1cyAhPT0gMiAvKiBTdGFydGluZyAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd29ya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogMCAvKiBTdG9wcGVkICovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BSZWNvcmRpbmcgPSBzdGFydFJlY29yZGluZ0ltcGwobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBzZXNzaW9uTWFuYWdlciwgdmlld0NvbnRleHRzLCB3b3JrZXIpLnN0b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDMgLyogU3RhcnRlZCAqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wUmVjb3JkaW5nOiBzdG9wUmVjb3JkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RvcFN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IDAgLyogU3RvcHBlZCAqLykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IDMgLyogU3RhcnRlZCAqLykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zdG9wUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDAgLyogU3RvcHBlZCAqLyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IDEgLyogSW50ZW50VG9TdGFydCAqLykge1xuICAgICAgICAgICAgICAgIHN0YXJ0U3RyYXRlZ3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaXNSZWNvcmRpbmc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXRlLnN0YXR1cyA9PT0gMyAvKiBTdGFydGVkICovOyB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvcmRlckFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/boot/recorderApi.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/boot/startRecording.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/boot/startRecording.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startRecording\": function() { return /* binding */ startRecording; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _domain_record__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/record */ \"./node_modules/@datadog/browser-rum/esm/domain/record/index.js\");\n/* harmony import */ var _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/segmentCollection */ \"./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js\");\n/* harmony import */ var _transport_send__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../transport/send */ \"./node_modules/@datadog/browser-rum/esm/transport/send.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../types */ \"./node_modules/@datadog/browser-rum/esm/types/index.js\");\n\n\n\n\n\nfunction startRecording(lifeCycle, configuration, sessionManager, viewContexts, worker) {\n    if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.isExperimentalFeatureEnabled)('lower-batch-size')) {\n        (0,_domain_segmentCollection__WEBPACK_IMPORTED_MODULE_1__.setSegmentBytesLimit)(22 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ONE_KILO_BYTE);\n    }\n    var _a = (0,_domain_segmentCollection__WEBPACK_IMPORTED_MODULE_1__.startSegmentCollection)(lifeCycle, configuration.applicationId, sessionManager, viewContexts, function (data, metadata, rawSegmentBytesCount, flushReason) {\n        return (0,_transport_send__WEBPACK_IMPORTED_MODULE_2__.send)(configuration.sessionReplayEndpointBuilder, data, metadata, rawSegmentBytesCount, flushReason);\n    }, worker), addRecord = _a.addRecord, stopSegmentCollection = _a.stop;\n    var _b = (0,_domain_record__WEBPACK_IMPORTED_MODULE_0__.record)({\n        emit: addRecord,\n        defaultPrivacyLevel: configuration.defaultPrivacyLevel,\n    }), stopRecording = _b.stop, takeFullSnapshot = _b.takeFullSnapshot, flushMutations = _b.flushMutations;\n    var unsubscribeViewEnded = lifeCycle.subscribe(4 /* VIEW_ENDED */, function () {\n        flushMutations();\n        addRecord({\n            timestamp: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.timeStampNow)(),\n            type: _types__WEBPACK_IMPORTED_MODULE_3__.RecordType.ViewEnd,\n        });\n    }).unsubscribe;\n    var unsubscribeViewCreated = lifeCycle.subscribe(2 /* VIEW_CREATED */, function (view) {\n        takeFullSnapshot(view.startClocks.timeStamp);\n    }).unsubscribe;\n    return {\n        stop: function () {\n            unsubscribeViewEnded();\n            unsubscribeViewCreated();\n            stopRecording();\n            stopSegmentCollection();\n        },\n    };\n}\n//# sourceMappingURL=startRecording.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2Jvb3Qvc3RhcnRSZWNvcmRpbmcuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWtHO0FBQ3hEO0FBQ2lEO0FBQ2xEO0FBQ0g7QUFDL0I7QUFDUCxRQUFRLG1GQUE0QjtBQUNwQyxRQUFRLCtFQUFvQixNQUFNLGdFQUFhO0FBQy9DO0FBQ0EsYUFBYSxpRkFBc0I7QUFDbkMsZUFBZSxxREFBSTtBQUNuQixLQUFLO0FBQ0wsYUFBYSxzREFBTTtBQUNuQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtRUFBWTtBQUNuQyxrQkFBa0Isc0RBQWtCO0FBQ3BDLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vYm9vdC9zdGFydFJlY29yZGluZy5qcz9iMTkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQsIE9ORV9LSUxPX0JZVEUsIHRpbWVTdGFtcE5vdyB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyByZWNvcmQgfSBmcm9tICcuLi9kb21haW4vcmVjb3JkJztcbmltcG9ydCB7IHNldFNlZ21lbnRCeXRlc0xpbWl0LCBzdGFydFNlZ21lbnRDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3NlZ21lbnRDb2xsZWN0aW9uJztcbmltcG9ydCB7IHNlbmQgfSBmcm9tICcuLi90cmFuc3BvcnQvc2VuZCc7XG5pbXBvcnQgeyBSZWNvcmRUeXBlIH0gZnJvbSAnLi4vdHlwZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UmVjb3JkaW5nKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cywgd29ya2VyKSB7XG4gICAgaWYgKGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ2xvd2VyLWJhdGNoLXNpemUnKSkge1xuICAgICAgICBzZXRTZWdtZW50Qnl0ZXNMaW1pdCgyMiAqIE9ORV9LSUxPX0JZVEUpO1xuICAgIH1cbiAgICB2YXIgX2EgPSBzdGFydFNlZ21lbnRDb2xsZWN0aW9uKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbi5hcHBsaWNhdGlvbklkLCBzZXNzaW9uTWFuYWdlciwgdmlld0NvbnRleHRzLCBmdW5jdGlvbiAoZGF0YSwgbWV0YWRhdGEsIHJhd1NlZ21lbnRCeXRlc0NvdW50LCBmbHVzaFJlYXNvbikge1xuICAgICAgICByZXR1cm4gc2VuZChjb25maWd1cmF0aW9uLnNlc3Npb25SZXBsYXlFbmRwb2ludEJ1aWxkZXIsIGRhdGEsIG1ldGFkYXRhLCByYXdTZWdtZW50Qnl0ZXNDb3VudCwgZmx1c2hSZWFzb24pO1xuICAgIH0sIHdvcmtlciksIGFkZFJlY29yZCA9IF9hLmFkZFJlY29yZCwgc3RvcFNlZ21lbnRDb2xsZWN0aW9uID0gX2Euc3RvcDtcbiAgICB2YXIgX2IgPSByZWNvcmQoe1xuICAgICAgICBlbWl0OiBhZGRSZWNvcmQsXG4gICAgICAgIGRlZmF1bHRQcml2YWN5TGV2ZWw6IGNvbmZpZ3VyYXRpb24uZGVmYXVsdFByaXZhY3lMZXZlbCxcbiAgICB9KSwgc3RvcFJlY29yZGluZyA9IF9iLnN0b3AsIHRha2VGdWxsU25hcHNob3QgPSBfYi50YWtlRnVsbFNuYXBzaG90LCBmbHVzaE11dGF0aW9ucyA9IF9iLmZsdXNoTXV0YXRpb25zO1xuICAgIHZhciB1bnN1YnNjcmliZVZpZXdFbmRlZCA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoNCAvKiBWSUVXX0VOREVEICovLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZsdXNoTXV0YXRpb25zKCk7XG4gICAgICAgIGFkZFJlY29yZCh7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVTdGFtcE5vdygpLFxuICAgICAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5WaWV3RW5kLFxuICAgICAgICB9KTtcbiAgICB9KS51bnN1YnNjcmliZTtcbiAgICB2YXIgdW5zdWJzY3JpYmVWaWV3Q3JlYXRlZCA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoMiAvKiBWSUVXX0NSRUFURUQgKi8sIGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgIHRha2VGdWxsU25hcHNob3Qodmlldy5zdGFydENsb2Nrcy50aW1lU3RhbXApO1xuICAgIH0pLnVuc3Vic2NyaWJlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlVmlld0VuZGVkKCk7XG4gICAgICAgICAgICB1bnN1YnNjcmliZVZpZXdDcmVhdGVkKCk7XG4gICAgICAgICAgICBzdG9wUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICBzdG9wU2VnbWVudENvbGxlY3Rpb24oKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRSZWNvcmRpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/boot/startRecording.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/constants.js":
/*!************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/constants.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CENSORED_IMG_MARK\": function() { return /* binding */ CENSORED_IMG_MARK; },\n/* harmony export */   \"CENSORED_STRING_MARK\": function() { return /* binding */ CENSORED_STRING_MARK; },\n/* harmony export */   \"FORM_PRIVATE_TAG_NAMES\": function() { return /* binding */ FORM_PRIVATE_TAG_NAMES; },\n/* harmony export */   \"NodePrivacyLevel\": function() { return /* binding */ NodePrivacyLevel; },\n/* harmony export */   \"PRIVACY_ATTR_NAME\": function() { return /* binding */ PRIVACY_ATTR_NAME; },\n/* harmony export */   \"PRIVACY_ATTR_VALUE_ALLOW\": function() { return /* binding */ PRIVACY_ATTR_VALUE_ALLOW; },\n/* harmony export */   \"PRIVACY_ATTR_VALUE_HIDDEN\": function() { return /* binding */ PRIVACY_ATTR_VALUE_HIDDEN; },\n/* harmony export */   \"PRIVACY_ATTR_VALUE_MASK\": function() { return /* binding */ PRIVACY_ATTR_VALUE_MASK; },\n/* harmony export */   \"PRIVACY_ATTR_VALUE_MASK_USER_INPUT\": function() { return /* binding */ PRIVACY_ATTR_VALUE_MASK_USER_INPUT; },\n/* harmony export */   \"PRIVACY_CLASS_ALLOW\": function() { return /* binding */ PRIVACY_CLASS_ALLOW; },\n/* harmony export */   \"PRIVACY_CLASS_HIDDEN\": function() { return /* binding */ PRIVACY_CLASS_HIDDEN; },\n/* harmony export */   \"PRIVACY_CLASS_MASK\": function() { return /* binding */ PRIVACY_CLASS_MASK; },\n/* harmony export */   \"PRIVACY_CLASS_MASK_USER_INPUT\": function() { return /* binding */ PRIVACY_CLASS_MASK_USER_INPUT; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\nvar NodePrivacyLevel = {\n    IGNORE: 'ignore',\n    HIDDEN: 'hidden',\n    ALLOW: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel.ALLOW,\n    MASK: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel.MASK,\n    MASK_USER_INPUT: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel.MASK_USER_INPUT,\n};\nvar PRIVACY_ATTR_NAME = 'data-dd-privacy';\n// Privacy Attrs\nvar PRIVACY_ATTR_VALUE_ALLOW = 'allow';\nvar PRIVACY_ATTR_VALUE_MASK = 'mask';\nvar PRIVACY_ATTR_VALUE_MASK_USER_INPUT = 'mask-user-input';\nvar PRIVACY_ATTR_VALUE_HIDDEN = 'hidden';\n// Privacy Classes - not all customers can set plain HTML attributes, so support classes too\nvar PRIVACY_CLASS_ALLOW = 'dd-privacy-allow';\nvar PRIVACY_CLASS_MASK = 'dd-privacy-mask';\nvar PRIVACY_CLASS_MASK_USER_INPUT = 'dd-privacy-mask-user-input';\nvar PRIVACY_CLASS_HIDDEN = 'dd-privacy-hidden';\n// Private Replacement Templates\nvar CENSORED_STRING_MARK = '***';\nvar CENSORED_IMG_MARK = 'data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==';\nvar FORM_PRIVATE_TAG_NAMES = {\n    INPUT: true,\n    OUTPUT: true,\n    TEXTAREA: true,\n    SELECT: true,\n    OPTION: true,\n    DATALIST: true,\n    OPTGROUP: true,\n};\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2NvbnN0YW50cy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUE0RDtBQUNyRDtBQUNQO0FBQ0E7QUFDQSxXQUFXLDRFQUF5QjtBQUNwQyxVQUFVLDJFQUF3QjtBQUNsQyxxQkFBcUIsc0ZBQW1DO0FBQ3hEO0FBQ087QUFDUDtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ087QUFDQSx3Q0FBd0M7QUFDeEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9jb25zdGFudHMuanM/MWU4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWZhdWx0UHJpdmFjeUxldmVsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCB2YXIgTm9kZVByaXZhY3lMZXZlbCA9IHtcbiAgICBJR05PUkU6ICdpZ25vcmUnLFxuICAgIEhJRERFTjogJ2hpZGRlbicsXG4gICAgQUxMT1c6IERlZmF1bHRQcml2YWN5TGV2ZWwuQUxMT1csXG4gICAgTUFTSzogRGVmYXVsdFByaXZhY3lMZXZlbC5NQVNLLFxuICAgIE1BU0tfVVNFUl9JTlBVVDogRGVmYXVsdFByaXZhY3lMZXZlbC5NQVNLX1VTRVJfSU5QVVQsXG59O1xuZXhwb3J0IHZhciBQUklWQUNZX0FUVFJfTkFNRSA9ICdkYXRhLWRkLXByaXZhY3knO1xuLy8gUHJpdmFjeSBBdHRyc1xuZXhwb3J0IHZhciBQUklWQUNZX0FUVFJfVkFMVUVfQUxMT1cgPSAnYWxsb3cnO1xuZXhwb3J0IHZhciBQUklWQUNZX0FUVFJfVkFMVUVfTUFTSyA9ICdtYXNrJztcbmV4cG9ydCB2YXIgUFJJVkFDWV9BVFRSX1ZBTFVFX01BU0tfVVNFUl9JTlBVVCA9ICdtYXNrLXVzZXItaW5wdXQnO1xuZXhwb3J0IHZhciBQUklWQUNZX0FUVFJfVkFMVUVfSElEREVOID0gJ2hpZGRlbic7XG4vLyBQcml2YWN5IENsYXNzZXMgLSBub3QgYWxsIGN1c3RvbWVycyBjYW4gc2V0IHBsYWluIEhUTUwgYXR0cmlidXRlcywgc28gc3VwcG9ydCBjbGFzc2VzIHRvb1xuZXhwb3J0IHZhciBQUklWQUNZX0NMQVNTX0FMTE9XID0gJ2RkLXByaXZhY3ktYWxsb3cnO1xuZXhwb3J0IHZhciBQUklWQUNZX0NMQVNTX01BU0sgPSAnZGQtcHJpdmFjeS1tYXNrJztcbmV4cG9ydCB2YXIgUFJJVkFDWV9DTEFTU19NQVNLX1VTRVJfSU5QVVQgPSAnZGQtcHJpdmFjeS1tYXNrLXVzZXItaW5wdXQnO1xuZXhwb3J0IHZhciBQUklWQUNZX0NMQVNTX0hJRERFTiA9ICdkZC1wcml2YWN5LWhpZGRlbic7XG4vLyBQcml2YXRlIFJlcGxhY2VtZW50IFRlbXBsYXRlc1xuZXhwb3J0IHZhciBDRU5TT1JFRF9TVFJJTkdfTUFSSyA9ICcqKionO1xuZXhwb3J0IHZhciBDRU5TT1JFRF9JTUdfTUFSSyA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFNTEN3Z0FBQUNINUJBQUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09JztcbmV4cG9ydCB2YXIgRk9STV9QUklWQVRFX1RBR19OQU1FUyA9IHtcbiAgICBJTlBVVDogdHJ1ZSxcbiAgICBPVVRQVVQ6IHRydWUsXG4gICAgVEVYVEFSRUE6IHRydWUsXG4gICAgU0VMRUNUOiB0cnVlLFxuICAgIE9QVElPTjogdHJ1ZSxcbiAgICBEQVRBTElTVDogdHJ1ZSxcbiAgICBPUFRHUk9VUDogdHJ1ZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/constants.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/index.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"record\": function() { return /* reexport safe */ _record__WEBPACK_IMPORTED_MODULE_0__.record; },\n/* harmony export */   \"serializeDocument\": function() { return /* reexport safe */ _serialize__WEBPACK_IMPORTED_MODULE_1__.serializeDocument; },\n/* harmony export */   \"serializeNodeWithId\": function() { return /* reexport safe */ _serialize__WEBPACK_IMPORTED_MODULE_1__.serializeNodeWithId; }\n/* harmony export */ });\n/* harmony import */ var _record__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./record */ \"./node_modules/@datadog/browser-rum/esm/domain/record/record.js\");\n/* harmony import */ var _serialize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serialize */ \"./node_modules/@datadog/browser-rum/esm/domain/record/serialize.js\");\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0M7QUFDbUM7QUFDckUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL2luZGV4LmpzPzdjMWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgcmVjb3JkIH0gZnJvbSAnLi9yZWNvcmQnO1xuZXhwb3J0IHsgc2VyaWFsaXplTm9kZVdpdGhJZCwgc2VyaWFsaXplRG9jdW1lbnQgfSBmcm9tICcuL3NlcmlhbGl6ZSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/index.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/mutationBatch.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/mutationBatch.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createMutationBatch\": function() { return /* binding */ createMutationBatch; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n\n/**\n * Maximum duration to wait before processing mutations. If the browser is idle, mutations will be\n * processed more quickly. If the browser is busy executing small tasks (ex: rendering frames), the\n * mutations will wait MUTATION_PROCESS_MAX_DELAY milliseconds before being processed. If the\n * browser is busy executing a longer task, mutations will be processed after this task.\n */\nvar MUTATION_PROCESS_MAX_DELAY = 100;\nfunction createMutationBatch(processMutationBatch) {\n    var cancelScheduledFlush = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.noop;\n    var pendingMutations = [];\n    function flush() {\n        cancelScheduledFlush();\n        processMutationBatch(pendingMutations);\n        pendingMutations = [];\n    }\n    return {\n        addMutations: function (mutations) {\n            if (pendingMutations.length === 0) {\n                cancelScheduledFlush = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.requestIdleCallback)(flush, { timeout: MUTATION_PROCESS_MAX_DELAY });\n            }\n            pendingMutations.push.apply(pendingMutations, mutations);\n        },\n        flush: flush,\n        stop: function () {\n            cancelScheduledFlush();\n        },\n    };\n}\n//# sourceMappingURL=mutationBatch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvbXV0YXRpb25CYXRjaC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrRTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsK0JBQStCLHVEQUFJO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwRUFBbUIsVUFBVSxxQ0FBcUM7QUFDekc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9tdXRhdGlvbkJhdGNoLmpzPzEwMGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9vcCwgcmVxdWVzdElkbGVDYWxsYmFjayB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG4vKipcbiAqIE1heGltdW0gZHVyYXRpb24gdG8gd2FpdCBiZWZvcmUgcHJvY2Vzc2luZyBtdXRhdGlvbnMuIElmIHRoZSBicm93c2VyIGlzIGlkbGUsIG11dGF0aW9ucyB3aWxsIGJlXG4gKiBwcm9jZXNzZWQgbW9yZSBxdWlja2x5LiBJZiB0aGUgYnJvd3NlciBpcyBidXN5IGV4ZWN1dGluZyBzbWFsbCB0YXNrcyAoZXg6IHJlbmRlcmluZyBmcmFtZXMpLCB0aGVcbiAqIG11dGF0aW9ucyB3aWxsIHdhaXQgTVVUQVRJT05fUFJPQ0VTU19NQVhfREVMQVkgbWlsbGlzZWNvbmRzIGJlZm9yZSBiZWluZyBwcm9jZXNzZWQuIElmIHRoZVxuICogYnJvd3NlciBpcyBidXN5IGV4ZWN1dGluZyBhIGxvbmdlciB0YXNrLCBtdXRhdGlvbnMgd2lsbCBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhpcyB0YXNrLlxuICovXG52YXIgTVVUQVRJT05fUFJPQ0VTU19NQVhfREVMQVkgPSAxMDA7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTXV0YXRpb25CYXRjaChwcm9jZXNzTXV0YXRpb25CYXRjaCkge1xuICAgIHZhciBjYW5jZWxTY2hlZHVsZWRGbHVzaCA9IG5vb3A7XG4gICAgdmFyIHBlbmRpbmdNdXRhdGlvbnMgPSBbXTtcbiAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgY2FuY2VsU2NoZWR1bGVkRmx1c2goKTtcbiAgICAgICAgcHJvY2Vzc011dGF0aW9uQmF0Y2gocGVuZGluZ011dGF0aW9ucyk7XG4gICAgICAgIHBlbmRpbmdNdXRhdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkTXV0YXRpb25zOiBmdW5jdGlvbiAobXV0YXRpb25zKSB7XG4gICAgICAgICAgICBpZiAocGVuZGluZ011dGF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxTY2hlZHVsZWRGbHVzaCA9IHJlcXVlc3RJZGxlQ2FsbGJhY2soZmx1c2gsIHsgdGltZW91dDogTVVUQVRJT05fUFJPQ0VTU19NQVhfREVMQVkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZW5kaW5nTXV0YXRpb25zLnB1c2guYXBwbHkocGVuZGluZ011dGF0aW9ucywgbXV0YXRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmx1c2g6IGZsdXNoLFxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYW5jZWxTY2hlZHVsZWRGbHVzaCgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdXRhdGlvbkJhdGNoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/mutationBatch.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/mutationObserver.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/mutationObserver.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MutationController\": function() { return /* binding */ MutationController; },\n/* harmony export */   \"sortAddedAndMovedNodes\": function() { return /* binding */ sortAddedAndMovedNodes; },\n/* harmony export */   \"startMutationObserver\": function() { return /* binding */ startMutationObserver; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"./node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants */ \"./node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./privacy */ \"./node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./serializationUtils */ \"./node_modules/@datadog/browser-rum/esm/domain/record/serializationUtils.js\");\n/* harmony import */ var _serialize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./serialize */ \"./node_modules/@datadog/browser-rum/esm/domain/record/serialize.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-rum/esm/domain/record/utils.js\");\n/* harmony import */ var _mutationBatch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mutationBatch */ \"./node_modules/@datadog/browser-rum/esm/domain/record/mutationBatch.js\");\n\n\n\n\n\n\n\n\n/**\n * Buffers and aggregate mutations generated by a MutationObserver into MutationPayload\n */\nfunction startMutationObserver(controller, mutationCallback, defaultPrivacyLevel) {\n    var MutationObserver = (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getMutationObserverConstructor)();\n    if (!MutationObserver) {\n        return { stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.noop };\n    }\n    var mutationBatch = (0,_mutationBatch__WEBPACK_IMPORTED_MODULE_6__.createMutationBatch)(function (mutations) {\n        processMutations(mutations.concat(observer.takeRecords()), mutationCallback, defaultPrivacyLevel);\n    });\n    var observer = new MutationObserver((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(mutationBatch.addMutations));\n    observer.observe(document, {\n        attributeOldValue: true,\n        attributes: true,\n        characterData: true,\n        characterDataOldValue: true,\n        childList: true,\n        subtree: true,\n    });\n    controller.onFlush(mutationBatch.flush);\n    return {\n        stop: function () {\n            observer.disconnect();\n            mutationBatch.stop();\n        },\n    };\n}\n/**\n * Controls how mutations are processed, allowing to flush pending mutations.\n */\nvar MutationController = /** @class */ (function () {\n    function MutationController() {\n    }\n    MutationController.prototype.flush = function () {\n        var _a;\n        (_a = this.flushListener) === null || _a === void 0 ? void 0 : _a.call(this);\n    };\n    MutationController.prototype.onFlush = function (listener) {\n        this.flushListener = listener;\n    };\n    return MutationController;\n}());\n\nfunction processMutations(mutations, mutationCallback, defaultPrivacyLevel) {\n    // Discard any mutation with a 'target' node that:\n    // * isn't injected in the current document or isn't known/serialized yet: those nodes are likely\n    // part of a mutation occurring in a parent Node\n    // * should be hidden or ignored\n    var filteredMutations = mutations.filter(function (mutation) {\n        return document.contains(mutation.target) &&\n            (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.nodeAndAncestorsHaveSerializedNode)(mutation.target) &&\n            (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(mutation.target, defaultPrivacyLevel) !== _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN;\n    });\n    var _a = processChildListMutations(filteredMutations.filter(function (mutation) { return mutation.type === 'childList'; }), defaultPrivacyLevel), adds = _a.adds, removes = _a.removes, hasBeenSerialized = _a.hasBeenSerialized;\n    var texts = processCharacterDataMutations(filteredMutations.filter(function (mutation) {\n        return mutation.type === 'characterData' && !hasBeenSerialized(mutation.target);\n    }), defaultPrivacyLevel);\n    var attributes = processAttributesMutations(filteredMutations.filter(function (mutation) {\n        return mutation.type === 'attributes' && !hasBeenSerialized(mutation.target);\n    }), defaultPrivacyLevel);\n    if (!texts.length && !attributes.length && !removes.length && !adds.length) {\n        return;\n    }\n    mutationCallback({\n        adds: adds,\n        removes: removes,\n        texts: texts,\n        attributes: attributes,\n    });\n}\nfunction processChildListMutations(mutations, defaultPrivacyLevel) {\n    // First, we iterate over mutations to collect:\n    //\n    // * nodes that have been added in the document and not removed by a subsequent mutation\n    // * nodes that have been removed from the document but were not added in a previous mutation\n    //\n    // For this second category, we also collect their previous parent (mutation.target) because we'll\n    // need it to emit a 'remove' mutation.\n    //\n    // Those two categories may overlap: if a node moved from a position to another, it is reported as\n    // two mutation records, one with a \"removedNodes\" and the other with \"addedNodes\". In this case,\n    // the node will be in both sets.\n    var addedAndMovedNodes = new Set();\n    var removedNodes = new Map();\n    var _loop_1 = function (mutation) {\n        (0,_utils__WEBPACK_IMPORTED_MODULE_5__.forEach)(mutation.addedNodes, function (node) {\n            addedAndMovedNodes.add(node);\n        });\n        (0,_utils__WEBPACK_IMPORTED_MODULE_5__.forEach)(mutation.removedNodes, function (node) {\n            if (!addedAndMovedNodes.has(node)) {\n                removedNodes.set(node, mutation.target);\n            }\n            addedAndMovedNodes.delete(node);\n        });\n    };\n    for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n        var mutation = mutations_1[_i];\n        _loop_1(mutation);\n    }\n    // Then, we sort nodes that are still in the document by topological order, for two reasons:\n    //\n    // * We will serialize each added nodes with their descendants. We don't want to serialize a node\n    // twice, so we need to iterate over the parent nodes first and skip any node that is contained in\n    // a precedent node.\n    //\n    // * To emit \"add\" mutations, we need references to the parent and potential next sibling of each\n    // added node. So we need to iterate over the parent nodes first, and when multiple nodes are\n    // siblings, we want to iterate from last to first. This will ensure that any \"next\" node is\n    // already serialized and have an id.\n    var sortedAddedAndMovedNodes = Array.from(addedAndMovedNodes);\n    sortAddedAndMovedNodes(sortedAddedAndMovedNodes);\n    // Then, we iterate over our sorted node sets to emit mutations. We collect the newly serialized\n    // node ids in a set to be able to skip subsequent related mutations.\n    var serializedNodeIds = new Set();\n    var addedNodeMutations = [];\n    for (var _a = 0, sortedAddedAndMovedNodes_1 = sortedAddedAndMovedNodes; _a < sortedAddedAndMovedNodes_1.length; _a++) {\n        var node = sortedAddedAndMovedNodes_1[_a];\n        if (hasBeenSerialized(node)) {\n            continue;\n        }\n        var parentNodePrivacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(node.parentNode, defaultPrivacyLevel);\n        if (parentNodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN || parentNodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE) {\n            continue;\n        }\n        var serializedNode = (0,_serialize__WEBPACK_IMPORTED_MODULE_4__.serializeNodeWithId)(node, {\n            document: document,\n            serializedNodeIds: serializedNodeIds,\n            parentNodePrivacyLevel: parentNodePrivacyLevel,\n        });\n        if (!serializedNode) {\n            continue;\n        }\n        addedNodeMutations.push({\n            nextId: getNextSibling(node),\n            parentId: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(node.parentNode),\n            node: serializedNode,\n        });\n    }\n    // Finally, we emit remove mutations.\n    var removedNodeMutations = [];\n    removedNodes.forEach(function (parent, node) {\n        if ((0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(node)) {\n            removedNodeMutations.push({\n                parentId: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(parent),\n                id: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(node),\n            });\n        }\n    });\n    return { adds: addedNodeMutations, removes: removedNodeMutations, hasBeenSerialized: hasBeenSerialized };\n    function hasBeenSerialized(node) {\n        return (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(node) && serializedNodeIds.has((0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(node));\n    }\n    function getNextSibling(node) {\n        var nextSibling = node.nextSibling;\n        while (nextSibling) {\n            if ((0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(nextSibling)) {\n                return (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(nextSibling);\n            }\n            nextSibling = nextSibling.nextSibling;\n        }\n        return null;\n    }\n}\nfunction processCharacterDataMutations(mutations, defaultPrivacyLevel) {\n    var _a;\n    var textMutations = [];\n    // Deduplicate mutations based on their target node\n    var handledNodes = new Set();\n    var filteredMutations = mutations.filter(function (mutation) {\n        if (handledNodes.has(mutation.target)) {\n            return false;\n        }\n        handledNodes.add(mutation.target);\n        return true;\n    });\n    // Emit mutations\n    for (var _i = 0, filteredMutations_1 = filteredMutations; _i < filteredMutations_1.length; _i++) {\n        var mutation = filteredMutations_1[_i];\n        var value = mutation.target.textContent;\n        if (value === mutation.oldValue) {\n            continue;\n        }\n        var parentNodePrivacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(mutation.target.parentNode, defaultPrivacyLevel);\n        if (parentNodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN || parentNodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE) {\n            continue;\n        }\n        textMutations.push({\n            id: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(mutation.target),\n            // TODO: pass a valid \"ignoreWhiteSpace\" argument\n            value: (_a = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getTextContent)(mutation.target, false, parentNodePrivacyLevel)) !== null && _a !== void 0 ? _a : null,\n        });\n    }\n    return textMutations;\n}\nfunction processAttributesMutations(mutations, defaultPrivacyLevel) {\n    var attributeMutations = [];\n    // Deduplicate mutations based on their target node and changed attribute\n    var handledElements = new Map();\n    var filteredMutations = mutations.filter(function (mutation) {\n        var handledAttributes = handledElements.get(mutation.target);\n        if (handledAttributes === null || handledAttributes === void 0 ? void 0 : handledAttributes.has(mutation.attributeName)) {\n            return false;\n        }\n        if (!handledAttributes) {\n            handledElements.set(mutation.target, new Set([mutation.attributeName]));\n        }\n        else {\n            handledAttributes.add(mutation.attributeName);\n        }\n        return true;\n    });\n    // Emit mutations\n    var emittedMutations = new Map();\n    for (var _i = 0, filteredMutations_2 = filteredMutations; _i < filteredMutations_2.length; _i++) {\n        var mutation = filteredMutations_2[_i];\n        var uncensoredValue = mutation.target.getAttribute(mutation.attributeName);\n        if (uncensoredValue === mutation.oldValue) {\n            continue;\n        }\n        var privacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(mutation.target, defaultPrivacyLevel);\n        var attributeValue = (0,_serialize__WEBPACK_IMPORTED_MODULE_4__.serializeAttribute)(mutation.target, privacyLevel, mutation.attributeName);\n        var transformedValue = void 0;\n        if (mutation.attributeName === 'value') {\n            var inputValue = (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getElementInputValue)(mutation.target, privacyLevel);\n            if (inputValue === undefined) {\n                continue;\n            }\n            transformedValue = inputValue;\n        }\n        else if (typeof attributeValue === 'string') {\n            transformedValue = attributeValue;\n        }\n        else {\n            transformedValue = null;\n        }\n        var emittedMutation = emittedMutations.get(mutation.target);\n        if (!emittedMutation) {\n            emittedMutation = {\n                id: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(mutation.target),\n                attributes: {},\n            };\n            attributeMutations.push(emittedMutation);\n            emittedMutations.set(mutation.target, emittedMutation);\n        }\n        emittedMutation.attributes[mutation.attributeName] = transformedValue;\n    }\n    return attributeMutations;\n}\nfunction sortAddedAndMovedNodes(nodes) {\n    nodes.sort(function (a, b) {\n        var position = a.compareDocumentPosition(b);\n        /* eslint-disable no-bitwise */\n        if (position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return -1;\n        }\n        else if (position & Node.DOCUMENT_POSITION_CONTAINS) {\n            return 1;\n        }\n        else if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\n            return 1;\n        }\n        else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n            return -1;\n        }\n        /* eslint-enable no-bitwise */\n        return 0;\n    });\n}\n//# sourceMappingURL=mutationObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvbXV0YXRpb25PYnNlcnZlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNxQjtBQUN4QjtBQUNhO0FBQ3lFO0FBQ25FO0FBQ3BDO0FBQ29CO0FBQ3REO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsMkJBQTJCLHlGQUE4QjtBQUN6RDtBQUNBLGlCQUFpQixNQUFNLHVEQUFJO0FBQzNCO0FBQ0Esd0JBQXdCLG1FQUFtQjtBQUMzQztBQUNBLEtBQUs7QUFDTCx3Q0FBd0MsOERBQU87QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDNkI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVGQUFrQztBQUM5QyxZQUFZLDZEQUFtQiwyQ0FBMkMsK0RBQXVCO0FBQ2pHLEtBQUs7QUFDTCxzRkFBc0YsdUNBQXVDO0FBQzdIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrQ0FBTztBQUNmO0FBQ0EsU0FBUztBQUNULFFBQVEsK0NBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDhDQUE4Qyx5QkFBeUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsd0NBQXdDO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDZEQUFtQjtBQUN4RCx1Q0FBdUMsK0RBQXVCLCtCQUErQiwrREFBdUI7QUFDcEg7QUFDQTtBQUNBLDZCQUE2QiwrREFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0VBQW1CO0FBQ3pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzRUFBaUI7QUFDN0I7QUFDQSwwQkFBMEIsd0VBQW1CO0FBQzdDLG9CQUFvQix3RUFBbUI7QUFDdkMsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYjtBQUNBLGVBQWUsc0VBQWlCLGdDQUFnQyx3RUFBbUI7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0VBQWlCO0FBQ2pDLHVCQUF1Qix3RUFBbUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDhEQUE4RCxpQ0FBaUM7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2REFBbUI7QUFDeEQsdUNBQXVDLCtEQUF1QiwrQkFBK0IsK0RBQXVCO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3RUFBbUI7QUFDbkM7QUFDQSx5QkFBeUIsd0RBQWM7QUFDdkMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw4REFBOEQsaUNBQWlDO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNkRBQW1CO0FBQzlDLDZCQUE2Qiw4REFBa0I7QUFDL0M7QUFDQTtBQUNBLDZCQUE2Qix5RUFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3RUFBbUI7QUFDdkMsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvbXV0YXRpb25PYnNlcnZlci5qcz80YTljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1vbml0b3IsIG5vb3AgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgZ2V0TXV0YXRpb25PYnNlcnZlckNvbnN0cnVjdG9yIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZSc7XG5pbXBvcnQgeyBOb2RlUHJpdmFjeUxldmVsIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldE5vZGVQcml2YWN5TGV2ZWwsIGdldFRleHRDb250ZW50IH0gZnJvbSAnLi9wcml2YWN5JztcbmltcG9ydCB7IGdldEVsZW1lbnRJbnB1dFZhbHVlLCBnZXRTZXJpYWxpemVkTm9kZUlkLCBoYXNTZXJpYWxpemVkTm9kZSwgbm9kZUFuZEFuY2VzdG9yc0hhdmVTZXJpYWxpemVkTm9kZSwgfSBmcm9tICcuL3NlcmlhbGl6YXRpb25VdGlscyc7XG5pbXBvcnQgeyBzZXJpYWxpemVOb2RlV2l0aElkLCBzZXJpYWxpemVBdHRyaWJ1dGUgfSBmcm9tICcuL3NlcmlhbGl6ZSc7XG5pbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBjcmVhdGVNdXRhdGlvbkJhdGNoIH0gZnJvbSAnLi9tdXRhdGlvbkJhdGNoJztcbi8qKlxuICogQnVmZmVycyBhbmQgYWdncmVnYXRlIG11dGF0aW9ucyBnZW5lcmF0ZWQgYnkgYSBNdXRhdGlvbk9ic2VydmVyIGludG8gTXV0YXRpb25QYXlsb2FkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE11dGF0aW9uT2JzZXJ2ZXIoY29udHJvbGxlciwgbXV0YXRpb25DYWxsYmFjaywgZGVmYXVsdFByaXZhY3lMZXZlbCkge1xuICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gZ2V0TXV0YXRpb25PYnNlcnZlckNvbnN0cnVjdG9yKCk7XG4gICAgaWYgKCFNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICAgIHJldHVybiB7IHN0b3A6IG5vb3AgfTtcbiAgICB9XG4gICAgdmFyIG11dGF0aW9uQmF0Y2ggPSBjcmVhdGVNdXRhdGlvbkJhdGNoKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcbiAgICAgICAgcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMuY29uY2F0KG9ic2VydmVyLnRha2VSZWNvcmRzKCkpLCBtdXRhdGlvbkNhbGxiYWNrLCBkZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICB9KTtcbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtb25pdG9yKG11dGF0aW9uQmF0Y2guYWRkTXV0YXRpb25zKSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwge1xuICAgICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlLFxuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgfSk7XG4gICAgY29udHJvbGxlci5vbkZsdXNoKG11dGF0aW9uQmF0Y2guZmx1c2gpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIG11dGF0aW9uQmF0Y2guc3RvcCgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIENvbnRyb2xzIGhvdyBtdXRhdGlvbnMgYXJlIHByb2Nlc3NlZCwgYWxsb3dpbmcgdG8gZmx1c2ggcGVuZGluZyBtdXRhdGlvbnMuXG4gKi9cbnZhciBNdXRhdGlvbkNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTXV0YXRpb25Db250cm9sbGVyKCkge1xuICAgIH1cbiAgICBNdXRhdGlvbkNvbnRyb2xsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuZmx1c2hMaXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBNdXRhdGlvbkNvbnRyb2xsZXIucHJvdG90eXBlLm9uRmx1c2ggPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5mbHVzaExpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgfTtcbiAgICByZXR1cm4gTXV0YXRpb25Db250cm9sbGVyO1xufSgpKTtcbmV4cG9ydCB7IE11dGF0aW9uQ29udHJvbGxlciB9O1xuZnVuY3Rpb24gcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMsIG11dGF0aW9uQ2FsbGJhY2ssIGRlZmF1bHRQcml2YWN5TGV2ZWwpIHtcbiAgICAvLyBEaXNjYXJkIGFueSBtdXRhdGlvbiB3aXRoIGEgJ3RhcmdldCcgbm9kZSB0aGF0OlxuICAgIC8vICogaXNuJ3QgaW5qZWN0ZWQgaW4gdGhlIGN1cnJlbnQgZG9jdW1lbnQgb3IgaXNuJ3Qga25vd24vc2VyaWFsaXplZCB5ZXQ6IHRob3NlIG5vZGVzIGFyZSBsaWtlbHlcbiAgICAvLyBwYXJ0IG9mIGEgbXV0YXRpb24gb2NjdXJyaW5nIGluIGEgcGFyZW50IE5vZGVcbiAgICAvLyAqIHNob3VsZCBiZSBoaWRkZW4gb3IgaWdub3JlZFxuICAgIHZhciBmaWx0ZXJlZE11dGF0aW9ucyA9IG11dGF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jb250YWlucyhtdXRhdGlvbi50YXJnZXQpICYmXG4gICAgICAgICAgICBub2RlQW5kQW5jZXN0b3JzSGF2ZVNlcmlhbGl6ZWROb2RlKG11dGF0aW9uLnRhcmdldCkgJiZcbiAgICAgICAgICAgIGdldE5vZGVQcml2YWN5TGV2ZWwobXV0YXRpb24udGFyZ2V0LCBkZWZhdWx0UHJpdmFjeUxldmVsKSAhPT0gTm9kZVByaXZhY3lMZXZlbC5ISURERU47XG4gICAgfSk7XG4gICAgdmFyIF9hID0gcHJvY2Vzc0NoaWxkTGlzdE11dGF0aW9ucyhmaWx0ZXJlZE11dGF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG11dGF0aW9uKSB7IHJldHVybiBtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0JzsgfSksIGRlZmF1bHRQcml2YWN5TGV2ZWwpLCBhZGRzID0gX2EuYWRkcywgcmVtb3ZlcyA9IF9hLnJlbW92ZXMsIGhhc0JlZW5TZXJpYWxpemVkID0gX2EuaGFzQmVlblNlcmlhbGl6ZWQ7XG4gICAgdmFyIHRleHRzID0gcHJvY2Vzc0NoYXJhY3RlckRhdGFNdXRhdGlvbnMoZmlsdGVyZWRNdXRhdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChtdXRhdGlvbikge1xuICAgICAgICByZXR1cm4gbXV0YXRpb24udHlwZSA9PT0gJ2NoYXJhY3RlckRhdGEnICYmICFoYXNCZWVuU2VyaWFsaXplZChtdXRhdGlvbi50YXJnZXQpO1xuICAgIH0pLCBkZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICB2YXIgYXR0cmlidXRlcyA9IHByb2Nlc3NBdHRyaWJ1dGVzTXV0YXRpb25zKGZpbHRlcmVkTXV0YXRpb25zLmZpbHRlcihmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG11dGF0aW9uLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiAhaGFzQmVlblNlcmlhbGl6ZWQobXV0YXRpb24udGFyZ2V0KTtcbiAgICB9KSwgZGVmYXVsdFByaXZhY3lMZXZlbCk7XG4gICAgaWYgKCF0ZXh0cy5sZW5ndGggJiYgIWF0dHJpYnV0ZXMubGVuZ3RoICYmICFyZW1vdmVzLmxlbmd0aCAmJiAhYWRkcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBtdXRhdGlvbkNhbGxiYWNrKHtcbiAgICAgICAgYWRkczogYWRkcyxcbiAgICAgICAgcmVtb3ZlczogcmVtb3ZlcyxcbiAgICAgICAgdGV4dHM6IHRleHRzLFxuICAgICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gcHJvY2Vzc0NoaWxkTGlzdE11dGF0aW9ucyhtdXRhdGlvbnMsIGRlZmF1bHRQcml2YWN5TGV2ZWwpIHtcbiAgICAvLyBGaXJzdCwgd2UgaXRlcmF0ZSBvdmVyIG11dGF0aW9ucyB0byBjb2xsZWN0OlxuICAgIC8vXG4gICAgLy8gKiBub2RlcyB0aGF0IGhhdmUgYmVlbiBhZGRlZCBpbiB0aGUgZG9jdW1lbnQgYW5kIG5vdCByZW1vdmVkIGJ5IGEgc3Vic2VxdWVudCBtdXRhdGlvblxuICAgIC8vICogbm9kZXMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudCBidXQgd2VyZSBub3QgYWRkZWQgaW4gYSBwcmV2aW91cyBtdXRhdGlvblxuICAgIC8vXG4gICAgLy8gRm9yIHRoaXMgc2Vjb25kIGNhdGVnb3J5LCB3ZSBhbHNvIGNvbGxlY3QgdGhlaXIgcHJldmlvdXMgcGFyZW50IChtdXRhdGlvbi50YXJnZXQpIGJlY2F1c2Ugd2UnbGxcbiAgICAvLyBuZWVkIGl0IHRvIGVtaXQgYSAncmVtb3ZlJyBtdXRhdGlvbi5cbiAgICAvL1xuICAgIC8vIFRob3NlIHR3byBjYXRlZ29yaWVzIG1heSBvdmVybGFwOiBpZiBhIG5vZGUgbW92ZWQgZnJvbSBhIHBvc2l0aW9uIHRvIGFub3RoZXIsIGl0IGlzIHJlcG9ydGVkIGFzXG4gICAgLy8gdHdvIG11dGF0aW9uIHJlY29yZHMsIG9uZSB3aXRoIGEgXCJyZW1vdmVkTm9kZXNcIiBhbmQgdGhlIG90aGVyIHdpdGggXCJhZGRlZE5vZGVzXCIuIEluIHRoaXMgY2FzZSxcbiAgICAvLyB0aGUgbm9kZSB3aWxsIGJlIGluIGJvdGggc2V0cy5cbiAgICB2YXIgYWRkZWRBbmRNb3ZlZE5vZGVzID0gbmV3IFNldCgpO1xuICAgIHZhciByZW1vdmVkTm9kZXMgPSBuZXcgTWFwKCk7XG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgZm9yRWFjaChtdXRhdGlvbi5hZGRlZE5vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgYWRkZWRBbmRNb3ZlZE5vZGVzLmFkZChub2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvckVhY2gobXV0YXRpb24ucmVtb3ZlZE5vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgaWYgKCFhZGRlZEFuZE1vdmVkTm9kZXMuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZE5vZGVzLnNldChub2RlLCBtdXRhdGlvbi50YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkZWRBbmRNb3ZlZE5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIG11dGF0aW9uc18xID0gbXV0YXRpb25zOyBfaSA8IG11dGF0aW9uc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgbXV0YXRpb24gPSBtdXRhdGlvbnNfMVtfaV07XG4gICAgICAgIF9sb29wXzEobXV0YXRpb24pO1xuICAgIH1cbiAgICAvLyBUaGVuLCB3ZSBzb3J0IG5vZGVzIHRoYXQgYXJlIHN0aWxsIGluIHRoZSBkb2N1bWVudCBieSB0b3BvbG9naWNhbCBvcmRlciwgZm9yIHR3byByZWFzb25zOlxuICAgIC8vXG4gICAgLy8gKiBXZSB3aWxsIHNlcmlhbGl6ZSBlYWNoIGFkZGVkIG5vZGVzIHdpdGggdGhlaXIgZGVzY2VuZGFudHMuIFdlIGRvbid0IHdhbnQgdG8gc2VyaWFsaXplIGEgbm9kZVxuICAgIC8vIHR3aWNlLCBzbyB3ZSBuZWVkIHRvIGl0ZXJhdGUgb3ZlciB0aGUgcGFyZW50IG5vZGVzIGZpcnN0IGFuZCBza2lwIGFueSBub2RlIHRoYXQgaXMgY29udGFpbmVkIGluXG4gICAgLy8gYSBwcmVjZWRlbnQgbm9kZS5cbiAgICAvL1xuICAgIC8vICogVG8gZW1pdCBcImFkZFwiIG11dGF0aW9ucywgd2UgbmVlZCByZWZlcmVuY2VzIHRvIHRoZSBwYXJlbnQgYW5kIHBvdGVudGlhbCBuZXh0IHNpYmxpbmcgb2YgZWFjaFxuICAgIC8vIGFkZGVkIG5vZGUuIFNvIHdlIG5lZWQgdG8gaXRlcmF0ZSBvdmVyIHRoZSBwYXJlbnQgbm9kZXMgZmlyc3QsIGFuZCB3aGVuIG11bHRpcGxlIG5vZGVzIGFyZVxuICAgIC8vIHNpYmxpbmdzLCB3ZSB3YW50IHRvIGl0ZXJhdGUgZnJvbSBsYXN0IHRvIGZpcnN0LiBUaGlzIHdpbGwgZW5zdXJlIHRoYXQgYW55IFwibmV4dFwiIG5vZGUgaXNcbiAgICAvLyBhbHJlYWR5IHNlcmlhbGl6ZWQgYW5kIGhhdmUgYW4gaWQuXG4gICAgdmFyIHNvcnRlZEFkZGVkQW5kTW92ZWROb2RlcyA9IEFycmF5LmZyb20oYWRkZWRBbmRNb3ZlZE5vZGVzKTtcbiAgICBzb3J0QWRkZWRBbmRNb3ZlZE5vZGVzKHNvcnRlZEFkZGVkQW5kTW92ZWROb2Rlcyk7XG4gICAgLy8gVGhlbiwgd2UgaXRlcmF0ZSBvdmVyIG91ciBzb3J0ZWQgbm9kZSBzZXRzIHRvIGVtaXQgbXV0YXRpb25zLiBXZSBjb2xsZWN0IHRoZSBuZXdseSBzZXJpYWxpemVkXG4gICAgLy8gbm9kZSBpZHMgaW4gYSBzZXQgdG8gYmUgYWJsZSB0byBza2lwIHN1YnNlcXVlbnQgcmVsYXRlZCBtdXRhdGlvbnMuXG4gICAgdmFyIHNlcmlhbGl6ZWROb2RlSWRzID0gbmV3IFNldCgpO1xuICAgIHZhciBhZGRlZE5vZGVNdXRhdGlvbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfYSA9IDAsIHNvcnRlZEFkZGVkQW5kTW92ZWROb2Rlc18xID0gc29ydGVkQWRkZWRBbmRNb3ZlZE5vZGVzOyBfYSA8IHNvcnRlZEFkZGVkQW5kTW92ZWROb2Rlc18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICB2YXIgbm9kZSA9IHNvcnRlZEFkZGVkQW5kTW92ZWROb2Rlc18xW19hXTtcbiAgICAgICAgaWYgKGhhc0JlZW5TZXJpYWxpemVkKG5vZGUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyZW50Tm9kZVByaXZhY3lMZXZlbCA9IGdldE5vZGVQcml2YWN5TGV2ZWwobm9kZS5wYXJlbnROb2RlLCBkZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOIHx8IHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VyaWFsaXplZE5vZGUgPSBzZXJpYWxpemVOb2RlV2l0aElkKG5vZGUsIHtcbiAgICAgICAgICAgIGRvY3VtZW50OiBkb2N1bWVudCxcbiAgICAgICAgICAgIHNlcmlhbGl6ZWROb2RlSWRzOiBzZXJpYWxpemVkTm9kZUlkcyxcbiAgICAgICAgICAgIHBhcmVudE5vZGVQcml2YWN5TGV2ZWw6IHBhcmVudE5vZGVQcml2YWN5TGV2ZWwsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXNlcmlhbGl6ZWROb2RlKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhZGRlZE5vZGVNdXRhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICBuZXh0SWQ6IGdldE5leHRTaWJsaW5nKG5vZGUpLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQobm9kZS5wYXJlbnROb2RlKSxcbiAgICAgICAgICAgIG5vZGU6IHNlcmlhbGl6ZWROb2RlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gRmluYWxseSwgd2UgZW1pdCByZW1vdmUgbXV0YXRpb25zLlxuICAgIHZhciByZW1vdmVkTm9kZU11dGF0aW9ucyA9IFtdO1xuICAgIHJlbW92ZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJlbnQsIG5vZGUpIHtcbiAgICAgICAgaWYgKGhhc1NlcmlhbGl6ZWROb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICByZW1vdmVkTm9kZU11dGF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBwYXJlbnRJZDogZ2V0U2VyaWFsaXplZE5vZGVJZChwYXJlbnQpLFxuICAgICAgICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKG5vZGUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4geyBhZGRzOiBhZGRlZE5vZGVNdXRhdGlvbnMsIHJlbW92ZXM6IHJlbW92ZWROb2RlTXV0YXRpb25zLCBoYXNCZWVuU2VyaWFsaXplZDogaGFzQmVlblNlcmlhbGl6ZWQgfTtcbiAgICBmdW5jdGlvbiBoYXNCZWVuU2VyaWFsaXplZChub2RlKSB7XG4gICAgICAgIHJldHVybiBoYXNTZXJpYWxpemVkTm9kZShub2RlKSAmJiBzZXJpYWxpemVkTm9kZUlkcy5oYXMoZ2V0U2VyaWFsaXplZE5vZGVJZChub2RlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5leHRTaWJsaW5nKG5vZGUpIHtcbiAgICAgICAgdmFyIG5leHRTaWJsaW5nID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgd2hpbGUgKG5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBpZiAoaGFzU2VyaWFsaXplZE5vZGUobmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFNlcmlhbGl6ZWROb2RlSWQobmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBwcm9jZXNzQ2hhcmFjdGVyRGF0YU11dGF0aW9ucyhtdXRhdGlvbnMsIGRlZmF1bHRQcml2YWN5TGV2ZWwpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIHRleHRNdXRhdGlvbnMgPSBbXTtcbiAgICAvLyBEZWR1cGxpY2F0ZSBtdXRhdGlvbnMgYmFzZWQgb24gdGhlaXIgdGFyZ2V0IG5vZGVcbiAgICB2YXIgaGFuZGxlZE5vZGVzID0gbmV3IFNldCgpO1xuICAgIHZhciBmaWx0ZXJlZE11dGF0aW9ucyA9IG11dGF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgIGlmIChoYW5kbGVkTm9kZXMuaGFzKG11dGF0aW9uLnRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVkTm9kZXMuYWRkKG11dGF0aW9uLnRhcmdldCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIC8vIEVtaXQgbXV0YXRpb25zXG4gICAgZm9yICh2YXIgX2kgPSAwLCBmaWx0ZXJlZE11dGF0aW9uc18xID0gZmlsdGVyZWRNdXRhdGlvbnM7IF9pIDwgZmlsdGVyZWRNdXRhdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIG11dGF0aW9uID0gZmlsdGVyZWRNdXRhdGlvbnNfMVtfaV07XG4gICAgICAgIHZhciB2YWx1ZSA9IG11dGF0aW9uLnRhcmdldC50ZXh0Q29udGVudDtcbiAgICAgICAgaWYgKHZhbHVlID09PSBtdXRhdGlvbi5vbGRWYWx1ZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPSBnZXROb2RlUHJpdmFjeUxldmVsKG11dGF0aW9uLnRhcmdldC5wYXJlbnROb2RlLCBkZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOIHx8IHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0TXV0YXRpb25zLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQobXV0YXRpb24udGFyZ2V0KSxcbiAgICAgICAgICAgIC8vIFRPRE86IHBhc3MgYSB2YWxpZCBcImlnbm9yZVdoaXRlU3BhY2VcIiBhcmd1bWVudFxuICAgICAgICAgICAgdmFsdWU6IChfYSA9IGdldFRleHRDb250ZW50KG11dGF0aW9uLnRhcmdldCwgZmFsc2UsIHBhcmVudE5vZGVQcml2YWN5TGV2ZWwpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHRNdXRhdGlvbnM7XG59XG5mdW5jdGlvbiBwcm9jZXNzQXR0cmlidXRlc011dGF0aW9ucyhtdXRhdGlvbnMsIGRlZmF1bHRQcml2YWN5TGV2ZWwpIHtcbiAgICB2YXIgYXR0cmlidXRlTXV0YXRpb25zID0gW107XG4gICAgLy8gRGVkdXBsaWNhdGUgbXV0YXRpb25zIGJhc2VkIG9uIHRoZWlyIHRhcmdldCBub2RlIGFuZCBjaGFuZ2VkIGF0dHJpYnV0ZVxuICAgIHZhciBoYW5kbGVkRWxlbWVudHMgPSBuZXcgTWFwKCk7XG4gICAgdmFyIGZpbHRlcmVkTXV0YXRpb25zID0gbXV0YXRpb25zLmZpbHRlcihmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgdmFyIGhhbmRsZWRBdHRyaWJ1dGVzID0gaGFuZGxlZEVsZW1lbnRzLmdldChtdXRhdGlvbi50YXJnZXQpO1xuICAgICAgICBpZiAoaGFuZGxlZEF0dHJpYnV0ZXMgPT09IG51bGwgfHwgaGFuZGxlZEF0dHJpYnV0ZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhhbmRsZWRBdHRyaWJ1dGVzLmhhcyhtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFuZGxlZEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGhhbmRsZWRFbGVtZW50cy5zZXQobXV0YXRpb24udGFyZ2V0LCBuZXcgU2V0KFttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlZEF0dHJpYnV0ZXMuYWRkKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIC8vIEVtaXQgbXV0YXRpb25zXG4gICAgdmFyIGVtaXR0ZWRNdXRhdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBmaWx0ZXJlZE11dGF0aW9uc18yID0gZmlsdGVyZWRNdXRhdGlvbnM7IF9pIDwgZmlsdGVyZWRNdXRhdGlvbnNfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIG11dGF0aW9uID0gZmlsdGVyZWRNdXRhdGlvbnNfMltfaV07XG4gICAgICAgIHZhciB1bmNlbnNvcmVkVmFsdWUgPSBtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAodW5jZW5zb3JlZFZhbHVlID09PSBtdXRhdGlvbi5vbGRWYWx1ZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByaXZhY3lMZXZlbCA9IGdldE5vZGVQcml2YWN5TGV2ZWwobXV0YXRpb24udGFyZ2V0LCBkZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZVZhbHVlID0gc2VyaWFsaXplQXR0cmlidXRlKG11dGF0aW9uLnRhcmdldCwgcHJpdmFjeUxldmVsLCBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWVkVmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAndmFsdWUnKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IGdldEVsZW1lbnRJbnB1dFZhbHVlKG11dGF0aW9uLnRhcmdldCwgcHJpdmFjeUxldmVsKTtcbiAgICAgICAgICAgIGlmIChpbnB1dFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYW5zZm9ybWVkVmFsdWUgPSBpbnB1dFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhdHRyaWJ1dGVWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkVmFsdWUgPSBhdHRyaWJ1dGVWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkVmFsdWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbWl0dGVkTXV0YXRpb24gPSBlbWl0dGVkTXV0YXRpb25zLmdldChtdXRhdGlvbi50YXJnZXQpO1xuICAgICAgICBpZiAoIWVtaXR0ZWRNdXRhdGlvbikge1xuICAgICAgICAgICAgZW1pdHRlZE11dGF0aW9uID0ge1xuICAgICAgICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKG11dGF0aW9uLnRhcmdldCksXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXR0cmlidXRlTXV0YXRpb25zLnB1c2goZW1pdHRlZE11dGF0aW9uKTtcbiAgICAgICAgICAgIGVtaXR0ZWRNdXRhdGlvbnMuc2V0KG11dGF0aW9uLnRhcmdldCwgZW1pdHRlZE11dGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbWl0dGVkTXV0YXRpb24uYXR0cmlidXRlc1ttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSA9IHRyYW5zZm9ybWVkVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhdHRyaWJ1dGVNdXRhdGlvbnM7XG59XG5leHBvcnQgZnVuY3Rpb24gc29ydEFkZGVkQW5kTW92ZWROb2Rlcyhub2Rlcykge1xuICAgIG5vZGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuICAgICAgICBpZiAocG9zaXRpb24gJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlOUykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9zaXRpb24gJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lORykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9zaXRpb24gJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX1BSRUNFRElORykge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tYml0d2lzZSAqL1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW11dGF0aW9uT2JzZXJ2ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/mutationObserver.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/observer.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/observer.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initInputObserver\": function() { return /* binding */ initInputObserver; },\n/* harmony export */   \"initObservers\": function() { return /* binding */ initObservers; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../constants */ \"./node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types */ \"./node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./privacy */ \"./node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./serializationUtils */ \"./node_modules/@datadog/browser-rum/esm/domain/record/serializationUtils.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-rum/esm/domain/record/utils.js\");\n/* harmony import */ var _mutationObserver__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mutationObserver */ \"./node_modules/@datadog/browser-rum/esm/domain/record/mutationObserver.js\");\n/* harmony import */ var _viewports__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./viewports */ \"./node_modules/@datadog/browser-rum/esm/domain/record/viewports.js\");\nvar _a;\n\n\n\n\n\n\n\n\nvar MOUSE_MOVE_OBSERVER_THRESHOLD = 50;\nvar SCROLL_OBSERVER_THRESHOLD = 100;\nvar VISUAL_VIEWPORT_OBSERVER_THRESHOLD = 200;\nfunction initObservers(o) {\n    var mutationHandler = initMutationObserver(o.mutationController, o.mutationCb, o.defaultPrivacyLevel);\n    var mousemoveHandler = initMoveObserver(o.mousemoveCb);\n    var mouseInteractionHandler = initMouseInteractionObserver(o.mouseInteractionCb, o.defaultPrivacyLevel);\n    var scrollHandler = initScrollObserver(o.scrollCb, o.defaultPrivacyLevel);\n    var viewportResizeHandler = initViewportResizeObserver(o.viewportResizeCb);\n    var inputHandler = initInputObserver(o.inputCb, o.defaultPrivacyLevel);\n    var mediaInteractionHandler = initMediaInteractionObserver(o.mediaInteractionCb, o.defaultPrivacyLevel);\n    var styleSheetObserver = initStyleSheetObserver(o.styleSheetRuleCb);\n    var focusHandler = initFocusObserver(o.focusCb);\n    var visualViewportResizeHandler = initVisualViewportResizeObserver(o.visualViewportResizeCb);\n    return function () {\n        mutationHandler();\n        mousemoveHandler();\n        mouseInteractionHandler();\n        scrollHandler();\n        viewportResizeHandler();\n        inputHandler();\n        mediaInteractionHandler();\n        styleSheetObserver();\n        focusHandler();\n        visualViewportResizeHandler();\n    };\n}\nfunction initMutationObserver(mutationController, cb, defaultPrivacyLevel) {\n    return (0,_mutationObserver__WEBPACK_IMPORTED_MODULE_5__.startMutationObserver)(mutationController, cb, defaultPrivacyLevel).stop;\n}\nfunction initMoveObserver(cb) {\n    var updatePosition = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.throttle)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (event) {\n        var target = event.target;\n        if ((0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(target)) {\n            var _a = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.isTouchEvent)(event) ? event.changedTouches[0] : event, clientX = _a.clientX, clientY = _a.clientY;\n            var position = {\n                id: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(target),\n                timeOffset: 0,\n                x: clientX,\n                y: clientY,\n            };\n            if (window.visualViewport) {\n                var _b = (0,_viewports__WEBPACK_IMPORTED_MODULE_6__.convertMouseEventToLayoutCoordinates)(clientX, clientY), visualViewportX = _b.visualViewportX, visualViewportY = _b.visualViewportY;\n                position.x = visualViewportX;\n                position.y = visualViewportY;\n            }\n            cb([position], (0,_utils__WEBPACK_IMPORTED_MODULE_4__.isTouchEvent)(event) ? _types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.TouchMove : _types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.MouseMove);\n        }\n    }), MOUSE_MOVE_OBSERVER_THRESHOLD, {\n        trailing: false,\n    }).throttled;\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.addEventListeners)(document, [\"mousemove\" /* MOUSE_MOVE */, \"touchmove\" /* TOUCH_MOVE */], updatePosition, {\n        capture: true,\n        passive: true,\n    }).stop;\n}\nvar eventTypeToMouseInteraction = (_a = {},\n    _a[\"mouseup\" /* MOUSE_UP */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.MouseUp,\n    _a[\"mousedown\" /* MOUSE_DOWN */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.MouseDown,\n    _a[\"click\" /* CLICK */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.Click,\n    _a[\"contextmenu\" /* CONTEXT_MENU */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.ContextMenu,\n    _a[\"dblclick\" /* DBL_CLICK */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.DblClick,\n    _a[\"focus\" /* FOCUS */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.Focus,\n    _a[\"blur\" /* BLUR */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.Blur,\n    _a[\"touchstart\" /* TOUCH_START */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.TouchStart,\n    _a[\"touchend\" /* TOUCH_END */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.TouchEnd,\n    _a);\nfunction initMouseInteractionObserver(cb, defaultPrivacyLevel) {\n    var handler = function (event) {\n        var target = event.target;\n        if ((0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(target, defaultPrivacyLevel) === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN || !(0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(target)) {\n            return;\n        }\n        var _a = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.isTouchEvent)(event) ? event.changedTouches[0] : event, clientX = _a.clientX, clientY = _a.clientY;\n        var position = {\n            id: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(target),\n            type: eventTypeToMouseInteraction[event.type],\n            x: clientX,\n            y: clientY,\n        };\n        if (window.visualViewport) {\n            var _b = (0,_viewports__WEBPACK_IMPORTED_MODULE_6__.convertMouseEventToLayoutCoordinates)(clientX, clientY), visualViewportX = _b.visualViewportX, visualViewportY = _b.visualViewportY;\n            position.x = visualViewportX;\n            position.y = visualViewportY;\n        }\n        cb(position);\n    };\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.addEventListeners)(document, Object.keys(eventTypeToMouseInteraction), handler, {\n        capture: true,\n        passive: true,\n    }).stop;\n}\nfunction initScrollObserver(cb, defaultPrivacyLevel) {\n    var updatePosition = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.throttle)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (event) {\n        var target = event.target;\n        if (!target ||\n            (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(target, defaultPrivacyLevel) === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN ||\n            !(0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(target)) {\n            return;\n        }\n        var id = (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(target);\n        if (target === document) {\n            cb({\n                id: id,\n                x: (0,_viewports__WEBPACK_IMPORTED_MODULE_6__.getScrollX)(),\n                y: (0,_viewports__WEBPACK_IMPORTED_MODULE_6__.getScrollY)(),\n            });\n        }\n        else {\n            cb({\n                id: id,\n                x: target.scrollLeft,\n                y: target.scrollTop,\n            });\n        }\n    }), SCROLL_OBSERVER_THRESHOLD).throttled;\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.addEventListener)(document, \"scroll\" /* SCROLL */, updatePosition, { capture: true, passive: true }).stop;\n}\nfunction initViewportResizeObserver(cb) {\n    var updateDimension = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.throttle)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function () {\n        var height = (0,_viewports__WEBPACK_IMPORTED_MODULE_6__.getWindowHeight)();\n        var width = (0,_viewports__WEBPACK_IMPORTED_MODULE_6__.getWindowWidth)();\n        cb({\n            height: Number(height),\n            width: Number(width),\n        });\n    }), 200).throttled;\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.addEventListener)(window, \"resize\" /* RESIZE */, updateDimension, { capture: true, passive: true }).stop;\n}\nfunction initInputObserver(cb, defaultPrivacyLevel) {\n    var lastInputStateMap = new WeakMap();\n    function onElementChange(target) {\n        var nodePrivacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(target, defaultPrivacyLevel);\n        if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN) {\n            return;\n        }\n        var type = target.type;\n        var inputState;\n        if (type === 'radio' || type === 'checkbox') {\n            if ((0,_privacy__WEBPACK_IMPORTED_MODULE_2__.shouldMaskNode)(target, nodePrivacyLevel)) {\n                return;\n            }\n            inputState = { isChecked: target.checked };\n        }\n        else {\n            var value = (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getElementInputValue)(target, nodePrivacyLevel);\n            if (value === undefined) {\n                return;\n            }\n            inputState = { text: value };\n        }\n        // Can be multiple changes on the same node within the same batched mutation observation.\n        cbWithDedup(target, inputState);\n        // If a radio was checked, other radios with the same name attribute will be unchecked.\n        var name = target.name;\n        if (type === 'radio' && name && target.checked) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.forEach)(document.querySelectorAll(\"input[type=\\\"radio\\\"][name=\\\"\".concat(name, \"\\\"]\")), function (el) {\n                if (el !== target) {\n                    // TODO: Consider the privacy implications for various differing input privacy levels\n                    cbWithDedup(el, { isChecked: false });\n                }\n            });\n        }\n    }\n    /**\n     * There can be multiple changes on the same node within the same batched mutation observation.\n     */\n    function cbWithDedup(target, inputState) {\n        if (!(0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(target)) {\n            return;\n        }\n        var lastInputState = lastInputStateMap.get(target);\n        if (!lastInputState ||\n            lastInputState.text !== inputState.text ||\n            lastInputState.isChecked !== inputState.isChecked) {\n            lastInputStateMap.set(target, inputState);\n            cb((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.assign)({\n                id: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(target),\n            }, inputState));\n        }\n    }\n    var stopEventListeners = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.addEventListeners)(document, [\"input\" /* INPUT */, \"change\" /* CHANGE */], function (event) {\n        if (event.target instanceof HTMLInputElement ||\n            event.target instanceof HTMLTextAreaElement ||\n            event.target instanceof HTMLSelectElement) {\n            onElementChange(event.target);\n        }\n    }, {\n        capture: true,\n        passive: true,\n    }).stop;\n    var instrumentationStoppers = [\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.instrumentSetter)(HTMLInputElement.prototype, 'value', onElementChange),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.instrumentSetter)(HTMLInputElement.prototype, 'checked', onElementChange),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.instrumentSetter)(HTMLSelectElement.prototype, 'value', onElementChange),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.instrumentSetter)(HTMLTextAreaElement.prototype, 'value', onElementChange),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.instrumentSetter)(HTMLSelectElement.prototype, 'selectedIndex', onElementChange),\n    ];\n    return function () {\n        instrumentationStoppers.forEach(function (stopper) { return stopper.stop(); });\n        stopEventListeners();\n    };\n}\nfunction initStyleSheetObserver(cb) {\n    var restoreInsertRule = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.instrumentMethodAndCallOriginal)(CSSStyleSheet.prototype, 'insertRule', {\n        before: function (rule, index) {\n            if ((0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(this.ownerNode)) {\n                cb({\n                    id: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(this.ownerNode),\n                    adds: [{ rule: rule, index: index }],\n                });\n            }\n        },\n    }).stop;\n    var restoreDeleteRule = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.instrumentMethodAndCallOriginal)(CSSStyleSheet.prototype, 'deleteRule', {\n        before: function (index) {\n            if ((0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(this.ownerNode)) {\n                cb({\n                    id: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(this.ownerNode),\n                    removes: [{ index: index }],\n                });\n            }\n        },\n    }).stop;\n    return function () {\n        restoreInsertRule();\n        restoreDeleteRule();\n    };\n}\nfunction initMediaInteractionObserver(mediaInteractionCb, defaultPrivacyLevel) {\n    var handler = function (event) {\n        var target = event.target;\n        if (!target ||\n            (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(target, defaultPrivacyLevel) === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN ||\n            !(0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(target)) {\n            return;\n        }\n        mediaInteractionCb({\n            id: (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(target),\n            type: event.type === \"play\" /* PLAY */ ? _types__WEBPACK_IMPORTED_MODULE_1__.MediaInteractionType.Play : _types__WEBPACK_IMPORTED_MODULE_1__.MediaInteractionType.Pause,\n        });\n    };\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.addEventListeners)(document, [\"play\" /* PLAY */, \"pause\" /* PAUSE */], handler, { capture: true, passive: true }).stop;\n}\nfunction initFocusObserver(focusCb) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.addEventListeners)(window, [\"focus\" /* FOCUS */, \"blur\" /* BLUR */], function () {\n        focusCb({ has_focus: document.hasFocus() });\n    }).stop;\n}\nfunction initVisualViewportResizeObserver(cb) {\n    if (!window.visualViewport) {\n        return _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.noop;\n    }\n    var _a = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.throttle)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function () {\n        cb((0,_viewports__WEBPACK_IMPORTED_MODULE_6__.getVisualViewport)());\n    }), VISUAL_VIEWPORT_OBSERVER_THRESHOLD, {\n        trailing: false,\n    }), updateDimension = _a.throttled, cancelThrottle = _a.cancel;\n    var removeListener = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.addEventListeners)(window.visualViewport, [\"resize\" /* RESIZE */, \"scroll\" /* SCROLL */], updateDimension, {\n        capture: true,\n        passive: true,\n    }).stop;\n    return function stop() {\n        removeListener();\n        cancelThrottle();\n    };\n}\n//# sourceMappingURL=observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvb2JzZXJ2ZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2lLO0FBQzlHO0FBQ3lDO0FBQzVCO0FBQ29DO0FBQ3BEO0FBQ1c7QUFDcUY7QUFDaEo7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdFQUFxQjtBQUNoQztBQUNBO0FBQ0EseUJBQXlCLCtEQUFRLENBQUMsOERBQU87QUFDekM7QUFDQSxZQUFZLHNFQUFpQjtBQUM3QixxQkFBcUIsb0RBQVk7QUFDakM7QUFDQSxvQkFBb0Isd0VBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0ZBQW9DO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvREFBWSxVQUFVLCtEQUEyQixHQUFHLCtEQUEyQjtBQUMxRztBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxXQUFXLHdFQUFpQjtBQUM1QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMENBQTBDO0FBQzFDLG1DQUFtQyxnRUFBNEI7QUFDL0QsdUNBQXVDLGtFQUE4QjtBQUNyRSw4QkFBOEIsOERBQTBCO0FBQ3hELDJDQUEyQyxvRUFBZ0M7QUFDM0UscUNBQXFDLGlFQUE2QjtBQUNsRSw4QkFBOEIsOERBQTBCO0FBQ3hELDRCQUE0Qiw2REFBeUI7QUFDckQseUNBQXlDLG1FQUErQjtBQUN4RSxxQ0FBcUMsaUVBQTZCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2REFBbUIsa0NBQWtDLCtEQUF1QixLQUFLLHNFQUFpQjtBQUM5RztBQUNBO0FBQ0EsaUJBQWlCLG9EQUFZO0FBQzdCO0FBQ0EsZ0JBQWdCLHdFQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdGQUFvQztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3RUFBaUI7QUFDNUI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUJBQXlCLCtEQUFRLENBQUMsOERBQU87QUFDekM7QUFDQTtBQUNBLFlBQVksNkRBQW1CLGtDQUFrQywrREFBdUI7QUFDeEYsYUFBYSxzRUFBaUI7QUFDOUI7QUFDQTtBQUNBLGlCQUFpQix3RUFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFVO0FBQzdCLG1CQUFtQixzREFBVTtBQUM3QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMLFdBQVcsdUVBQWdCLG9EQUFvRCw4QkFBOEI7QUFDN0c7QUFDQTtBQUNBLDBCQUEwQiwrREFBUSxDQUFDLDhEQUFPO0FBQzFDLHFCQUFxQiwyREFBZTtBQUNwQyxvQkFBb0IsMERBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxXQUFXLHVFQUFnQixtREFBbUQsOEJBQThCO0FBQzVHO0FBQ087QUFDUDtBQUNBO0FBQ0EsK0JBQStCLDZEQUFtQjtBQUNsRCxpQ0FBaUMsK0RBQXVCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0RBQWM7QUFDOUI7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0Esd0JBQXdCLHlFQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQ0FBTztBQUNuQjtBQUNBO0FBQ0Esc0NBQXNDLGtCQUFrQjtBQUN4RDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNFQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkRBQU07QUFDckIsb0JBQW9CLHdFQUFtQjtBQUN2QyxhQUFhO0FBQ2I7QUFDQTtBQUNBLDZCQUE2Qix3RUFBaUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsUUFBUSx1RUFBZ0I7QUFDeEIsUUFBUSx1RUFBZ0I7QUFDeEIsUUFBUSx1RUFBZ0I7QUFDeEIsUUFBUSx1RUFBZ0I7QUFDeEIsUUFBUSx1RUFBZ0I7QUFDeEI7QUFDQTtBQUNBLDZEQUE2RCx3QkFBd0I7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0ZBQStCO0FBQzNEO0FBQ0EsZ0JBQWdCLHNFQUFpQjtBQUNqQztBQUNBLHdCQUF3Qix3RUFBbUI7QUFDM0MsNkJBQTZCLDBCQUEwQjtBQUN2RCxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLDRCQUE0QixzRkFBK0I7QUFDM0Q7QUFDQSxnQkFBZ0Isc0VBQWlCO0FBQ2pDO0FBQ0Esd0JBQXdCLHdFQUFtQjtBQUMzQyxnQ0FBZ0MsY0FBYztBQUM5QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQW1CLGtDQUFrQywrREFBdUI7QUFDeEYsYUFBYSxzRUFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdFQUFtQjtBQUNuQyxxREFBcUQsNkRBQXlCLEdBQUcsOERBQTBCO0FBQzNHLFNBQVM7QUFDVDtBQUNBLFdBQVcsd0VBQWlCLGdFQUFnRSw4QkFBOEI7QUFDMUg7QUFDQTtBQUNBLFdBQVcsd0VBQWlCO0FBQzVCLGtCQUFrQixnQ0FBZ0M7QUFDbEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdURBQUk7QUFDbkI7QUFDQSxhQUFhLCtEQUFRLENBQUMsOERBQU87QUFDN0IsV0FBVyw2REFBaUI7QUFDNUIsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLHlCQUF5Qix3RUFBaUI7QUFDMUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVyLmpzPzA5MmYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9hO1xuaW1wb3J0IHsgaW5zdHJ1bWVudFNldHRlciwgaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCwgYXNzaWduLCBtb25pdG9yLCB0aHJvdHRsZSwgYWRkRXZlbnRMaXN0ZW5lcnMsIGFkZEV2ZW50TGlzdGVuZXIsIG5vb3AsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IE5vZGVQcml2YWN5TGV2ZWwgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgSW5jcmVtZW50YWxTb3VyY2UsIE1lZGlhSW50ZXJhY3Rpb25UeXBlLCBNb3VzZUludGVyYWN0aW9uVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IGdldE5vZGVQcml2YWN5TGV2ZWwsIHNob3VsZE1hc2tOb2RlIH0gZnJvbSAnLi9wcml2YWN5JztcbmltcG9ydCB7IGdldEVsZW1lbnRJbnB1dFZhbHVlLCBnZXRTZXJpYWxpemVkTm9kZUlkLCBoYXNTZXJpYWxpemVkTm9kZSB9IGZyb20gJy4vc2VyaWFsaXphdGlvblV0aWxzJztcbmltcG9ydCB7IGZvckVhY2gsIGlzVG91Y2hFdmVudCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgc3RhcnRNdXRhdGlvbk9ic2VydmVyIH0gZnJvbSAnLi9tdXRhdGlvbk9ic2VydmVyJztcbmltcG9ydCB7IGdldFZpc3VhbFZpZXdwb3J0LCBnZXRXaW5kb3dIZWlnaHQsIGdldFdpbmRvd1dpZHRoLCBnZXRTY3JvbGxYLCBnZXRTY3JvbGxZLCBjb252ZXJ0TW91c2VFdmVudFRvTGF5b3V0Q29vcmRpbmF0ZXMsIH0gZnJvbSAnLi92aWV3cG9ydHMnO1xudmFyIE1PVVNFX01PVkVfT0JTRVJWRVJfVEhSRVNIT0xEID0gNTA7XG52YXIgU0NST0xMX09CU0VSVkVSX1RIUkVTSE9MRCA9IDEwMDtcbnZhciBWSVNVQUxfVklFV1BPUlRfT0JTRVJWRVJfVEhSRVNIT0xEID0gMjAwO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRPYnNlcnZlcnMobykge1xuICAgIHZhciBtdXRhdGlvbkhhbmRsZXIgPSBpbml0TXV0YXRpb25PYnNlcnZlcihvLm11dGF0aW9uQ29udHJvbGxlciwgby5tdXRhdGlvbkNiLCBvLmRlZmF1bHRQcml2YWN5TGV2ZWwpO1xuICAgIHZhciBtb3VzZW1vdmVIYW5kbGVyID0gaW5pdE1vdmVPYnNlcnZlcihvLm1vdXNlbW92ZUNiKTtcbiAgICB2YXIgbW91c2VJbnRlcmFjdGlvbkhhbmRsZXIgPSBpbml0TW91c2VJbnRlcmFjdGlvbk9ic2VydmVyKG8ubW91c2VJbnRlcmFjdGlvbkNiLCBvLmRlZmF1bHRQcml2YWN5TGV2ZWwpO1xuICAgIHZhciBzY3JvbGxIYW5kbGVyID0gaW5pdFNjcm9sbE9ic2VydmVyKG8uc2Nyb2xsQ2IsIG8uZGVmYXVsdFByaXZhY3lMZXZlbCk7XG4gICAgdmFyIHZpZXdwb3J0UmVzaXplSGFuZGxlciA9IGluaXRWaWV3cG9ydFJlc2l6ZU9ic2VydmVyKG8udmlld3BvcnRSZXNpemVDYik7XG4gICAgdmFyIGlucHV0SGFuZGxlciA9IGluaXRJbnB1dE9ic2VydmVyKG8uaW5wdXRDYiwgby5kZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICB2YXIgbWVkaWFJbnRlcmFjdGlvbkhhbmRsZXIgPSBpbml0TWVkaWFJbnRlcmFjdGlvbk9ic2VydmVyKG8ubWVkaWFJbnRlcmFjdGlvbkNiLCBvLmRlZmF1bHRQcml2YWN5TGV2ZWwpO1xuICAgIHZhciBzdHlsZVNoZWV0T2JzZXJ2ZXIgPSBpbml0U3R5bGVTaGVldE9ic2VydmVyKG8uc3R5bGVTaGVldFJ1bGVDYik7XG4gICAgdmFyIGZvY3VzSGFuZGxlciA9IGluaXRGb2N1c09ic2VydmVyKG8uZm9jdXNDYik7XG4gICAgdmFyIHZpc3VhbFZpZXdwb3J0UmVzaXplSGFuZGxlciA9IGluaXRWaXN1YWxWaWV3cG9ydFJlc2l6ZU9ic2VydmVyKG8udmlzdWFsVmlld3BvcnRSZXNpemVDYik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbXV0YXRpb25IYW5kbGVyKCk7XG4gICAgICAgIG1vdXNlbW92ZUhhbmRsZXIoKTtcbiAgICAgICAgbW91c2VJbnRlcmFjdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgc2Nyb2xsSGFuZGxlcigpO1xuICAgICAgICB2aWV3cG9ydFJlc2l6ZUhhbmRsZXIoKTtcbiAgICAgICAgaW5wdXRIYW5kbGVyKCk7XG4gICAgICAgIG1lZGlhSW50ZXJhY3Rpb25IYW5kbGVyKCk7XG4gICAgICAgIHN0eWxlU2hlZXRPYnNlcnZlcigpO1xuICAgICAgICBmb2N1c0hhbmRsZXIoKTtcbiAgICAgICAgdmlzdWFsVmlld3BvcnRSZXNpemVIYW5kbGVyKCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGluaXRNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uQ29udHJvbGxlciwgY2IsIGRlZmF1bHRQcml2YWN5TGV2ZWwpIHtcbiAgICByZXR1cm4gc3RhcnRNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uQ29udHJvbGxlciwgY2IsIGRlZmF1bHRQcml2YWN5TGV2ZWwpLnN0b3A7XG59XG5mdW5jdGlvbiBpbml0TW92ZU9ic2VydmVyKGNiKSB7XG4gICAgdmFyIHVwZGF0ZVBvc2l0aW9uID0gdGhyb3R0bGUobW9uaXRvcihmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKGhhc1NlcmlhbGl6ZWROb2RlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGlzVG91Y2hFdmVudChldmVudCkgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXSA6IGV2ZW50LCBjbGllbnRYID0gX2EuY2xpZW50WCwgY2xpZW50WSA9IF9hLmNsaWVudFk7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQodGFyZ2V0KSxcbiAgICAgICAgICAgICAgICB0aW1lT2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHg6IGNsaWVudFgsXG4gICAgICAgICAgICAgICAgeTogY2xpZW50WSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAod2luZG93LnZpc3VhbFZpZXdwb3J0KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iID0gY29udmVydE1vdXNlRXZlbnRUb0xheW91dENvb3JkaW5hdGVzKGNsaWVudFgsIGNsaWVudFkpLCB2aXN1YWxWaWV3cG9ydFggPSBfYi52aXN1YWxWaWV3cG9ydFgsIHZpc3VhbFZpZXdwb3J0WSA9IF9iLnZpc3VhbFZpZXdwb3J0WTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi54ID0gdmlzdWFsVmlld3BvcnRYO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgPSB2aXN1YWxWaWV3cG9ydFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYihbcG9zaXRpb25dLCBpc1RvdWNoRXZlbnQoZXZlbnQpID8gSW5jcmVtZW50YWxTb3VyY2UuVG91Y2hNb3ZlIDogSW5jcmVtZW50YWxTb3VyY2UuTW91c2VNb3ZlKTtcbiAgICAgICAgfVxuICAgIH0pLCBNT1VTRV9NT1ZFX09CU0VSVkVSX1RIUkVTSE9MRCwge1xuICAgICAgICB0cmFpbGluZzogZmFsc2UsXG4gICAgfSkudGhyb3R0bGVkO1xuICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVycyhkb2N1bWVudCwgW1wibW91c2Vtb3ZlXCIgLyogTU9VU0VfTU9WRSAqLywgXCJ0b3VjaG1vdmVcIiAvKiBUT1VDSF9NT1ZFICovXSwgdXBkYXRlUG9zaXRpb24sIHtcbiAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICB9KS5zdG9wO1xufVxudmFyIGV2ZW50VHlwZVRvTW91c2VJbnRlcmFjdGlvbiA9IChfYSA9IHt9LFxuICAgIF9hW1wibW91c2V1cFwiIC8qIE1PVVNFX1VQICovXSA9IE1vdXNlSW50ZXJhY3Rpb25UeXBlLk1vdXNlVXAsXG4gICAgX2FbXCJtb3VzZWRvd25cIiAvKiBNT1VTRV9ET1dOICovXSA9IE1vdXNlSW50ZXJhY3Rpb25UeXBlLk1vdXNlRG93bixcbiAgICBfYVtcImNsaWNrXCIgLyogQ0xJQ0sgKi9dID0gTW91c2VJbnRlcmFjdGlvblR5cGUuQ2xpY2ssXG4gICAgX2FbXCJjb250ZXh0bWVudVwiIC8qIENPTlRFWFRfTUVOVSAqL10gPSBNb3VzZUludGVyYWN0aW9uVHlwZS5Db250ZXh0TWVudSxcbiAgICBfYVtcImRibGNsaWNrXCIgLyogREJMX0NMSUNLICovXSA9IE1vdXNlSW50ZXJhY3Rpb25UeXBlLkRibENsaWNrLFxuICAgIF9hW1wiZm9jdXNcIiAvKiBGT0NVUyAqL10gPSBNb3VzZUludGVyYWN0aW9uVHlwZS5Gb2N1cyxcbiAgICBfYVtcImJsdXJcIiAvKiBCTFVSICovXSA9IE1vdXNlSW50ZXJhY3Rpb25UeXBlLkJsdXIsXG4gICAgX2FbXCJ0b3VjaHN0YXJ0XCIgLyogVE9VQ0hfU1RBUlQgKi9dID0gTW91c2VJbnRlcmFjdGlvblR5cGUuVG91Y2hTdGFydCxcbiAgICBfYVtcInRvdWNoZW5kXCIgLyogVE9VQ0hfRU5EICovXSA9IE1vdXNlSW50ZXJhY3Rpb25UeXBlLlRvdWNoRW5kLFxuICAgIF9hKTtcbmZ1bmN0aW9uIGluaXRNb3VzZUludGVyYWN0aW9uT2JzZXJ2ZXIoY2IsIGRlZmF1bHRQcml2YWN5TGV2ZWwpIHtcbiAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoZ2V0Tm9kZVByaXZhY3lMZXZlbCh0YXJnZXQsIGRlZmF1bHRQcml2YWN5TGV2ZWwpID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTiB8fCAhaGFzU2VyaWFsaXplZE5vZGUodGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGlzVG91Y2hFdmVudChldmVudCkgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXSA6IGV2ZW50LCBjbGllbnRYID0gX2EuY2xpZW50WCwgY2xpZW50WSA9IF9hLmNsaWVudFk7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHtcbiAgICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKHRhcmdldCksXG4gICAgICAgICAgICB0eXBlOiBldmVudFR5cGVUb01vdXNlSW50ZXJhY3Rpb25bZXZlbnQudHlwZV0sXG4gICAgICAgICAgICB4OiBjbGllbnRYLFxuICAgICAgICAgICAgeTogY2xpZW50WSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICAgICAgdmFyIF9iID0gY29udmVydE1vdXNlRXZlbnRUb0xheW91dENvb3JkaW5hdGVzKGNsaWVudFgsIGNsaWVudFkpLCB2aXN1YWxWaWV3cG9ydFggPSBfYi52aXN1YWxWaWV3cG9ydFgsIHZpc3VhbFZpZXdwb3J0WSA9IF9iLnZpc3VhbFZpZXdwb3J0WTtcbiAgICAgICAgICAgIHBvc2l0aW9uLnggPSB2aXN1YWxWaWV3cG9ydFg7XG4gICAgICAgICAgICBwb3NpdGlvbi55ID0gdmlzdWFsVmlld3BvcnRZO1xuICAgICAgICB9XG4gICAgICAgIGNiKHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVycyhkb2N1bWVudCwgT2JqZWN0LmtleXMoZXZlbnRUeXBlVG9Nb3VzZUludGVyYWN0aW9uKSwgaGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgIH0pLnN0b3A7XG59XG5mdW5jdGlvbiBpbml0U2Nyb2xsT2JzZXJ2ZXIoY2IsIGRlZmF1bHRQcml2YWN5TGV2ZWwpIHtcbiAgICB2YXIgdXBkYXRlUG9zaXRpb24gPSB0aHJvdHRsZShtb25pdG9yKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoIXRhcmdldCB8fFxuICAgICAgICAgICAgZ2V0Tm9kZVByaXZhY3lMZXZlbCh0YXJnZXQsIGRlZmF1bHRQcml2YWN5TGV2ZWwpID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTiB8fFxuICAgICAgICAgICAgIWhhc1NlcmlhbGl6ZWROb2RlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWQgPSBnZXRTZXJpYWxpemVkTm9kZUlkKHRhcmdldCk7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IGRvY3VtZW50KSB7XG4gICAgICAgICAgICBjYih7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHg6IGdldFNjcm9sbFgoKSxcbiAgICAgICAgICAgICAgICB5OiBnZXRTY3JvbGxZKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNiKHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgeDogdGFyZ2V0LnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICAgeTogdGFyZ2V0LnNjcm9sbFRvcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSksIFNDUk9MTF9PQlNFUlZFUl9USFJFU0hPTEQpLnRocm90dGxlZDtcbiAgICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJzY3JvbGxcIiAvKiBTQ1JPTEwgKi8sIHVwZGF0ZVBvc2l0aW9uLCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfSkuc3RvcDtcbn1cbmZ1bmN0aW9uIGluaXRWaWV3cG9ydFJlc2l6ZU9ic2VydmVyKGNiKSB7XG4gICAgdmFyIHVwZGF0ZURpbWVuc2lvbiA9IHRocm90dGxlKG1vbml0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZ2V0V2luZG93SGVpZ2h0KCk7XG4gICAgICAgIHZhciB3aWR0aCA9IGdldFdpbmRvd1dpZHRoKCk7XG4gICAgICAgIGNiKHtcbiAgICAgICAgICAgIGhlaWdodDogTnVtYmVyKGhlaWdodCksXG4gICAgICAgICAgICB3aWR0aDogTnVtYmVyKHdpZHRoKSxcbiAgICAgICAgfSk7XG4gICAgfSksIDIwMCkudGhyb3R0bGVkO1xuICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgXCJyZXNpemVcIiAvKiBSRVNJWkUgKi8sIHVwZGF0ZURpbWVuc2lvbiwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0pLnN0b3A7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdElucHV0T2JzZXJ2ZXIoY2IsIGRlZmF1bHRQcml2YWN5TGV2ZWwpIHtcbiAgICB2YXIgbGFzdElucHV0U3RhdGVNYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgIGZ1bmN0aW9uIG9uRWxlbWVudENoYW5nZSh0YXJnZXQpIHtcbiAgICAgICAgdmFyIG5vZGVQcml2YWN5TGV2ZWwgPSBnZXROb2RlUHJpdmFjeUxldmVsKHRhcmdldCwgZGVmYXVsdFByaXZhY3lMZXZlbCk7XG4gICAgICAgIGlmIChub2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0eXBlID0gdGFyZ2V0LnR5cGU7XG4gICAgICAgIHZhciBpbnB1dFN0YXRlO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJyB8fCB0eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkTWFza05vZGUodGFyZ2V0LCBub2RlUHJpdmFjeUxldmVsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0U3RhdGUgPSB7IGlzQ2hlY2tlZDogdGFyZ2V0LmNoZWNrZWQgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldEVsZW1lbnRJbnB1dFZhbHVlKHRhcmdldCwgbm9kZVByaXZhY3lMZXZlbCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0U3RhdGUgPSB7IHRleHQ6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FuIGJlIG11bHRpcGxlIGNoYW5nZXMgb24gdGhlIHNhbWUgbm9kZSB3aXRoaW4gdGhlIHNhbWUgYmF0Y2hlZCBtdXRhdGlvbiBvYnNlcnZhdGlvbi5cbiAgICAgICAgY2JXaXRoRGVkdXAodGFyZ2V0LCBpbnB1dFN0YXRlKTtcbiAgICAgICAgLy8gSWYgYSByYWRpbyB3YXMgY2hlY2tlZCwgb3RoZXIgcmFkaW9zIHdpdGggdGhlIHNhbWUgbmFtZSBhdHRyaWJ1dGUgd2lsbCBiZSB1bmNoZWNrZWQuXG4gICAgICAgIHZhciBuYW1lID0gdGFyZ2V0Lm5hbWU7XG4gICAgICAgIGlmICh0eXBlID09PSAncmFkaW8nICYmIG5hbWUgJiYgdGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGZvckVhY2goZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl1bbmFtZT1cXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIl1cIikpLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwgIT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBDb25zaWRlciB0aGUgcHJpdmFjeSBpbXBsaWNhdGlvbnMgZm9yIHZhcmlvdXMgZGlmZmVyaW5nIGlucHV0IHByaXZhY3kgbGV2ZWxzXG4gICAgICAgICAgICAgICAgICAgIGNiV2l0aERlZHVwKGVsLCB7IGlzQ2hlY2tlZDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlcmUgY2FuIGJlIG11bHRpcGxlIGNoYW5nZXMgb24gdGhlIHNhbWUgbm9kZSB3aXRoaW4gdGhlIHNhbWUgYmF0Y2hlZCBtdXRhdGlvbiBvYnNlcnZhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYldpdGhEZWR1cCh0YXJnZXQsIGlucHV0U3RhdGUpIHtcbiAgICAgICAgaWYgKCFoYXNTZXJpYWxpemVkTm9kZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RJbnB1dFN0YXRlID0gbGFzdElucHV0U3RhdGVNYXAuZ2V0KHRhcmdldCk7XG4gICAgICAgIGlmICghbGFzdElucHV0U3RhdGUgfHxcbiAgICAgICAgICAgIGxhc3RJbnB1dFN0YXRlLnRleHQgIT09IGlucHV0U3RhdGUudGV4dCB8fFxuICAgICAgICAgICAgbGFzdElucHV0U3RhdGUuaXNDaGVja2VkICE9PSBpbnB1dFN0YXRlLmlzQ2hlY2tlZCkge1xuICAgICAgICAgICAgbGFzdElucHV0U3RhdGVNYXAuc2V0KHRhcmdldCwgaW5wdXRTdGF0ZSk7XG4gICAgICAgICAgICBjYihhc3NpZ24oe1xuICAgICAgICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKHRhcmdldCksXG4gICAgICAgICAgICB9LCBpbnB1dFN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN0b3BFdmVudExpc3RlbmVycyA9IGFkZEV2ZW50TGlzdGVuZXJzKGRvY3VtZW50LCBbXCJpbnB1dFwiIC8qIElOUFVUICovLCBcImNoYW5nZVwiIC8qIENIQU5HRSAqL10sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fFxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fFxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIG9uRWxlbWVudENoYW5nZShldmVudC50YXJnZXQpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgIH0pLnN0b3A7XG4gICAgdmFyIGluc3RydW1lbnRhdGlvblN0b3BwZXJzID0gW1xuICAgICAgICBpbnN0cnVtZW50U2V0dGVyKEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLCAndmFsdWUnLCBvbkVsZW1lbnRDaGFuZ2UpLFxuICAgICAgICBpbnN0cnVtZW50U2V0dGVyKEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLCAnY2hlY2tlZCcsIG9uRWxlbWVudENoYW5nZSksXG4gICAgICAgIGluc3RydW1lbnRTZXR0ZXIoSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLCAndmFsdWUnLCBvbkVsZW1lbnRDaGFuZ2UpLFxuICAgICAgICBpbnN0cnVtZW50U2V0dGVyKEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLCAndmFsdWUnLCBvbkVsZW1lbnRDaGFuZ2UpLFxuICAgICAgICBpbnN0cnVtZW50U2V0dGVyKEhUTUxTZWxlY3RFbGVtZW50LnByb3RvdHlwZSwgJ3NlbGVjdGVkSW5kZXgnLCBvbkVsZW1lbnRDaGFuZ2UpLFxuICAgIF07XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5zdHJ1bWVudGF0aW9uU3RvcHBlcnMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcHBlcikgeyByZXR1cm4gc3RvcHBlci5zdG9wKCk7IH0pO1xuICAgICAgICBzdG9wRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gaW5pdFN0eWxlU2hlZXRPYnNlcnZlcihjYikge1xuICAgIHZhciByZXN0b3JlSW5zZXJ0UnVsZSA9IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsICdpbnNlcnRSdWxlJywge1xuICAgICAgICBiZWZvcmU6IGZ1bmN0aW9uIChydWxlLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGhhc1NlcmlhbGl6ZWROb2RlKHRoaXMub3duZXJOb2RlKSkge1xuICAgICAgICAgICAgICAgIGNiKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQodGhpcy5vd25lck5vZGUpLFxuICAgICAgICAgICAgICAgICAgICBhZGRzOiBbeyBydWxlOiBydWxlLCBpbmRleDogaW5kZXggfV0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSkuc3RvcDtcbiAgICB2YXIgcmVzdG9yZURlbGV0ZVJ1bGUgPSBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKENTU1N0eWxlU2hlZXQucHJvdG90eXBlLCAnZGVsZXRlUnVsZScsIHtcbiAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChoYXNTZXJpYWxpemVkTm9kZSh0aGlzLm93bmVyTm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjYih7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKHRoaXMub3duZXJOb2RlKSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlczogW3sgaW5kZXg6IGluZGV4IH1dLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pLnN0b3A7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzdG9yZUluc2VydFJ1bGUoKTtcbiAgICAgICAgcmVzdG9yZURlbGV0ZVJ1bGUoKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gaW5pdE1lZGlhSW50ZXJhY3Rpb25PYnNlcnZlcihtZWRpYUludGVyYWN0aW9uQ2IsIGRlZmF1bHRQcml2YWN5TGV2ZWwpIHtcbiAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoIXRhcmdldCB8fFxuICAgICAgICAgICAgZ2V0Tm9kZVByaXZhY3lMZXZlbCh0YXJnZXQsIGRlZmF1bHRQcml2YWN5TGV2ZWwpID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTiB8fFxuICAgICAgICAgICAgIWhhc1NlcmlhbGl6ZWROb2RlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYUludGVyYWN0aW9uQ2Ioe1xuICAgICAgICAgICAgaWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQodGFyZ2V0KSxcbiAgICAgICAgICAgIHR5cGU6IGV2ZW50LnR5cGUgPT09IFwicGxheVwiIC8qIFBMQVkgKi8gPyBNZWRpYUludGVyYWN0aW9uVHlwZS5QbGF5IDogTWVkaWFJbnRlcmFjdGlvblR5cGUuUGF1c2UsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXJzKGRvY3VtZW50LCBbXCJwbGF5XCIgLyogUExBWSAqLywgXCJwYXVzZVwiIC8qIFBBVVNFICovXSwgaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0pLnN0b3A7XG59XG5mdW5jdGlvbiBpbml0Rm9jdXNPYnNlcnZlcihmb2N1c0NiKSB7XG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXJzKHdpbmRvdywgW1wiZm9jdXNcIiAvKiBGT0NVUyAqLywgXCJibHVyXCIgLyogQkxVUiAqL10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9jdXNDYih7IGhhc19mb2N1czogZG9jdW1lbnQuaGFzRm9jdXMoKSB9KTtcbiAgICB9KS5zdG9wO1xufVxuZnVuY3Rpb24gaW5pdFZpc3VhbFZpZXdwb3J0UmVzaXplT2JzZXJ2ZXIoY2IpIHtcbiAgICBpZiAoIXdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgdmFyIF9hID0gdGhyb3R0bGUobW9uaXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNiKGdldFZpc3VhbFZpZXdwb3J0KCkpO1xuICAgIH0pLCBWSVNVQUxfVklFV1BPUlRfT0JTRVJWRVJfVEhSRVNIT0xELCB7XG4gICAgICAgIHRyYWlsaW5nOiBmYWxzZSxcbiAgICB9KSwgdXBkYXRlRGltZW5zaW9uID0gX2EudGhyb3R0bGVkLCBjYW5jZWxUaHJvdHRsZSA9IF9hLmNhbmNlbDtcbiAgICB2YXIgcmVtb3ZlTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVycyh3aW5kb3cudmlzdWFsVmlld3BvcnQsIFtcInJlc2l6ZVwiIC8qIFJFU0laRSAqLywgXCJzY3JvbGxcIiAvKiBTQ1JPTEwgKi9dLCB1cGRhdGVEaW1lbnNpb24sIHtcbiAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICB9KS5zdG9wO1xuICAgIHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcigpO1xuICAgICAgICBjYW5jZWxUaHJvdHRsZSgpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/observer.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/privacy.js":
/*!************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/privacy.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MAX_ATTRIBUTE_VALUE_CHAR_LENGTH\": function() { return /* binding */ MAX_ATTRIBUTE_VALUE_CHAR_LENGTH; },\n/* harmony export */   \"censorText\": function() { return /* binding */ censorText; },\n/* harmony export */   \"getNodePrivacyLevel\": function() { return /* binding */ getNodePrivacyLevel; },\n/* harmony export */   \"getNodeSelfPrivacyLevel\": function() { return /* binding */ getNodeSelfPrivacyLevel; },\n/* harmony export */   \"getTextContent\": function() { return /* binding */ getTextContent; },\n/* harmony export */   \"reducePrivacyLevel\": function() { return /* binding */ reducePrivacyLevel; },\n/* harmony export */   \"shouldIgnoreElement\": function() { return /* binding */ shouldIgnoreElement; },\n/* harmony export */   \"shouldMaskNode\": function() { return /* binding */ shouldMaskNode; }\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../constants */ \"./node_modules/@datadog/browser-rum/esm/constants.js\");\n\nvar MAX_ATTRIBUTE_VALUE_CHAR_LENGTH = 100000;\nvar TEXT_MASKING_CHAR = 'x';\n/**\n * Get node privacy level by iterating over its ancestors. When the direct parent privacy level is\n * know, it is best to use something like:\n *\n * derivePrivacyLevelGivenParent(getNodeSelfPrivacyLevel(node), parentNodePrivacyLevel)\n */\nfunction getNodePrivacyLevel(node, defaultPrivacyLevel) {\n    var parentNodePrivacyLevel = node.parentNode\n        ? getNodePrivacyLevel(node.parentNode, defaultPrivacyLevel)\n        : defaultPrivacyLevel;\n    var selfNodePrivacyLevel = getNodeSelfPrivacyLevel(node);\n    return reducePrivacyLevel(selfNodePrivacyLevel, parentNodePrivacyLevel);\n}\n/**\n * Reduces the next privacy level based on self + parent privacy levels\n */\nfunction reducePrivacyLevel(childPrivacyLevel, parentNodePrivacyLevel) {\n    switch (parentNodePrivacyLevel) {\n        // These values cannot be overridden\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN:\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.IGNORE:\n            return parentNodePrivacyLevel;\n    }\n    switch (childPrivacyLevel) {\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.ALLOW:\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK:\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK_USER_INPUT:\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN:\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.IGNORE:\n            return childPrivacyLevel;\n        default:\n            return parentNodePrivacyLevel;\n    }\n}\n/**\n * Determines the node's own privacy level without checking for ancestors.\n */\nfunction getNodeSelfPrivacyLevel(node) {\n    // Only Element types can have a privacy level set\n    if (!isElement(node)) {\n        return;\n    }\n    var privAttr = node.getAttribute(_constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_NAME);\n    // Overrules for replay purpose\n    if (node.tagName === 'BASE') {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.ALLOW;\n    }\n    // Overrules to enforce end-user protection\n    if (node.tagName === 'INPUT') {\n        var inputElement = node;\n        if (inputElement.type === 'password' || inputElement.type === 'email' || inputElement.type === 'tel') {\n            return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK;\n        }\n        if (inputElement.type === 'hidden') {\n            return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK;\n        }\n        var autocomplete = inputElement.getAttribute('autocomplete');\n        // Handle input[autocomplete=cc-number/cc-csc/cc-exp/cc-exp-month/cc-exp-year]\n        if (autocomplete && autocomplete.indexOf('cc-') === 0) {\n            return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK;\n        }\n    }\n    // Check HTML privacy attributes and classes\n    if (privAttr === _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_HIDDEN || node.classList.contains(_constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_HIDDEN)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN;\n    }\n    if (privAttr === _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_MASK || node.classList.contains(_constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_MASK)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK;\n    }\n    if (privAttr === _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_MASK_USER_INPUT || node.classList.contains(_constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_MASK_USER_INPUT)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK_USER_INPUT;\n    }\n    if (privAttr === _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_ALLOW || node.classList.contains(_constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_ALLOW)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.ALLOW;\n    }\n    if (shouldIgnoreElement(node)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.IGNORE;\n    }\n}\n/**\n * Helper aiming to unify `mask` and `mask-user-input` privacy levels:\n *\n * In the `mask` case, it is trivial: we should mask the element.\n *\n * In the `mask-user-input` case, we should mask the element only if it is a \"form\" element or the\n * direct parent is a form element for text nodes).\n *\n * Other `shouldMaskNode` cases are edge cases that should not matter too much (ex: should we mask a\n * node if it is ignored or hidden? it doesn't matter since it won't be serialized).\n */\nfunction shouldMaskNode(node, privacyLevel) {\n    switch (privacyLevel) {\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK:\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN:\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.IGNORE:\n            return true;\n        case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK_USER_INPUT:\n            return isTextNode(node) ? isFormElement(node.parentNode) : isFormElement(node);\n        default:\n            return false;\n    }\n}\nfunction isElement(node) {\n    return node.nodeType === node.ELEMENT_NODE;\n}\nfunction isTextNode(node) {\n    return node.nodeType === node.TEXT_NODE;\n}\nfunction isFormElement(node) {\n    if (!node || node.nodeType !== node.ELEMENT_NODE) {\n        return false;\n    }\n    var element = node;\n    if (element.tagName === 'INPUT') {\n        switch (element.type) {\n            case 'button':\n            case 'color':\n            case 'reset':\n            case 'submit':\n                return false;\n        }\n    }\n    return !!_constants__WEBPACK_IMPORTED_MODULE_0__.FORM_PRIVATE_TAG_NAMES[element.tagName];\n}\n/**\n * Text censoring non-destructively maintains whitespace characters in order to preserve text shape\n * during replay.\n */\nvar censorText = function (text) { return text.replace(/\\S/g, TEXT_MASKING_CHAR); };\nfunction getTextContent(textNode, ignoreWhiteSpace, parentNodePrivacyLevel) {\n    var _a;\n    // The parent node may not be a html element which has a tagName attribute.\n    // So just let it be undefined which is ok in this use case.\n    var parentTagName = (_a = textNode.parentElement) === null || _a === void 0 ? void 0 : _a.tagName;\n    var textContent = textNode.textContent || '';\n    if (ignoreWhiteSpace && !textContent.trim()) {\n        return;\n    }\n    var nodePrivacyLevel = parentNodePrivacyLevel;\n    var isStyle = parentTagName === 'STYLE' ? true : undefined;\n    var isScript = parentTagName === 'SCRIPT';\n    if (isScript) {\n        // For perf reasons, we don't record script (heuristic)\n        textContent = _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;\n    }\n    else if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN) {\n        // Should never occur, but just in case, we set to CENSORED_MARK.\n        textContent = _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;\n    }\n    else if (shouldMaskNode(textNode, nodePrivacyLevel) &&\n        // Style tags are `overruled` (Use `hide` to enforce privacy)\n        !isStyle) {\n        if (\n        // Scrambling the child list breaks text nodes for DATALIST/SELECT/OPTGROUP\n        parentTagName === 'DATALIST' ||\n            parentTagName === 'SELECT' ||\n            parentTagName === 'OPTGROUP') {\n            if (!textContent.trim()) {\n                return;\n            }\n        }\n        else if (parentTagName === 'OPTION') {\n            // <Option> has low entropy in charset + text length, so use `CENSORED_STRING_MARK` when masked\n            textContent = _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;\n        }\n        else {\n            textContent = censorText(textContent);\n        }\n    }\n    return textContent;\n}\n/**\n * TODO: Preserve CSS element order, and record the presence of the tag, just don't render\n * We don't need this logic on the recorder side.\n * For security related meta's, customer can mask themmanually given they\n * are easy to identify in the HEAD tag.\n */\nfunction shouldIgnoreElement(element) {\n    if (element.nodeName === 'SCRIPT') {\n        return true;\n    }\n    if (element.nodeName === 'LINK') {\n        var relAttribute = getLowerCaseAttribute('rel');\n        return (\n        // Scripts\n        (relAttribute === 'preload' && getLowerCaseAttribute('as') === 'script') ||\n            // Favicons\n            relAttribute === 'shortcut icon' ||\n            relAttribute === 'icon');\n    }\n    if (element.nodeName === 'META') {\n        var nameAttribute = getLowerCaseAttribute('name');\n        var relAttribute = getLowerCaseAttribute('rel');\n        var propertyAttribute = getLowerCaseAttribute('property');\n        return (\n        // Favicons\n        /^msapplication-tile(image|color)$/.test(nameAttribute) ||\n            nameAttribute === 'application-name' ||\n            relAttribute === 'icon' ||\n            relAttribute === 'apple-touch-icon' ||\n            relAttribute === 'shortcut icon' ||\n            // Description\n            nameAttribute === 'keywords' ||\n            nameAttribute === 'description' ||\n            // Social\n            /^(og|twitter|fb):/.test(propertyAttribute) ||\n            /^(og|twitter):/.test(nameAttribute) ||\n            nameAttribute === 'pinterest' ||\n            // Robots\n            nameAttribute === 'robots' ||\n            nameAttribute === 'googlebot' ||\n            nameAttribute === 'bingbot' ||\n            // Http headers. Ex: X-UA-Compatible, Content-Type, Content-Language, cache-control,\n            // X-Translated-By\n            element.hasAttribute('http-equiv') ||\n            // Authorship\n            nameAttribute === 'author' ||\n            nameAttribute === 'generator' ||\n            nameAttribute === 'framework' ||\n            nameAttribute === 'publisher' ||\n            nameAttribute === 'progid' ||\n            /^article:/.test(propertyAttribute) ||\n            /^product:/.test(propertyAttribute) ||\n            // Verification\n            nameAttribute === 'google-site-verification' ||\n            nameAttribute === 'yandex-verification' ||\n            nameAttribute === 'csrf-token' ||\n            nameAttribute === 'p:domain_verify' ||\n            nameAttribute === 'verify-v1' ||\n            nameAttribute === 'verification' ||\n            nameAttribute === 'shopify-checkout-api-token');\n    }\n    function getLowerCaseAttribute(name) {\n        return (element.getAttribute(name) || '').toLowerCase();\n    }\n    return false;\n}\n//# sourceMappingURL=privacy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvcHJpdmFjeS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBcVU7QUFDOVQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsYUFBYSwrREFBdUI7QUFDcEMsYUFBYSwrREFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4REFBc0I7QUFDbkMsYUFBYSw2REFBcUI7QUFDbEMsYUFBYSx3RUFBZ0M7QUFDN0MsYUFBYSwrREFBdUI7QUFDcEMsYUFBYSwrREFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMseURBQWlCO0FBQ3REO0FBQ0E7QUFDQSxlQUFlLDhEQUFzQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDZEQUFxQjtBQUN4QztBQUNBO0FBQ0EsbUJBQW1CLDZEQUFxQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBcUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlFQUF5Qiw0QkFBNEIsNERBQW9CO0FBQzlGLGVBQWUsK0RBQXVCO0FBQ3RDO0FBQ0EscUJBQXFCLCtEQUF1Qiw0QkFBNEIsMERBQWtCO0FBQzFGLGVBQWUsNkRBQXFCO0FBQ3BDO0FBQ0EscUJBQXFCLDBFQUFrQyw0QkFBNEIscUVBQTZCO0FBQ2hILGVBQWUsd0VBQWdDO0FBQy9DO0FBQ0EscUJBQXFCLGdFQUF3Qiw0QkFBNEIsMkRBQW1CO0FBQzVGLGVBQWUsOERBQXNCO0FBQ3JDO0FBQ0E7QUFDQSxlQUFlLCtEQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxhQUFhLDZEQUFxQjtBQUNsQyxhQUFhLCtEQUF1QjtBQUNwQyxhQUFhLCtEQUF1QjtBQUNwQztBQUNBLGFBQWEsd0VBQWdDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4REFBc0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1DQUFtQztBQUNuQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDREQUFvQjtBQUMxQztBQUNBLGtDQUFrQywrREFBdUI7QUFDekQ7QUFDQSxzQkFBc0IsNERBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0REFBb0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvcHJpdmFjeS5qcz9jOTE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGVQcml2YWN5TGV2ZWwsIFBSSVZBQ1lfQVRUUl9OQU1FLCBQUklWQUNZX0FUVFJfVkFMVUVfQUxMT1csIFBSSVZBQ1lfQVRUUl9WQUxVRV9NQVNLLCBQUklWQUNZX0FUVFJfVkFMVUVfTUFTS19VU0VSX0lOUFVULCBQUklWQUNZX0FUVFJfVkFMVUVfSElEREVOLCBQUklWQUNZX0NMQVNTX0FMTE9XLCBQUklWQUNZX0NMQVNTX01BU0ssIFBSSVZBQ1lfQ0xBU1NfTUFTS19VU0VSX0lOUFVULCBQUklWQUNZX0NMQVNTX0hJRERFTiwgRk9STV9QUklWQVRFX1RBR19OQU1FUywgQ0VOU09SRURfU1RSSU5HX01BUkssIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmV4cG9ydCB2YXIgTUFYX0FUVFJJQlVURV9WQUxVRV9DSEFSX0xFTkdUSCA9IDEwMDAwMDtcbnZhciBURVhUX01BU0tJTkdfQ0hBUiA9ICd4Jztcbi8qKlxuICogR2V0IG5vZGUgcHJpdmFjeSBsZXZlbCBieSBpdGVyYXRpbmcgb3ZlciBpdHMgYW5jZXN0b3JzLiBXaGVuIHRoZSBkaXJlY3QgcGFyZW50IHByaXZhY3kgbGV2ZWwgaXNcbiAqIGtub3csIGl0IGlzIGJlc3QgdG8gdXNlIHNvbWV0aGluZyBsaWtlOlxuICpcbiAqIGRlcml2ZVByaXZhY3lMZXZlbEdpdmVuUGFyZW50KGdldE5vZGVTZWxmUHJpdmFjeUxldmVsKG5vZGUpLCBwYXJlbnROb2RlUHJpdmFjeUxldmVsKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVByaXZhY3lMZXZlbChub2RlLCBkZWZhdWx0UHJpdmFjeUxldmVsKSB7XG4gICAgdmFyIHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPSBub2RlLnBhcmVudE5vZGVcbiAgICAgICAgPyBnZXROb2RlUHJpdmFjeUxldmVsKG5vZGUucGFyZW50Tm9kZSwgZGVmYXVsdFByaXZhY3lMZXZlbClcbiAgICAgICAgOiBkZWZhdWx0UHJpdmFjeUxldmVsO1xuICAgIHZhciBzZWxmTm9kZVByaXZhY3lMZXZlbCA9IGdldE5vZGVTZWxmUHJpdmFjeUxldmVsKG5vZGUpO1xuICAgIHJldHVybiByZWR1Y2VQcml2YWN5TGV2ZWwoc2VsZk5vZGVQcml2YWN5TGV2ZWwsIHBhcmVudE5vZGVQcml2YWN5TGV2ZWwpO1xufVxuLyoqXG4gKiBSZWR1Y2VzIHRoZSBuZXh0IHByaXZhY3kgbGV2ZWwgYmFzZWQgb24gc2VsZiArIHBhcmVudCBwcml2YWN5IGxldmVsc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlUHJpdmFjeUxldmVsKGNoaWxkUHJpdmFjeUxldmVsLCBwYXJlbnROb2RlUHJpdmFjeUxldmVsKSB7XG4gICAgc3dpdGNoIChwYXJlbnROb2RlUHJpdmFjeUxldmVsKSB7XG4gICAgICAgIC8vIFRoZXNlIHZhbHVlcyBjYW5ub3QgYmUgb3ZlcnJpZGRlblxuICAgICAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuSElEREVOOlxuICAgICAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFOlxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudE5vZGVQcml2YWN5TGV2ZWw7XG4gICAgfVxuICAgIHN3aXRjaCAoY2hpbGRQcml2YWN5TGV2ZWwpIHtcbiAgICAgICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLkFMTE9XOlxuICAgICAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuTUFTSzpcbiAgICAgICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLk1BU0tfVVNFUl9JTlBVVDpcbiAgICAgICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTjpcbiAgICAgICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLklHTk9SRTpcbiAgICAgICAgICAgIHJldHVybiBjaGlsZFByaXZhY3lMZXZlbDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnROb2RlUHJpdmFjeUxldmVsO1xuICAgIH1cbn1cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgbm9kZSdzIG93biBwcml2YWN5IGxldmVsIHdpdGhvdXQgY2hlY2tpbmcgZm9yIGFuY2VzdG9ycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVTZWxmUHJpdmFjeUxldmVsKG5vZGUpIHtcbiAgICAvLyBPbmx5IEVsZW1lbnQgdHlwZXMgY2FuIGhhdmUgYSBwcml2YWN5IGxldmVsIHNldFxuICAgIGlmICghaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHByaXZBdHRyID0gbm9kZS5nZXRBdHRyaWJ1dGUoUFJJVkFDWV9BVFRSX05BTUUpO1xuICAgIC8vIE92ZXJydWxlcyBmb3IgcmVwbGF5IHB1cnBvc2VcbiAgICBpZiAobm9kZS50YWdOYW1lID09PSAnQkFTRScpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuQUxMT1c7XG4gICAgfVxuICAgIC8vIE92ZXJydWxlcyB0byBlbmZvcmNlIGVuZC11c2VyIHByb3RlY3Rpb25cbiAgICBpZiAobm9kZS50YWdOYW1lID09PSAnSU5QVVQnKSB7XG4gICAgICAgIHZhciBpbnB1dEVsZW1lbnQgPSBub2RlO1xuICAgICAgICBpZiAoaW5wdXRFbGVtZW50LnR5cGUgPT09ICdwYXNzd29yZCcgfHwgaW5wdXRFbGVtZW50LnR5cGUgPT09ICdlbWFpbCcgfHwgaW5wdXRFbGVtZW50LnR5cGUgPT09ICd0ZWwnKSB7XG4gICAgICAgICAgICByZXR1cm4gTm9kZVByaXZhY3lMZXZlbC5NQVNLO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQudHlwZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLk1BU0s7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF1dG9jb21wbGV0ZSA9IGlucHV0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScpO1xuICAgICAgICAvLyBIYW5kbGUgaW5wdXRbYXV0b2NvbXBsZXRlPWNjLW51bWJlci9jYy1jc2MvY2MtZXhwL2NjLWV4cC1tb250aC9jYy1leHAteWVhcl1cbiAgICAgICAgaWYgKGF1dG9jb21wbGV0ZSAmJiBhdXRvY29tcGxldGUuaW5kZXhPZignY2MtJykgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLk1BU0s7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ2hlY2sgSFRNTCBwcml2YWN5IGF0dHJpYnV0ZXMgYW5kIGNsYXNzZXNcbiAgICBpZiAocHJpdkF0dHIgPT09IFBSSVZBQ1lfQVRUUl9WQUxVRV9ISURERU4gfHwgbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoUFJJVkFDWV9DTEFTU19ISURERU4pKSB7XG4gICAgICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLkhJRERFTjtcbiAgICB9XG4gICAgaWYgKHByaXZBdHRyID09PSBQUklWQUNZX0FUVFJfVkFMVUVfTUFTSyB8fCBub2RlLmNsYXNzTGlzdC5jb250YWlucyhQUklWQUNZX0NMQVNTX01BU0spKSB7XG4gICAgICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLk1BU0s7XG4gICAgfVxuICAgIGlmIChwcml2QXR0ciA9PT0gUFJJVkFDWV9BVFRSX1ZBTFVFX01BU0tfVVNFUl9JTlBVVCB8fCBub2RlLmNsYXNzTGlzdC5jb250YWlucyhQUklWQUNZX0NMQVNTX01BU0tfVVNFUl9JTlBVVCkpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuTUFTS19VU0VSX0lOUFVUO1xuICAgIH1cbiAgICBpZiAocHJpdkF0dHIgPT09IFBSSVZBQ1lfQVRUUl9WQUxVRV9BTExPVyB8fCBub2RlLmNsYXNzTGlzdC5jb250YWlucyhQUklWQUNZX0NMQVNTX0FMTE9XKSkge1xuICAgICAgICByZXR1cm4gTm9kZVByaXZhY3lMZXZlbC5BTExPVztcbiAgICB9XG4gICAgaWYgKHNob3VsZElnbm9yZUVsZW1lbnQobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFO1xuICAgIH1cbn1cbi8qKlxuICogSGVscGVyIGFpbWluZyB0byB1bmlmeSBgbWFza2AgYW5kIGBtYXNrLXVzZXItaW5wdXRgIHByaXZhY3kgbGV2ZWxzOlxuICpcbiAqIEluIHRoZSBgbWFza2AgY2FzZSwgaXQgaXMgdHJpdmlhbDogd2Ugc2hvdWxkIG1hc2sgdGhlIGVsZW1lbnQuXG4gKlxuICogSW4gdGhlIGBtYXNrLXVzZXItaW5wdXRgIGNhc2UsIHdlIHNob3VsZCBtYXNrIHRoZSBlbGVtZW50IG9ubHkgaWYgaXQgaXMgYSBcImZvcm1cIiBlbGVtZW50IG9yIHRoZVxuICogZGlyZWN0IHBhcmVudCBpcyBhIGZvcm0gZWxlbWVudCBmb3IgdGV4dCBub2RlcykuXG4gKlxuICogT3RoZXIgYHNob3VsZE1hc2tOb2RlYCBjYXNlcyBhcmUgZWRnZSBjYXNlcyB0aGF0IHNob3VsZCBub3QgbWF0dGVyIHRvbyBtdWNoIChleDogc2hvdWxkIHdlIG1hc2sgYVxuICogbm9kZSBpZiBpdCBpcyBpZ25vcmVkIG9yIGhpZGRlbj8gaXQgZG9lc24ndCBtYXR0ZXIgc2luY2UgaXQgd29uJ3QgYmUgc2VyaWFsaXplZCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRNYXNrTm9kZShub2RlLCBwcml2YWN5TGV2ZWwpIHtcbiAgICBzd2l0Y2ggKHByaXZhY3lMZXZlbCkge1xuICAgICAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuTUFTSzpcbiAgICAgICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTjpcbiAgICAgICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLklHTk9SRTpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuTUFTS19VU0VSX0lOUFVUOlxuICAgICAgICAgICAgcmV0dXJuIGlzVGV4dE5vZGUobm9kZSkgPyBpc0Zvcm1FbGVtZW50KG5vZGUucGFyZW50Tm9kZSkgOiBpc0Zvcm1FbGVtZW50KG5vZGUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IG5vZGUuRUxFTUVOVF9OT0RFO1xufVxuZnVuY3Rpb24gaXNUZXh0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IG5vZGUuVEVYVF9OT0RFO1xufVxuZnVuY3Rpb24gaXNGb3JtRWxlbWVudChub2RlKSB7XG4gICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZVR5cGUgIT09IG5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGVsZW1lbnQgPSBub2RlO1xuICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgc3dpdGNoIChlbGVtZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgICAgICBjYXNlICdjb2xvcic6XG4gICAgICAgICAgICBjYXNlICdyZXNldCc6XG4gICAgICAgICAgICBjYXNlICdzdWJtaXQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gISFGT1JNX1BSSVZBVEVfVEFHX05BTUVTW2VsZW1lbnQudGFnTmFtZV07XG59XG4vKipcbiAqIFRleHQgY2Vuc29yaW5nIG5vbi1kZXN0cnVjdGl2ZWx5IG1haW50YWlucyB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMgaW4gb3JkZXIgdG8gcHJlc2VydmUgdGV4dCBzaGFwZVxuICogZHVyaW5nIHJlcGxheS5cbiAqL1xuZXhwb3J0IHZhciBjZW5zb3JUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHsgcmV0dXJuIHRleHQucmVwbGFjZSgvXFxTL2csIFRFWFRfTUFTS0lOR19DSEFSKTsgfTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0Q29udGVudCh0ZXh0Tm9kZSwgaWdub3JlV2hpdGVTcGFjZSwgcGFyZW50Tm9kZVByaXZhY3lMZXZlbCkge1xuICAgIHZhciBfYTtcbiAgICAvLyBUaGUgcGFyZW50IG5vZGUgbWF5IG5vdCBiZSBhIGh0bWwgZWxlbWVudCB3aGljaCBoYXMgYSB0YWdOYW1lIGF0dHJpYnV0ZS5cbiAgICAvLyBTbyBqdXN0IGxldCBpdCBiZSB1bmRlZmluZWQgd2hpY2ggaXMgb2sgaW4gdGhpcyB1c2UgY2FzZS5cbiAgICB2YXIgcGFyZW50VGFnTmFtZSA9IChfYSA9IHRleHROb2RlLnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50YWdOYW1lO1xuICAgIHZhciB0ZXh0Q29udGVudCA9IHRleHROb2RlLnRleHRDb250ZW50IHx8ICcnO1xuICAgIGlmIChpZ25vcmVXaGl0ZVNwYWNlICYmICF0ZXh0Q29udGVudC50cmltKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbm9kZVByaXZhY3lMZXZlbCA9IHBhcmVudE5vZGVQcml2YWN5TGV2ZWw7XG4gICAgdmFyIGlzU3R5bGUgPSBwYXJlbnRUYWdOYW1lID09PSAnU1RZTEUnID8gdHJ1ZSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgaXNTY3JpcHQgPSBwYXJlbnRUYWdOYW1lID09PSAnU0NSSVBUJztcbiAgICBpZiAoaXNTY3JpcHQpIHtcbiAgICAgICAgLy8gRm9yIHBlcmYgcmVhc29ucywgd2UgZG9uJ3QgcmVjb3JkIHNjcmlwdCAoaGV1cmlzdGljKVxuICAgICAgICB0ZXh0Q29udGVudCA9IENFTlNPUkVEX1NUUklOR19NQVJLO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTikge1xuICAgICAgICAvLyBTaG91bGQgbmV2ZXIgb2NjdXIsIGJ1dCBqdXN0IGluIGNhc2UsIHdlIHNldCB0byBDRU5TT1JFRF9NQVJLLlxuICAgICAgICB0ZXh0Q29udGVudCA9IENFTlNPUkVEX1NUUklOR19NQVJLO1xuICAgIH1cbiAgICBlbHNlIGlmIChzaG91bGRNYXNrTm9kZSh0ZXh0Tm9kZSwgbm9kZVByaXZhY3lMZXZlbCkgJiZcbiAgICAgICAgLy8gU3R5bGUgdGFncyBhcmUgYG92ZXJydWxlZGAgKFVzZSBgaGlkZWAgdG8gZW5mb3JjZSBwcml2YWN5KVxuICAgICAgICAhaXNTdHlsZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgIC8vIFNjcmFtYmxpbmcgdGhlIGNoaWxkIGxpc3QgYnJlYWtzIHRleHQgbm9kZXMgZm9yIERBVEFMSVNUL1NFTEVDVC9PUFRHUk9VUFxuICAgICAgICBwYXJlbnRUYWdOYW1lID09PSAnREFUQUxJU1QnIHx8XG4gICAgICAgICAgICBwYXJlbnRUYWdOYW1lID09PSAnU0VMRUNUJyB8fFxuICAgICAgICAgICAgcGFyZW50VGFnTmFtZSA9PT0gJ09QVEdST1VQJykge1xuICAgICAgICAgICAgaWYgKCF0ZXh0Q29udGVudC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyZW50VGFnTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAgIC8vIDxPcHRpb24+IGhhcyBsb3cgZW50cm9weSBpbiBjaGFyc2V0ICsgdGV4dCBsZW5ndGgsIHNvIHVzZSBgQ0VOU09SRURfU1RSSU5HX01BUktgIHdoZW4gbWFza2VkXG4gICAgICAgICAgICB0ZXh0Q29udGVudCA9IENFTlNPUkVEX1NUUklOR19NQVJLO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBjZW5zb3JUZXh0KHRleHRDb250ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dENvbnRlbnQ7XG59XG4vKipcbiAqIFRPRE86IFByZXNlcnZlIENTUyBlbGVtZW50IG9yZGVyLCBhbmQgcmVjb3JkIHRoZSBwcmVzZW5jZSBvZiB0aGUgdGFnLCBqdXN0IGRvbid0IHJlbmRlclxuICogV2UgZG9uJ3QgbmVlZCB0aGlzIGxvZ2ljIG9uIHRoZSByZWNvcmRlciBzaWRlLlxuICogRm9yIHNlY3VyaXR5IHJlbGF0ZWQgbWV0YSdzLCBjdXN0b21lciBjYW4gbWFzayB0aGVtbWFudWFsbHkgZ2l2ZW4gdGhleVxuICogYXJlIGVhc3kgdG8gaWRlbnRpZnkgaW4gdGhlIEhFQUQgdGFnLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkSWdub3JlRWxlbWVudChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdTQ1JJUFQnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0xJTksnKSB7XG4gICAgICAgIHZhciByZWxBdHRyaWJ1dGUgPSBnZXRMb3dlckNhc2VBdHRyaWJ1dGUoJ3JlbCcpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvLyBTY3JpcHRzXG4gICAgICAgIChyZWxBdHRyaWJ1dGUgPT09ICdwcmVsb2FkJyAmJiBnZXRMb3dlckNhc2VBdHRyaWJ1dGUoJ2FzJykgPT09ICdzY3JpcHQnKSB8fFxuICAgICAgICAgICAgLy8gRmF2aWNvbnNcbiAgICAgICAgICAgIHJlbEF0dHJpYnV0ZSA9PT0gJ3Nob3J0Y3V0IGljb24nIHx8XG4gICAgICAgICAgICByZWxBdHRyaWJ1dGUgPT09ICdpY29uJyk7XG4gICAgfVxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnTUVUQScpIHtcbiAgICAgICAgdmFyIG5hbWVBdHRyaWJ1dGUgPSBnZXRMb3dlckNhc2VBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgdmFyIHJlbEF0dHJpYnV0ZSA9IGdldExvd2VyQ2FzZUF0dHJpYnV0ZSgncmVsJyk7XG4gICAgICAgIHZhciBwcm9wZXJ0eUF0dHJpYnV0ZSA9IGdldExvd2VyQ2FzZUF0dHJpYnV0ZSgncHJvcGVydHknKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gRmF2aWNvbnNcbiAgICAgICAgL15tc2FwcGxpY2F0aW9uLXRpbGUoaW1hZ2V8Y29sb3IpJC8udGVzdChuYW1lQXR0cmlidXRlKSB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ2FwcGxpY2F0aW9uLW5hbWUnIHx8XG4gICAgICAgICAgICByZWxBdHRyaWJ1dGUgPT09ICdpY29uJyB8fFxuICAgICAgICAgICAgcmVsQXR0cmlidXRlID09PSAnYXBwbGUtdG91Y2gtaWNvbicgfHxcbiAgICAgICAgICAgIHJlbEF0dHJpYnV0ZSA9PT0gJ3Nob3J0Y3V0IGljb24nIHx8XG4gICAgICAgICAgICAvLyBEZXNjcmlwdGlvblxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ2tleXdvcmRzJyB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ2Rlc2NyaXB0aW9uJyB8fFxuICAgICAgICAgICAgLy8gU29jaWFsXG4gICAgICAgICAgICAvXihvZ3x0d2l0dGVyfGZiKTovLnRlc3QocHJvcGVydHlBdHRyaWJ1dGUpIHx8XG4gICAgICAgICAgICAvXihvZ3x0d2l0dGVyKTovLnRlc3QobmFtZUF0dHJpYnV0ZSkgfHxcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdwaW50ZXJlc3QnIHx8XG4gICAgICAgICAgICAvLyBSb2JvdHNcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdyb2JvdHMnIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAnZ29vZ2xlYm90JyB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ2Jpbmdib3QnIHx8XG4gICAgICAgICAgICAvLyBIdHRwIGhlYWRlcnMuIEV4OiBYLVVBLUNvbXBhdGlibGUsIENvbnRlbnQtVHlwZSwgQ29udGVudC1MYW5ndWFnZSwgY2FjaGUtY29udHJvbCxcbiAgICAgICAgICAgIC8vIFgtVHJhbnNsYXRlZC1CeVxuICAgICAgICAgICAgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2h0dHAtZXF1aXYnKSB8fFxuICAgICAgICAgICAgLy8gQXV0aG9yc2hpcFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ2F1dGhvcicgfHxcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdnZW5lcmF0b3InIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAnZnJhbWV3b3JrJyB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3B1Ymxpc2hlcicgfHxcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdwcm9naWQnIHx8XG4gICAgICAgICAgICAvXmFydGljbGU6Ly50ZXN0KHByb3BlcnR5QXR0cmlidXRlKSB8fFxuICAgICAgICAgICAgL15wcm9kdWN0Oi8udGVzdChwcm9wZXJ0eUF0dHJpYnV0ZSkgfHxcbiAgICAgICAgICAgIC8vIFZlcmlmaWNhdGlvblxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ2dvb2dsZS1zaXRlLXZlcmlmaWNhdGlvbicgfHxcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICd5YW5kZXgtdmVyaWZpY2F0aW9uJyB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ2NzcmYtdG9rZW4nIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAncDpkb21haW5fdmVyaWZ5JyB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3ZlcmlmeS12MScgfHxcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICd2ZXJpZmljYXRpb24nIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAnc2hvcGlmeS1jaGVja291dC1hcGktdG9rZW4nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TG93ZXJDYXNlQXR0cmlidXRlKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIChlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJpdmFjeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/record.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/record.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"record\": function() { return /* binding */ record; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ \"./node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _serialize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serialize */ \"./node_modules/@datadog/browser-rum/esm/domain/record/serialize.js\");\n/* harmony import */ var _observer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./observer */ \"./node_modules/@datadog/browser-rum/esm/domain/record/observer.js\");\n/* harmony import */ var _mutationObserver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mutationObserver */ \"./node_modules/@datadog/browser-rum/esm/domain/record/mutationObserver.js\");\n/* harmony import */ var _viewports__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./viewports */ \"./node_modules/@datadog/browser-rum/esm/domain/record/viewports.js\");\n\n\n\n\n\n\nfunction record(options) {\n    var emit = options.emit;\n    // runtime checks for user options\n    if (!emit) {\n        throw new Error('emit function is required');\n    }\n    var mutationController = new _mutationObserver__WEBPACK_IMPORTED_MODULE_3__.MutationController();\n    var takeFullSnapshot = function (timestamp) {\n        if (timestamp === void 0) { timestamp = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)(); }\n        mutationController.flush(); // process any pending mutation before taking a full snapshot\n        emit({\n            data: {\n                height: (0,_viewports__WEBPACK_IMPORTED_MODULE_4__.getWindowHeight)(),\n                href: window.location.href,\n                width: (0,_viewports__WEBPACK_IMPORTED_MODULE_4__.getWindowWidth)(),\n            },\n            type: _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.Meta,\n            timestamp: timestamp,\n        });\n        emit({\n            data: {\n                has_focus: document.hasFocus(),\n            },\n            type: _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.Focus,\n            timestamp: timestamp,\n        });\n        emit({\n            data: {\n                node: (0,_serialize__WEBPACK_IMPORTED_MODULE_1__.serializeDocument)(document, options.defaultPrivacyLevel),\n                initialOffset: {\n                    left: (0,_viewports__WEBPACK_IMPORTED_MODULE_4__.getScrollX)(),\n                    top: (0,_viewports__WEBPACK_IMPORTED_MODULE_4__.getScrollY)(),\n                },\n            },\n            type: _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.FullSnapshot,\n            timestamp: timestamp,\n        });\n        if (window.visualViewport) {\n            emit({\n                data: (0,_viewports__WEBPACK_IMPORTED_MODULE_4__.getVisualViewport)(),\n                type: _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.VisualViewport,\n                timestamp: timestamp,\n            });\n        }\n    };\n    takeFullSnapshot();\n    var stopObservers = (0,_observer__WEBPACK_IMPORTED_MODULE_2__.initObservers)({\n        mutationController: mutationController,\n        defaultPrivacyLevel: options.defaultPrivacyLevel,\n        inputCb: function (v) { return emit(assembleIncrementalSnapshot(_types__WEBPACK_IMPORTED_MODULE_0__.IncrementalSource.Input, v)); },\n        mediaInteractionCb: function (p) {\n            return emit(assembleIncrementalSnapshot(_types__WEBPACK_IMPORTED_MODULE_0__.IncrementalSource.MediaInteraction, p));\n        },\n        mouseInteractionCb: function (d) {\n            return emit(assembleIncrementalSnapshot(_types__WEBPACK_IMPORTED_MODULE_0__.IncrementalSource.MouseInteraction, d));\n        },\n        mousemoveCb: function (positions, source) { return emit(assembleIncrementalSnapshot(source, { positions: positions })); },\n        mutationCb: function (m) { return emit(assembleIncrementalSnapshot(_types__WEBPACK_IMPORTED_MODULE_0__.IncrementalSource.Mutation, m)); },\n        scrollCb: function (p) { return emit(assembleIncrementalSnapshot(_types__WEBPACK_IMPORTED_MODULE_0__.IncrementalSource.Scroll, p)); },\n        styleSheetRuleCb: function (r) { return emit(assembleIncrementalSnapshot(_types__WEBPACK_IMPORTED_MODULE_0__.IncrementalSource.StyleSheetRule, r)); },\n        viewportResizeCb: function (d) { return emit(assembleIncrementalSnapshot(_types__WEBPACK_IMPORTED_MODULE_0__.IncrementalSource.ViewportResize, d)); },\n        focusCb: function (data) {\n            return emit({\n                data: data,\n                type: _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.Focus,\n                timestamp: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)(),\n            });\n        },\n        visualViewportResizeCb: function (data) {\n            emit({\n                data: data,\n                type: _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.VisualViewport,\n                timestamp: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)(),\n            });\n        },\n    });\n    return {\n        stop: stopObservers,\n        takeFullSnapshot: takeFullSnapshot,\n        flushMutations: function () { return mutationController.flush(); },\n    };\n}\nfunction assembleIncrementalSnapshot(source, data) {\n    return {\n        data: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.assign)({\n            source: source,\n        }, data),\n        type: _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.IncrementalSnapshot,\n        timestamp: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)(),\n    };\n}\n//# sourceMappingURL=record.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvcmVjb3JkLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBNkQ7QUFDRDtBQUNaO0FBQ0w7QUFDYTtBQUNpRDtBQUNsRztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsaUVBQWtCO0FBQ25EO0FBQ0Esb0NBQW9DLFlBQVksbUVBQVk7QUFDNUQsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSx3QkFBd0IsMkRBQWU7QUFDdkM7QUFDQSx1QkFBdUIsMERBQWM7QUFDckMsYUFBYTtBQUNiLGtCQUFrQixtREFBZTtBQUNqQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isa0JBQWtCLG9EQUFnQjtBQUNsQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esc0JBQXNCLDZEQUFpQjtBQUN2QztBQUNBLDBCQUEwQixzREFBVTtBQUNwQyx5QkFBeUIsc0RBQVU7QUFDbkMsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixrQkFBa0IsMkRBQXVCO0FBQ3pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxzQkFBc0IsNkRBQWlCO0FBQ3ZDLHNCQUFzQiw2REFBeUI7QUFDL0M7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdEQUFhO0FBQ3JDO0FBQ0E7QUFDQSxnQ0FBZ0Msd0NBQXdDLDJEQUF1QixRQUFRO0FBQ3ZHO0FBQ0Esb0RBQW9ELHNFQUFrQztBQUN0RixTQUFTO0FBQ1Q7QUFDQSxvREFBb0Qsc0VBQWtDO0FBQ3RGLFNBQVM7QUFDVCxvREFBb0Qsa0RBQWtELHNCQUFzQixLQUFLO0FBQ2pJLG1DQUFtQyx3Q0FBd0MsOERBQTBCLFFBQVE7QUFDN0csaUNBQWlDLHdDQUF3Qyw0REFBd0IsUUFBUTtBQUN6Ryx5Q0FBeUMsd0NBQXdDLG9FQUFnQyxRQUFRO0FBQ3pILHlDQUF5Qyx3Q0FBd0Msb0VBQWdDLFFBQVE7QUFDekg7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9EQUFnQjtBQUN0QywyQkFBMkIsbUVBQVk7QUFDdkMsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNkRBQXlCO0FBQy9DLDJCQUEyQixtRUFBWTtBQUN2QyxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msb0NBQW9DO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2REFBTTtBQUNwQjtBQUNBLFNBQVM7QUFDVCxjQUFjLGtFQUE4QjtBQUM1QyxtQkFBbUIsbUVBQVk7QUFDL0I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9yZWNvcmQuanM/YjdiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24sIHRpbWVTdGFtcE5vdyB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBSZWNvcmRUeXBlLCBJbmNyZW1lbnRhbFNvdXJjZSB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IHNlcmlhbGl6ZURvY3VtZW50IH0gZnJvbSAnLi9zZXJpYWxpemUnO1xuaW1wb3J0IHsgaW5pdE9ic2VydmVycyB9IGZyb20gJy4vb2JzZXJ2ZXInO1xuaW1wb3J0IHsgTXV0YXRpb25Db250cm9sbGVyIH0gZnJvbSAnLi9tdXRhdGlvbk9ic2VydmVyJztcbmltcG9ydCB7IGdldFZpc3VhbFZpZXdwb3J0LCBnZXRTY3JvbGxYLCBnZXRTY3JvbGxZLCBnZXRXaW5kb3dIZWlnaHQsIGdldFdpbmRvd1dpZHRoIH0gZnJvbSAnLi92aWV3cG9ydHMnO1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZChvcHRpb25zKSB7XG4gICAgdmFyIGVtaXQgPSBvcHRpb25zLmVtaXQ7XG4gICAgLy8gcnVudGltZSBjaGVja3MgZm9yIHVzZXIgb3B0aW9uc1xuICAgIGlmICghZW1pdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2VtaXQgZnVuY3Rpb24gaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgdmFyIG11dGF0aW9uQ29udHJvbGxlciA9IG5ldyBNdXRhdGlvbkNvbnRyb2xsZXIoKTtcbiAgICB2YXIgdGFrZUZ1bGxTbmFwc2hvdCA9IGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcbiAgICAgICAgaWYgKHRpbWVzdGFtcCA9PT0gdm9pZCAwKSB7IHRpbWVzdGFtcCA9IHRpbWVTdGFtcE5vdygpOyB9XG4gICAgICAgIG11dGF0aW9uQ29udHJvbGxlci5mbHVzaCgpOyAvLyBwcm9jZXNzIGFueSBwZW5kaW5nIG11dGF0aW9uIGJlZm9yZSB0YWtpbmcgYSBmdWxsIHNuYXBzaG90XG4gICAgICAgIGVtaXQoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGhlaWdodDogZ2V0V2luZG93SGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgaHJlZjogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGdldFdpbmRvd1dpZHRoKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5NZXRhLFxuICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgIH0pO1xuICAgICAgICBlbWl0KHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBoYXNfZm9jdXM6IGRvY3VtZW50Lmhhc0ZvY3VzKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5Gb2N1cyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICB9KTtcbiAgICAgICAgZW1pdCh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbm9kZTogc2VyaWFsaXplRG9jdW1lbnQoZG9jdW1lbnQsIG9wdGlvbnMuZGVmYXVsdFByaXZhY3lMZXZlbCksXG4gICAgICAgICAgICAgICAgaW5pdGlhbE9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBnZXRTY3JvbGxYKCksXG4gICAgICAgICAgICAgICAgICAgIHRvcDogZ2V0U2Nyb2xsWSgpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5GdWxsU25hcHNob3QsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICAgICAgICAgIGVtaXQoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGdldFZpc3VhbFZpZXdwb3J0KCksXG4gICAgICAgICAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5WaXN1YWxWaWV3cG9ydCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0YWtlRnVsbFNuYXBzaG90KCk7XG4gICAgdmFyIHN0b3BPYnNlcnZlcnMgPSBpbml0T2JzZXJ2ZXJzKHtcbiAgICAgICAgbXV0YXRpb25Db250cm9sbGVyOiBtdXRhdGlvbkNvbnRyb2xsZXIsXG4gICAgICAgIGRlZmF1bHRQcml2YWN5TGV2ZWw6IG9wdGlvbnMuZGVmYXVsdFByaXZhY3lMZXZlbCxcbiAgICAgICAgaW5wdXRDYjogZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGVtaXQoYXNzZW1ibGVJbmNyZW1lbnRhbFNuYXBzaG90KEluY3JlbWVudGFsU291cmNlLklucHV0LCB2KSk7IH0sXG4gICAgICAgIG1lZGlhSW50ZXJhY3Rpb25DYjogZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgIHJldHVybiBlbWl0KGFzc2VtYmxlSW5jcmVtZW50YWxTbmFwc2hvdChJbmNyZW1lbnRhbFNvdXJjZS5NZWRpYUludGVyYWN0aW9uLCBwKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlSW50ZXJhY3Rpb25DYjogZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbWl0KGFzc2VtYmxlSW5jcmVtZW50YWxTbmFwc2hvdChJbmNyZW1lbnRhbFNvdXJjZS5Nb3VzZUludGVyYWN0aW9uLCBkKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlbW92ZUNiOiBmdW5jdGlvbiAocG9zaXRpb25zLCBzb3VyY2UpIHsgcmV0dXJuIGVtaXQoYXNzZW1ibGVJbmNyZW1lbnRhbFNuYXBzaG90KHNvdXJjZSwgeyBwb3NpdGlvbnM6IHBvc2l0aW9ucyB9KSk7IH0sXG4gICAgICAgIG11dGF0aW9uQ2I6IGZ1bmN0aW9uIChtKSB7IHJldHVybiBlbWl0KGFzc2VtYmxlSW5jcmVtZW50YWxTbmFwc2hvdChJbmNyZW1lbnRhbFNvdXJjZS5NdXRhdGlvbiwgbSkpOyB9LFxuICAgICAgICBzY3JvbGxDYjogZnVuY3Rpb24gKHApIHsgcmV0dXJuIGVtaXQoYXNzZW1ibGVJbmNyZW1lbnRhbFNuYXBzaG90KEluY3JlbWVudGFsU291cmNlLlNjcm9sbCwgcCkpOyB9LFxuICAgICAgICBzdHlsZVNoZWV0UnVsZUNiOiBmdW5jdGlvbiAocikgeyByZXR1cm4gZW1pdChhc3NlbWJsZUluY3JlbWVudGFsU25hcHNob3QoSW5jcmVtZW50YWxTb3VyY2UuU3R5bGVTaGVldFJ1bGUsIHIpKTsgfSxcbiAgICAgICAgdmlld3BvcnRSZXNpemVDYjogZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGVtaXQoYXNzZW1ibGVJbmNyZW1lbnRhbFNuYXBzaG90KEluY3JlbWVudGFsU291cmNlLlZpZXdwb3J0UmVzaXplLCBkKSk7IH0sXG4gICAgICAgIGZvY3VzQ2I6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZW1pdCh7XG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICB0eXBlOiBSZWNvcmRUeXBlLkZvY3VzLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZVN0YW1wTm93KCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzdWFsVmlld3BvcnRSZXNpemVDYjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGVtaXQoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5WaXN1YWxWaWV3cG9ydCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVTdGFtcE5vdygpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogc3RvcE9ic2VydmVycyxcbiAgICAgICAgdGFrZUZ1bGxTbmFwc2hvdDogdGFrZUZ1bGxTbmFwc2hvdCxcbiAgICAgICAgZmx1c2hNdXRhdGlvbnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG11dGF0aW9uQ29udHJvbGxlci5mbHVzaCgpOyB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBhc3NlbWJsZUluY3JlbWVudGFsU25hcHNob3Qoc291cmNlLCBkYXRhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogYXNzaWduKHtcbiAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICB9LCBkYXRhKSxcbiAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5JbmNyZW1lbnRhbFNuYXBzaG90LFxuICAgICAgICB0aW1lc3RhbXA6IHRpbWVTdGFtcE5vdygpLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvcmQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/record.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/serializationUtils.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/serializationUtils.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getElementInputValue\": function() { return /* binding */ getElementInputValue; },\n/* harmony export */   \"getSerializedNodeId\": function() { return /* binding */ getSerializedNodeId; },\n/* harmony export */   \"hasSerializedNode\": function() { return /* binding */ hasSerializedNode; },\n/* harmony export */   \"nodeAndAncestorsHaveSerializedNode\": function() { return /* binding */ nodeAndAncestorsHaveSerializedNode; },\n/* harmony export */   \"setSerializedNodeId\": function() { return /* binding */ setSerializedNodeId; }\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../constants */ \"./node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./privacy */ \"./node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n\n\nvar serializedNodeIds = new WeakMap();\nfunction hasSerializedNode(node) {\n    return serializedNodeIds.has(node);\n}\nfunction nodeAndAncestorsHaveSerializedNode(node) {\n    var current = node;\n    while (current) {\n        if (!hasSerializedNode(current)) {\n            return false;\n        }\n        current = current.parentNode;\n    }\n    return true;\n}\nfunction getSerializedNodeId(node) {\n    return serializedNodeIds.get(node);\n}\nfunction setSerializedNodeId(node, serializeNodeId) {\n    serializedNodeIds.set(node, serializeNodeId);\n}\n/**\n * Get the element \"value\" to be serialized as an attribute or an input update record. It respects\n * the input privacy mode of the element.\n * PERFROMANCE OPTIMIZATION: Assumes that privacy level `HIDDEN` is never encountered because of earlier checks.\n */\nfunction getElementInputValue(element, nodePrivacyLevel) {\n    /*\n     BROWSER SPEC NOTE: <input>, <select>\n     For some <input> elements, the `value` is an exceptional property/attribute that has the\n     value synced between el.value and el.getAttribute()\n     input[type=button,checkbox,hidden,image,radio,reset,submit]\n     */\n    var tagName = element.tagName;\n    var value = element.value;\n    if ((0,_privacy__WEBPACK_IMPORTED_MODULE_1__.shouldMaskNode)(element, nodePrivacyLevel)) {\n        var type = element.type;\n        if (tagName === 'INPUT' && (type === 'button' || type === 'submit' || type === 'reset')) {\n            // Overrule `MASK` privacy level for button-like element values, as they are used during replay\n            // to display their label. They can still be hidden via the \"hidden\" privacy attribute or class name.\n            return value;\n        }\n        else if (!value || tagName === 'OPTION') {\n            // <Option> value provides no benefit\n            return;\n        }\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;\n    }\n    if (tagName === 'OPTION' || tagName === 'SELECT') {\n        return element.value;\n    }\n    if (tagName !== 'INPUT' && tagName !== 'TEXTAREA') {\n        return;\n    }\n    return value;\n}\n//# sourceMappingURL=serializationUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvc2VyaWFsaXphdGlvblV0aWxzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBdUQ7QUFDWjtBQUMzQztBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvc2VyaWFsaXphdGlvblV0aWxzLmpzPzBlNmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ0VOU09SRURfU1RSSU5HX01BUksgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2hvdWxkTWFza05vZGUgfSBmcm9tICcuL3ByaXZhY3knO1xudmFyIHNlcmlhbGl6ZWROb2RlSWRzID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBmdW5jdGlvbiBoYXNTZXJpYWxpemVkTm9kZShub2RlKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWROb2RlSWRzLmhhcyhub2RlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub2RlQW5kQW5jZXN0b3JzSGF2ZVNlcmlhbGl6ZWROb2RlKG5vZGUpIHtcbiAgICB2YXIgY3VycmVudCA9IG5vZGU7XG4gICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgaWYgKCFoYXNTZXJpYWxpemVkTm9kZShjdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcmlhbGl6ZWROb2RlSWQobm9kZSkge1xuICAgIHJldHVybiBzZXJpYWxpemVkTm9kZUlkcy5nZXQobm9kZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0U2VyaWFsaXplZE5vZGVJZChub2RlLCBzZXJpYWxpemVOb2RlSWQpIHtcbiAgICBzZXJpYWxpemVkTm9kZUlkcy5zZXQobm9kZSwgc2VyaWFsaXplTm9kZUlkKTtcbn1cbi8qKlxuICogR2V0IHRoZSBlbGVtZW50IFwidmFsdWVcIiB0byBiZSBzZXJpYWxpemVkIGFzIGFuIGF0dHJpYnV0ZSBvciBhbiBpbnB1dCB1cGRhdGUgcmVjb3JkLiBJdCByZXNwZWN0c1xuICogdGhlIGlucHV0IHByaXZhY3kgbW9kZSBvZiB0aGUgZWxlbWVudC5cbiAqIFBFUkZST01BTkNFIE9QVElNSVpBVElPTjogQXNzdW1lcyB0aGF0IHByaXZhY3kgbGV2ZWwgYEhJRERFTmAgaXMgbmV2ZXIgZW5jb3VudGVyZWQgYmVjYXVzZSBvZiBlYXJsaWVyIGNoZWNrcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRJbnB1dFZhbHVlKGVsZW1lbnQsIG5vZGVQcml2YWN5TGV2ZWwpIHtcbiAgICAvKlxuICAgICBCUk9XU0VSIFNQRUMgTk9URTogPGlucHV0PiwgPHNlbGVjdD5cbiAgICAgRm9yIHNvbWUgPGlucHV0PiBlbGVtZW50cywgdGhlIGB2YWx1ZWAgaXMgYW4gZXhjZXB0aW9uYWwgcHJvcGVydHkvYXR0cmlidXRlIHRoYXQgaGFzIHRoZVxuICAgICB2YWx1ZSBzeW5jZWQgYmV0d2VlbiBlbC52YWx1ZSBhbmQgZWwuZ2V0QXR0cmlidXRlKClcbiAgICAgaW5wdXRbdHlwZT1idXR0b24sY2hlY2tib3gsaGlkZGVuLGltYWdlLHJhZGlvLHJlc2V0LHN1Ym1pdF1cbiAgICAgKi9cbiAgICB2YXIgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZTtcbiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbHVlO1xuICAgIGlmIChzaG91bGRNYXNrTm9kZShlbGVtZW50LCBub2RlUHJpdmFjeUxldmVsKSkge1xuICAgICAgICB2YXIgdHlwZSA9IGVsZW1lbnQudHlwZTtcbiAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdJTlBVVCcgJiYgKHR5cGUgPT09ICdidXR0b24nIHx8IHR5cGUgPT09ICdzdWJtaXQnIHx8IHR5cGUgPT09ICdyZXNldCcpKSB7XG4gICAgICAgICAgICAvLyBPdmVycnVsZSBgTUFTS2AgcHJpdmFjeSBsZXZlbCBmb3IgYnV0dG9uLWxpa2UgZWxlbWVudCB2YWx1ZXMsIGFzIHRoZXkgYXJlIHVzZWQgZHVyaW5nIHJlcGxheVxuICAgICAgICAgICAgLy8gdG8gZGlzcGxheSB0aGVpciBsYWJlbC4gVGhleSBjYW4gc3RpbGwgYmUgaGlkZGVuIHZpYSB0aGUgXCJoaWRkZW5cIiBwcml2YWN5IGF0dHJpYnV0ZSBvciBjbGFzcyBuYW1lLlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF2YWx1ZSB8fCB0YWdOYW1lID09PSAnT1BUSU9OJykge1xuICAgICAgICAgICAgLy8gPE9wdGlvbj4gdmFsdWUgcHJvdmlkZXMgbm8gYmVuZWZpdFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDRU5TT1JFRF9TVFJJTkdfTUFSSztcbiAgICB9XG4gICAgaWYgKHRhZ05hbWUgPT09ICdPUFRJT04nIHx8IHRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBpZiAodGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiB0YWdOYW1lICE9PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXphdGlvblV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/serializationUtils.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/serialize.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/serialize.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"serializeAttribute\": function() { return /* binding */ serializeAttribute; },\n/* harmony export */   \"serializeChildNodes\": function() { return /* binding */ serializeChildNodes; },\n/* harmony export */   \"serializeDocument\": function() { return /* binding */ serializeDocument; },\n/* harmony export */   \"serializeDocumentNode\": function() { return /* binding */ serializeDocumentNode; },\n/* harmony export */   \"serializeElementNode\": function() { return /* binding */ serializeElementNode; },\n/* harmony export */   \"serializeNodeWithId\": function() { return /* binding */ serializeNodeWithId; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../constants */ \"./node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types */ \"./node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./privacy */ \"./node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./serializationUtils */ \"./node_modules/@datadog/browser-rum/esm/domain/record/serializationUtils.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./node_modules/@datadog/browser-rum/esm/domain/record/utils.js\");\n\n\n\n\n\n\nfunction serializeDocument(document, defaultPrivacyLevel) {\n    // We are sure that Documents are never ignored, so this function never returns null\n    return serializeNodeWithId(document, {\n        document: document,\n        parentNodePrivacyLevel: defaultPrivacyLevel,\n    });\n}\nfunction serializeNodeWithId(node, options) {\n    var serializedNode = serializeNode(node, options);\n    if (!serializedNode) {\n        return null;\n    }\n    // Try to reuse the previous id\n    var id = (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(node) || generateNextId();\n    var serializedNodeWithId = serializedNode;\n    serializedNodeWithId.id = id;\n    (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.setSerializedNodeId)(node, id);\n    if (options.serializedNodeIds) {\n        options.serializedNodeIds.add(id);\n    }\n    return serializedNodeWithId;\n}\nfunction serializeNode(node, options) {\n    switch (node.nodeType) {\n        case node.DOCUMENT_NODE:\n            return serializeDocumentNode(node, options);\n        case node.DOCUMENT_TYPE_NODE:\n            return serializeDocumentTypeNode(node);\n        case node.ELEMENT_NODE:\n            return serializeElementNode(node, options);\n        case node.TEXT_NODE:\n            return serializeTextNode(node, options);\n        case node.CDATA_SECTION_NODE:\n            return serializeCDataNode();\n    }\n}\nfunction serializeDocumentNode(document, options) {\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.Document,\n        childNodes: serializeChildNodes(document, options),\n    };\n}\nfunction serializeDocumentTypeNode(documentType) {\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.DocumentType,\n        name: documentType.name,\n        publicId: documentType.publicId,\n        systemId: documentType.systemId,\n    };\n}\n/**\n * Serialzing Element nodes involves capturing:\n * 1. HTML ATTRIBUTES:\n * 2. JS STATE:\n * - scroll offsets\n * - Form fields (input value, checkbox checked, otpion selection, range)\n * - Canvas state,\n * - Media (video/audio) play mode + currentTime\n * - iframe contents\n * - webcomponents\n * 3. CUSTOM PROPERTIES:\n * - height+width for when `hidden` to cover the element\n * 4. EXCLUDED INTERACTION STATE:\n * - focus (possible, but not worth perf impact)\n * - hover (tracked only via mouse activity)\n * - fullscreen mode\n */\nfunction serializeElementNode(element, options) {\n    var _a;\n    var tagName = getValidTagName(element.tagName);\n    var isSVG = isSVGElement(element) || undefined;\n    // For performance reason, we don't use getNodePrivacyLevel directly: we leverage the\n    // parentNodePrivacyLevel option to avoid iterating over all parents\n    var nodePrivacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.reducePrivacyLevel)((0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodeSelfPrivacyLevel)(element), options.parentNodePrivacyLevel);\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN) {\n        var _b = element.getBoundingClientRect(), width = _b.width, height = _b.height;\n        return {\n            type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.Element,\n            tagName: tagName,\n            attributes: (_a = {\n                    rr_width: \"\".concat(width, \"px\"),\n                    rr_height: \"\".concat(height, \"px\")\n                },\n                _a[_constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_NAME] = _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_HIDDEN,\n                _a),\n            childNodes: [],\n            isSVG: isSVG,\n        };\n    }\n    // Ignore Elements like Script and some Link, Metas\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.IGNORE) {\n        return;\n    }\n    var attributes = getAttributesForPrivacyLevel(element, nodePrivacyLevel);\n    var childNodes = [];\n    if (element.childNodes.length) {\n        // OBJECT POOLING OPTIMIZATION:\n        // We should not create a new object systematically as it could impact performances. Try to reuse\n        // the same object as much as possible, and clone it only if we need to.\n        var childNodesSerializationOptions = void 0;\n        if (options.parentNodePrivacyLevel === nodePrivacyLevel && options.ignoreWhiteSpace === (tagName === 'head')) {\n            childNodesSerializationOptions = options;\n        }\n        else {\n            childNodesSerializationOptions = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.assign)({}, options, {\n                parentNodePrivacyLevel: nodePrivacyLevel,\n                ignoreWhiteSpace: tagName === 'head',\n            });\n        }\n        childNodes = serializeChildNodes(element, childNodesSerializationOptions);\n    }\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.Element,\n        tagName: tagName,\n        attributes: attributes,\n        childNodes: childNodes,\n        isSVG: isSVG,\n    };\n}\n/**\n * Text Nodes are dependant on Element nodes\n * Privacy levels are set on elements so we check the parentElement of a text node\n * for privacy level.\n */\nfunction serializeTextNode(textNode, options) {\n    var _a;\n    // The parent node may not be a html element which has a tagName attribute.\n    // So just let it be undefined which is ok in this use case.\n    var parentTagName = (_a = textNode.parentElement) === null || _a === void 0 ? void 0 : _a.tagName;\n    var textContent = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getTextContent)(textNode, options.ignoreWhiteSpace || false, options.parentNodePrivacyLevel);\n    if (!textContent) {\n        return;\n    }\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.Text,\n        textContent: textContent,\n        isStyle: parentTagName === 'STYLE' ? true : undefined,\n    };\n}\nfunction serializeCDataNode() {\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.CDATA,\n        textContent: '',\n    };\n}\nfunction serializeChildNodes(node, options) {\n    var result = [];\n    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.forEach)(node.childNodes, function (childNode) {\n        var serializedChildNode = serializeNodeWithId(childNode, options);\n        if (serializedChildNode) {\n            result.push(serializedChildNode);\n        }\n    });\n    return result;\n}\nfunction serializeAttribute(element, nodePrivacyLevel, attributeName) {\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN) {\n        // dup condition for direct access case\n        return null;\n    }\n    var attributeValue = element.getAttribute(attributeName);\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK) {\n        var tagName = element.tagName;\n        switch (attributeName) {\n            // Mask Attribute text content\n            case 'title':\n            case 'alt':\n                return _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;\n        }\n        // mask image URLs\n        if (tagName === 'IMG' || tagName === 'SOURCE') {\n            if (attributeName === 'src' || attributeName === 'srcset') {\n                return _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_IMG_MARK;\n            }\n        }\n        // mask <a> URLs\n        if (tagName === 'A' && attributeName === 'href') {\n            return _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;\n        }\n        // mask data-* attributes\n        if (attributeValue && attributeName.indexOf('data-') === 0 && attributeName !== _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_NAME) {\n            // Exception: it's safe to reveal the `${PRIVACY_ATTR_NAME}` attr\n            return _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;\n        }\n    }\n    if (!attributeValue || typeof attributeValue !== 'string') {\n        return attributeValue;\n    }\n    // Minimum Fix for customer.\n    if (attributeValue.length > _privacy__WEBPACK_IMPORTED_MODULE_2__.MAX_ATTRIBUTE_VALUE_CHAR_LENGTH && attributeValue.slice(0, 5) === 'data:') {\n        return 'data:truncated';\n    }\n    return attributeValue;\n}\nvar _nextId = 1;\nfunction generateNextId() {\n    return _nextId++;\n}\nvar TAG_NAME_REGEX = /[^a-z1-6-_]/;\nfunction getValidTagName(tagName) {\n    var processedTagName = tagName.toLowerCase().trim();\n    if (TAG_NAME_REGEX.test(processedTagName)) {\n        // if the tag name is odd and we cannot extract\n        // anything from the string, then we return a\n        // generic div\n        return 'div';\n    }\n    return processedTagName;\n}\nfunction getCssRulesString(s) {\n    try {\n        var rules = s.rules || s.cssRules;\n        return rules ? Array.from(rules).map(getCssRuleString).join('') : null;\n    }\n    catch (error) {\n        return null;\n    }\n}\nfunction getCssRuleString(rule) {\n    return isCSSImportRule(rule) ? getCssRulesString(rule.styleSheet) || '' : rule.cssText;\n}\nfunction isCSSImportRule(rule) {\n    return 'styleSheet' in rule;\n}\nfunction isSVGElement(el) {\n    return el.tagName === 'svg' || el instanceof SVGElement;\n}\nfunction getAttributesForPrivacyLevel(element, nodePrivacyLevel) {\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN) {\n        return {};\n    }\n    var safeAttrs = {};\n    var tagName = getValidTagName(element.tagName);\n    var doc = element.ownerDocument;\n    for (var i = 0; i < element.attributes.length; i += 1) {\n        var attribute = element.attributes.item(i);\n        var attributeName = attribute.name;\n        var attributeValue = serializeAttribute(element, nodePrivacyLevel, attributeName);\n        if (attributeValue !== null) {\n            safeAttrs[attributeName] = attributeValue;\n        }\n    }\n    if (element.value &&\n        (tagName === 'textarea' || tagName === 'select' || tagName === 'option' || tagName === 'input')) {\n        var formValue = (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getElementInputValue)(element, nodePrivacyLevel);\n        if (formValue !== undefined) {\n            safeAttrs.value = formValue;\n        }\n    }\n    /**\n     * <Option> can be selected, which occurs if its `value` matches ancestor `<Select>.value`\n     */\n    if (tagName === 'option' && nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.ALLOW) {\n        // For privacy=`MASK`, all the values would be the same, so skip.\n        var optionElement = element;\n        if (optionElement.selected) {\n            safeAttrs.selected = optionElement.selected;\n        }\n    }\n    // remote css\n    if (tagName === 'link') {\n        var stylesheet = Array.from(doc.styleSheets).find(function (s) { return s.href === element.href; });\n        var cssText = getCssRulesString(stylesheet);\n        if (cssText && stylesheet) {\n            delete safeAttrs.rel;\n            delete safeAttrs.href;\n            safeAttrs._cssText = cssText;\n        }\n    }\n    // dynamic stylesheet\n    if (tagName === 'style' &&\n        element.sheet &&\n        // TODO: Currently we only try to get dynamic stylesheet when it is an empty style element\n        !(element.innerText || element.textContent || '').trim().length) {\n        var cssText = getCssRulesString(element.sheet);\n        if (cssText) {\n            safeAttrs._cssText = cssText;\n        }\n    }\n    /**\n     * Forms: input[type=checkbox,radio]\n     * The `checked` property for <input> is a little bit special:\n     * 1. el.checked is a setter that returns if truthy.\n     * 2. getAttribute returns the string value\n     * getAttribute('checked') does not sync with `Element.checked`, so use JS property\n     * NOTE: `checked` property exists on `HTMLInputElement`. For serializer assumptions, we check for type=radio|check.\n     */\n    var inputElement = element;\n    if (tagName === 'input' && (inputElement.type === 'radio' || inputElement.type === 'checkbox')) {\n        if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.ALLOW) {\n            safeAttrs.checked = !!inputElement.checked;\n        }\n        else if ((0,_privacy__WEBPACK_IMPORTED_MODULE_2__.shouldMaskNode)(inputElement, nodePrivacyLevel)) {\n            safeAttrs.checked = _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;\n        }\n    }\n    /**\n     * Serialize the media playback state\n     */\n    if (tagName === 'audio' || tagName === 'video') {\n        var mediaElement = element;\n        safeAttrs.rr_mediaState = mediaElement.paused ? 'paused' : 'played';\n    }\n    /**\n     * Serialize the scroll state for each element\n     */\n    if (element.scrollLeft) {\n        safeAttrs.rr_scrollLeft = Math.round(element.scrollLeft);\n    }\n    if (element.scrollTop) {\n        safeAttrs.rr_scrollTop = Math.round(element.scrollTop);\n    }\n    return safeAttrs;\n}\n//# sourceMappingURL=serialize.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvc2VyaWFsaXplLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUErQztBQUM0RjtBQUNwRztBQUNtRztBQUNwQztBQUNwRTtBQUMzQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3RUFBbUI7QUFDaEM7QUFDQTtBQUNBLElBQUksd0VBQW1CO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGNBQWMscURBQWlCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlEQUFxQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0REFBa0IsQ0FBQyxpRUFBdUI7QUFDckUsNkJBQTZCLCtEQUF1QjtBQUNwRDtBQUNBO0FBQ0Esa0JBQWtCLG9EQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixtQkFBbUIseURBQWlCLElBQUksaUVBQXlCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwrREFBdUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNkRBQU0sR0FBRztBQUN0RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxvREFBZ0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0RBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlEQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0RBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLElBQUksK0NBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCw2QkFBNkIsK0RBQXVCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDZEQUFxQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDREQUFvQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5REFBaUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNERBQW9CO0FBQ3ZDO0FBQ0E7QUFDQSx3RkFBd0YseURBQWlCO0FBQ3pHLHFEQUFxRCxrQkFBa0I7QUFDdkUsbUJBQW1CLDREQUFvQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscUVBQStCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0RBQXVCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0JBQStCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5RUFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsOERBQXNCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsaUNBQWlDO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw4REFBc0I7QUFDdkQ7QUFDQTtBQUNBLGlCQUFpQix3REFBYztBQUMvQixnQ0FBZ0MsNERBQW9CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvc2VyaWFsaXplLmpzPzljZGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IE5vZGVQcml2YWN5TGV2ZWwsIFBSSVZBQ1lfQVRUUl9OQU1FLCBQUklWQUNZX0FUVFJfVkFMVUVfSElEREVOLCBDRU5TT1JFRF9TVFJJTkdfTUFSSywgQ0VOU09SRURfSU1HX01BUkssIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IE5vZGVUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0VGV4dENvbnRlbnQsIHNob3VsZE1hc2tOb2RlLCByZWR1Y2VQcml2YWN5TGV2ZWwsIGdldE5vZGVTZWxmUHJpdmFjeUxldmVsLCBNQVhfQVRUUklCVVRFX1ZBTFVFX0NIQVJfTEVOR1RILCB9IGZyb20gJy4vcHJpdmFjeSc7XG5pbXBvcnQgeyBnZXRTZXJpYWxpemVkTm9kZUlkLCBzZXRTZXJpYWxpemVkTm9kZUlkLCBnZXRFbGVtZW50SW5wdXRWYWx1ZSB9IGZyb20gJy4vc2VyaWFsaXphdGlvblV0aWxzJztcbmltcG9ydCB7IGZvckVhY2ggfSBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVEb2N1bWVudChkb2N1bWVudCwgZGVmYXVsdFByaXZhY3lMZXZlbCkge1xuICAgIC8vIFdlIGFyZSBzdXJlIHRoYXQgRG9jdW1lbnRzIGFyZSBuZXZlciBpZ25vcmVkLCBzbyB0aGlzIGZ1bmN0aW9uIG5ldmVyIHJldHVybnMgbnVsbFxuICAgIHJldHVybiBzZXJpYWxpemVOb2RlV2l0aElkKGRvY3VtZW50LCB7XG4gICAgICAgIGRvY3VtZW50OiBkb2N1bWVudCxcbiAgICAgICAgcGFyZW50Tm9kZVByaXZhY3lMZXZlbDogZGVmYXVsdFByaXZhY3lMZXZlbCxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVOb2RlV2l0aElkKG5vZGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgc2VyaWFsaXplZE5vZGUgPSBzZXJpYWxpemVOb2RlKG5vZGUsIG9wdGlvbnMpO1xuICAgIGlmICghc2VyaWFsaXplZE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIFRyeSB0byByZXVzZSB0aGUgcHJldmlvdXMgaWRcbiAgICB2YXIgaWQgPSBnZXRTZXJpYWxpemVkTm9kZUlkKG5vZGUpIHx8IGdlbmVyYXRlTmV4dElkKCk7XG4gICAgdmFyIHNlcmlhbGl6ZWROb2RlV2l0aElkID0gc2VyaWFsaXplZE5vZGU7XG4gICAgc2VyaWFsaXplZE5vZGVXaXRoSWQuaWQgPSBpZDtcbiAgICBzZXRTZXJpYWxpemVkTm9kZUlkKG5vZGUsIGlkKTtcbiAgICBpZiAob3B0aW9ucy5zZXJpYWxpemVkTm9kZUlkcykge1xuICAgICAgICBvcHRpb25zLnNlcmlhbGl6ZWROb2RlSWRzLmFkZChpZCk7XG4gICAgfVxuICAgIHJldHVybiBzZXJpYWxpemVkTm9kZVdpdGhJZDtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZU5vZGUobm9kZSwgb3B0aW9ucykge1xuICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICBjYXNlIG5vZGUuRE9DVU1FTlRfTk9ERTpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVEb2N1bWVudE5vZGUobm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIGNhc2Ugbm9kZS5ET0NVTUVOVF9UWVBFX05PREU6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRG9jdW1lbnRUeXBlTm9kZShub2RlKTtcbiAgICAgICAgY2FzZSBub2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVFbGVtZW50Tm9kZShub2RlLCBvcHRpb25zKTtcbiAgICAgICAgY2FzZSBub2RlLlRFWFRfTk9ERTpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVUZXh0Tm9kZShub2RlLCBvcHRpb25zKTtcbiAgICAgICAgY2FzZSBub2RlLkNEQVRBX1NFQ1RJT05fTk9ERTpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVDRGF0YU5vZGUoKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRG9jdW1lbnROb2RlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogTm9kZVR5cGUuRG9jdW1lbnQsXG4gICAgICAgIGNoaWxkTm9kZXM6IHNlcmlhbGl6ZUNoaWxkTm9kZXMoZG9jdW1lbnQsIG9wdGlvbnMpLFxuICAgIH07XG59XG5mdW5jdGlvbiBzZXJpYWxpemVEb2N1bWVudFR5cGVOb2RlKGRvY3VtZW50VHlwZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IE5vZGVUeXBlLkRvY3VtZW50VHlwZSxcbiAgICAgICAgbmFtZTogZG9jdW1lbnRUeXBlLm5hbWUsXG4gICAgICAgIHB1YmxpY0lkOiBkb2N1bWVudFR5cGUucHVibGljSWQsXG4gICAgICAgIHN5c3RlbUlkOiBkb2N1bWVudFR5cGUuc3lzdGVtSWQsXG4gICAgfTtcbn1cbi8qKlxuICogU2VyaWFsemluZyBFbGVtZW50IG5vZGVzIGludm9sdmVzIGNhcHR1cmluZzpcbiAqIDEuIEhUTUwgQVRUUklCVVRFUzpcbiAqIDIuIEpTIFNUQVRFOlxuICogLSBzY3JvbGwgb2Zmc2V0c1xuICogLSBGb3JtIGZpZWxkcyAoaW5wdXQgdmFsdWUsIGNoZWNrYm94IGNoZWNrZWQsIG90cGlvbiBzZWxlY3Rpb24sIHJhbmdlKVxuICogLSBDYW52YXMgc3RhdGUsXG4gKiAtIE1lZGlhICh2aWRlby9hdWRpbykgcGxheSBtb2RlICsgY3VycmVudFRpbWVcbiAqIC0gaWZyYW1lIGNvbnRlbnRzXG4gKiAtIHdlYmNvbXBvbmVudHNcbiAqIDMuIENVU1RPTSBQUk9QRVJUSUVTOlxuICogLSBoZWlnaHQrd2lkdGggZm9yIHdoZW4gYGhpZGRlbmAgdG8gY292ZXIgdGhlIGVsZW1lbnRcbiAqIDQuIEVYQ0xVREVEIElOVEVSQUNUSU9OIFNUQVRFOlxuICogLSBmb2N1cyAocG9zc2libGUsIGJ1dCBub3Qgd29ydGggcGVyZiBpbXBhY3QpXG4gKiAtIGhvdmVyICh0cmFja2VkIG9ubHkgdmlhIG1vdXNlIGFjdGl2aXR5KVxuICogLSBmdWxsc2NyZWVuIG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUVsZW1lbnROb2RlKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIHRhZ05hbWUgPSBnZXRWYWxpZFRhZ05hbWUoZWxlbWVudC50YWdOYW1lKTtcbiAgICB2YXIgaXNTVkcgPSBpc1NWR0VsZW1lbnQoZWxlbWVudCkgfHwgdW5kZWZpbmVkO1xuICAgIC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb24sIHdlIGRvbid0IHVzZSBnZXROb2RlUHJpdmFjeUxldmVsIGRpcmVjdGx5OiB3ZSBsZXZlcmFnZSB0aGVcbiAgICAvLyBwYXJlbnROb2RlUHJpdmFjeUxldmVsIG9wdGlvbiB0byBhdm9pZCBpdGVyYXRpbmcgb3ZlciBhbGwgcGFyZW50c1xuICAgIHZhciBub2RlUHJpdmFjeUxldmVsID0gcmVkdWNlUHJpdmFjeUxldmVsKGdldE5vZGVTZWxmUHJpdmFjeUxldmVsKGVsZW1lbnQpLCBvcHRpb25zLnBhcmVudE5vZGVQcml2YWN5TGV2ZWwpO1xuICAgIGlmIChub2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTikge1xuICAgICAgICB2YXIgX2IgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB3aWR0aCA9IF9iLndpZHRoLCBoZWlnaHQgPSBfYi5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBOb2RlVHlwZS5FbGVtZW50LFxuICAgICAgICAgICAgdGFnTmFtZTogdGFnTmFtZSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IChfYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgcnJfd2lkdGg6IFwiXCIuY29uY2F0KHdpZHRoLCBcInB4XCIpLFxuICAgICAgICAgICAgICAgICAgICBycl9oZWlnaHQ6IFwiXCIuY29uY2F0KGhlaWdodCwgXCJweFwiKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX2FbUFJJVkFDWV9BVFRSX05BTUVdID0gUFJJVkFDWV9BVFRSX1ZBTFVFX0hJRERFTixcbiAgICAgICAgICAgICAgICBfYSksXG4gICAgICAgICAgICBjaGlsZE5vZGVzOiBbXSxcbiAgICAgICAgICAgIGlzU1ZHOiBpc1NWRyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gSWdub3JlIEVsZW1lbnRzIGxpa2UgU2NyaXB0IGFuZCBzb21lIExpbmssIE1ldGFzXG4gICAgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBnZXRBdHRyaWJ1dGVzRm9yUHJpdmFjeUxldmVsKGVsZW1lbnQsIG5vZGVQcml2YWN5TGV2ZWwpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gW107XG4gICAgaWYgKGVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gT0JKRUNUIFBPT0xJTkcgT1BUSU1JWkFUSU9OOlxuICAgICAgICAvLyBXZSBzaG91bGQgbm90IGNyZWF0ZSBhIG5ldyBvYmplY3Qgc3lzdGVtYXRpY2FsbHkgYXMgaXQgY291bGQgaW1wYWN0IHBlcmZvcm1hbmNlcy4gVHJ5IHRvIHJldXNlXG4gICAgICAgIC8vIHRoZSBzYW1lIG9iamVjdCBhcyBtdWNoIGFzIHBvc3NpYmxlLCBhbmQgY2xvbmUgaXQgb25seSBpZiB3ZSBuZWVkIHRvLlxuICAgICAgICB2YXIgY2hpbGROb2Rlc1NlcmlhbGl6YXRpb25PcHRpb25zID0gdm9pZCAwO1xuICAgICAgICBpZiAob3B0aW9ucy5wYXJlbnROb2RlUHJpdmFjeUxldmVsID09PSBub2RlUHJpdmFjeUxldmVsICYmIG9wdGlvbnMuaWdub3JlV2hpdGVTcGFjZSA9PT0gKHRhZ05hbWUgPT09ICdoZWFkJykpIHtcbiAgICAgICAgICAgIGNoaWxkTm9kZXNTZXJpYWxpemF0aW9uT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGlsZE5vZGVzU2VyaWFsaXphdGlvbk9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlUHJpdmFjeUxldmVsOiBub2RlUHJpdmFjeUxldmVsLFxuICAgICAgICAgICAgICAgIGlnbm9yZVdoaXRlU3BhY2U6IHRhZ05hbWUgPT09ICdoZWFkJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkTm9kZXMgPSBzZXJpYWxpemVDaGlsZE5vZGVzKGVsZW1lbnQsIGNoaWxkTm9kZXNTZXJpYWxpemF0aW9uT3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IE5vZGVUeXBlLkVsZW1lbnQsXG4gICAgICAgIHRhZ05hbWU6IHRhZ05hbWUsXG4gICAgICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsXG4gICAgICAgIGNoaWxkTm9kZXM6IGNoaWxkTm9kZXMsXG4gICAgICAgIGlzU1ZHOiBpc1NWRyxcbiAgICB9O1xufVxuLyoqXG4gKiBUZXh0IE5vZGVzIGFyZSBkZXBlbmRhbnQgb24gRWxlbWVudCBub2Rlc1xuICogUHJpdmFjeSBsZXZlbHMgYXJlIHNldCBvbiBlbGVtZW50cyBzbyB3ZSBjaGVjayB0aGUgcGFyZW50RWxlbWVudCBvZiBhIHRleHQgbm9kZVxuICogZm9yIHByaXZhY3kgbGV2ZWwuXG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZVRleHROb2RlKHRleHROb2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIC8vIFRoZSBwYXJlbnQgbm9kZSBtYXkgbm90IGJlIGEgaHRtbCBlbGVtZW50IHdoaWNoIGhhcyBhIHRhZ05hbWUgYXR0cmlidXRlLlxuICAgIC8vIFNvIGp1c3QgbGV0IGl0IGJlIHVuZGVmaW5lZCB3aGljaCBpcyBvayBpbiB0aGlzIHVzZSBjYXNlLlxuICAgIHZhciBwYXJlbnRUYWdOYW1lID0gKF9hID0gdGV4dE5vZGUucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRhZ05hbWU7XG4gICAgdmFyIHRleHRDb250ZW50ID0gZ2V0VGV4dENvbnRlbnQodGV4dE5vZGUsIG9wdGlvbnMuaWdub3JlV2hpdGVTcGFjZSB8fCBmYWxzZSwgb3B0aW9ucy5wYXJlbnROb2RlUHJpdmFjeUxldmVsKTtcbiAgICBpZiAoIXRleHRDb250ZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogTm9kZVR5cGUuVGV4dCxcbiAgICAgICAgdGV4dENvbnRlbnQ6IHRleHRDb250ZW50LFxuICAgICAgICBpc1N0eWxlOiBwYXJlbnRUYWdOYW1lID09PSAnU1RZTEUnID8gdHJ1ZSA6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VyaWFsaXplQ0RhdGFOb2RlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IE5vZGVUeXBlLkNEQVRBLFxuICAgICAgICB0ZXh0Q29udGVudDogJycsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVDaGlsZE5vZGVzKG5vZGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgZm9yRWFjaChub2RlLmNoaWxkTm9kZXMsIGZ1bmN0aW9uIChjaGlsZE5vZGUpIHtcbiAgICAgICAgdmFyIHNlcmlhbGl6ZWRDaGlsZE5vZGUgPSBzZXJpYWxpemVOb2RlV2l0aElkKGNoaWxkTm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChzZXJpYWxpemVkQ2hpbGROb2RlKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzZXJpYWxpemVkQ2hpbGROb2RlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplQXR0cmlidXRlKGVsZW1lbnQsIG5vZGVQcml2YWN5TGV2ZWwsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICBpZiAobm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5ISURERU4pIHtcbiAgICAgICAgLy8gZHVwIGNvbmRpdGlvbiBmb3IgZGlyZWN0IGFjY2VzcyBjYXNlXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgYXR0cmlidXRlVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICBpZiAobm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5NQVNLKSB7XG4gICAgICAgIHZhciB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lO1xuICAgICAgICBzd2l0Y2ggKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgICAgIC8vIE1hc2sgQXR0cmlidXRlIHRleHQgY29udGVudFxuICAgICAgICAgICAgY2FzZSAndGl0bGUnOlxuICAgICAgICAgICAgY2FzZSAnYWx0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQ0VOU09SRURfU1RSSU5HX01BUks7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFzayBpbWFnZSBVUkxzXG4gICAgICAgIGlmICh0YWdOYW1lID09PSAnSU1HJyB8fCB0YWdOYW1lID09PSAnU09VUkNFJykge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgPT09ICdzcmMnIHx8IGF0dHJpYnV0ZU5hbWUgPT09ICdzcmNzZXQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENFTlNPUkVEX0lNR19NQVJLO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG1hc2sgPGE+IFVSTHNcbiAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdBJyAmJiBhdHRyaWJ1dGVOYW1lID09PSAnaHJlZicpIHtcbiAgICAgICAgICAgIHJldHVybiBDRU5TT1JFRF9TVFJJTkdfTUFSSztcbiAgICAgICAgfVxuICAgICAgICAvLyBtYXNrIGRhdGEtKiBhdHRyaWJ1dGVzXG4gICAgICAgIGlmIChhdHRyaWJ1dGVWYWx1ZSAmJiBhdHRyaWJ1dGVOYW1lLmluZGV4T2YoJ2RhdGEtJykgPT09IDAgJiYgYXR0cmlidXRlTmFtZSAhPT0gUFJJVkFDWV9BVFRSX05BTUUpIHtcbiAgICAgICAgICAgIC8vIEV4Y2VwdGlvbjogaXQncyBzYWZlIHRvIHJldmVhbCB0aGUgYCR7UFJJVkFDWV9BVFRSX05BTUV9YCBhdHRyXG4gICAgICAgICAgICByZXR1cm4gQ0VOU09SRURfU1RSSU5HX01BUks7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhdHRyaWJ1dGVWYWx1ZSB8fCB0eXBlb2YgYXR0cmlidXRlVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVWYWx1ZTtcbiAgICB9XG4gICAgLy8gTWluaW11bSBGaXggZm9yIGN1c3RvbWVyLlxuICAgIGlmIChhdHRyaWJ1dGVWYWx1ZS5sZW5ndGggPiBNQVhfQVRUUklCVVRFX1ZBTFVFX0NIQVJfTEVOR1RIICYmIGF0dHJpYnV0ZVZhbHVlLnNsaWNlKDAsIDUpID09PSAnZGF0YTonKSB7XG4gICAgICAgIHJldHVybiAnZGF0YTp0cnVuY2F0ZWQnO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cmlidXRlVmFsdWU7XG59XG52YXIgX25leHRJZCA9IDE7XG5mdW5jdGlvbiBnZW5lcmF0ZU5leHRJZCgpIHtcbiAgICByZXR1cm4gX25leHRJZCsrO1xufVxudmFyIFRBR19OQU1FX1JFR0VYID0gL1teYS16MS02LV9dLztcbmZ1bmN0aW9uIGdldFZhbGlkVGFnTmFtZSh0YWdOYW1lKSB7XG4gICAgdmFyIHByb2Nlc3NlZFRhZ05hbWUgPSB0YWdOYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIGlmIChUQUdfTkFNRV9SRUdFWC50ZXN0KHByb2Nlc3NlZFRhZ05hbWUpKSB7XG4gICAgICAgIC8vIGlmIHRoZSB0YWcgbmFtZSBpcyBvZGQgYW5kIHdlIGNhbm5vdCBleHRyYWN0XG4gICAgICAgIC8vIGFueXRoaW5nIGZyb20gdGhlIHN0cmluZywgdGhlbiB3ZSByZXR1cm4gYVxuICAgICAgICAvLyBnZW5lcmljIGRpdlxuICAgICAgICByZXR1cm4gJ2Rpdic7XG4gICAgfVxuICAgIHJldHVybiBwcm9jZXNzZWRUYWdOYW1lO1xufVxuZnVuY3Rpb24gZ2V0Q3NzUnVsZXNTdHJpbmcocykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBydWxlcyA9IHMucnVsZXMgfHwgcy5jc3NSdWxlcztcbiAgICAgICAgcmV0dXJuIHJ1bGVzID8gQXJyYXkuZnJvbShydWxlcykubWFwKGdldENzc1J1bGVTdHJpbmcpLmpvaW4oJycpIDogbnVsbDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENzc1J1bGVTdHJpbmcocnVsZSkge1xuICAgIHJldHVybiBpc0NTU0ltcG9ydFJ1bGUocnVsZSkgPyBnZXRDc3NSdWxlc1N0cmluZyhydWxlLnN0eWxlU2hlZXQpIHx8ICcnIDogcnVsZS5jc3NUZXh0O1xufVxuZnVuY3Rpb24gaXNDU1NJbXBvcnRSdWxlKHJ1bGUpIHtcbiAgICByZXR1cm4gJ3N0eWxlU2hlZXQnIGluIHJ1bGU7XG59XG5mdW5jdGlvbiBpc1NWR0VsZW1lbnQoZWwpIHtcbiAgICByZXR1cm4gZWwudGFnTmFtZSA9PT0gJ3N2ZycgfHwgZWwgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xufVxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlc0ZvclByaXZhY3lMZXZlbChlbGVtZW50LCBub2RlUHJpdmFjeUxldmVsKSB7XG4gICAgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgdmFyIHNhZmVBdHRycyA9IHt9O1xuICAgIHZhciB0YWdOYW1lID0gZ2V0VmFsaWRUYWdOYW1lKGVsZW1lbnQudGFnTmFtZSk7XG4gICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gZWxlbWVudC5hdHRyaWJ1dGVzLml0ZW0oaSk7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlLm5hbWU7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVWYWx1ZSA9IHNlcmlhbGl6ZUF0dHJpYnV0ZShlbGVtZW50LCBub2RlUHJpdmFjeUxldmVsLCBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZVZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzYWZlQXR0cnNbYXR0cmlidXRlTmFtZV0gPSBhdHRyaWJ1dGVWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWxlbWVudC52YWx1ZSAmJlxuICAgICAgICAodGFnTmFtZSA9PT0gJ3RleHRhcmVhJyB8fCB0YWdOYW1lID09PSAnc2VsZWN0JyB8fCB0YWdOYW1lID09PSAnb3B0aW9uJyB8fCB0YWdOYW1lID09PSAnaW5wdXQnKSkge1xuICAgICAgICB2YXIgZm9ybVZhbHVlID0gZ2V0RWxlbWVudElucHV0VmFsdWUoZWxlbWVudCwgbm9kZVByaXZhY3lMZXZlbCk7XG4gICAgICAgIGlmIChmb3JtVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2FmZUF0dHJzLnZhbHVlID0gZm9ybVZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIDxPcHRpb24+IGNhbiBiZSBzZWxlY3RlZCwgd2hpY2ggb2NjdXJzIGlmIGl0cyBgdmFsdWVgIG1hdGNoZXMgYW5jZXN0b3IgYDxTZWxlY3Q+LnZhbHVlYFxuICAgICAqL1xuICAgIGlmICh0YWdOYW1lID09PSAnb3B0aW9uJyAmJiBub2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLkFMTE9XKSB7XG4gICAgICAgIC8vIEZvciBwcml2YWN5PWBNQVNLYCwgYWxsIHRoZSB2YWx1ZXMgd291bGQgYmUgdGhlIHNhbWUsIHNvIHNraXAuXG4gICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgaWYgKG9wdGlvbkVsZW1lbnQuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHNhZmVBdHRycy5zZWxlY3RlZCA9IG9wdGlvbkVsZW1lbnQuc2VsZWN0ZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcmVtb3RlIGNzc1xuICAgIGlmICh0YWdOYW1lID09PSAnbGluaycpIHtcbiAgICAgICAgdmFyIHN0eWxlc2hlZXQgPSBBcnJheS5mcm9tKGRvYy5zdHlsZVNoZWV0cykuZmluZChmdW5jdGlvbiAocykgeyByZXR1cm4gcy5ocmVmID09PSBlbGVtZW50LmhyZWY7IH0pO1xuICAgICAgICB2YXIgY3NzVGV4dCA9IGdldENzc1J1bGVzU3RyaW5nKHN0eWxlc2hlZXQpO1xuICAgICAgICBpZiAoY3NzVGV4dCAmJiBzdHlsZXNoZWV0KSB7XG4gICAgICAgICAgICBkZWxldGUgc2FmZUF0dHJzLnJlbDtcbiAgICAgICAgICAgIGRlbGV0ZSBzYWZlQXR0cnMuaHJlZjtcbiAgICAgICAgICAgIHNhZmVBdHRycy5fY3NzVGV4dCA9IGNzc1RleHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZHluYW1pYyBzdHlsZXNoZWV0XG4gICAgaWYgKHRhZ05hbWUgPT09ICdzdHlsZScgJiZcbiAgICAgICAgZWxlbWVudC5zaGVldCAmJlxuICAgICAgICAvLyBUT0RPOiBDdXJyZW50bHkgd2Ugb25seSB0cnkgdG8gZ2V0IGR5bmFtaWMgc3R5bGVzaGVldCB3aGVuIGl0IGlzIGFuIGVtcHR5IHN0eWxlIGVsZW1lbnRcbiAgICAgICAgIShlbGVtZW50LmlubmVyVGV4dCB8fCBlbGVtZW50LnRleHRDb250ZW50IHx8ICcnKS50cmltKCkubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjc3NUZXh0ID0gZ2V0Q3NzUnVsZXNTdHJpbmcoZWxlbWVudC5zaGVldCk7XG4gICAgICAgIGlmIChjc3NUZXh0KSB7XG4gICAgICAgICAgICBzYWZlQXR0cnMuX2Nzc1RleHQgPSBjc3NUZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcm1zOiBpbnB1dFt0eXBlPWNoZWNrYm94LHJhZGlvXVxuICAgICAqIFRoZSBgY2hlY2tlZGAgcHJvcGVydHkgZm9yIDxpbnB1dD4gaXMgYSBsaXR0bGUgYml0IHNwZWNpYWw6XG4gICAgICogMS4gZWwuY2hlY2tlZCBpcyBhIHNldHRlciB0aGF0IHJldHVybnMgaWYgdHJ1dGh5LlxuICAgICAqIDIuIGdldEF0dHJpYnV0ZSByZXR1cm5zIHRoZSBzdHJpbmcgdmFsdWVcbiAgICAgKiBnZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSBkb2VzIG5vdCBzeW5jIHdpdGggYEVsZW1lbnQuY2hlY2tlZGAsIHNvIHVzZSBKUyBwcm9wZXJ0eVxuICAgICAqIE5PVEU6IGBjaGVja2VkYCBwcm9wZXJ0eSBleGlzdHMgb24gYEhUTUxJbnB1dEVsZW1lbnRgLiBGb3Igc2VyaWFsaXplciBhc3N1bXB0aW9ucywgd2UgY2hlY2sgZm9yIHR5cGU9cmFkaW98Y2hlY2suXG4gICAgICovXG4gICAgdmFyIGlucHV0RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgaWYgKHRhZ05hbWUgPT09ICdpbnB1dCcgJiYgKGlucHV0RWxlbWVudC50eXBlID09PSAncmFkaW8nIHx8IGlucHV0RWxlbWVudC50eXBlID09PSAnY2hlY2tib3gnKSkge1xuICAgICAgICBpZiAobm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5BTExPVykge1xuICAgICAgICAgICAgc2FmZUF0dHJzLmNoZWNrZWQgPSAhIWlucHV0RWxlbWVudC5jaGVja2VkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNob3VsZE1hc2tOb2RlKGlucHV0RWxlbWVudCwgbm9kZVByaXZhY3lMZXZlbCkpIHtcbiAgICAgICAgICAgIHNhZmVBdHRycy5jaGVja2VkID0gQ0VOU09SRURfU1RSSU5HX01BUks7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIHRoZSBtZWRpYSBwbGF5YmFjayBzdGF0ZVxuICAgICAqL1xuICAgIGlmICh0YWdOYW1lID09PSAnYXVkaW8nIHx8IHRhZ05hbWUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgdmFyIG1lZGlhRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHNhZmVBdHRycy5ycl9tZWRpYVN0YXRlID0gbWVkaWFFbGVtZW50LnBhdXNlZCA/ICdwYXVzZWQnIDogJ3BsYXllZCc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZSB0aGUgc2Nyb2xsIHN0YXRlIGZvciBlYWNoIGVsZW1lbnRcbiAgICAgKi9cbiAgICBpZiAoZWxlbWVudC5zY3JvbGxMZWZ0KSB7XG4gICAgICAgIHNhZmVBdHRycy5ycl9zY3JvbGxMZWZ0ID0gTWF0aC5yb3VuZChlbGVtZW50LnNjcm9sbExlZnQpO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5zY3JvbGxUb3ApIHtcbiAgICAgICAgc2FmZUF0dHJzLnJyX3Njcm9sbFRvcCA9IE1hdGgucm91bmQoZWxlbWVudC5zY3JvbGxUb3ApO1xuICAgIH1cbiAgICByZXR1cm4gc2FmZUF0dHJzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXplLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/serialize.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/utils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/utils.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"forEach\": function() { return /* binding */ forEach; },\n/* harmony export */   \"isTouchEvent\": function() { return /* binding */ isTouchEvent; }\n/* harmony export */ });\nfunction isTouchEvent(event) {\n    return Boolean(event.changedTouches);\n}\nfunction forEach(list, callback) {\n    Array.prototype.forEach.call(list, callback);\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvdXRpbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvdXRpbHMuanM/NGRlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNUb3VjaEV2ZW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oZXZlbnQuY2hhbmdlZFRvdWNoZXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2gobGlzdCwgY2FsbGJhY2spIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGxpc3QsIGNhbGxiYWNrKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/utils.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/record/viewports.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/record/viewports.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"convertMouseEventToLayoutCoordinates\": function() { return /* binding */ convertMouseEventToLayoutCoordinates; },\n/* harmony export */   \"getScrollX\": function() { return /* binding */ getScrollX; },\n/* harmony export */   \"getScrollY\": function() { return /* binding */ getScrollY; },\n/* harmony export */   \"getVisualViewport\": function() { return /* binding */ getVisualViewport; },\n/* harmony export */   \"getWindowHeight\": function() { return /* binding */ getWindowHeight; },\n/* harmony export */   \"getWindowWidth\": function() { return /* binding */ getWindowWidth; }\n/* harmony export */ });\n/**\n * Browsers have not standardized various dimension properties. Mobile devices typically report\n * dimensions in reference to the visual viewport, while desktop uses the layout viewport. For example,\n * Mobile Chrome will change innerWidth when a pinch zoom takes place, while Chrome Desktop (mac) will not.\n *\n * With the new Viewport API, we now calculate and normalize dimension properties to the layout viewport.\n * If the VisualViewport API is not supported by a browser, it isn't reasonably possible to detect or normalize\n * which viewport is being measured. Therefore these exported functions will fallback to assuming that the layout\n * viewport is being measured by the browser\n */\n// Scrollbar widths vary across properties on different devices and browsers\nvar TOLERANCE = 25;\n/**\n * Use the Visual Viewport API's properties to measure scrollX/Y in reference to the layout viewport\n * in order to determine if window.scrollX/Y is measuring the layout or visual viewport.\n * This finding corresponds to which viewport mouseEvent.clientX/Y and window.innerWidth/Height measures.\n */\nfunction isVisualViewportFactoredIn() {\n    var visual = window.visualViewport;\n    return (Math.abs(visual.pageTop - visual.offsetTop - window.scrollY) > TOLERANCE ||\n        Math.abs(visual.pageLeft - visual.offsetLeft - window.scrollX) > TOLERANCE);\n}\nvar convertMouseEventToLayoutCoordinates = function (clientX, clientY) {\n    var visual = window.visualViewport;\n    var normalised = {\n        layoutViewportX: clientX,\n        layoutViewportY: clientY,\n        visualViewportX: clientX,\n        visualViewportY: clientY,\n    };\n    if (!visual) {\n        // On old browsers, we cannot normalise, so fallback to clientX/Y\n        return normalised;\n    }\n    else if (isVisualViewportFactoredIn()) {\n        // Typically Mobile Devices\n        normalised.layoutViewportX = Math.round(clientX + visual.offsetLeft);\n        normalised.layoutViewportY = Math.round(clientY + visual.offsetTop);\n    }\n    else {\n        // Typically Desktop Devices\n        normalised.visualViewportX = Math.round(clientX - visual.offsetLeft);\n        normalised.visualViewportY = Math.round(clientY - visual.offsetTop);\n    }\n    return normalised;\n};\nvar getVisualViewport = function () {\n    var visual = window.visualViewport;\n    return {\n        scale: visual.scale,\n        offsetLeft: visual.offsetLeft,\n        offsetTop: visual.offsetTop,\n        pageLeft: visual.pageLeft,\n        pageTop: visual.pageTop,\n        height: visual.height,\n        width: visual.width,\n    };\n};\n// excludes the width of any rendered classic scrollbar that is fixed to the visual viewport\nfunction getWindowWidth() {\n    var visual = window.visualViewport;\n    if (visual) {\n        return visual.width * visual.scale;\n    }\n    return window.innerWidth || 0;\n}\n// excludes the height of any rendered classic scrollbar that is fixed to the visual viewport\nfunction getWindowHeight() {\n    var visual = window.visualViewport;\n    if (visual) {\n        return visual.height * visual.scale;\n    }\n    return window.innerHeight || 0;\n}\nfunction getScrollX() {\n    var visual = window.visualViewport;\n    if (visual) {\n        return visual.pageLeft - visual.offsetLeft;\n    }\n    if (window.scrollX !== undefined) {\n        return window.scrollX;\n    }\n    return window.pageXOffset || 0;\n}\nfunction getScrollY() {\n    var visual = window.visualViewport;\n    if (visual) {\n        return visual.pageTop - visual.offsetTop;\n    }\n    if (window.scrollY !== undefined) {\n        return window.scrollY;\n    }\n    return window.pageYOffset || 0;\n}\n//# sourceMappingURL=viewports.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvdmlld3BvcnRzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3ZpZXdwb3J0cy5qcz9lZTk5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQnJvd3NlcnMgaGF2ZSBub3Qgc3RhbmRhcmRpemVkIHZhcmlvdXMgZGltZW5zaW9uIHByb3BlcnRpZXMuIE1vYmlsZSBkZXZpY2VzIHR5cGljYWxseSByZXBvcnRcbiAqIGRpbWVuc2lvbnMgaW4gcmVmZXJlbmNlIHRvIHRoZSB2aXN1YWwgdmlld3BvcnQsIHdoaWxlIGRlc2t0b3AgdXNlcyB0aGUgbGF5b3V0IHZpZXdwb3J0LiBGb3IgZXhhbXBsZSxcbiAqIE1vYmlsZSBDaHJvbWUgd2lsbCBjaGFuZ2UgaW5uZXJXaWR0aCB3aGVuIGEgcGluY2ggem9vbSB0YWtlcyBwbGFjZSwgd2hpbGUgQ2hyb21lIERlc2t0b3AgKG1hYykgd2lsbCBub3QuXG4gKlxuICogV2l0aCB0aGUgbmV3IFZpZXdwb3J0IEFQSSwgd2Ugbm93IGNhbGN1bGF0ZSBhbmQgbm9ybWFsaXplIGRpbWVuc2lvbiBwcm9wZXJ0aWVzIHRvIHRoZSBsYXlvdXQgdmlld3BvcnQuXG4gKiBJZiB0aGUgVmlzdWFsVmlld3BvcnQgQVBJIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYSBicm93c2VyLCBpdCBpc24ndCByZWFzb25hYmx5IHBvc3NpYmxlIHRvIGRldGVjdCBvciBub3JtYWxpemVcbiAqIHdoaWNoIHZpZXdwb3J0IGlzIGJlaW5nIG1lYXN1cmVkLiBUaGVyZWZvcmUgdGhlc2UgZXhwb3J0ZWQgZnVuY3Rpb25zIHdpbGwgZmFsbGJhY2sgdG8gYXNzdW1pbmcgdGhhdCB0aGUgbGF5b3V0XG4gKiB2aWV3cG9ydCBpcyBiZWluZyBtZWFzdXJlZCBieSB0aGUgYnJvd3NlclxuICovXG4vLyBTY3JvbGxiYXIgd2lkdGhzIHZhcnkgYWNyb3NzIHByb3BlcnRpZXMgb24gZGlmZmVyZW50IGRldmljZXMgYW5kIGJyb3dzZXJzXG52YXIgVE9MRVJBTkNFID0gMjU7XG4vKipcbiAqIFVzZSB0aGUgVmlzdWFsIFZpZXdwb3J0IEFQSSdzIHByb3BlcnRpZXMgdG8gbWVhc3VyZSBzY3JvbGxYL1kgaW4gcmVmZXJlbmNlIHRvIHRoZSBsYXlvdXQgdmlld3BvcnRcbiAqIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiB3aW5kb3cuc2Nyb2xsWC9ZIGlzIG1lYXN1cmluZyB0aGUgbGF5b3V0IG9yIHZpc3VhbCB2aWV3cG9ydC5cbiAqIFRoaXMgZmluZGluZyBjb3JyZXNwb25kcyB0byB3aGljaCB2aWV3cG9ydCBtb3VzZUV2ZW50LmNsaWVudFgvWSBhbmQgd2luZG93LmlubmVyV2lkdGgvSGVpZ2h0IG1lYXN1cmVzLlxuICovXG5mdW5jdGlvbiBpc1Zpc3VhbFZpZXdwb3J0RmFjdG9yZWRJbigpIHtcbiAgICB2YXIgdmlzdWFsID0gd2luZG93LnZpc3VhbFZpZXdwb3J0O1xuICAgIHJldHVybiAoTWF0aC5hYnModmlzdWFsLnBhZ2VUb3AgLSB2aXN1YWwub2Zmc2V0VG9wIC0gd2luZG93LnNjcm9sbFkpID4gVE9MRVJBTkNFIHx8XG4gICAgICAgIE1hdGguYWJzKHZpc3VhbC5wYWdlTGVmdCAtIHZpc3VhbC5vZmZzZXRMZWZ0IC0gd2luZG93LnNjcm9sbFgpID4gVE9MRVJBTkNFKTtcbn1cbmV4cG9ydCB2YXIgY29udmVydE1vdXNlRXZlbnRUb0xheW91dENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICB2YXIgdmlzdWFsID0gd2luZG93LnZpc3VhbFZpZXdwb3J0O1xuICAgIHZhciBub3JtYWxpc2VkID0ge1xuICAgICAgICBsYXlvdXRWaWV3cG9ydFg6IGNsaWVudFgsXG4gICAgICAgIGxheW91dFZpZXdwb3J0WTogY2xpZW50WSxcbiAgICAgICAgdmlzdWFsVmlld3BvcnRYOiBjbGllbnRYLFxuICAgICAgICB2aXN1YWxWaWV3cG9ydFk6IGNsaWVudFksXG4gICAgfTtcbiAgICBpZiAoIXZpc3VhbCkge1xuICAgICAgICAvLyBPbiBvbGQgYnJvd3NlcnMsIHdlIGNhbm5vdCBub3JtYWxpc2UsIHNvIGZhbGxiYWNrIHRvIGNsaWVudFgvWVxuICAgICAgICByZXR1cm4gbm9ybWFsaXNlZDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNWaXN1YWxWaWV3cG9ydEZhY3RvcmVkSW4oKSkge1xuICAgICAgICAvLyBUeXBpY2FsbHkgTW9iaWxlIERldmljZXNcbiAgICAgICAgbm9ybWFsaXNlZC5sYXlvdXRWaWV3cG9ydFggPSBNYXRoLnJvdW5kKGNsaWVudFggKyB2aXN1YWwub2Zmc2V0TGVmdCk7XG4gICAgICAgIG5vcm1hbGlzZWQubGF5b3V0Vmlld3BvcnRZID0gTWF0aC5yb3VuZChjbGllbnRZICsgdmlzdWFsLm9mZnNldFRvcCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBUeXBpY2FsbHkgRGVza3RvcCBEZXZpY2VzXG4gICAgICAgIG5vcm1hbGlzZWQudmlzdWFsVmlld3BvcnRYID0gTWF0aC5yb3VuZChjbGllbnRYIC0gdmlzdWFsLm9mZnNldExlZnQpO1xuICAgICAgICBub3JtYWxpc2VkLnZpc3VhbFZpZXdwb3J0WSA9IE1hdGgucm91bmQoY2xpZW50WSAtIHZpc3VhbC5vZmZzZXRUb3ApO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXNlZDtcbn07XG5leHBvcnQgdmFyIGdldFZpc3VhbFZpZXdwb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2aXN1YWwgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NhbGU6IHZpc3VhbC5zY2FsZSxcbiAgICAgICAgb2Zmc2V0TGVmdDogdmlzdWFsLm9mZnNldExlZnQsXG4gICAgICAgIG9mZnNldFRvcDogdmlzdWFsLm9mZnNldFRvcCxcbiAgICAgICAgcGFnZUxlZnQ6IHZpc3VhbC5wYWdlTGVmdCxcbiAgICAgICAgcGFnZVRvcDogdmlzdWFsLnBhZ2VUb3AsXG4gICAgICAgIGhlaWdodDogdmlzdWFsLmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHZpc3VhbC53aWR0aCxcbiAgICB9O1xufTtcbi8vIGV4Y2x1ZGVzIHRoZSB3aWR0aCBvZiBhbnkgcmVuZGVyZWQgY2xhc3NpYyBzY3JvbGxiYXIgdGhhdCBpcyBmaXhlZCB0byB0aGUgdmlzdWFsIHZpZXdwb3J0XG5leHBvcnQgZnVuY3Rpb24gZ2V0V2luZG93V2lkdGgoKSB7XG4gICAgdmFyIHZpc3VhbCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydDtcbiAgICBpZiAodmlzdWFsKSB7XG4gICAgICAgIHJldHVybiB2aXN1YWwud2lkdGggKiB2aXN1YWwuc2NhbGU7XG4gICAgfVxuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwO1xufVxuLy8gZXhjbHVkZXMgdGhlIGhlaWdodCBvZiBhbnkgcmVuZGVyZWQgY2xhc3NpYyBzY3JvbGxiYXIgdGhhdCBpcyBmaXhlZCB0byB0aGUgdmlzdWFsIHZpZXdwb3J0XG5leHBvcnQgZnVuY3Rpb24gZ2V0V2luZG93SGVpZ2h0KCkge1xuICAgIHZhciB2aXN1YWwgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ7XG4gICAgaWYgKHZpc3VhbCkge1xuICAgICAgICByZXR1cm4gdmlzdWFsLmhlaWdodCAqIHZpc3VhbC5zY2FsZTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFgoKSB7XG4gICAgdmFyIHZpc3VhbCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydDtcbiAgICBpZiAodmlzdWFsKSB7XG4gICAgICAgIHJldHVybiB2aXN1YWwucGFnZUxlZnQgLSB2aXN1YWwub2Zmc2V0TGVmdDtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5zY3JvbGxYICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5zY3JvbGxYO1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsWSgpIHtcbiAgICB2YXIgdmlzdWFsID0gd2luZG93LnZpc3VhbFZpZXdwb3J0O1xuICAgIGlmICh2aXN1YWwpIHtcbiAgICAgICAgcmV0dXJuIHZpc3VhbC5wYWdlVG9wIC0gdmlzdWFsLm9mZnNldFRvcDtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5zY3JvbGxZO1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3cG9ydHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/record/viewports.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/replayStats.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/replayStats.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MAX_STATS_HISTORY\": function() { return /* binding */ MAX_STATS_HISTORY; },\n/* harmony export */   \"addRecord\": function() { return /* binding */ addRecord; },\n/* harmony export */   \"addSegment\": function() { return /* binding */ addSegment; },\n/* harmony export */   \"addWroteData\": function() { return /* binding */ addWroteData; },\n/* harmony export */   \"getReplayStats\": function() { return /* binding */ getReplayStats; },\n/* harmony export */   \"getSegmentsCount\": function() { return /* binding */ getSegmentsCount; },\n/* harmony export */   \"resetReplayStats\": function() { return /* binding */ resetReplayStats; }\n/* harmony export */ });\nvar MAX_STATS_HISTORY = 10;\nvar statsPerView;\nfunction getSegmentsCount(viewId) {\n    return getOrCreateReplayStats(viewId).segments_count;\n}\nfunction addSegment(viewId) {\n    getOrCreateReplayStats(viewId).segments_count += 1;\n}\nfunction addRecord(viewId) {\n    getOrCreateReplayStats(viewId).records_count += 1;\n}\nfunction addWroteData(viewId, additionalBytesCount) {\n    getOrCreateReplayStats(viewId).segments_total_raw_size += additionalBytesCount;\n}\nfunction getReplayStats(viewId) {\n    return statsPerView === null || statsPerView === void 0 ? void 0 : statsPerView.get(viewId);\n}\nfunction resetReplayStats() {\n    statsPerView = undefined;\n}\nfunction getOrCreateReplayStats(viewId) {\n    if (!statsPerView) {\n        statsPerView = new Map();\n    }\n    var replayStats;\n    if (statsPerView.has(viewId)) {\n        replayStats = statsPerView.get(viewId);\n    }\n    else {\n        replayStats = {\n            records_count: 0,\n            segments_count: 0,\n            segments_total_raw_size: 0,\n        };\n        statsPerView.set(viewId, replayStats);\n        if (statsPerView.size > MAX_STATS_HISTORY) {\n            deleteOldestStats();\n        }\n    }\n    return replayStats;\n}\nfunction deleteOldestStats() {\n    if (!statsPerView) {\n        return;\n    }\n    if (statsPerView.keys) {\n        statsPerView.delete(statsPerView.keys().next().value);\n    }\n    else {\n        // IE11 doesn't support map.keys\n        var isFirst_1 = true;\n        statsPerView.forEach(function (_value, key) {\n            if (isFirst_1) {\n                statsPerView.delete(key);\n                isFirst_1 = false;\n            }\n        });\n    }\n}\n//# sourceMappingURL=replayStats.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZXBsYXlTdGF0cy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQU87QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVwbGF5U3RhdHMuanM/MjRkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIE1BWF9TVEFUU19ISVNUT1JZID0gMTA7XG52YXIgc3RhdHNQZXJWaWV3O1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlZ21lbnRzQ291bnQodmlld0lkKSB7XG4gICAgcmV0dXJuIGdldE9yQ3JlYXRlUmVwbGF5U3RhdHModmlld0lkKS5zZWdtZW50c19jb3VudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRTZWdtZW50KHZpZXdJZCkge1xuICAgIGdldE9yQ3JlYXRlUmVwbGF5U3RhdHModmlld0lkKS5zZWdtZW50c19jb3VudCArPSAxO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlY29yZCh2aWV3SWQpIHtcbiAgICBnZXRPckNyZWF0ZVJlcGxheVN0YXRzKHZpZXdJZCkucmVjb3Jkc19jb3VudCArPSAxO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFdyb3RlRGF0YSh2aWV3SWQsIGFkZGl0aW9uYWxCeXRlc0NvdW50KSB7XG4gICAgZ2V0T3JDcmVhdGVSZXBsYXlTdGF0cyh2aWV3SWQpLnNlZ21lbnRzX3RvdGFsX3Jhd19zaXplICs9IGFkZGl0aW9uYWxCeXRlc0NvdW50O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlcGxheVN0YXRzKHZpZXdJZCkge1xuICAgIHJldHVybiBzdGF0c1BlclZpZXcgPT09IG51bGwgfHwgc3RhdHNQZXJWaWV3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0c1BlclZpZXcuZ2V0KHZpZXdJZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXRSZXBsYXlTdGF0cygpIHtcbiAgICBzdGF0c1BlclZpZXcgPSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBnZXRPckNyZWF0ZVJlcGxheVN0YXRzKHZpZXdJZCkge1xuICAgIGlmICghc3RhdHNQZXJWaWV3KSB7XG4gICAgICAgIHN0YXRzUGVyVmlldyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgdmFyIHJlcGxheVN0YXRzO1xuICAgIGlmIChzdGF0c1BlclZpZXcuaGFzKHZpZXdJZCkpIHtcbiAgICAgICAgcmVwbGF5U3RhdHMgPSBzdGF0c1BlclZpZXcuZ2V0KHZpZXdJZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBsYXlTdGF0cyA9IHtcbiAgICAgICAgICAgIHJlY29yZHNfY291bnQ6IDAsXG4gICAgICAgICAgICBzZWdtZW50c19jb3VudDogMCxcbiAgICAgICAgICAgIHNlZ21lbnRzX3RvdGFsX3Jhd19zaXplOiAwLFxuICAgICAgICB9O1xuICAgICAgICBzdGF0c1BlclZpZXcuc2V0KHZpZXdJZCwgcmVwbGF5U3RhdHMpO1xuICAgICAgICBpZiAoc3RhdHNQZXJWaWV3LnNpemUgPiBNQVhfU1RBVFNfSElTVE9SWSkge1xuICAgICAgICAgICAgZGVsZXRlT2xkZXN0U3RhdHMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVwbGF5U3RhdHM7XG59XG5mdW5jdGlvbiBkZWxldGVPbGRlc3RTdGF0cygpIHtcbiAgICBpZiAoIXN0YXRzUGVyVmlldykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzdGF0c1BlclZpZXcua2V5cykge1xuICAgICAgICBzdGF0c1BlclZpZXcuZGVsZXRlKHN0YXRzUGVyVmlldy5rZXlzKCkubmV4dCgpLnZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIElFMTEgZG9lc24ndCBzdXBwb3J0IG1hcC5rZXlzXG4gICAgICAgIHZhciBpc0ZpcnN0XzEgPSB0cnVlO1xuICAgICAgICBzdGF0c1BlclZpZXcuZm9yRWFjaChmdW5jdGlvbiAoX3ZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmIChpc0ZpcnN0XzEpIHtcbiAgICAgICAgICAgICAgICBzdGF0c1BlclZpZXcuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAgaXNGaXJzdF8xID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGxheVN0YXRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/replayStats.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/deflateWorker.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/deflateWorker.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createDeflateWorker\": function() { return /* binding */ createDeflateWorker; }\n/* harmony export */ });\nvar workerURL;\nfunction createDeflateWorker() {\n    // Lazily compute the worker URL to allow importing the SDK in NodeJS\n    if (!workerURL) {\n        workerURL = URL.createObjectURL(new Blob([\"(\".concat(workerCodeFn, \")(self)\")]));\n    }\n    return new Worker(workerURL);\n}\nfunction workerCodeFn() {\n    monitor(function () {\n        var _a = makePakoDeflate(), Deflate = _a.Deflate, constants = _a.constants, string2buf = _a.string2buf;\n        var deflate = new Deflate();\n        var rawBytesCount = 0;\n        self.addEventListener('message', monitor(function (event) {\n            var data = event.data;\n            switch (data.action) {\n                case 'init':\n                    self.postMessage({\n                        type: 'initialized',\n                    });\n                    break;\n                case 'write': {\n                    var additionalBytesCount = pushData(data.data);\n                    self.postMessage({\n                        type: 'wrote',\n                        id: data.id,\n                        compressedBytesCount: deflate.chunks.reduce(function (total, chunk) { return total + chunk.length; }, 0),\n                        additionalBytesCount: additionalBytesCount,\n                    });\n                    break;\n                }\n                case 'flush': {\n                    var additionalBytesCount = data.data ? pushData(data.data) : 0;\n                    deflate.push('', constants.Z_FINISH);\n                    self.postMessage({\n                        type: 'flushed',\n                        id: data.id,\n                        result: deflate.result,\n                        additionalBytesCount: additionalBytesCount,\n                        rawBytesCount: rawBytesCount,\n                    });\n                    deflate = new Deflate();\n                    rawBytesCount = 0;\n                    break;\n                }\n            }\n        }));\n        function pushData(data) {\n            // TextEncoder is not supported on old browser version like Edge 18, therefore we use string2buf\n            var binaryData = string2buf(data);\n            deflate.push(binaryData, constants.Z_SYNC_FLUSH);\n            rawBytesCount += binaryData.length;\n            return binaryData.length;\n        }\n    })();\n    function monitor(fn) {\n        return function () {\n            try {\n                return fn.apply(this, arguments);\n            }\n            catch (e) {\n                try {\n                    self.postMessage({\n                        type: 'errored',\n                        error: e,\n                    });\n                }\n                catch (_) {\n                    // DATA_CLONE_ERR, cf https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n                    self.postMessage({\n                        type: 'errored',\n                        error: \"\".concat(e),\n                    });\n                }\n            }\n        };\n    }\n    // https://github.com/nodeca/pako/blob/034669ba0f1a4c0590e45f7c2820128200f972b3/dist/pako_deflate.es5.js\n    function makePakoDeflate() {\n        /* eslint-disable camelcase, no-bitwise */\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        /* Public constants ========================================================== */\n        /* =========================================================================== */\n        // const Z_FILTERED          = 1;\n        // const Z_HUFFMAN_ONLY      = 2;\n        // const Z_RLE               = 3;\n        var Z_FIXED = 4; // const Z_DEFAULT_STRATEGY  = 0;\n        /* Possible values of the data_type field (though see inflate()) */\n        var Z_BINARY = 0;\n        var Z_TEXT = 1; // const Z_ASCII             = 1; // = Z_TEXT\n        var Z_UNKNOWN = 2;\n        /* ============================================================================ */\n        function zero(buf) {\n            var len = buf.length;\n            while (--len >= 0) {\n                buf[len] = 0;\n            }\n        } // From zutil.h\n        var STORED_BLOCK = 0;\n        var STATIC_TREES = 1;\n        var DYN_TREES = 2;\n        /* The three kinds of block type */\n        var MIN_MATCH = 3;\n        var MAX_MATCH = 258;\n        /* The minimum and maximum match lengths */\n        // From deflate.h\n        /* ===========================================================================\n         * Internal compression state.\n         */\n        var LENGTH_CODES = 29;\n        /* number of length codes, not counting the special END_BLOCK code */\n        var LITERALS = 256;\n        /* number of literal bytes 0..255 */\n        var L_CODES = LITERALS + 1 + LENGTH_CODES;\n        /* number of Literal or Length codes, including the END_BLOCK code */\n        var D_CODES = 30;\n        /* number of distance codes */\n        var BL_CODES = 19;\n        /* number of codes used to transfer the bit lengths */\n        var HEAP_SIZE = 2 * L_CODES + 1;\n        /* maximum heap size */\n        var MAX_BITS = 15;\n        /* All codes must not exceed MAX_BITS bits */\n        var Buf_size = 16;\n        /* size of bit buffer in bi_buf */\n        /* ===========================================================================\n         * Constants\n         */\n        var MAX_BL_BITS = 7;\n        /* Bit length codes must not exceed MAX_BL_BITS bits */\n        var END_BLOCK = 256;\n        /* end of block literal code */\n        var REP_3_6 = 16;\n        /* repeat previous bit length 3-6 times (2 bits of repeat count) */\n        var REPZ_3_10 = 17;\n        /* repeat a zero length 3-10 times  (3 bits of repeat count) */\n        var REPZ_11_138 = 18;\n        /* repeat a zero length 11-138 times  (7 bits of repeat count) */\n        var extra_lbits = \n        /* extra bits for each length code */\n        new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]);\n        var extra_dbits = \n        /* extra bits for each distance code */\n        new Uint8Array([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]);\n        var extra_blbits = \n        /* extra bits for each bit length code */\n        new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]);\n        var bl_order = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n        /* eslint-enable comma-spacing,array-bracket-spacing */\n        /* The lengths of the bit length codes are sent in order of decreasing\n         * probability, to avoid transmitting the lengths for unused bit length codes.\n         */\n        /* ===========================================================================\n         * Local data. These are initialized only once.\n         */\n        // We pre-fill arrays with 0 to avoid uninitialized gaps\n        var DIST_CODE_LEN = 512;\n        /* see definition of array dist_code below */\n        // !!!! Use flat array instead of structure, Freq = i*2, Len = i*2+1\n        var static_ltree = new Array((L_CODES + 2) * 2);\n        zero(static_ltree);\n        /* The static literal tree. Since the bit lengths are imposed, there is no\n         * need for the L_CODES extra codes used during heap construction. However\n         * The codes 286 and 287 are needed to build a canonical tree (see _tr_init\n         * below).\n         */\n        var static_dtree = new Array(D_CODES * 2);\n        zero(static_dtree);\n        /* The static distance tree. (Actually a trivial tree since all codes use\n         * 5 bits.)\n         */\n        var _dist_code = new Array(DIST_CODE_LEN);\n        zero(_dist_code);\n        /* Distance codes. The first 256 values correspond to the distances\n         * 3 .. 258, the last 256 values correspond to the top 8 bits of\n         * the 15 bit distances.\n         */\n        var _length_code = new Array(MAX_MATCH - MIN_MATCH + 1);\n        zero(_length_code);\n        /* length code for each normalized match length (0 == MIN_MATCH) */\n        var base_length = new Array(LENGTH_CODES);\n        zero(base_length);\n        /* First normalized length for each code (0 = MIN_MATCH) */\n        var base_dist = new Array(D_CODES);\n        zero(base_dist);\n        /* First normalized distance for each code (0 = distance of 1) */\n        function StaticTreeDesc(static_tree, extra_bits, extra_base, elems, max_length) {\n            this.static_tree = static_tree;\n            /* static tree or NULL */\n            this.extra_bits = extra_bits;\n            /* extra bits for each code or NULL */\n            this.extra_base = extra_base;\n            /* base index for extra_bits */\n            this.elems = elems;\n            /* max number of elements in the tree */\n            this.max_length = max_length;\n            /* max bit length for the codes */\n            // show if `static_tree` has data or dummy - needed for monomorphic objects\n            this.has_stree = static_tree && static_tree.length;\n        }\n        var static_l_desc;\n        var static_d_desc;\n        var static_bl_desc;\n        function TreeDesc(dyn_tree, stat_desc) {\n            this.dyn_tree = dyn_tree;\n            /* the dynamic tree */\n            this.max_code = 0;\n            /* largest code with non zero frequency */\n            this.stat_desc = stat_desc;\n            /* the corresponding static tree */\n        }\n        var d_code = function d_code(dist) {\n            return dist < 256 ? _dist_code[dist] : _dist_code[256 + (dist >>> 7)];\n        };\n        /* ===========================================================================\n         * Output a short LSB first on the stream.\n         * IN assertion: there is enough room in pendingBuf.\n         */\n        var put_short = function put_short(s, w) {\n            //    put_byte(s, (uch)((w) & 0xff));\n            //    put_byte(s, (uch)((ush)(w) >> 8));\n            s.pending_buf[s.pending++] = w & 0xff;\n            s.pending_buf[s.pending++] = (w >>> 8) & 0xff;\n        };\n        /* ===========================================================================\n         * Send a value on a given number of bits.\n         * IN assertion: length <= 16 and value fits in length bits.\n         */\n        var send_bits = function send_bits(s, value, length) {\n            if (s.bi_valid > Buf_size - length) {\n                s.bi_buf |= (value << s.bi_valid) & 0xffff;\n                put_short(s, s.bi_buf);\n                s.bi_buf = value >> (Buf_size - s.bi_valid);\n                s.bi_valid += length - Buf_size;\n            }\n            else {\n                s.bi_buf |= (value << s.bi_valid) & 0xffff;\n                s.bi_valid += length;\n            }\n        };\n        var send_code = function send_code(s, c, tree) {\n            send_bits(s, tree[c * 2], \n            /* .Code */\n            tree[c * 2 + 1]\n            /* .Len */\n            );\n        };\n        /* ===========================================================================\n         * Reverse the first len bits of a code, using straightforward code (a faster\n         * method would use a table)\n         * IN assertion: 1 <= len <= 15\n         */\n        var bi_reverse = function bi_reverse(code, len) {\n            var res = 0;\n            do {\n                res |= code & 1;\n                code >>>= 1;\n                res <<= 1;\n            } while (--len > 0);\n            return res >>> 1;\n        };\n        /* ===========================================================================\n         * Flush the bit buffer, keeping at most 7 bits in it.\n         */\n        var bi_flush = function bi_flush(s) {\n            if (s.bi_valid === 16) {\n                put_short(s, s.bi_buf);\n                s.bi_buf = 0;\n                s.bi_valid = 0;\n            }\n            else if (s.bi_valid >= 8) {\n                s.pending_buf[s.pending++] = s.bi_buf & 0xff;\n                s.bi_buf >>= 8;\n                s.bi_valid -= 8;\n            }\n        };\n        /* ===========================================================================\n         * Compute the optimal bit lengths for a tree and update the total bit length\n         * for the current block.\n         * IN assertion: the fields freq and dad are set, heap[heap_max] and\n         *    above are the tree nodes sorted by increasing frequency.\n         * OUT assertions: the field len is set to the optimal bit length, the\n         *     array bl_count contains the frequencies for each bit length.\n         *     The length opt_len is updated; static_len is also updated if stree is\n         *     not null.\n         */\n        var gen_bitlen = function gen_bitlen(s, desc //    deflate_state *s; //    tree_desc *desc;    /* the tree descriptor */\n        ) {\n            var tree = desc.dyn_tree;\n            var max_code = desc.max_code;\n            var stree = desc.stat_desc.static_tree;\n            var has_stree = desc.stat_desc.has_stree;\n            var extra = desc.stat_desc.extra_bits;\n            var base = desc.stat_desc.extra_base;\n            var max_length = desc.stat_desc.max_length;\n            var h;\n            /* heap index */\n            var n;\n            var m;\n            /* iterate over the tree elements */\n            var bits;\n            /* bit length */\n            var xbits;\n            /* extra bits */\n            var f;\n            /* frequency */\n            var overflow = 0;\n            /* number of elements with bit length too large */\n            for (bits = 0; bits <= MAX_BITS; bits++) {\n                s.bl_count[bits] = 0;\n            }\n            /* In a first pass, compute the optimal bit lengths (which may\n             * overflow in the case of the bit length tree).\n             */\n            tree[s.heap[s.heap_max] * 2 + 1] =\n                /* .Len */\n                0;\n            /* root of the heap */\n            for (h = s.heap_max + 1; h < HEAP_SIZE; h++) {\n                n = s.heap[h];\n                bits =\n                    tree[tree[n * 2 + 1] *\n                        /* .Dad */\n                        2 +\n                        1] +\n                        /* .Len */\n                        1;\n                if (bits > max_length) {\n                    bits = max_length;\n                    overflow++;\n                }\n                tree[n * 2 + 1] =\n                    /* .Len */\n                    bits;\n                /* We overwrite tree[n].Dad which is no longer needed */\n                if (n > max_code) {\n                    continue;\n                }\n                /* not a leaf node */\n                s.bl_count[bits]++;\n                xbits = 0;\n                if (n >= base) {\n                    xbits = extra[n - base];\n                }\n                f = tree[n * 2];\n                /* .Freq */\n                s.opt_len += f * (bits + xbits);\n                if (has_stree) {\n                    s.static_len +=\n                        f *\n                            (stree[n * 2 + 1] +\n                                /* .Len */\n                                xbits);\n                }\n            }\n            if (overflow === 0) {\n                return;\n            } // Trace((stderr,\"\\nbit length overflow\\n\"));\n            /* This happens for example on obj2 and pic of the Calgary corpus */\n            /* Find the first bit length which could increase: */\n            do {\n                bits = max_length - 1;\n                while (s.bl_count[bits] === 0) {\n                    bits--;\n                }\n                s.bl_count[bits]--;\n                /* move one leaf down the tree */\n                s.bl_count[bits + 1] += 2;\n                /* move one overflow item as its brother */\n                s.bl_count[max_length]--;\n                /* The brother of the overflow item also moves one step up,\n                 * but this does not affect bl_count[max_length]\n                 */\n                overflow -= 2;\n            } while (overflow > 0);\n            /* Now recompute all bit lengths, scanning in increasing frequency.\n             * h is still equal to HEAP_SIZE. (It is simpler to reconstruct all\n             * lengths instead of fixing only the wrong ones. This idea is taken\n             * from 'ar' written by Haruhiko Okumura.)\n             */\n            for (bits = max_length; bits !== 0; bits--) {\n                n = s.bl_count[bits];\n                while (n !== 0) {\n                    m = s.heap[--h];\n                    if (m > max_code) {\n                        continue;\n                    }\n                    if (tree[m * 2 + 1] !==\n                        /* .Len */\n                        bits) {\n                        // Trace((stderr,\"code %d bits %d->%d\\n\", m, tree[m].Len, bits));\n                        s.opt_len +=\n                            (bits - tree[m * 2 + 1]) *\n                                /* .Len */\n                                tree[m * 2];\n                        /* .Freq */\n                        tree[m * 2 + 1] =\n                            /* .Len */\n                            bits;\n                    }\n                    n--;\n                }\n            }\n        };\n        /* ===========================================================================\n         * Generate the codes for a given tree and bit counts (which need not be\n         * optimal).\n         * IN assertion: the array bl_count contains the bit length statistics for\n         * the given tree and the field len is set for all tree elements.\n         * OUT assertion: the field code is set for all tree elements of non\n         *     zero code length.\n         */\n        var gen_codes = function gen_codes(tree, max_code, bl_count\n        //    ct_data *tree;             /* the tree to decorate */\n        //    int max_code;              /* largest code with non zero frequency */\n        //    ushf *bl_count;            /* number of codes at each bit length */\n        ) {\n            var next_code = new Array(MAX_BITS + 1);\n            /* next code value for each bit length */\n            var code = 0;\n            /* running code value */\n            var bits;\n            /* bit index */\n            var n;\n            /* code index */\n            /* The distribution counts are first used to generate the code values\n             * without bit reversal.\n             */\n            for (bits = 1; bits <= MAX_BITS; bits++) {\n                next_code[bits] = code = (code + bl_count[bits - 1]) << 1;\n            }\n            /* Check that the bit counts in bl_count are consistent. The last code\n             * must be all ones.\n             */\n            // Assert (code + bl_count[MAX_BITS]-1 == (1<<MAX_BITS)-1,\n            //        \"inconsistent bit counts\");\n            // Tracev((stderr,\"\\ngen_codes: max_code %d \", max_code));\n            for (n = 0; n <= max_code; n++) {\n                var len = tree[n * 2 + 1];\n                /* .Len */\n                if (len === 0) {\n                    continue;\n                }\n                /* Now reverse the bits */\n                tree[n * 2] =\n                    /* .Code */\n                    bi_reverse(next_code[len]++, len); // Tracecv(tree != static_ltree, (stderr,\"\\nn %3d %c l %2d c %4x (%x) \",\n                //     n, (isgraph(n) ? n : ' '), len, tree[n].Code, next_code[len]-1));\n            }\n        };\n        /* ===========================================================================\n         * Initialize the various 'constant' tables.\n         */\n        var tr_static_init = function tr_static_init() {\n            var n;\n            /* iterates over tree elements */\n            var bits;\n            /* bit counter */\n            var length;\n            /* length value */\n            var code;\n            /* code value */\n            var dist;\n            /* distance index */\n            var bl_count = new Array(MAX_BITS + 1);\n            /* number of codes at each bit length for an optimal tree */\n            // do check in _tr_init()\n            // if (static_init_done) return;\n            /* For some embedded targets, global variables are not initialized: */\n            /* #ifdef NO_INIT_GLOBAL_POINTERS\n            static_l_desc.static_tree = static_ltree;\n            static_l_desc.extra_bits = extra_lbits;\n            static_d_desc.static_tree = static_dtree;\n            static_d_desc.extra_bits = extra_dbits;\n            static_bl_desc.extra_bits = extra_blbits;\n          #endif */\n            /* Initialize the mapping length (0..255) -> length code (0..28) */\n            length = 0;\n            for (code = 0; code < LENGTH_CODES - 1; code++) {\n                base_length[code] = length;\n                for (n = 0; n < 1 << extra_lbits[code]; n++) {\n                    _length_code[length++] = code;\n                }\n            } // Assert (length == 256, \"tr_static_init: length != 256\");\n            /* Note that the length 255 (match length 258) can be represented\n             * in two different ways: code 284 + 5 bits or code 285, so we\n             * overwrite length_code[255] to use the best encoding:\n             */\n            _length_code[length - 1] = code;\n            /* Initialize the mapping dist (0..32K) -> dist code (0..29) */\n            dist = 0;\n            for (code = 0; code < 16; code++) {\n                base_dist[code] = dist;\n                for (n = 0; n < 1 << extra_dbits[code]; n++) {\n                    _dist_code[dist++] = code;\n                }\n            } // Assert (dist == 256, \"tr_static_init: dist != 256\");\n            dist >>= 7;\n            /* from now on, all distances are divided by 128 */\n            for (; code < D_CODES; code++) {\n                base_dist[code] = dist << 7;\n                for (n = 0; n < 1 << (extra_dbits[code] - 7); n++) {\n                    _dist_code[256 + dist++] = code;\n                }\n            } // Assert (dist == 256, \"tr_static_init: 256+dist != 512\");\n            /* Construct the codes of the static literal tree */\n            for (bits = 0; bits <= MAX_BITS; bits++) {\n                bl_count[bits] = 0;\n            }\n            n = 0;\n            while (n <= 143) {\n                static_ltree[n * 2 + 1] =\n                    /* .Len */\n                    8;\n                n++;\n                bl_count[8]++;\n            }\n            while (n <= 255) {\n                static_ltree[n * 2 + 1] =\n                    /* .Len */\n                    9;\n                n++;\n                bl_count[9]++;\n            }\n            while (n <= 279) {\n                static_ltree[n * 2 + 1] =\n                    /* .Len */\n                    7;\n                n++;\n                bl_count[7]++;\n            }\n            while (n <= 287) {\n                static_ltree[n * 2 + 1] =\n                    /* .Len */\n                    8;\n                n++;\n                bl_count[8]++;\n            }\n            /* Codes 286 and 287 do not exist, but we must include them in the\n             * tree construction to get a canonical Huffman tree (longest code\n             * all ones)\n             */\n            gen_codes(static_ltree, L_CODES + 1, bl_count);\n            /* The static distance tree is trivial: */\n            for (n = 0; n < D_CODES; n++) {\n                static_dtree[n * 2 + 1] =\n                    /* .Len */\n                    5;\n                static_dtree[n * 2] =\n                    /* .Code */\n                    bi_reverse(n, 5);\n            } // Now data ready and we can init static trees\n            static_l_desc = new StaticTreeDesc(static_ltree, extra_lbits, LITERALS + 1, L_CODES, MAX_BITS);\n            static_d_desc = new StaticTreeDesc(static_dtree, extra_dbits, 0, D_CODES, MAX_BITS);\n            static_bl_desc = new StaticTreeDesc(new Array(0), extra_blbits, 0, BL_CODES, MAX_BL_BITS);\n            // static_init_done = true;\n        };\n        /* ===========================================================================\n         * Initialize a new block.\n         */\n        var init_block = function init_block(s) {\n            var n;\n            /* iterates over tree elements */\n            /* Initialize the trees. */\n            for (n = 0; n < L_CODES; n++) {\n                s.dyn_ltree[n * 2] =\n                    /* .Freq */\n                    0;\n            }\n            for (n = 0; n < D_CODES; n++) {\n                s.dyn_dtree[n * 2] =\n                    /* .Freq */\n                    0;\n            }\n            for (n = 0; n < BL_CODES; n++) {\n                s.bl_tree[n * 2] =\n                    /* .Freq */\n                    0;\n            }\n            s.dyn_ltree[END_BLOCK * 2] =\n                /* .Freq */\n                1;\n            s.opt_len = s.static_len = 0;\n            s.last_lit = s.matches = 0;\n        };\n        /* ===========================================================================\n         * Flush the bit buffer and align the output on a byte boundary\n         */\n        var bi_windup = function bi_windup(s) {\n            if (s.bi_valid > 8) {\n                put_short(s, s.bi_buf);\n            }\n            else if (s.bi_valid > 0) {\n                // put_byte(s, (Byte)s->bi_buf);\n                s.pending_buf[s.pending++] = s.bi_buf;\n            }\n            s.bi_buf = 0;\n            s.bi_valid = 0;\n        };\n        /* ===========================================================================\n         * Copy a stored block, storing first the length and its\n         * one's complement if requested.\n         */\n        var copy_block = function copy_block(s, buf, len, header\n        // DeflateState *s;\n        // charf    *buf;    /* the input data */\n        // unsigned len;     /* its length */\n        // int      header;  /* true if block header must be written */\n        ) {\n            bi_windup(s);\n            /* align on byte boundary */\n            if (header) {\n                put_short(s, len);\n                put_short(s, ~len);\n            }\n            //  while (len--) {\n            //    put_byte(s, *buf++);\n            //  }\n            s.pending_buf.set(s.window.subarray(buf, buf + len), s.pending);\n            s.pending += len;\n        };\n        /* ===========================================================================\n         * Compares to subtrees, using the tree depth as tie breaker when\n         * the subtrees have equal frequency. This minimizes the worst case length.\n         */\n        var smaller = function smaller(tree, n, m, depth) {\n            var _n2 = n * 2;\n            var _m2 = m * 2;\n            return (tree[_n2] <\n                /* .Freq */\n                tree[_m2] ||\n                /* .Freq */\n                (tree[_n2] ===\n                    /* .Freq */\n                    tree[_m2] &&\n                    /* .Freq */\n                    depth[n] <= depth[m]));\n        };\n        /* ===========================================================================\n         * Restore the heap property by moving down the tree starting at node k,\n         * exchanging a node with the smallest of its two sons if necessary, stopping\n         * when the heap property is re-established (each father smaller than its\n         * two sons).\n         */\n        var pqdownheap = function pqdownheap(s, tree, k\n        //    deflate_state *s;\n        //    ct_data *tree;  /* the tree to restore */\n        //    int k;               /* node to move down */\n        ) {\n            var v = s.heap[k];\n            var j = k << 1;\n            /* left son of k */\n            while (j <= s.heap_len) {\n                /* Set j to the smallest of the two sons: */\n                if (j < s.heap_len && smaller(tree, s.heap[j + 1], s.heap[j], s.depth)) {\n                    j++;\n                }\n                /* Exit if v is smaller than both sons */\n                if (smaller(tree, v, s.heap[j], s.depth)) {\n                    break;\n                }\n                /* Exchange v with the smallest son */\n                s.heap[k] = s.heap[j];\n                k = j;\n                /* And continue down the tree, setting j to the left son of k */\n                j <<= 1;\n            }\n            s.heap[k] = v;\n        }; // inlined manually\n        // const SMALLEST = 1;\n        /* ===========================================================================\n         * Send the block data compressed using the given Huffman trees\n         */\n        var compress_block = function compress_block(s, ltree, dtree\n        //    deflate_state *s;\n        //    const ct_data *ltree; /* literal tree */\n        //    const ct_data *dtree; /* distance tree */\n        ) {\n            var dist;\n            /* distance of matched string */\n            var lc;\n            /* match length or unmatched char (if dist == 0) */\n            var lx = 0;\n            /* running index in l_buf */\n            var code;\n            /* the code to send */\n            var extra;\n            /* number of extra bits to send */\n            if (s.last_lit !== 0) {\n                do {\n                    dist = (s.pending_buf[s.d_buf + lx * 2] << 8) | s.pending_buf[s.d_buf + lx * 2 + 1];\n                    lc = s.pending_buf[s.l_buf + lx];\n                    lx++;\n                    if (dist === 0) {\n                        send_code(s, lc, ltree);\n                        /* send a literal byte */\n                        // Tracecv(isgraph(lc), (stderr,\" '%c' \", lc));\n                    }\n                    else {\n                        /* Here, lc is the match length - MIN_MATCH */\n                        code = _length_code[lc];\n                        send_code(s, code + LITERALS + 1, ltree);\n                        /* send the length code */\n                        extra = extra_lbits[code];\n                        if (extra !== 0) {\n                            lc -= base_length[code];\n                            send_bits(s, lc, extra);\n                            /* send the extra length bits */\n                        }\n                        dist--;\n                        /* dist is now the match distance - 1 */\n                        code = d_code(dist); // Assert (code < D_CODES, \"bad d_code\");\n                        send_code(s, code, dtree);\n                        /* send the distance code */\n                        extra = extra_dbits[code];\n                        if (extra !== 0) {\n                            dist -= base_dist[code];\n                            send_bits(s, dist, extra);\n                            /* send the extra distance bits */\n                        }\n                    }\n                    /* literal or match pair ? */\n                    /* Check that the overlay between pending_buf and d_buf+l_buf is ok: */\n                    // Assert((uInt)(s->pending) < s->lit_bufsize + 2*lx,\n                    //       \"pendingBuf overflow\");\n                } while (lx < s.last_lit);\n            }\n            send_code(s, END_BLOCK, ltree);\n        };\n        /* ===========================================================================\n         * Construct one Huffman tree and assigns the code bit strings and lengths.\n         * Update the total bit length for the current block.\n         * IN assertion: the field freq is set for all tree elements.\n         * OUT assertions: the fields len and code are set to the optimal bit length\n         *     and corresponding code. The length opt_len is updated; static_len is\n         *     also updated if stree is not null. The field max_code is set.\n         */\n        var build_tree = function build_tree(s, desc //    deflate_state *s; //    tree_desc *desc; /* the tree descriptor */\n        ) {\n            var tree = desc.dyn_tree;\n            var stree = desc.stat_desc.static_tree;\n            var has_stree = desc.stat_desc.has_stree;\n            var elems = desc.stat_desc.elems;\n            var n;\n            var m;\n            /* iterate over heap elements */\n            var max_code = -1;\n            /* largest code with non zero frequency */\n            var node;\n            /* new node being created */\n            /* Construct the initial heap, with least frequent element in\n             * heap[SMALLEST]. The sons of heap[n] are heap[2*n] and heap[2*n+1].\n             * heap[0] is not used.\n             */\n            s.heap_len = 0;\n            s.heap_max = HEAP_SIZE;\n            for (n = 0; n < elems; n++) {\n                if (tree[n * 2] !==\n                    /* .Freq */\n                    0) {\n                    s.heap[++s.heap_len] = max_code = n;\n                    s.depth[n] = 0;\n                }\n                else {\n                    tree[n * 2 + 1] =\n                        /* .Len */\n                        0;\n                }\n            }\n            /* The pkzip format requires that at least one distance code exists,\n             * and that at least one bit should be sent even if there is only one\n             * possible code. So to avoid special checks later on we force at least\n             * two codes of non zero frequency.\n             */\n            while (s.heap_len < 2) {\n                node = s.heap[++s.heap_len] = max_code < 2 ? ++max_code : 0;\n                tree[node * 2] =\n                    /* .Freq */\n                    1;\n                s.depth[node] = 0;\n                s.opt_len--;\n                if (has_stree) {\n                    s.static_len -= stree[node * 2 + 1];\n                    /* .Len */\n                }\n                /* node is 0 or 1 so it does not have extra bits */\n            }\n            desc.max_code = max_code;\n            /* The elements heap[heap_len/2+1 .. heap_len] are leaves of the tree,\n             * establish sub-heaps of increasing lengths:\n             */\n            for (n = s.heap_len >> 1; \n            /* int /2 */\n            n >= 1; n--) {\n                pqdownheap(s, tree, n);\n            }\n            /* Construct the Huffman tree by repeatedly combining the least two\n             * frequent nodes.\n             */\n            node = elems;\n            /* next internal node of the tree */\n            do {\n                // pqremove(s, tree, n);  /* n = node of least frequency */\n                /** * pqremove ** */\n                n = s.heap[1];\n                /* SMALLEST */\n                s.heap[1] = s.heap[s.heap_len--];\n                /* SMALLEST */\n                pqdownheap(s, tree, 1\n                /* SMALLEST */\n                );\n                /***/\n                m = s.heap[1];\n                /* SMALLEST */\n                /* m = node of next least frequency */\n                s.heap[--s.heap_max] = n;\n                /* keep the nodes sorted by frequency */\n                s.heap[--s.heap_max] = m;\n                /* Create a new node father of n and m */\n                tree[node * 2] =\n                    /* .Freq */\n                    tree[n * 2] +\n                        /* .Freq */\n                        tree[m * 2];\n                /* .Freq */\n                s.depth[node] = (s.depth[n] >= s.depth[m] ? s.depth[n] : s.depth[m]) + 1;\n                tree[n * 2 + 1] =\n                    /* .Dad */\n                    tree[m * 2 + 1] =\n                        /* .Dad */\n                        node;\n                /* and insert the new node in the heap */\n                s.heap[1] = node++;\n                /* SMALLEST */\n                pqdownheap(s, tree, 1\n                /* SMALLEST */\n                );\n            } while (s.heap_len >= 2);\n            s.heap[--s.heap_max] = s.heap[1];\n            /* SMALLEST */\n            /* At this point, the fields freq and dad are set. We can now\n             * generate the bit lengths.\n             */\n            gen_bitlen(s, desc);\n            /* The field len is now set, we can generate the bit codes */\n            gen_codes(tree, max_code, s.bl_count);\n        };\n        /* ===========================================================================\n         * Scan a literal or distance tree to determine the frequencies of the codes\n         * in the bit length tree.\n         */\n        var scan_tree = function scan_tree(s, tree, max_code\n        //    deflate_state *s;\n        //    ct_data *tree;   /* the tree to be scanned */\n        //    int max_code;    /* and its largest code of non zero frequency */\n        ) {\n            var n;\n            /* iterates over all tree elements */\n            var prevlen = -1;\n            /* last emitted length */\n            var curlen;\n            /* length of current code */\n            var nextlen = tree[0 * 2 + 1];\n            /* .Len */\n            /* length of next code */\n            var count = 0;\n            /* repeat count of the current code */\n            var max_count = 7;\n            /* max repeat count */\n            var min_count = 4;\n            /* min repeat count */\n            if (nextlen === 0) {\n                max_count = 138;\n                min_count = 3;\n            }\n            tree[(max_code + 1) * 2 + 1] =\n                /* .Len */\n                0xffff;\n            /* guard */\n            for (n = 0; n <= max_code; n++) {\n                curlen = nextlen;\n                nextlen = tree[(n + 1) * 2 + 1];\n                /* .Len */\n                if (++count < max_count && curlen === nextlen) {\n                    continue;\n                }\n                else if (count < min_count) {\n                    s.bl_tree[curlen * 2] +=\n                        /* .Freq */\n                        count;\n                }\n                else if (curlen !== 0) {\n                    if (curlen !== prevlen) {\n                        s.bl_tree[curlen * 2] /* .Freq */++;\n                    }\n                    s.bl_tree[REP_3_6 * 2] /* .Freq */++;\n                }\n                else if (count <= 10) {\n                    s.bl_tree[REPZ_3_10 * 2] /* .Freq */++;\n                }\n                else {\n                    s.bl_tree[REPZ_11_138 * 2] /* .Freq */++;\n                }\n                count = 0;\n                prevlen = curlen;\n                if (nextlen === 0) {\n                    max_count = 138;\n                    min_count = 3;\n                }\n                else if (curlen === nextlen) {\n                    max_count = 6;\n                    min_count = 3;\n                }\n                else {\n                    max_count = 7;\n                    min_count = 4;\n                }\n            }\n        };\n        /* ===========================================================================\n         * Send a literal or distance tree in compressed form, using the codes in\n         * bl_tree.\n         */\n        var send_tree = function send_tree(s, tree, max_code\n        //    deflate_state *s;\n        //    ct_data *tree; /* the tree to be scanned */\n        //    int max_code;       /* and its largest code of non zero frequency */\n        ) {\n            var n;\n            /* iterates over all tree elements */\n            var prevlen = -1;\n            /* last emitted length */\n            var curlen;\n            /* length of current code */\n            var nextlen = tree[0 * 2 + 1];\n            /* .Len */\n            /* length of next code */\n            var count = 0;\n            /* repeat count of the current code */\n            var max_count = 7;\n            /* max repeat count */\n            var min_count = 4;\n            /* min repeat count */\n            /* tree[max_code+1].Len = -1; */\n            /* guard already set */\n            if (nextlen === 0) {\n                max_count = 138;\n                min_count = 3;\n            }\n            for (n = 0; n <= max_code; n++) {\n                curlen = nextlen;\n                nextlen = tree[(n + 1) * 2 + 1];\n                /* .Len */\n                if (++count < max_count && curlen === nextlen) {\n                    continue;\n                }\n                else if (count < min_count) {\n                    do {\n                        send_code(s, curlen, s.bl_tree);\n                    } while (--count !== 0);\n                }\n                else if (curlen !== 0) {\n                    if (curlen !== prevlen) {\n                        send_code(s, curlen, s.bl_tree);\n                        count--;\n                    } // Assert(count >= 3 && count <= 6, \" 3_6?\");\n                    send_code(s, REP_3_6, s.bl_tree);\n                    send_bits(s, count - 3, 2);\n                }\n                else if (count <= 10) {\n                    send_code(s, REPZ_3_10, s.bl_tree);\n                    send_bits(s, count - 3, 3);\n                }\n                else {\n                    send_code(s, REPZ_11_138, s.bl_tree);\n                    send_bits(s, count - 11, 7);\n                }\n                count = 0;\n                prevlen = curlen;\n                if (nextlen === 0) {\n                    max_count = 138;\n                    min_count = 3;\n                }\n                else if (curlen === nextlen) {\n                    max_count = 6;\n                    min_count = 3;\n                }\n                else {\n                    max_count = 7;\n                    min_count = 4;\n                }\n            }\n        };\n        /* ===========================================================================\n         * Construct the Huffman tree for the bit lengths and return the index in\n         * bl_order of the last bit length code to send.\n         */\n        var build_bl_tree = function build_bl_tree(s) {\n            var max_blindex;\n            /* index of last bit length code of non zero freq */\n            /* Determine the bit length frequencies for literal and distance trees */\n            scan_tree(s, s.dyn_ltree, s.l_desc.max_code);\n            scan_tree(s, s.dyn_dtree, s.d_desc.max_code);\n            /* Build the bit length tree: */\n            build_tree(s, s.bl_desc);\n            /* opt_len now includes the length of the tree representations, except\n             * the lengths of the bit lengths codes and the 5+5+4 bits for the counts.\n             */\n            /* Determine the number of bit length codes to send. The pkzip format\n             * requires that at least 4 bit length codes be sent. (appnote.txt says\n             * 3 but the actual value used is 4.)\n             */\n            for (max_blindex = BL_CODES - 1; max_blindex >= 3; max_blindex--) {\n                if (s.bl_tree[bl_order[max_blindex] * 2 + 1] !==\n                    /* .Len */\n                    0) {\n                    break;\n                }\n            }\n            /* Update opt_len to include the bit length tree and counts */\n            s.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4; // Tracev((stderr, \"\\ndyn trees: dyn %ld, stat %ld\",\n            //        s->opt_len, s->static_len));\n            return max_blindex;\n        };\n        /* ===========================================================================\n         * Send the header for a block using dynamic Huffman trees: the counts, the\n         * lengths of the bit length codes, the literal tree and the distance tree.\n         * IN assertion: lcodes >= 257, dcodes >= 1, blcodes >= 4.\n         */\n        var send_all_trees = function send_all_trees(s, lcodes, dcodes, blcodes //    deflate_state *s; //    int lcodes, dcodes, blcodes; /* number of codes for each tree */\n        ) {\n            var rank;\n            /* index in bl_order */\n            // Assert (lcodes >= 257 && dcodes >= 1 && blcodes >= 4, \"not enough codes\");\n            // Assert (lcodes <= L_CODES && dcodes <= D_CODES && blcodes <= BL_CODES,\n            //        \"too many codes\");\n            // Tracev((stderr, \"\\nbl counts: \"));\n            send_bits(s, lcodes - 257, 5);\n            /* not +255 as stated in appnote.txt */\n            send_bits(s, dcodes - 1, 5);\n            send_bits(s, blcodes - 4, 4);\n            /* not -3 as stated in appnote.txt */\n            for (rank = 0; rank < blcodes; rank++) {\n                // Tracev((stderr, \"\\nbl code %2d \", bl_order[rank]));\n                send_bits(s, s.bl_tree[bl_order[rank] * 2 + 1], \n                /* .Len */\n                3);\n            } // Tracev((stderr, \"\\nbl tree: sent %ld\", s->bits_sent));\n            send_tree(s, s.dyn_ltree, lcodes - 1);\n            /* literal tree */\n            // Tracev((stderr, \"\\nlit tree: sent %ld\", s->bits_sent));\n            send_tree(s, s.dyn_dtree, dcodes - 1);\n            /* distance tree */\n            // Tracev((stderr, \"\\ndist tree: sent %ld\", s->bits_sent));\n        };\n        /* ===========================================================================\n         * Check if the data type is TEXT or BINARY, using the following algorithm:\n         * - TEXT if the two conditions below are satisfied:\n         *    a) There are no non-portable control characters belonging to the\n         *       \"black list\" (0..6, 14..25, 28..31).\n         *    b) There is at least one printable character belonging to the\n         *       \"white list\" (9 {TAB}, 10 {LF}, 13 {CR}, 32..255).\n         * - BINARY otherwise.\n         * - The following partially-portable control characters form a\n         *   \"gray list\" that is ignored in this detection algorithm:\n         *   (7 {BEL}, 8 {BS}, 11 {VT}, 12 {FF}, 26 {SUB}, 27 {ESC}).\n         * IN assertion: the fields Freq of dyn_ltree are set.\n         */\n        var detect_data_type = function detect_data_type(s) {\n            /* black_mask is the bit mask of black-listed bytes\n             * set bits 0..6, 14..25, and 28..31\n             * 0xf3ffc07f = binary 11110011111111111100000001111111\n             */\n            var black_mask = 0xf3ffc07f;\n            var n;\n            /* Check for non-textual (\"black-listed\") bytes. */\n            for (n = 0; n <= 31; n++, black_mask >>>= 1) {\n                if (black_mask & 1 &&\n                    s.dyn_ltree[n * 2] !==\n                        /* .Freq */\n                        0) {\n                    return Z_BINARY;\n                }\n            }\n            /* Check for textual (\"white-listed\") bytes. */\n            if (s.dyn_ltree[9 * 2] !==\n                /* .Freq */\n                0 ||\n                s.dyn_ltree[10 * 2] !==\n                    /* .Freq */\n                    0 ||\n                s.dyn_ltree[13 * 2] !==\n                    /* .Freq */\n                    0) {\n                return Z_TEXT;\n            }\n            for (n = 32; n < LITERALS; n++) {\n                if (s.dyn_ltree[n * 2] !==\n                    /* .Freq */\n                    0) {\n                    return Z_TEXT;\n                }\n            }\n            /* There are no \"black-listed\" or \"white-listed\" bytes:\n             * this stream either is empty or has tolerated (\"gray-listed\") bytes only.\n             */\n            return Z_BINARY;\n        };\n        var static_init_done = false;\n        /* ===========================================================================\n         * Initialize the tree data structures for a new zlib stream.\n         */\n        var _tr_init = function _tr_init(s) {\n            if (!static_init_done) {\n                tr_static_init();\n                static_init_done = true;\n            }\n            s.l_desc = new TreeDesc(s.dyn_ltree, static_l_desc);\n            s.d_desc = new TreeDesc(s.dyn_dtree, static_d_desc);\n            s.bl_desc = new TreeDesc(s.bl_tree, static_bl_desc);\n            s.bi_buf = 0;\n            s.bi_valid = 0;\n            /* Initialize the first block of the first file: */\n            init_block(s);\n        };\n        /* ===========================================================================\n         * Send a stored block\n         */\n        var _tr_stored_block = function _tr_stored_block(s, buf, stored_len, last\n        // DeflateState *s;\n        // charf *buf;       /* input block */\n        // ulg stored_len;   /* length of input block */\n        // int last;         /* one if this is the last block for a file */\n        ) {\n            send_bits(s, (STORED_BLOCK << 1) + (last ? 1 : 0), 3);\n            /* send block type */\n            copy_block(s, buf, stored_len, true);\n            /* with header */\n        };\n        /* ===========================================================================\n         * Send one empty static block to give enough lookahead for inflate.\n         * This takes 10 bits, of which 7 may remain in the bit buffer.\n         */\n        var _tr_align = function _tr_align(s) {\n            send_bits(s, STATIC_TREES << 1, 3);\n            send_code(s, END_BLOCK, static_ltree);\n            bi_flush(s);\n        };\n        /* ===========================================================================\n         * Determine the best encoding for the current block: dynamic trees, static\n         * trees or store, and output the encoded block to the zip file.\n         */\n        var _tr_flush_block = function _tr_flush_block(s, buf, stored_len, last\n        // DeflateState *s;\n        // charf *buf;       /* input block, or NULL if too old */\n        // ulg stored_len;   /* length of input block */\n        // int last;         /* one if this is the last block for a file */\n        ) {\n            var opt_lenb;\n            var static_lenb;\n            /* opt_len and static_len in bytes */\n            var max_blindex = 0;\n            /* index of last bit length code of non zero freq */\n            /* Build the Huffman trees unless a stored block is forced */\n            if (s.level > 0) {\n                /* Check if the file is binary or text */\n                if (s.strm.data_type === Z_UNKNOWN) {\n                    s.strm.data_type = detect_data_type(s);\n                }\n                /* Construct the literal and distance trees */\n                build_tree(s, s.l_desc); // Tracev((stderr, \"\\nlit data: dyn %ld, stat %ld\", s->opt_len,\n                //        s->static_len));\n                build_tree(s, s.d_desc); // Tracev((stderr, \"\\ndist data: dyn %ld, stat %ld\", s->opt_len,\n                //        s->static_len));\n                /* At this point, opt_len and static_len are the total bit lengths of\n                 * the compressed block data, excluding the tree representations.\n                 */\n                /* Build the bit length tree for the above two trees, and get the index\n                 * in bl_order of the last bit length code to send.\n                 */\n                max_blindex = build_bl_tree(s);\n                /* Determine the best encoding. Compute the block lengths in bytes. */\n                opt_lenb = (s.opt_len + 3 + 7) >>> 3;\n                static_lenb = (s.static_len + 3 + 7) >>> 3; // Tracev((stderr, \"\\nopt %lu(%lu) stat %lu(%lu) stored %lu lit %u \",\n                //        opt_lenb, s->opt_len, static_lenb, s->static_len, stored_len,\n                //        s->last_lit));\n                if (static_lenb <= opt_lenb) {\n                    opt_lenb = static_lenb;\n                }\n            }\n            else {\n                // Assert(buf != (char*)0, \"lost buf\");\n                opt_lenb = static_lenb = stored_len + 5;\n                /* force a stored block */\n            }\n            if (stored_len + 4 <= opt_lenb && buf !== -1) {\n                /* 4: two words for the lengths */\n                /* The test buf != NULL is only necessary if LIT_BUFSIZE > WSIZE.\n                 * Otherwise we can't have processed more than WSIZE input bytes since\n                 * the last block flush, because compression would have been\n                 * successful. If LIT_BUFSIZE <= WSIZE, it is never too late to\n                 * transform a block into a stored block.\n                 */\n                _tr_stored_block(s, buf, stored_len, last);\n            }\n            else if (s.strategy === Z_FIXED || static_lenb === opt_lenb) {\n                send_bits(s, (STATIC_TREES << 1) + (last ? 1 : 0), 3);\n                compress_block(s, static_ltree, static_dtree);\n            }\n            else {\n                send_bits(s, (DYN_TREES << 1) + (last ? 1 : 0), 3);\n                send_all_trees(s, s.l_desc.max_code + 1, s.d_desc.max_code + 1, max_blindex + 1);\n                compress_block(s, s.dyn_ltree, s.dyn_dtree);\n            } // Assert (s->compressed_len == s->bits_sent, \"bad compressed size\");\n            /* The above check is made mod 2^32, for files larger than 512 MB\n             * and uLong implemented on 32 bits.\n             */\n            init_block(s);\n            if (last) {\n                bi_windup(s);\n            } // Tracev((stderr,\"\\ncomprlen %lu(%lu) \", s->compressed_len>>3,\n            //       s->compressed_len-7*last));\n        };\n        /* ===========================================================================\n         * Save the match info and tally the frequency counts. Return true if\n         * the current block must be flushed.\n         */\n        var _tr_tally = function _tr_tally(s, dist, lc\n        //    deflate_state *s;\n        //    unsigned dist;  /* distance of matched string */\n        //    unsigned lc;    /* match length-MIN_MATCH or unmatched char (if dist==0) */\n        ) {\n            // let out_length, in_length, dcode;\n            s.pending_buf[s.d_buf + s.last_lit * 2] = (dist >>> 8) & 0xff;\n            s.pending_buf[s.d_buf + s.last_lit * 2 + 1] = dist & 0xff;\n            s.pending_buf[s.l_buf + s.last_lit] = lc & 0xff;\n            s.last_lit++;\n            if (dist === 0) {\n                /* lc is the unmatched char */\n                s.dyn_ltree[lc * 2] /* .Freq */++;\n            }\n            else {\n                s.matches++;\n                /* Here, lc is the match length - MIN_MATCH */\n                dist--;\n                /* dist = match distance - 1 */\n                // Assert((ush)dist < (ush)MAX_DIST(s) &&\n                //       (ush)lc <= (ush)(MAX_MATCH-MIN_MATCH) &&\n                //       (ush)d_code(dist) < (ush)D_CODES,  \"_tr_tally: bad match\");\n                s.dyn_ltree[(_length_code[lc] + LITERALS + 1) * 2] /* .Freq */++;\n                s.dyn_dtree[d_code(dist) * 2] /* .Freq */++;\n            } // (!) This block is disabled in zlib defaults,\n            // don't enable it for binary compatibility\n            // #ifdef TRUNCATE_BLOCK\n            //  /* Try to guess if it is profitable to stop the current block here */\n            //  if ((s.last_lit & 0x1fff) === 0 && s.level > 2) {\n            //    /* Compute an upper bound for the compressed length */\n            //    out_length = s.last_lit*8;\n            //    in_length = s.strstart - s.block_start;\n            //\n            //    for (dcode = 0; dcode < D_CODES; dcode++) {\n            //      out_length += s.dyn_dtree[dcode*2]/*.Freq*/ * (5 + extra_dbits[dcode]);\n            //    }\n            //    out_length >>>= 3;\n            //    //Tracev((stderr,\"\\nlast_lit %u, in %ld, out ~%ld(%ld%%) \",\n            //    //       s->last_lit, in_length, out_length,\n            //    //       100L - out_length*100L/in_length));\n            //    if (s.matches < (s.last_lit>>1)/*int /2*/ && out_length < (in_length>>1)/*int /2*/) {\n            //      return true;\n            //    }\n            //  }\n            // #endif\n            return s.last_lit === s.lit_bufsize - 1;\n            /* We avoid equality with lit_bufsize because of wraparound at 64K\n             * on 16 bit machines and because stored blocks are restricted to\n             * 64K-1 bytes.\n             */\n        };\n        var _tr_init_1 = _tr_init;\n        var _tr_stored_block_1 = _tr_stored_block;\n        var _tr_flush_block_1 = _tr_flush_block;\n        var _tr_tally_1 = _tr_tally;\n        var _tr_align_1 = _tr_align;\n        var trees = {\n            _tr_init: _tr_init_1,\n            _tr_stored_block: _tr_stored_block_1,\n            _tr_flush_block: _tr_flush_block_1,\n            _tr_tally: _tr_tally_1,\n            _tr_align: _tr_align_1,\n        };\n        // It isn't worth it to make additional optimizations as in original.\n        // Small size is preferable.\n        // (C) 1995-2013 Jean-loup Gailly and Mark Adler\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        var adler32 = function adler32(adler, buf, len, pos) {\n            var s1 = (adler & 0xffff) | 0;\n            var s2 = ((adler >>> 16) & 0xffff) | 0;\n            var n = 0;\n            while (len !== 0) {\n                // Set limit ~ twice less than 5552, to keep\n                // s2 in 31-bits, because we force signed ints.\n                // in other case %= will fail.\n                n = len > 2000 ? 2000 : len;\n                len -= n;\n                do {\n                    s1 = (s1 + buf[pos++]) | 0;\n                    s2 = (s2 + s1) | 0;\n                } while (--n);\n                s1 %= 65521;\n                s2 %= 65521;\n            }\n            return s1 | (s2 << 16) | 0;\n        };\n        var adler32_1 = adler32;\n        // So write code to minimize size - no pregenerated tables\n        // and array tools dependencies.\n        // (C) 1995-2013 Jean-loup Gailly and Mark Adler\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        // Use ordinary array, since untyped makes no boost here\n        var makeTable = function makeTable() {\n            var c;\n            var table = [];\n            for (var n = 0; n < 256; n++) {\n                c = n;\n                for (var k = 0; k < 8; k++) {\n                    c = c & 1 ? 0xedb88320 ^ (c >>> 1) : c >>> 1;\n                }\n                table[n] = c;\n            }\n            return table;\n        }; // Create table on load. Just 255 signed longs. Not a problem.\n        var crcTable = new Uint32Array(makeTable());\n        var crc32 = function crc32(crc, buf, len, pos) {\n            var t = crcTable;\n            var end = pos + len;\n            crc ^= -1;\n            for (var i = pos; i < end; i++) {\n                crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xff];\n            }\n            return crc ^ -1; // >>> 0;\n        };\n        var crc32_1 = crc32;\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        var messages = {\n            2: 'need dictionary',\n            /* Z_NEED_DICT       2  */\n            1: 'stream end',\n            /* Z_STREAM_END      1  */\n            0: '',\n            /* Z_OK              0  */\n            '-1': 'file error',\n            /* Z_ERRNO         (-1) */\n            '-2': 'stream error',\n            /* Z_STREAM_ERROR  (-2) */\n            '-3': 'data error',\n            /* Z_DATA_ERROR    (-3) */\n            '-4': 'insufficient memory',\n            /* Z_MEM_ERROR     (-4) */\n            '-5': 'buffer error',\n            /* Z_BUF_ERROR     (-5) */\n            '-6': 'incompatible version',\n            /* Z_VERSION_ERROR (-6) */\n        };\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        var constants = {\n            /* Allowed flush values; see deflate() and inflate() below for details */\n            Z_NO_FLUSH: 0,\n            Z_PARTIAL_FLUSH: 1,\n            Z_SYNC_FLUSH: 2,\n            Z_FULL_FLUSH: 3,\n            Z_FINISH: 4,\n            Z_BLOCK: 5,\n            Z_TREES: 6,\n            /* Return codes for the compression/decompression functions. Negative values\n             * are errors, positive values are used for special but normal events.\n             */\n            Z_OK: 0,\n            Z_STREAM_END: 1,\n            Z_NEED_DICT: 2,\n            Z_ERRNO: -1,\n            Z_STREAM_ERROR: -2,\n            Z_DATA_ERROR: -3,\n            Z_MEM_ERROR: -4,\n            Z_BUF_ERROR: -5,\n            // Z_VERSION_ERROR: -6,\n            /* compression levels */\n            Z_NO_COMPRESSION: 0,\n            Z_BEST_SPEED: 1,\n            Z_BEST_COMPRESSION: 9,\n            Z_DEFAULT_COMPRESSION: -1,\n            Z_FILTERED: 1,\n            Z_HUFFMAN_ONLY: 2,\n            Z_RLE: 3,\n            Z_FIXED: 4,\n            Z_DEFAULT_STRATEGY: 0,\n            /* Possible values of the data_type field (though see inflate()) */\n            Z_BINARY: 0,\n            Z_TEXT: 1,\n            // Z_ASCII:                1, // = Z_TEXT (deprecated)\n            Z_UNKNOWN: 2,\n            /* The deflate compression method */\n            Z_DEFLATED: 8, // Z_NULL:                 null // Use -1 or null inline, depending on var type\n        };\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        var _tr_init$1 = trees._tr_init;\n        var _tr_stored_block$1 = trees._tr_stored_block;\n        var _tr_flush_block$1 = trees._tr_flush_block;\n        var _tr_tally$1 = trees._tr_tally;\n        var _tr_align$1 = trees._tr_align;\n        /* Public constants ========================================================== */\n        /* =========================================================================== */\n        var Z_NO_FLUSH = constants.Z_NO_FLUSH;\n        var Z_PARTIAL_FLUSH = constants.Z_PARTIAL_FLUSH;\n        var Z_FULL_FLUSH = constants.Z_FULL_FLUSH;\n        var Z_FINISH = constants.Z_FINISH;\n        var Z_BLOCK = constants.Z_BLOCK;\n        var Z_OK = constants.Z_OK;\n        var Z_STREAM_END = constants.Z_STREAM_END;\n        var Z_STREAM_ERROR = constants.Z_STREAM_ERROR;\n        var Z_DATA_ERROR = constants.Z_DATA_ERROR;\n        var Z_BUF_ERROR = constants.Z_BUF_ERROR;\n        var Z_DEFAULT_COMPRESSION = constants.Z_DEFAULT_COMPRESSION;\n        var Z_FILTERED = constants.Z_FILTERED;\n        var Z_HUFFMAN_ONLY = constants.Z_HUFFMAN_ONLY;\n        var Z_RLE = constants.Z_RLE;\n        var Z_FIXED$1 = constants.Z_FIXED;\n        var Z_DEFAULT_STRATEGY = constants.Z_DEFAULT_STRATEGY;\n        var Z_UNKNOWN$1 = constants.Z_UNKNOWN;\n        var Z_DEFLATED = constants.Z_DEFLATED;\n        /* ============================================================================ */\n        var MAX_MEM_LEVEL = 9;\n        /* Maximum value for memLevel in deflateInit2 */\n        var MAX_WBITS = 15;\n        /* 32K LZ77 window */\n        var DEF_MEM_LEVEL = 8;\n        var LENGTH_CODES$1 = 29;\n        /* number of length codes, not counting the special END_BLOCK code */\n        var LITERALS$1 = 256;\n        /* number of literal bytes 0..255 */\n        var L_CODES$1 = LITERALS$1 + 1 + LENGTH_CODES$1;\n        /* number of Literal or Length codes, including the END_BLOCK code */\n        var D_CODES$1 = 30;\n        /* number of distance codes */\n        var BL_CODES$1 = 19;\n        /* number of codes used to transfer the bit lengths */\n        var HEAP_SIZE$1 = 2 * L_CODES$1 + 1;\n        /* maximum heap size */\n        var MAX_BITS$1 = 15;\n        /* All codes must not exceed MAX_BITS bits */\n        var MIN_MATCH$1 = 3;\n        var MAX_MATCH$1 = 258;\n        var MIN_LOOKAHEAD = MAX_MATCH$1 + MIN_MATCH$1 + 1;\n        var PRESET_DICT = 0x20;\n        var INIT_STATE = 42;\n        var EXTRA_STATE = 69;\n        var NAME_STATE = 73;\n        var COMMENT_STATE = 91;\n        var HCRC_STATE = 103;\n        var BUSY_STATE = 113;\n        var FINISH_STATE = 666;\n        var BS_NEED_MORE = 1;\n        /* block not completed, need more input or more output */\n        var BS_BLOCK_DONE = 2;\n        /* block flush performed */\n        var BS_FINISH_STARTED = 3;\n        /* finish started, need only more output at next deflate */\n        var BS_FINISH_DONE = 4;\n        /* finish done, accept no more input or output */\n        var OS_CODE = 0x03; // Unix :) . Don't detect, use this default.\n        var err = function err(strm, errorCode) {\n            strm.msg = messages[errorCode];\n            return errorCode;\n        };\n        var rank = function rank(f) {\n            return (f << 1) - (f > 4 ? 9 : 0);\n        };\n        var zero$1 = function zero(buf) {\n            var len = buf.length;\n            while (--len >= 0) {\n                buf[len] = 0;\n            }\n        };\n        var HASH_ZLIB = function HASH_ZLIB(s, prev, data) {\n            return ((prev << s.hash_shift) ^ data) & s.hash_mask;\n        }; // This hash causes less collisions, https://github.com/nodeca/pako/issues/135\n        // But breaks binary compatibility\n        // let HASH_FAST = (s, prev, data) => ((prev << 8) + (prev >> 8) + (data << 4)) & s.hash_mask;\n        var HASH = HASH_ZLIB;\n        /* =========================================================================\n         * Flush as much pending output as possible. All deflate() output goes\n         * through this function so some applications may wish to modify it\n         * to avoid allocating a large strm->output buffer and copying into it.\n         * (See also read_buf()).\n         */\n        var flush_pending = function flush_pending(strm) {\n            var s = strm.state; // _tr_flush_bits(s);\n            var len = s.pending;\n            if (len > strm.avail_out) {\n                len = strm.avail_out;\n            }\n            if (len === 0) {\n                return;\n            }\n            strm.output.set(s.pending_buf.subarray(s.pending_out, s.pending_out + len), strm.next_out);\n            strm.next_out += len;\n            s.pending_out += len;\n            strm.total_out += len;\n            strm.avail_out -= len;\n            s.pending -= len;\n            if (s.pending === 0) {\n                s.pending_out = 0;\n            }\n        };\n        var flush_block_only = function flush_block_only(s, last) {\n            _tr_flush_block$1(s, s.block_start >= 0 ? s.block_start : -1, s.strstart - s.block_start, last);\n            s.block_start = s.strstart;\n            flush_pending(s.strm);\n        };\n        var put_byte = function put_byte(s, b) {\n            s.pending_buf[s.pending++] = b;\n        };\n        /* =========================================================================\n         * Put a short in the pending buffer. The 16-bit value is put in MSB order.\n         * IN assertion: the stream state is correct and there is enough room in\n         * pending_buf.\n         */\n        var putShortMSB = function putShortMSB(s, b) {\n            //  put_byte(s, (Byte)(b >> 8));\n            //  put_byte(s, (Byte)(b & 0xff));\n            s.pending_buf[s.pending++] = (b >>> 8) & 0xff;\n            s.pending_buf[s.pending++] = b & 0xff;\n        };\n        /* ===========================================================================\n         * Read a new buffer from the current input stream, update the adler32\n         * and total number of bytes read.  All deflate() input goes through\n         * this function so some applications may wish to modify it to avoid\n         * allocating a large strm->input buffer and copying from it.\n         * (See also flush_pending()).\n         */\n        var read_buf = function read_buf(strm, buf, start, size) {\n            var len = strm.avail_in;\n            if (len > size) {\n                len = size;\n            }\n            if (len === 0) {\n                return 0;\n            }\n            strm.avail_in -= len; // zmemcpy(buf, strm->next_in, len);\n            buf.set(strm.input.subarray(strm.next_in, strm.next_in + len), start);\n            if (strm.state.wrap === 1) {\n                strm.adler = adler32_1(strm.adler, buf, len, start);\n            }\n            else if (strm.state.wrap === 2) {\n                strm.adler = crc32_1(strm.adler, buf, len, start);\n            }\n            strm.next_in += len;\n            strm.total_in += len;\n            return len;\n        };\n        /* ===========================================================================\n         * Set match_start to the longest match starting at the given string and\n         * return its length. Matches shorter or equal to prev_length are discarded,\n         * in which case the result is equal to prev_length and match_start is\n         * garbage.\n         * IN assertions: cur_match is the head of the hash chain for the current\n         *   string (strstart) and its distance is <= MAX_DIST, and prev_length >= 1\n         * OUT assertion: the match length is not greater than s->lookahead.\n         */\n        var longest_match = function longest_match(s, cur_match) {\n            var chain_length = s.max_chain_length;\n            /* max hash chain length */\n            var scan = s.strstart;\n            /* current string */\n            var match;\n            /* matched string */\n            var len;\n            /* length of current match */\n            var best_len = s.prev_length;\n            /* best match length so far */\n            var nice_match = s.nice_match;\n            /* stop if match long enough */\n            var limit = s.strstart > s.w_size - MIN_LOOKAHEAD ? s.strstart - (s.w_size - MIN_LOOKAHEAD) : 0;\n            /* NIL */\n            var _win = s.window; // shortcut\n            var wmask = s.w_mask;\n            var prev = s.prev;\n            /* Stop when cur_match becomes <= limit. To simplify the code,\n             * we prevent matches with the string of window index 0.\n             */\n            var strend = s.strstart + MAX_MATCH$1;\n            var scan_end1 = _win[scan + best_len - 1];\n            var scan_end = _win[scan + best_len];\n            /* The code is optimized for HASH_BITS >= 8 and MAX_MATCH-2 multiple of 16.\n             * It is easy to get rid of this optimization if necessary.\n             */\n            // Assert(s->hash_bits >= 8 && MAX_MATCH == 258, \"Code too clever\");\n            /* Do not waste too much time if we already have a good match: */\n            if (s.prev_length >= s.good_match) {\n                chain_length >>= 2;\n            }\n            /* Do not look for matches beyond the end of the input. This is necessary\n             * to make deflate deterministic.\n             */\n            if (nice_match > s.lookahead) {\n                nice_match = s.lookahead;\n            } // Assert((ulg)s->strstart <= s->window_size-MIN_LOOKAHEAD, \"need lookahead\");\n            do {\n                // Assert(cur_match < s->strstart, \"no future\");\n                match = cur_match;\n                /* Skip to next match if the match length cannot increase\n                 * or if the match length is less than 2.  Note that the checks below\n                 * for insufficient lookahead only occur occasionally for performance\n                 * reasons.  Therefore uninitialized memory will be accessed, and\n                 * conditional jumps will be made that depend on those values.\n                 * However the length of the match is limited to the lookahead, so\n                 * the output of deflate is not affected by the uninitialized values.\n                 */\n                if (_win[match + best_len] !== scan_end ||\n                    _win[match + best_len - 1] !== scan_end1 ||\n                    _win[match] !== _win[scan] ||\n                    _win[++match] !== _win[scan + 1]) {\n                    continue;\n                }\n                /* The check at best_len-1 can be removed because it will be made\n                 * again later. (This heuristic is not always a win.)\n                 * It is not necessary to compare scan[2] and match[2] since they\n                 * are always equal when the other bytes match, given that\n                 * the hash keys are equal and that HASH_BITS >= 8.\n                 */\n                scan += 2;\n                match++; // Assert(*scan == *match, \"match[2]?\");\n                /* We check for insufficient lookahead only every 8th comparison;\n                 * the 256th check will be made at strstart+258.\n                 */\n                do {\n                    /* jshint noempty:false */\n                } while (_win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    scan < strend); // Assert(scan <= s->window+(unsigned)(s->window_size-1), \"wild scan\");\n                len = MAX_MATCH$1 - (strend - scan);\n                scan = strend - MAX_MATCH$1;\n                if (len > best_len) {\n                    s.match_start = cur_match;\n                    best_len = len;\n                    if (len >= nice_match) {\n                        break;\n                    }\n                    scan_end1 = _win[scan + best_len - 1];\n                    scan_end = _win[scan + best_len];\n                }\n            } while ((cur_match = prev[cur_match & wmask]) > limit && --chain_length !== 0);\n            if (best_len <= s.lookahead) {\n                return best_len;\n            }\n            return s.lookahead;\n        };\n        /* ===========================================================================\n         * Fill the window when the lookahead becomes insufficient.\n         * Updates strstart and lookahead.\n         *\n         * IN assertion: lookahead < MIN_LOOKAHEAD\n         * OUT assertions: strstart <= window_size-MIN_LOOKAHEAD\n         *    At least one byte has been read, or avail_in == 0; reads are\n         *    performed for at least two bytes (required for the zip translate_eol\n         *    option -- not supported here).\n         */\n        var fill_window = function fill_window(s) {\n            var _w_size = s.w_size;\n            var p;\n            var n;\n            var m;\n            var more;\n            var str; // Assert(s->lookahead < MIN_LOOKAHEAD, \"already enough lookahead\");\n            do {\n                more = s.window_size - s.lookahead - s.strstart; // JS ints have 32 bit, block below not needed\n                /* Deal with !@#$% 64K limit: */\n                // if (sizeof(int) <= 2) {\n                //    if (more == 0 && s->strstart == 0 && s->lookahead == 0) {\n                //        more = wsize;\n                //\n                //  } else if (more == (unsigned)(-1)) {\n                //        /* Very unlikely, but possible on 16 bit machine if\n                //         * strstart == 0 && lookahead == 1 (input done a byte at time)\n                //         */\n                //        more--;\n                //    }\n                // }\n                /* If the window is almost full and there is insufficient lookahead,\n                 * move the upper half to the lower one to make room in the upper half.\n                 */\n                if (s.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {\n                    s.window.set(s.window.subarray(_w_size, _w_size + _w_size), 0);\n                    s.match_start -= _w_size;\n                    s.strstart -= _w_size;\n                    /* we now have strstart >= MAX_DIST */\n                    s.block_start -= _w_size;\n                    /* Slide the hash table (could be avoided with 32 bit values\n                   at the expense of memory usage). We slide even when level == 0\n                   to keep the hash table consistent if we switch back to level > 0\n                   later. (Using level 0 permanently is not an optimal usage of\n                   zlib, so we don't care about this pathological case.)\n                   */\n                    n = s.hash_size;\n                    p = n;\n                    do {\n                        m = s.head[--p];\n                        s.head[p] = m >= _w_size ? m - _w_size : 0;\n                    } while (--n);\n                    n = _w_size;\n                    p = n;\n                    do {\n                        m = s.prev[--p];\n                        s.prev[p] = m >= _w_size ? m - _w_size : 0;\n                        /* If n is not on any hash chain, prev[n] is garbage but\n                         * its value will never be used.\n                         */\n                    } while (--n);\n                    more += _w_size;\n                }\n                if (s.strm.avail_in === 0) {\n                    break;\n                }\n                /* If there was no sliding:\n                 *    strstart <= WSIZE+MAX_DIST-1 && lookahead <= MIN_LOOKAHEAD - 1 &&\n                 *    more == window_size - lookahead - strstart\n                 * => more >= window_size - (MIN_LOOKAHEAD-1 + WSIZE + MAX_DIST-1)\n                 * => more >= window_size - 2*WSIZE + 2\n                 * In the BIG_MEM or MMAP case (not yet supported),\n                 *   window_size == input_size + MIN_LOOKAHEAD  &&\n                 *   strstart + s->lookahead <= input_size => more >= MIN_LOOKAHEAD.\n                 * Otherwise, window_size == 2*WSIZE so more >= 2.\n                 * If there was sliding, more >= WSIZE. So in all cases, more >= 2.\n                 */\n                // Assert(more >= 2, \"more < 2\");\n                n = read_buf(s.strm, s.window, s.strstart + s.lookahead, more);\n                s.lookahead += n;\n                /* Initialize the hash value now that we have some input: */\n                if (s.lookahead + s.insert >= MIN_MATCH$1) {\n                    str = s.strstart - s.insert;\n                    s.ins_h = s.window[str];\n                    /* UPDATE_HASH(s, s->ins_h, s->window[str + 1]); */\n                    s.ins_h = HASH(s, s.ins_h, s.window[str + 1]); // #if MIN_MATCH != 3\n                    //        Call update_hash() MIN_MATCH-3 more times\n                    // #endif\n                    while (s.insert) {\n                        /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */\n                        s.ins_h = HASH(s, s.ins_h, s.window[str + MIN_MATCH$1 - 1]);\n                        s.prev[str & s.w_mask] = s.head[s.ins_h];\n                        s.head[s.ins_h] = str;\n                        str++;\n                        s.insert--;\n                        if (s.lookahead + s.insert < MIN_MATCH$1) {\n                            break;\n                        }\n                    }\n                }\n                /* If the whole input has less than MIN_MATCH bytes, ins_h is garbage,\n                 * but this is not important since only literal bytes will be emitted.\n                 */\n            } while (s.lookahead < MIN_LOOKAHEAD && s.strm.avail_in !== 0);\n            /* If the WIN_INIT bytes after the end of the current data have never been\n             * written, then zero those bytes in order to avoid memory check reports of\n             * the use of uninitialized (or uninitialised as Julian writes) bytes by\n             * the longest match routines.  Update the high water mark for the next\n             * time through here.  WIN_INIT is set to MAX_MATCH since the longest match\n             * routines allow scanning to strstart + MAX_MATCH, ignoring lookahead.\n             */\n            //  if (s.high_water < s.window_size) {\n            //    const curr = s.strstart + s.lookahead;\n            //    let init = 0;\n            //\n            //    if (s.high_water < curr) {\n            //      /* Previous high water mark below current data -- zero WIN_INIT\n            //       * bytes or up to end of window, whichever is less.\n            //       */\n            //      init = s.window_size - curr;\n            //      if (init > WIN_INIT)\n            //        init = WIN_INIT;\n            //      zmemzero(s->window + curr, (unsigned)init);\n            //      s->high_water = curr + init;\n            //    }\n            //    else if (s->high_water < (ulg)curr + WIN_INIT) {\n            //      /* High water mark at or above current data, but below current data\n            //       * plus WIN_INIT -- zero out to current data plus WIN_INIT, or up\n            //       * to end of window, whichever is less.\n            //       */\n            //      init = (ulg)curr + WIN_INIT - s->high_water;\n            //      if (init > s->window_size - s->high_water)\n            //        init = s->window_size - s->high_water;\n            //      zmemzero(s->window + s->high_water, (unsigned)init);\n            //      s->high_water += init;\n            //    }\n            //  }\n            //\n            //  Assert((ulg)s->strstart <= s->window_size - MIN_LOOKAHEAD,\n            //    \"not enough room for search\");\n        };\n        /* ===========================================================================\n         * Copy without compression as much as possible from the input stream, return\n         * the current block state.\n         * This function does not insert new strings in the dictionary since\n         * uncompressible data is probably not useful. This function is used\n         * only for the level=0 compression option.\n         * NOTE: this function should be optimized to avoid extra copying from\n         * window to pending_buf.\n         */\n        var deflate_stored = function deflate_stored(s, flush) {\n            /* Stored blocks are limited to 0xffff bytes, pending_buf is limited\n             * to pending_buf_size, and each stored block has a 5 byte header:\n             */\n            var max_block_size = 0xffff;\n            if (max_block_size > s.pending_buf_size - 5) {\n                max_block_size = s.pending_buf_size - 5;\n            }\n            /* Copy as much as possible from input to output: */\n            for (;;) {\n                /* Fill the window as much as possible: */\n                if (s.lookahead <= 1) {\n                    // Assert(s->strstart < s->w_size+MAX_DIST(s) ||\n                    //  s->block_start >= (long)s->w_size, \"slide too late\");\n                    //      if (!(s.strstart < s.w_size + (s.w_size - MIN_LOOKAHEAD) ||\n                    //        s.block_start >= s.w_size)) {\n                    //        throw  new Error(\"slide too late\");\n                    //      }\n                    fill_window(s);\n                    if (s.lookahead === 0 && flush === Z_NO_FLUSH) {\n                        return BS_NEED_MORE;\n                    }\n                    if (s.lookahead === 0) {\n                        break;\n                    }\n                    /* flush the current block */\n                } // Assert(s->block_start >= 0L, \"block gone\");\n                //    if (s.block_start < 0) throw new Error(\"block gone\");\n                s.strstart += s.lookahead;\n                s.lookahead = 0;\n                /* Emit a stored block if pending_buf will be full: */\n                var max_start = s.block_start + max_block_size;\n                if (s.strstart === 0 || s.strstart >= max_start) {\n                    /* strstart == 0 is possible when wraparound on 16-bit machine */\n                    s.lookahead = s.strstart - max_start;\n                    s.strstart = max_start;\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n                /* Flush if we may have to slide, otherwise block_start may become\n                 * negative and the data will be gone:\n                 */\n                if (s.strstart - s.block_start >= s.w_size - MIN_LOOKAHEAD) {\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n            }\n            s.insert = 0;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.strstart > s.block_start) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_NEED_MORE;\n        };\n        /* ===========================================================================\n         * Compress as much as possible from the input stream, return the current\n         * block state.\n         * This function does not perform lazy evaluation of matches and inserts\n         * new strings in the dictionary only for unmatched strings or for short\n         * matches. It is used only for the fast compression options.\n         */\n        var deflate_fast = function deflate_fast(s, flush) {\n            var hash_head;\n            /* head of the hash chain */\n            var bflush;\n            /* set if current block must be flushed */\n            for (;;) {\n                /* Make sure that we always have enough lookahead, except\n                 * at the end of the input file. We need MAX_MATCH bytes\n                 * for the next match, plus MIN_MATCH bytes to insert the\n                 * string following the next match.\n                 */\n                if (s.lookahead < MIN_LOOKAHEAD) {\n                    fill_window(s);\n                    if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {\n                        return BS_NEED_MORE;\n                    }\n                    if (s.lookahead === 0) {\n                        break;\n                        /* flush the current block */\n                    }\n                }\n                /* Insert the string window[strstart .. strstart+2] in the\n                 * dictionary, and set hash_head to the head of the hash chain:\n                 */\n                hash_head = 0;\n                /* NIL */\n                if (s.lookahead >= MIN_MATCH$1) {\n                    /** * INSERT_STRING(s, s.strstart, hash_head); ** */\n                    s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH$1 - 1]);\n                    hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n                    s.head[s.ins_h] = s.strstart;\n                    /***/\n                }\n                /* Find the longest match, discarding those <= prev_length.\n                 * At this point we have always match_length < MIN_MATCH\n                 */\n                if (hash_head !== 0 &&\n                    /* NIL */\n                    s.strstart - hash_head <= s.w_size - MIN_LOOKAHEAD) {\n                    /* To simplify the code, we prevent matches with the string\n                     * of window index 0 (in particular we have to avoid a match\n                     * of the string with itself at the start of the input file).\n                     */\n                    s.match_length = longest_match(s, hash_head);\n                    /* longest_match() sets match_start */\n                }\n                if (s.match_length >= MIN_MATCH$1) {\n                    // check_match(s, s.strstart, s.match_start, s.match_length); // for debug only\n                    /** * _tr_tally_dist(s, s.strstart - s.match_start,\n                                 s.match_length - MIN_MATCH, bflush); ** */\n                    bflush = _tr_tally$1(s, s.strstart - s.match_start, s.match_length - MIN_MATCH$1);\n                    s.lookahead -= s.match_length;\n                    /* Insert new strings in the hash table only if the match length\n                     * is not too large. This saves time but degrades compression.\n                     */\n                    if (s.match_length <= s.max_lazy_match &&\n                        /* max_insert_length */\n                        s.lookahead >= MIN_MATCH$1) {\n                        s.match_length--;\n                        /* string at strstart already in table */\n                        do {\n                            s.strstart++;\n                            /** * INSERT_STRING(s, s.strstart, hash_head); ** */\n                            s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH$1 - 1]);\n                            hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n                            s.head[s.ins_h] = s.strstart;\n                            /***/\n                            /* strstart never exceeds WSIZE-MAX_MATCH, so there are\n                             * always MIN_MATCH bytes ahead.\n                             */\n                        } while (--s.match_length !== 0);\n                        s.strstart++;\n                    }\n                    else {\n                        s.strstart += s.match_length;\n                        s.match_length = 0;\n                        s.ins_h = s.window[s.strstart];\n                        /* UPDATE_HASH(s, s.ins_h, s.window[s.strstart+1]); */\n                        s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + 1]); // #if MIN_MATCH != 3\n                        //                Call UPDATE_HASH() MIN_MATCH-3 more times\n                        // #endif\n                        /* If lookahead < MIN_MATCH, ins_h is garbage, but it does not\n                         * matter since it will be recomputed at next deflate call.\n                         */\n                    }\n                }\n                else {\n                    /* No match, output a literal byte */\n                    // Tracevv((stderr,\"%c\", s.window[s.strstart]));\n                    /** * _tr_tally_lit(s, s.window[s.strstart], bflush); ** */\n                    bflush = _tr_tally$1(s, 0, s.window[s.strstart]);\n                    s.lookahead--;\n                    s.strstart++;\n                }\n                if (bflush) {\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n            }\n            s.insert = s.strstart < MIN_MATCH$1 - 1 ? s.strstart : MIN_MATCH$1 - 1;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.last_lit) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_BLOCK_DONE;\n        };\n        /* ===========================================================================\n         * Same as above, but achieves better compression. We use a lazy\n         * evaluation for matches: a match is finally adopted only if there is\n         * no better match at the next window position.\n         */\n        var deflate_slow = function deflate_slow(s, flush) {\n            var hash_head;\n            /* head of hash chain */\n            var bflush;\n            /* set if current block must be flushed */\n            var max_insert;\n            /* Process the input block. */\n            for (;;) {\n                /* Make sure that we always have enough lookahead, except\n                 * at the end of the input file. We need MAX_MATCH bytes\n                 * for the next match, plus MIN_MATCH bytes to insert the\n                 * string following the next match.\n                 */\n                if (s.lookahead < MIN_LOOKAHEAD) {\n                    fill_window(s);\n                    if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {\n                        return BS_NEED_MORE;\n                    }\n                    if (s.lookahead === 0) {\n                        break;\n                    }\n                    /* flush the current block */\n                }\n                /* Insert the string window[strstart .. strstart+2] in the\n                 * dictionary, and set hash_head to the head of the hash chain:\n                 */\n                hash_head = 0;\n                /* NIL */\n                if (s.lookahead >= MIN_MATCH$1) {\n                    /** * INSERT_STRING(s, s.strstart, hash_head); ** */\n                    s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH$1 - 1]);\n                    hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n                    s.head[s.ins_h] = s.strstart;\n                    /***/\n                }\n                /* Find the longest match, discarding those <= prev_length.\n                 */\n                s.prev_length = s.match_length;\n                s.prev_match = s.match_start;\n                s.match_length = MIN_MATCH$1 - 1;\n                if (hash_head !== 0 &&\n                    /* NIL */\n                    s.prev_length < s.max_lazy_match &&\n                    s.strstart - hash_head <= s.w_size - MIN_LOOKAHEAD\n                /* MAX_DIST(s) */\n                ) {\n                    /* To simplify the code, we prevent matches with the string\n                     * of window index 0 (in particular we have to avoid a match\n                     * of the string with itself at the start of the input file).\n                     */\n                    s.match_length = longest_match(s, hash_head);\n                    /* longest_match() sets match_start */\n                    if (s.match_length <= 5 &&\n                        (s.strategy === Z_FILTERED || (s.match_length === MIN_MATCH$1 && s.strstart - s.match_start > 4096))\n                    /* TOO_FAR */\n                    ) {\n                        /* If prev_match is also MIN_MATCH, match_start is garbage\n                         * but we will ignore the current match anyway.\n                         */\n                        s.match_length = MIN_MATCH$1 - 1;\n                    }\n                }\n                /* If there was a match at the previous step and the current\n                 * match is not better, output the previous match:\n                 */\n                if (s.prev_length >= MIN_MATCH$1 && s.match_length <= s.prev_length) {\n                    max_insert = s.strstart + s.lookahead - MIN_MATCH$1;\n                    /* Do not insert strings in hash table beyond this. */\n                    // check_match(s, s.strstart-1, s.prev_match, s.prev_length);\n                    /** *_tr_tally_dist(s, s.strstart - 1 - s.prev_match,\n                                 s.prev_length - MIN_MATCH, bflush);** */\n                    bflush = _tr_tally$1(s, s.strstart - 1 - s.prev_match, s.prev_length - MIN_MATCH$1);\n                    /* Insert in hash table all strings up to the end of the match.\n                     * strstart-1 and strstart are already inserted. If there is not\n                     * enough lookahead, the last two strings are not inserted in\n                     * the hash table.\n                     */\n                    s.lookahead -= s.prev_length - 1;\n                    s.prev_length -= 2;\n                    do {\n                        if (++s.strstart <= max_insert) {\n                            /** * INSERT_STRING(s, s.strstart, hash_head); ** */\n                            s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH$1 - 1]);\n                            hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n                            s.head[s.ins_h] = s.strstart;\n                            /***/\n                        }\n                    } while (--s.prev_length !== 0);\n                    s.match_available = 0;\n                    s.match_length = MIN_MATCH$1 - 1;\n                    s.strstart++;\n                    if (bflush) {\n                        /** * FLUSH_BLOCK(s, 0); ** */\n                        flush_block_only(s, false);\n                        if (s.strm.avail_out === 0) {\n                            return BS_NEED_MORE;\n                        }\n                        /***/\n                    }\n                }\n                else if (s.match_available) {\n                    /* If there was no match at the previous position, output a\n                     * single literal. If there was a match but the current match\n                     * is longer, truncate the previous match to a single literal.\n                     */\n                    // Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n                    /** * _tr_tally_lit(s, s.window[s.strstart-1], bflush); ** */\n                    bflush = _tr_tally$1(s, 0, s.window[s.strstart - 1]);\n                    if (bflush) {\n                        /** * FLUSH_BLOCK_ONLY(s, 0) ** */\n                        flush_block_only(s, false);\n                        /***/\n                    }\n                    s.strstart++;\n                    s.lookahead--;\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                }\n                else {\n                    /* There is no previous match to compare with, wait for\n                     * the next step to decide.\n                     */\n                    s.match_available = 1;\n                    s.strstart++;\n                    s.lookahead--;\n                }\n            } // Assert (flush != Z_NO_FLUSH, \"no flush?\");\n            if (s.match_available) {\n                // Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n                /** * _tr_tally_lit(s, s.window[s.strstart-1], bflush); ** */\n                bflush = _tr_tally$1(s, 0, s.window[s.strstart - 1]);\n                s.match_available = 0;\n            }\n            s.insert = s.strstart < MIN_MATCH$1 - 1 ? s.strstart : MIN_MATCH$1 - 1;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.last_lit) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_BLOCK_DONE;\n        };\n        /* ===========================================================================\n         * For Z_RLE, simply look for runs of bytes, generate matches only of distance\n         * one.  Do not maintain a hash table.  (It will be regenerated if this run of\n         * deflate switches away from Z_RLE.)\n         */\n        var deflate_rle = function deflate_rle(s, flush) {\n            var bflush;\n            /* set if current block must be flushed */\n            var prev;\n            /* byte at distance one to match */\n            var scan;\n            var strend;\n            /* scan goes up to strend for length of run */\n            var _win = s.window;\n            for (;;) {\n                /* Make sure that we always have enough lookahead, except\n                 * at the end of the input file. We need MAX_MATCH bytes\n                 * for the longest run, plus one for the unrolled loop.\n                 */\n                if (s.lookahead <= MAX_MATCH$1) {\n                    fill_window(s);\n                    if (s.lookahead <= MAX_MATCH$1 && flush === Z_NO_FLUSH) {\n                        return BS_NEED_MORE;\n                    }\n                    if (s.lookahead === 0) {\n                        break;\n                    }\n                    /* flush the current block */\n                }\n                /* See how many times the previous byte repeats */\n                s.match_length = 0;\n                if (s.lookahead >= MIN_MATCH$1 && s.strstart > 0) {\n                    scan = s.strstart - 1;\n                    prev = _win[scan];\n                    if (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan]) {\n                        strend = s.strstart + MAX_MATCH$1;\n                        do {\n                            /* jshint noempty:false */\n                        } while (prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            scan < strend);\n                        s.match_length = MAX_MATCH$1 - (strend - scan);\n                        if (s.match_length > s.lookahead) {\n                            s.match_length = s.lookahead;\n                        }\n                    } // Assert(scan <= s->window+(uInt)(s->window_size-1), \"wild scan\");\n                }\n                /* Emit match if have run of MIN_MATCH or longer, else emit literal */\n                if (s.match_length >= MIN_MATCH$1) {\n                    // check_match(s, s.strstart, s.strstart - 1, s.match_length);\n                    /** * _tr_tally_dist(s, 1, s.match_length - MIN_MATCH, bflush); ** */\n                    bflush = _tr_tally$1(s, 1, s.match_length - MIN_MATCH$1);\n                    s.lookahead -= s.match_length;\n                    s.strstart += s.match_length;\n                    s.match_length = 0;\n                }\n                else {\n                    /* No match, output a literal byte */\n                    // Tracevv((stderr,\"%c\", s->window[s->strstart]));\n                    /** * _tr_tally_lit(s, s.window[s.strstart], bflush); ** */\n                    bflush = _tr_tally$1(s, 0, s.window[s.strstart]);\n                    s.lookahead--;\n                    s.strstart++;\n                }\n                if (bflush) {\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n            }\n            s.insert = 0;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.last_lit) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_BLOCK_DONE;\n        };\n        /* ===========================================================================\n         * For Z_HUFFMAN_ONLY, do not look for matches.  Do not maintain a hash table.\n         * (It will be regenerated if this run of deflate switches away from Huffman.)\n         */\n        var deflate_huff = function deflate_huff(s, flush) {\n            var bflush;\n            /* set if current block must be flushed */\n            for (;;) {\n                /* Make sure that we have a literal to write. */\n                if (s.lookahead === 0) {\n                    fill_window(s);\n                    if (s.lookahead === 0) {\n                        if (flush === Z_NO_FLUSH) {\n                            return BS_NEED_MORE;\n                        }\n                        break;\n                        /* flush the current block */\n                    }\n                }\n                /* Output a literal byte */\n                s.match_length = 0; // Tracevv((stderr,\"%c\", s->window[s->strstart]));\n                /** * _tr_tally_lit(s, s.window[s.strstart], bflush); ** */\n                bflush = _tr_tally$1(s, 0, s.window[s.strstart]);\n                s.lookahead--;\n                s.strstart++;\n                if (bflush) {\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n            }\n            s.insert = 0;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.last_lit) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_BLOCK_DONE;\n        };\n        /* Values for max_lazy_match, good_match and max_chain_length, depending on\n         * the desired pack level (0..9). The values given below have been tuned to\n         * exclude worst case performance for pathological files. Better values may be\n         * found for specific files.\n         */\n        function Config(good_length, max_lazy, nice_length, max_chain, func) {\n            this.good_length = good_length;\n            this.max_lazy = max_lazy;\n            this.nice_length = nice_length;\n            this.max_chain = max_chain;\n            this.func = func;\n        }\n        var configuration_table = [\n            /*      good lazy nice chain */\n            new Config(0, 0, 0, 0, deflate_stored),\n            /* 0 store only */\n            new Config(4, 4, 8, 4, deflate_fast),\n            /* 1 max speed, no lazy matches */\n            new Config(4, 5, 16, 8, deflate_fast),\n            /* 2 */\n            new Config(4, 6, 32, 32, deflate_fast),\n            /* 3 */\n            new Config(4, 4, 16, 16, deflate_slow),\n            /* 4 lazy matches */\n            new Config(8, 16, 32, 32, deflate_slow),\n            /* 5 */\n            new Config(8, 16, 128, 128, deflate_slow),\n            /* 6 */\n            new Config(8, 32, 128, 256, deflate_slow),\n            /* 7 */\n            new Config(32, 128, 258, 1024, deflate_slow),\n            /* 8 */\n            new Config(32, 258, 258, 4096, deflate_slow),\n            /* 9 max compression */\n        ];\n        /* ===========================================================================\n         * Initialize the \"longest match\" routines for a new zlib stream\n         */\n        var lm_init = function lm_init(s) {\n            s.window_size = 2 * s.w_size;\n            /** * CLEAR_HASH(s); ** */\n            zero$1(s.head); // Fill with NIL (= 0);\n            /* Set the default configuration parameters:\n             */\n            s.max_lazy_match = configuration_table[s.level].max_lazy;\n            s.good_match = configuration_table[s.level].good_length;\n            s.nice_match = configuration_table[s.level].nice_length;\n            s.max_chain_length = configuration_table[s.level].max_chain;\n            s.strstart = 0;\n            s.block_start = 0;\n            s.lookahead = 0;\n            s.insert = 0;\n            s.match_length = s.prev_length = MIN_MATCH$1 - 1;\n            s.match_available = 0;\n            s.ins_h = 0;\n        };\n        function DeflateState() {\n            this.strm = null;\n            /* pointer back to this zlib stream */\n            this.status = 0;\n            /* as the name implies */\n            this.pending_buf = null;\n            /* output still pending */\n            this.pending_buf_size = 0;\n            /* size of pending_buf */\n            this.pending_out = 0;\n            /* next pending byte to output to the stream */\n            this.pending = 0;\n            /* nb of bytes in the pending buffer */\n            this.wrap = 0;\n            /* bit 0 true for zlib, bit 1 true for gzip */\n            this.gzhead = null;\n            /* gzip header information to write */\n            this.gzindex = 0;\n            /* where in extra, name, or comment */\n            this.method = Z_DEFLATED;\n            /* can only be DEFLATED */\n            this.last_flush = -1;\n            /* value of flush param for previous deflate call */\n            this.w_size = 0;\n            /* LZ77 window size (32K by default) */\n            this.w_bits = 0;\n            /* log2(w_size)  (8..16) */\n            this.w_mask = 0;\n            /* w_size - 1 */\n            this.window = null;\n            /* Sliding window. Input bytes are read into the second half of the window,\n             * and move to the first half later to keep a dictionary of at least wSize\n             * bytes. With this organization, matches are limited to a distance of\n             * wSize-MAX_MATCH bytes, but this ensures that IO is always\n             * performed with a length multiple of the block size.\n             */\n            this.window_size = 0;\n            /* Actual size of window: 2*wSize, except when the user input buffer\n             * is directly used as sliding window.\n             */\n            this.prev = null;\n            /* Link to older string with same hash index. To limit the size of this\n             * array to 64K, this link is maintained only for the last 32K strings.\n             * An index in this array is thus a window index modulo 32K.\n             */\n            this.head = null;\n            /* Heads of the hash chains or NIL. */\n            this.ins_h = 0;\n            /* hash index of string to be inserted */\n            this.hash_size = 0;\n            /* number of elements in hash table */\n            this.hash_bits = 0;\n            /* log2(hash_size) */\n            this.hash_mask = 0;\n            /* hash_size-1 */\n            this.hash_shift = 0;\n            /* Number of bits by which ins_h must be shifted at each input\n             * step. It must be such that after MIN_MATCH steps, the oldest\n             * byte no longer takes part in the hash key, that is:\n             *   hash_shift * MIN_MATCH >= hash_bits\n             */\n            this.block_start = 0;\n            /* Window position at the beginning of the current output block. Gets\n             * negative when the window is moved backwards.\n             */\n            this.match_length = 0;\n            /* length of best match */\n            this.prev_match = 0;\n            /* previous match */\n            this.match_available = 0;\n            /* set if previous match exists */\n            this.strstart = 0;\n            /* start of string to insert */\n            this.match_start = 0;\n            /* start of matching string */\n            this.lookahead = 0;\n            /* number of valid bytes ahead in window */\n            this.prev_length = 0;\n            /* Length of the best match at previous step. Matches not greater than this\n             * are discarded. This is used in the lazy match evaluation.\n             */\n            this.max_chain_length = 0;\n            /* To speed up deflation, hash chains are never searched beyond this\n             * length.  A higher limit improves compression ratio but degrades the\n             * speed.\n             */\n            this.max_lazy_match = 0;\n            /* Attempt to find a better match only when the current match is strictly\n             * smaller than this value. This mechanism is used only for compression\n             * levels >= 4.\n             */\n            // That's alias to max_lazy_match, don't use directly\n            // this.max_insert_length = 0;\n            /* Insert new strings in the hash table only if the match length is not\n             * greater than this length. This saves time but degrades compression.\n             * max_insert_length is used only for compression levels <= 3.\n             */\n            this.level = 0;\n            /* compression level (1..9) */\n            this.strategy = 0;\n            /* favor or force Huffman coding */\n            this.good_match = 0;\n            /* Use a faster search when the previous match is longer than this */\n            this.nice_match = 0;\n            /* Stop searching when current match exceeds this */\n            /* used by trees.c: */\n            /* Didn't use ct_data typedef below to suppress compiler warning */\n            // struct ct_data_s dyn_ltree[HEAP_SIZE];   /* literal and length tree */\n            // struct ct_data_s dyn_dtree[2*D_CODES+1]; /* distance tree */\n            // struct ct_data_s bl_tree[2*BL_CODES+1];  /* Huffman tree for bit lengths */\n            // Use flat array of DOUBLE size, with interleaved fata,\n            // because JS does not support effective\n            this.dyn_ltree = new Uint16Array(HEAP_SIZE$1 * 2);\n            this.dyn_dtree = new Uint16Array((2 * D_CODES$1 + 1) * 2);\n            this.bl_tree = new Uint16Array((2 * BL_CODES$1 + 1) * 2);\n            zero$1(this.dyn_ltree);\n            zero$1(this.dyn_dtree);\n            zero$1(this.bl_tree);\n            this.l_desc = null;\n            /* desc. for literal tree */\n            this.d_desc = null;\n            /* desc. for distance tree */\n            this.bl_desc = null;\n            /* desc. for bit length tree */\n            // ush bl_count[MAX_BITS+1];\n            this.bl_count = new Uint16Array(MAX_BITS$1 + 1);\n            /* number of codes at each bit length for an optimal tree */\n            // int heap[2*L_CODES+1];      /* heap used to build the Huffman trees */\n            this.heap = new Uint16Array(2 * L_CODES$1 + 1);\n            /* heap used to build the Huffman trees */\n            zero$1(this.heap);\n            this.heap_len = 0;\n            /* number of elements in the heap */\n            this.heap_max = 0;\n            /* element of largest frequency */\n            /* The sons of heap[n] are heap[2*n] and heap[2*n+1]. heap[0] is not used.\n             * The same heap array is used to build all trees.\n             */\n            this.depth = new Uint16Array(2 * L_CODES$1 + 1); // uch depth[2*L_CODES+1];\n            zero$1(this.depth);\n            /* Depth of each subtree used as tie breaker for trees of equal frequency\n             */\n            this.l_buf = 0;\n            /* buffer index for literals or lengths */\n            this.lit_bufsize = 0;\n            /* Size of match buffer for literals/lengths.  There are 4 reasons for\n             * limiting lit_bufsize to 64K:\n             *   - frequencies can be kept in 16 bit counters\n             *   - if compression is not successful for the first block, all input\n             *     data is still in the window so we can still emit a stored block even\n             *     when input comes from standard input.  (This can also be done for\n             *     all blocks if lit_bufsize is not greater than 32K.)\n             *   - if compression is not successful for a file smaller than 64K, we can\n             *     even emit a stored file instead of a stored block (saving 5 bytes).\n             *     This is applicable only for zip (not gzip or zlib).\n             *   - creating new Huffman trees less frequently may not provide fast\n             *     adaptation to changes in the input data statistics. (Take for\n             *     example a binary file with poorly compressible code followed by\n             *     a highly compressible string table.) Smaller buffer sizes give\n             *     fast adaptation but have of course the overhead of transmitting\n             *     trees more frequently.\n             *   - I can't count above 4\n             */\n            this.last_lit = 0;\n            /* running index in l_buf */\n            this.d_buf = 0;\n            /* Buffer index for distances. To simplify the code, d_buf and l_buf have\n             * the same number of elements. To use different lengths, an extra flag\n             * array would be necessary.\n             */\n            this.opt_len = 0;\n            /* bit length of current block with optimal trees */\n            this.static_len = 0;\n            /* bit length of current block with static trees */\n            this.matches = 0;\n            /* number of string matches in current block */\n            this.insert = 0;\n            /* bytes at end of window left to insert */\n            this.bi_buf = 0;\n            /* Output buffer. bits are inserted starting at the bottom (least\n             * significant bits).\n             */\n            this.bi_valid = 0;\n            /* Number of valid bits in bi_buf.  All bits above the last valid bit\n             * are always zero.\n             */\n            // Used for window memory init. We safely ignore it for JS. That makes\n            // sense only for pointers and memory check tools.\n            // this.high_water = 0;\n            /* High water mark offset in window for initialized bytes -- bytes above\n             * this are set to zero in order to avoid memory check warnings when\n             * longest match routines access bytes past the input.  This is then\n             * updated to the new high water mark.\n             */\n        }\n        var deflateResetKeep = function deflateResetKeep(strm) {\n            if (!strm || !strm.state) {\n                return err(strm, Z_STREAM_ERROR);\n            }\n            strm.total_in = strm.total_out = 0;\n            strm.data_type = Z_UNKNOWN$1;\n            var s = strm.state;\n            s.pending = 0;\n            s.pending_out = 0;\n            if (s.wrap < 0) {\n                s.wrap = -s.wrap;\n                /* was made negative by deflate(..., Z_FINISH); */\n            }\n            s.status = s.wrap ? INIT_STATE : BUSY_STATE;\n            strm.adler =\n                s.wrap === 2\n                    ? 0 // crc32(0, Z_NULL, 0)\n                    : 1; // adler32(0, Z_NULL, 0)\n            s.last_flush = Z_NO_FLUSH;\n            _tr_init$1(s);\n            return Z_OK;\n        };\n        var deflateReset = function deflateReset(strm) {\n            var ret = deflateResetKeep(strm);\n            if (ret === Z_OK) {\n                lm_init(strm.state);\n            }\n            return ret;\n        };\n        var deflateSetHeader = function deflateSetHeader(strm, head) {\n            if (!strm || !strm.state) {\n                return Z_STREAM_ERROR;\n            }\n            if (strm.state.wrap !== 2) {\n                return Z_STREAM_ERROR;\n            }\n            strm.state.gzhead = head;\n            return Z_OK;\n        };\n        var deflateInit2 = function deflateInit2(strm, level, method, windowBits, memLevel, strategy) {\n            if (!strm) {\n                // === Z_NULL\n                return Z_STREAM_ERROR;\n            }\n            var wrap = 1;\n            if (level === Z_DEFAULT_COMPRESSION) {\n                level = 6;\n            }\n            if (windowBits < 0) {\n                /* suppress zlib wrapper */\n                wrap = 0;\n                windowBits = -windowBits;\n            }\n            else if (windowBits > 15) {\n                wrap = 2;\n                /* write gzip wrapper instead */\n                windowBits -= 16;\n            }\n            if (memLevel < 1 ||\n                memLevel > MAX_MEM_LEVEL ||\n                method !== Z_DEFLATED ||\n                windowBits < 8 ||\n                windowBits > 15 ||\n                level < 0 ||\n                level > 9 ||\n                strategy < 0 ||\n                strategy > Z_FIXED$1) {\n                return err(strm, Z_STREAM_ERROR);\n            }\n            if (windowBits === 8) {\n                windowBits = 9;\n            }\n            /* until 256-byte window bug fixed */\n            var s = new DeflateState();\n            strm.state = s;\n            s.strm = strm;\n            s.wrap = wrap;\n            s.gzhead = null;\n            s.w_bits = windowBits;\n            s.w_size = 1 << s.w_bits;\n            s.w_mask = s.w_size - 1;\n            s.hash_bits = memLevel + 7;\n            s.hash_size = 1 << s.hash_bits;\n            s.hash_mask = s.hash_size - 1;\n            s.hash_shift = ~~((s.hash_bits + MIN_MATCH$1 - 1) / MIN_MATCH$1);\n            s.window = new Uint8Array(s.w_size * 2);\n            s.head = new Uint16Array(s.hash_size);\n            s.prev = new Uint16Array(s.w_size); // Don't need mem init magic for JS.\n            // s.high_water = 0;  /* nothing written to s->window yet */\n            s.lit_bufsize = 1 << (memLevel + 6);\n            /* 16K elements by default */\n            s.pending_buf_size = s.lit_bufsize * 4;\n            // overlay = (ushf *) ZALLOC(strm, s->lit_bufsize, sizeof(ush)+2);\n            // s->pending_buf = (uchf *) overlay;\n            // It is offset from `s.pending_buf` (size is `s.lit_bufsize * 2`)\n            s.pending_buf = new Uint8Array(s.pending_buf_size);\n            // s->d_buf = overlay + s->lit_bufsize/sizeof(ush);\n            s.d_buf = 1 * s.lit_bufsize; // s->l_buf = s->pending_buf + (1+sizeof(ush))*s->lit_bufsize;\n            s.l_buf = (1 + 2) * s.lit_bufsize;\n            s.level = level;\n            s.strategy = strategy;\n            s.method = method;\n            return deflateReset(strm);\n        };\n        var deflateInit = function deflateInit(strm, level) {\n            return deflateInit2(strm, level, Z_DEFLATED, MAX_WBITS, DEF_MEM_LEVEL, Z_DEFAULT_STRATEGY);\n        };\n        var deflate = function deflate(strm, flush) {\n            var beg;\n            var val; // for gzip header write only\n            if (!strm || !strm.state || flush > Z_BLOCK || flush < 0) {\n                return strm ? err(strm, Z_STREAM_ERROR) : Z_STREAM_ERROR;\n            }\n            var s = strm.state;\n            if (!strm.output || (!strm.input && strm.avail_in !== 0) || (s.status === FINISH_STATE && flush !== Z_FINISH)) {\n                return err(strm, strm.avail_out === 0 ? Z_BUF_ERROR : Z_STREAM_ERROR);\n            }\n            s.strm = strm;\n            /* just in case */\n            var old_flush = s.last_flush;\n            s.last_flush = flush;\n            /* Write the header */\n            if (s.status === INIT_STATE) {\n                if (s.wrap === 2) {\n                    // GZIP header\n                    strm.adler = 0; // crc32(0L, Z_NULL, 0);\n                    put_byte(s, 31);\n                    put_byte(s, 139);\n                    put_byte(s, 8);\n                    if (!s.gzhead) {\n                        // s->gzhead == Z_NULL\n                        put_byte(s, 0);\n                        put_byte(s, 0);\n                        put_byte(s, 0);\n                        put_byte(s, 0);\n                        put_byte(s, 0);\n                        put_byte(s, s.level === 9 ? 2 : s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ? 4 : 0);\n                        put_byte(s, OS_CODE);\n                        s.status = BUSY_STATE;\n                    }\n                    else {\n                        put_byte(s, (s.gzhead.text ? 1 : 0) +\n                            (s.gzhead.hcrc ? 2 : 0) +\n                            (!s.gzhead.extra ? 0 : 4) +\n                            (!s.gzhead.name ? 0 : 8) +\n                            (!s.gzhead.comment ? 0 : 16));\n                        put_byte(s, s.gzhead.time & 0xff);\n                        put_byte(s, (s.gzhead.time >> 8) & 0xff);\n                        put_byte(s, (s.gzhead.time >> 16) & 0xff);\n                        put_byte(s, (s.gzhead.time >> 24) & 0xff);\n                        put_byte(s, s.level === 9 ? 2 : s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ? 4 : 0);\n                        put_byte(s, s.gzhead.os & 0xff);\n                        if (s.gzhead.extra && s.gzhead.extra.length) {\n                            put_byte(s, s.gzhead.extra.length & 0xff);\n                            put_byte(s, (s.gzhead.extra.length >> 8) & 0xff);\n                        }\n                        if (s.gzhead.hcrc) {\n                            strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending, 0);\n                        }\n                        s.gzindex = 0;\n                        s.status = EXTRA_STATE;\n                    }\n                } // DEFLATE header\n                else {\n                    var header = (Z_DEFLATED + ((s.w_bits - 8) << 4)) << 8;\n                    var level_flags = -1;\n                    if (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2) {\n                        level_flags = 0;\n                    }\n                    else if (s.level < 6) {\n                        level_flags = 1;\n                    }\n                    else if (s.level === 6) {\n                        level_flags = 2;\n                    }\n                    else {\n                        level_flags = 3;\n                    }\n                    header |= level_flags << 6;\n                    if (s.strstart !== 0) {\n                        header |= PRESET_DICT;\n                    }\n                    header += 31 - (header % 31);\n                    s.status = BUSY_STATE;\n                    putShortMSB(s, header);\n                    /* Save the adler32 of the preset dictionary: */\n                    if (s.strstart !== 0) {\n                        putShortMSB(s, strm.adler >>> 16);\n                        putShortMSB(s, strm.adler & 0xffff);\n                    }\n                    strm.adler = 1; // adler32(0L, Z_NULL, 0);\n                }\n            } // #ifdef GZIP\n            if (s.status === EXTRA_STATE) {\n                if (s.gzhead.extra\n                /* != Z_NULL */\n                ) {\n                    beg = s.pending;\n                    /* start of bytes to update crc */\n                    while (s.gzindex < (s.gzhead.extra.length & 0xffff)) {\n                        if (s.pending === s.pending_buf_size) {\n                            if (s.gzhead.hcrc && s.pending > beg) {\n                                strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                            }\n                            flush_pending(strm);\n                            beg = s.pending;\n                            if (s.pending === s.pending_buf_size) {\n                                break;\n                            }\n                        }\n                        put_byte(s, s.gzhead.extra[s.gzindex] & 0xff);\n                        s.gzindex++;\n                    }\n                    if (s.gzhead.hcrc && s.pending > beg) {\n                        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                    }\n                    if (s.gzindex === s.gzhead.extra.length) {\n                        s.gzindex = 0;\n                        s.status = NAME_STATE;\n                    }\n                }\n                else {\n                    s.status = NAME_STATE;\n                }\n            }\n            if (s.status === NAME_STATE) {\n                if (s.gzhead.name\n                /* != Z_NULL */\n                ) {\n                    beg = s.pending;\n                    /* start of bytes to update crc */\n                    // int val;\n                    do {\n                        if (s.pending === s.pending_buf_size) {\n                            if (s.gzhead.hcrc && s.pending > beg) {\n                                strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                            }\n                            flush_pending(strm);\n                            beg = s.pending;\n                            if (s.pending === s.pending_buf_size) {\n                                val = 1;\n                                break;\n                            }\n                        } // JS specific: little magic to add zero terminator to end of string\n                        if (s.gzindex < s.gzhead.name.length) {\n                            val = s.gzhead.name.charCodeAt(s.gzindex++) & 0xff;\n                        }\n                        else {\n                            val = 0;\n                        }\n                        put_byte(s, val);\n                    } while (val !== 0);\n                    if (s.gzhead.hcrc && s.pending > beg) {\n                        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                    }\n                    if (val === 0) {\n                        s.gzindex = 0;\n                        s.status = COMMENT_STATE;\n                    }\n                }\n                else {\n                    s.status = COMMENT_STATE;\n                }\n            }\n            if (s.status === COMMENT_STATE) {\n                if (s.gzhead.comment\n                /* != Z_NULL */\n                ) {\n                    beg = s.pending;\n                    /* start of bytes to update crc */\n                    // int val;\n                    do {\n                        if (s.pending === s.pending_buf_size) {\n                            if (s.gzhead.hcrc && s.pending > beg) {\n                                strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                            }\n                            flush_pending(strm);\n                            beg = s.pending;\n                            if (s.pending === s.pending_buf_size) {\n                                val = 1;\n                                break;\n                            }\n                        } // JS specific: little magic to add zero terminator to end of string\n                        if (s.gzindex < s.gzhead.comment.length) {\n                            val = s.gzhead.comment.charCodeAt(s.gzindex++) & 0xff;\n                        }\n                        else {\n                            val = 0;\n                        }\n                        put_byte(s, val);\n                    } while (val !== 0);\n                    if (s.gzhead.hcrc && s.pending > beg) {\n                        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                    }\n                    if (val === 0) {\n                        s.status = HCRC_STATE;\n                    }\n                }\n                else {\n                    s.status = HCRC_STATE;\n                }\n            }\n            if (s.status === HCRC_STATE) {\n                if (s.gzhead.hcrc) {\n                    if (s.pending + 2 > s.pending_buf_size) {\n                        flush_pending(strm);\n                    }\n                    if (s.pending + 2 <= s.pending_buf_size) {\n                        put_byte(s, strm.adler & 0xff);\n                        put_byte(s, (strm.adler >> 8) & 0xff);\n                        strm.adler = 0; // crc32(0L, Z_NULL, 0);\n                        s.status = BUSY_STATE;\n                    }\n                }\n                else {\n                    s.status = BUSY_STATE;\n                }\n            } // #endif\n            /* Flush as much pending output as possible */\n            if (s.pending !== 0) {\n                flush_pending(strm);\n                if (strm.avail_out === 0) {\n                    /* Since avail_out is 0, deflate will be called again with\n                     * more output space, but possibly with both pending and\n                     * avail_in equal to zero. There won't be anything to do,\n                     * but this is not an error situation so make sure we\n                     * return OK instead of BUF_ERROR at next call of deflate:\n                     */\n                    s.last_flush = -1;\n                    return Z_OK;\n                }\n                /* Make sure there is something to do and avoid duplicate consecutive\n                 * flushes. For repeated and useless calls with Z_FINISH, we keep\n                 * returning Z_STREAM_END instead of Z_BUF_ERROR.\n                 */\n            }\n            else if (strm.avail_in === 0 && rank(flush) <= rank(old_flush) && flush !== Z_FINISH) {\n                return err(strm, Z_BUF_ERROR);\n            }\n            /* User must not provide more input after the first FINISH: */\n            if (s.status === FINISH_STATE && strm.avail_in !== 0) {\n                return err(strm, Z_BUF_ERROR);\n            }\n            /* Start a new block or continue the current one.\n             */\n            if (strm.avail_in !== 0 || s.lookahead !== 0 || (flush !== Z_NO_FLUSH && s.status !== FINISH_STATE)) {\n                var bstate = s.strategy === Z_HUFFMAN_ONLY\n                    ? deflate_huff(s, flush)\n                    : s.strategy === Z_RLE\n                        ? deflate_rle(s, flush)\n                        : configuration_table[s.level].func(s, flush);\n                if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {\n                    s.status = FINISH_STATE;\n                }\n                if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {\n                    if (strm.avail_out === 0) {\n                        s.last_flush = -1;\n                        /* avoid BUF_ERROR next call, see above */\n                    }\n                    return Z_OK;\n                    /* If flush != Z_NO_FLUSH && avail_out == 0, the next call\n                     * of deflate should use the same flush parameter to make sure\n                     * that the flush is complete. So we don't have to output an\n                     * empty block here, this will be done at next call. This also\n                     * ensures that for a very small output buffer, we emit at most\n                     * one empty block.\n                     */\n                }\n                if (bstate === BS_BLOCK_DONE) {\n                    if (flush === Z_PARTIAL_FLUSH) {\n                        _tr_align$1(s);\n                    }\n                    else if (flush !== Z_BLOCK) {\n                        /* FULL_FLUSH or SYNC_FLUSH */\n                        _tr_stored_block$1(s, 0, 0, false);\n                        /* For a full flush, this empty block will be recognized\n                         * as a special marker by inflate_sync().\n                         */\n                        if (flush === Z_FULL_FLUSH) {\n                            /** * CLEAR_HASH(s); ** */\n                            /* forget history */\n                            zero$1(s.head); // Fill with NIL (= 0);\n                            if (s.lookahead === 0) {\n                                s.strstart = 0;\n                                s.block_start = 0;\n                                s.insert = 0;\n                            }\n                        }\n                    }\n                    flush_pending(strm);\n                    if (strm.avail_out === 0) {\n                        s.last_flush = -1;\n                        /* avoid BUF_ERROR at next call, see above */\n                        return Z_OK;\n                    }\n                }\n            } // Assert(strm->avail_out > 0, \"bug2\");\n            // if (strm.avail_out <= 0) { throw new Error(\"bug2\");}\n            if (flush !== Z_FINISH) {\n                return Z_OK;\n            }\n            if (s.wrap <= 0) {\n                return Z_STREAM_END;\n            }\n            /* Write the trailer */\n            if (s.wrap === 2) {\n                put_byte(s, strm.adler & 0xff);\n                put_byte(s, (strm.adler >> 8) & 0xff);\n                put_byte(s, (strm.adler >> 16) & 0xff);\n                put_byte(s, (strm.adler >> 24) & 0xff);\n                put_byte(s, strm.total_in & 0xff);\n                put_byte(s, (strm.total_in >> 8) & 0xff);\n                put_byte(s, (strm.total_in >> 16) & 0xff);\n                put_byte(s, (strm.total_in >> 24) & 0xff);\n            }\n            else {\n                putShortMSB(s, strm.adler >>> 16);\n                putShortMSB(s, strm.adler & 0xffff);\n            }\n            flush_pending(strm);\n            /* If avail_out is zero, the application will call deflate again\n             * to flush the rest.\n             */\n            if (s.wrap > 0) {\n                s.wrap = -s.wrap;\n            }\n            /* write the trailer only once! */\n            return s.pending !== 0 ? Z_OK : Z_STREAM_END;\n        };\n        var deflateEnd = function deflateEnd(strm) {\n            if (!strm ||\n                /* == Z_NULL */\n                !strm.state\n            /* == Z_NULL */\n            ) {\n                return Z_STREAM_ERROR;\n            }\n            var status = strm.state.status;\n            if (status !== INIT_STATE &&\n                status !== EXTRA_STATE &&\n                status !== NAME_STATE &&\n                status !== COMMENT_STATE &&\n                status !== HCRC_STATE &&\n                status !== BUSY_STATE &&\n                status !== FINISH_STATE) {\n                return err(strm, Z_STREAM_ERROR);\n            }\n            strm.state = null;\n            return status === BUSY_STATE ? err(strm, Z_DATA_ERROR) : Z_OK;\n        };\n        /* =========================================================================\n         * Initializes the compression dictionary from the given byte\n         * sequence without producing any compressed output.\n         */\n        var deflateSetDictionary = function deflateSetDictionary(strm, dictionary) {\n            var dictLength = dictionary.length;\n            if (!strm ||\n                /* == Z_NULL */\n                !strm.state\n            /* == Z_NULL */\n            ) {\n                return Z_STREAM_ERROR;\n            }\n            var s = strm.state;\n            var wrap = s.wrap;\n            if (wrap === 2 || (wrap === 1 && s.status !== INIT_STATE) || s.lookahead) {\n                return Z_STREAM_ERROR;\n            }\n            /* when using zlib wrappers, compute Adler-32 for provided dictionary */\n            if (wrap === 1) {\n                /* adler32(strm->adler, dictionary, dictLength); */\n                strm.adler = adler32_1(strm.adler, dictionary, dictLength, 0);\n            }\n            s.wrap = 0;\n            /* avoid computing Adler-32 in read_buf */\n            /* if dictionary would fill window, just replace the history */\n            if (dictLength >= s.w_size) {\n                if (wrap === 0) {\n                    /* already empty otherwise */\n                    /** * CLEAR_HASH(s); ** */\n                    zero$1(s.head); // Fill with NIL (= 0);\n                    s.strstart = 0;\n                    s.block_start = 0;\n                    s.insert = 0;\n                }\n                /* use the tail */\n                // dictionary = dictionary.slice(dictLength - s.w_size);\n                var tmpDict = new Uint8Array(s.w_size);\n                tmpDict.set(dictionary.subarray(dictLength - s.w_size, dictLength), 0);\n                dictionary = tmpDict;\n                dictLength = s.w_size;\n            }\n            /* insert dictionary into window and hash */\n            var avail = strm.avail_in;\n            var next = strm.next_in;\n            var input = strm.input;\n            strm.avail_in = dictLength;\n            strm.next_in = 0;\n            strm.input = dictionary;\n            fill_window(s);\n            while (s.lookahead >= MIN_MATCH$1) {\n                var str = s.strstart;\n                var n = s.lookahead - (MIN_MATCH$1 - 1);\n                do {\n                    /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */\n                    s.ins_h = HASH(s, s.ins_h, s.window[str + MIN_MATCH$1 - 1]);\n                    s.prev[str & s.w_mask] = s.head[s.ins_h];\n                    s.head[s.ins_h] = str;\n                    str++;\n                } while (--n);\n                s.strstart = str;\n                s.lookahead = MIN_MATCH$1 - 1;\n                fill_window(s);\n            }\n            s.strstart += s.lookahead;\n            s.block_start = s.strstart;\n            s.insert = s.lookahead;\n            s.lookahead = 0;\n            s.match_length = s.prev_length = MIN_MATCH$1 - 1;\n            s.match_available = 0;\n            strm.next_in = next;\n            strm.input = input;\n            strm.avail_in = avail;\n            s.wrap = wrap;\n            return Z_OK;\n        };\n        var deflateInit_1 = deflateInit;\n        var deflateInit2_1 = deflateInit2;\n        var deflateReset_1 = deflateReset;\n        var deflateResetKeep_1 = deflateResetKeep;\n        var deflateSetHeader_1 = deflateSetHeader;\n        var deflate_2 = deflate;\n        var deflateEnd_1 = deflateEnd;\n        var deflateSetDictionary_1 = deflateSetDictionary;\n        var deflateInfo = 'pako deflate (from Nodeca project)';\n        /* Not implemented\n      module.exports.deflateBound = deflateBound;\n      module.exports.deflateCopy = deflateCopy;\n      module.exports.deflateParams = deflateParams;\n      module.exports.deflatePending = deflatePending;\n      module.exports.deflatePrime = deflatePrime;\n      module.exports.deflateTune = deflateTune;\n      */\n        var deflate_1 = {\n            deflateInit: deflateInit_1,\n            deflateInit2: deflateInit2_1,\n            deflateReset: deflateReset_1,\n            deflateResetKeep: deflateResetKeep_1,\n            deflateSetHeader: deflateSetHeader_1,\n            deflate: deflate_2,\n            deflateEnd: deflateEnd_1,\n            deflateSetDictionary: deflateSetDictionary_1,\n            deflateInfo: deflateInfo,\n        };\n        // Join array of chunks to single array.\n        function flattenChunks(chunks) {\n            // calculate data length\n            var len = 0;\n            for (var i = 0, l = chunks.length; i < l; i++) {\n                len += chunks[i].length;\n            } // join chunks\n            var result = new Uint8Array(len);\n            for (var _i = 0, pos = 0, _l = chunks.length; _i < _l; _i++) {\n                var chunk = chunks[_i];\n                result.set(chunk, pos);\n                pos += chunk.length;\n            }\n            return result;\n        }\n        // String encode/decode helpers\n        //\n        // - apply(Array) can fail on Android 2.2\n        // - apply(Uint8Array) can fail on iOS 5.1 Safari\n        //\n        // Table with utf8 lengths (calculated by first byte of sequence)\n        // Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,\n        // because max possible codepoint is 0x10ffff\n        var _utf8len = new Uint8Array(256);\n        for (var q = 0; q < 256; q++) {\n            _utf8len[q] = q >= 252 ? 6 : q >= 248 ? 5 : q >= 240 ? 4 : q >= 224 ? 3 : q >= 192 ? 2 : 1;\n        }\n        _utf8len[254] = _utf8len[254] = 1; // Invalid sequence start\n        // convert string to array (typed, when possible)\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        function ZStream() {\n            /* next input byte */\n            this.input = null; // JS specific, because we have no pointers\n            this.next_in = 0;\n            /* number of bytes available at input */\n            this.avail_in = 0;\n            /* total number of input bytes read so far */\n            this.total_in = 0;\n            /* next output byte should be put there */\n            this.output = null; // JS specific, because we have no pointers\n            this.next_out = 0;\n            /* remaining free space at output */\n            this.avail_out = 0;\n            /* total number of bytes output so far */\n            this.total_out = 0;\n            /* last error message, NULL if no error */\n            this.msg = '';\n            /* Z_NULL */\n            /* not visible by applications */\n            this.state = null;\n            /* best guess about the data type: binary or text */\n            this.data_type = 2;\n            /* Z_UNKNOWN */\n            /* adler32 value of the uncompressed data */\n            this.adler = 0;\n        }\n        var zstream = ZStream;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        var toString = Object.prototype.toString;\n        /* Public constants ========================================================== */\n        /* =========================================================================== */\n        var Z_NO_FLUSH$1 = constants.Z_NO_FLUSH;\n        var Z_SYNC_FLUSH = constants.Z_SYNC_FLUSH;\n        var Z_FULL_FLUSH$1 = constants.Z_FULL_FLUSH;\n        var Z_FINISH$1 = constants.Z_FINISH;\n        var Z_OK$1 = constants.Z_OK;\n        var Z_STREAM_END$1 = constants.Z_STREAM_END;\n        var Z_DEFAULT_COMPRESSION$1 = constants.Z_DEFAULT_COMPRESSION;\n        var Z_DEFAULT_STRATEGY$1 = constants.Z_DEFAULT_STRATEGY;\n        var Z_DEFLATED$1 = constants.Z_DEFLATED;\n        /* =========================================================================== */\n        /**\n         * class Deflate\n         *\n         * Generic JS-style wrapper for zlib calls. If you don't need\n         * streaming behaviour - use more simple functions: [[deflate]],\n         * [[deflateRaw]] and [[gzip]].\n         * */\n        /* internal\n         * Deflate.chunks -> Array\n         *\n         * Chunks of output data, if [[Deflate#onData]] not overridden.\n         * */\n        /**\n         * Deflate.result -> Uint8Array\n         *\n         * Compressed result, generated by default [[Deflate#onData]]\n         * and [[Deflate#onEnd]] handlers. Filled after you push last chunk\n         * (call [[Deflate#push]] with `Z_FINISH` / `true` param).\n         * */\n        /**\n         * Deflate.err -> Number\n         *\n         * Error code after deflate finished. 0 (Z_OK) on success.\n         * You will not need it in real life, because deflate errors\n         * are possible only on wrong options or bad `onData` / `onEnd`\n         * custom handlers.\n         * */\n        /**\n         * Deflate.msg -> String\n         *\n         * Error message, if [[Deflate.err]] != 0\n         * */\n        /**\n         * new Deflate(options)\n         * - options (Object): zlib deflate options.\n         *\n         * Creates new deflator instance with specified params. Throws exception\n         * on bad params. Supported options:\n         *\n         * - `level`\n         * - `windowBits`\n         * - `memLevel`\n         * - `strategy`\n         * - `dictionary`\n         *\n         * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n         * for more information on these.\n         *\n         * Additional options, for internal needs:\n         *\n         * * `chunkSize` - size of generated data chunks (16K by default)\n         * * `raw` (Boolean) - do raw deflate\n         * * `gzip` (Boolean) - create gzip wrapper\n         * * `header` (Object) - custom header for gzip\n         * ** `text` (Boolean) - true if compressed data believed to be text\n         * ** `time` (Number) - modification time, unix timestamp\n         * ** `os` (Number) - operation system code\n         * ** `extra` (Array) - array of bytes with extra data (max 65536)\n         * ** `name` (String) - file name (binary string)\n         * ** `comment` (String) - comment (binary string)\n         * ** `hcrc` (Boolean) - true if header crc should be added\n         *\n         * ##### Example:\n         *\n         * ```javascript\n         * const pako = require('pako')\n         *   , chunk1 = new Uint8Array([1,2,3,4,5,6,7,8,9])\n         *   , chunk2 = new Uint8Array([10,11,12,13,14,15,16,17,18,19]);\n         *\n         * const deflate = new pako.Deflate({ level: 3});\n         *\n         * deflate.push(chunk1, false);\n         * deflate.push(chunk2, true);  // true -> last chunk\n         *\n         * if (deflate.err) { throw new Error(deflate.err); }\n         *\n         * console.log(deflate.result);\n         * ```\n         * */\n        function Deflate() {\n            this.options = {\n                level: Z_DEFAULT_COMPRESSION$1,\n                method: Z_DEFLATED$1,\n                chunkSize: 16384,\n                windowBits: 15,\n                memLevel: 8,\n                strategy: Z_DEFAULT_STRATEGY$1,\n            };\n            var opt = this.options;\n            if (opt.raw && opt.windowBits > 0) {\n                opt.windowBits = -opt.windowBits;\n            }\n            else if (opt.gzip && opt.windowBits > 0 && opt.windowBits < 16) {\n                opt.windowBits += 16;\n            }\n            this.err = 0; // error code, if happens (0 = Z_OK)\n            this.msg = ''; // error message\n            this.ended = false; // used to avoid multiple onEnd() calls\n            this.chunks = []; // chunks of compressed data\n            this.strm = new zstream();\n            this.strm.avail_out = 0;\n            var status = deflate_1.deflateInit2(this.strm, opt.level, opt.method, opt.windowBits, opt.memLevel, opt.strategy);\n            if (status !== Z_OK$1) {\n                throw new Error(messages[status]);\n            }\n            if (opt.header) {\n                deflate_1.deflateSetHeader(this.strm, opt.header);\n            }\n            if (opt.dictionary) {\n                var dict; // Convert data if needed\n                if (toString.call(opt.dictionary) === '[object ArrayBuffer]') {\n                    dict = new Uint8Array(opt.dictionary);\n                }\n                else {\n                    dict = opt.dictionary;\n                }\n                status = deflate_1.deflateSetDictionary(this.strm, dict);\n                if (status !== Z_OK$1) {\n                    throw new Error(messages[status]);\n                }\n                this._dict_set = true;\n            }\n        }\n        /**\n         * Deflate#push(data[, flush_mode]) -> Boolean\n         * - data (Uint8Array|ArrayBuffer|String): input data. Strings will be\n         * converted to utf8 byte sequence.\n         * - flush_mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.\n         * See constants. Skipped or `false` means Z_NO_FLUSH, `true` means Z_FINISH.\n         *\n         * Sends input data to deflate pipe, generating [[Deflate#onData]] calls with\n         * new compressed chunks. Returns `true` on success. The last data block must\n         * have `flush_mode` Z_FINISH (or `true`). That will flush internal pending\n         * buffers and call [[Deflate#onEnd]].\n         *\n         * On fail call [[Deflate#onEnd]] with error code and return false.\n         *\n         * ##### Example\n         *\n         * ```javascript\n         * push(chunk, false); // push one of data chunks\n         * ...\n         * push(chunk, true);  // push last chunk\n         * ```\n         * */\n        Deflate.prototype.push = function (data, flush_mode) {\n            var strm = this.strm;\n            var chunkSize = this.options.chunkSize;\n            var status;\n            var _flush_mode;\n            if (this.ended) {\n                return false;\n            }\n            if (flush_mode === ~~flush_mode) {\n                _flush_mode = flush_mode;\n            }\n            else {\n                _flush_mode = flush_mode === true ? Z_FINISH$1 : Z_NO_FLUSH$1;\n            } // Convert data if needed\n            if (toString.call(data) === '[object ArrayBuffer]') {\n                strm.input = new Uint8Array(data);\n            }\n            else {\n                strm.input = data;\n            }\n            strm.next_in = 0;\n            strm.avail_in = strm.input.length;\n            for (;;) {\n                if (strm.avail_out === 0) {\n                    strm.output = new Uint8Array(chunkSize);\n                    strm.next_out = 0;\n                    strm.avail_out = chunkSize;\n                } // Make sure avail_out > 6 to avoid repeating markers\n                if ((_flush_mode === Z_SYNC_FLUSH || _flush_mode === Z_FULL_FLUSH$1) && strm.avail_out <= 6) {\n                    this.onData(strm.output.subarray(0, strm.next_out));\n                    strm.avail_out = 0;\n                    continue;\n                }\n                status = deflate_1.deflate(strm, _flush_mode); // Ended => flush and finish\n                if (status === Z_STREAM_END$1) {\n                    if (strm.next_out > 0) {\n                        this.onData(strm.output.subarray(0, strm.next_out));\n                    }\n                    status = deflate_1.deflateEnd(this.strm);\n                    this.onEnd(status);\n                    this.ended = true;\n                    return status === Z_OK$1;\n                } // Flush if out buffer full\n                if (strm.avail_out === 0) {\n                    this.onData(strm.output);\n                    continue;\n                } // Flush if requested and has data\n                if (_flush_mode > 0 && strm.next_out > 0) {\n                    this.onData(strm.output.subarray(0, strm.next_out));\n                    strm.avail_out = 0;\n                    continue;\n                }\n                if (strm.avail_in === 0) {\n                    break;\n                }\n            }\n            return true;\n        };\n        /**\n         * Deflate#onData(chunk) -> Void\n         * - chunk (Uint8Array): output data.\n         *\n         * By default, stores data blocks in `chunks[]` property and glue\n         * those in `onEnd`. Override this handler, if you need another behaviour.\n         * */\n        Deflate.prototype.onData = function (chunk) {\n            this.chunks.push(chunk);\n        };\n        /**\n         * Deflate#onEnd(status) -> Void\n         * - status (Number): deflate status. 0 (Z_OK) on success,\n         * other if not.\n         *\n         * Called once after you tell deflate that the input stream is\n         * complete (Z_FINISH). By default - join collected chunks,\n         * free memory and fill `results` / `err` properties.\n         * */\n        Deflate.prototype.onEnd = function (status) {\n            // On success - join\n            if (status === Z_OK$1) {\n                this.result = flattenChunks(this.chunks);\n            }\n            this.chunks = [];\n            this.err = status;\n            this.msg = this.strm.msg;\n        };\n        // https://github.com/nodeca/pako/blob/26dff4fb3472c5532b3bd8856421146d35ab7592/lib/utils/strings.js#L26\n        function string2buf(str) {\n            if (typeof TextEncoder === 'function' && TextEncoder.prototype.encode) {\n                return new TextEncoder().encode(str);\n            }\n            var buf;\n            var c;\n            var c2;\n            var m_pos;\n            var i;\n            var str_len = str.length;\n            var buf_len = 0;\n            // count binary size\n            for (m_pos = 0; m_pos < str_len; m_pos++) {\n                c = str.charCodeAt(m_pos);\n                if ((c & 0xfc00) === 0xd800 && m_pos + 1 < str_len) {\n                    c2 = str.charCodeAt(m_pos + 1);\n                    if ((c2 & 0xfc00) === 0xdc00) {\n                        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n                        m_pos++;\n                    }\n                }\n                buf_len += c < 0x80 ? 1 : c < 0x800 ? 2 : c < 0x10000 ? 3 : 4;\n            }\n            // allocate buffer\n            buf = new Uint8Array(buf_len);\n            // convert\n            for (i = 0, m_pos = 0; i < buf_len; m_pos++) {\n                c = str.charCodeAt(m_pos);\n                if ((c & 0xfc00) === 0xd800 && m_pos + 1 < str_len) {\n                    c2 = str.charCodeAt(m_pos + 1);\n                    if ((c2 & 0xfc00) === 0xdc00) {\n                        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n                        m_pos++;\n                    }\n                }\n                if (c < 0x80) {\n                    /* one byte */\n                    buf[i++] = c;\n                }\n                else if (c < 0x800) {\n                    /* two bytes */\n                    buf[i++] = 0xc0 | (c >>> 6);\n                    buf[i++] = 0x80 | (c & 0x3f);\n                }\n                else if (c < 0x10000) {\n                    /* three bytes */\n                    buf[i++] = 0xe0 | (c >>> 12);\n                    buf[i++] = 0x80 | ((c >>> 6) & 0x3f);\n                    buf[i++] = 0x80 | (c & 0x3f);\n                }\n                else {\n                    /* four bytes */\n                    buf[i++] = 0xf0 | (c >>> 18);\n                    buf[i++] = 0x80 | ((c >>> 12) & 0x3f);\n                    buf[i++] = 0x80 | ((c >>> 6) & 0x3f);\n                    buf[i++] = 0x80 | (c & 0x3f);\n                }\n            }\n            return buf;\n        }\n        return { Deflate: Deflate, constants: constants, string2buf: string2buf };\n    }\n}\n//# sourceMappingURL=deflateWorker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9kZWZsYXRlV29ya2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RkFBOEYsOEJBQThCO0FBQzVIO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx3QkFBd0Isa0NBQWtDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0EsNkVBQTZFLDBCQUEwQjtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0JBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxlQUFlO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxZQUFZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0JBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlCQUF5QjtBQUNwRDtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixXQUFXO0FBQ3RDO0FBQ0EsNEJBQTRCLDRCQUE0QjtBQUN4RDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0EsNEJBQTRCLGtDQUFrQztBQUM5RDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsMkJBQTJCLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QixtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBLDZFQUE2RSx1QkFBdUI7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFdBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0Isa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrQkFBa0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdHQUF3RyxtQ0FBbUM7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdCQUFnQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxJQUFJLE1BQU0sR0FBRyxNQUFNLEdBQUc7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLElBQUksS0FBSyxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxJQUFJLE1BQU0sSUFBSTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGNBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGlCQUFpQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsU0FBUztBQUNyQztBQUNBLGdDQUFnQyxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixTQUFTO0FBQ3ZDO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUY7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGO0FBQ2xGO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEU7QUFDNUUsOEVBQThFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSx3RUFBd0U7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hELHdEQUF3RDtBQUN4RCx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QyxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsT0FBTztBQUN0RDtBQUNBLGNBQWM7QUFDZDtBQUNBLDBEQUEwRCxTQUFTO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxTQUFTO0FBQ3ZEO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiwyQkFBMkI7QUFDM0IsZ0NBQWdDO0FBQ2hDLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsYUFBYTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3NlZ21lbnRDb2xsZWN0aW9uL2RlZmxhdGVXb3JrZXIuanM/NjE0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgd29ya2VyVVJMO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmxhdGVXb3JrZXIoKSB7XG4gICAgLy8gTGF6aWx5IGNvbXB1dGUgdGhlIHdvcmtlciBVUkwgdG8gYWxsb3cgaW1wb3J0aW5nIHRoZSBTREsgaW4gTm9kZUpTXG4gICAgaWYgKCF3b3JrZXJVUkwpIHtcbiAgICAgICAgd29ya2VyVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbXCIoXCIuY29uY2F0KHdvcmtlckNvZGVGbiwgXCIpKHNlbGYpXCIpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFdvcmtlcih3b3JrZXJVUkwpO1xufVxuZnVuY3Rpb24gd29ya2VyQ29kZUZuKCkge1xuICAgIG1vbml0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSBtYWtlUGFrb0RlZmxhdGUoKSwgRGVmbGF0ZSA9IF9hLkRlZmxhdGUsIGNvbnN0YW50cyA9IF9hLmNvbnN0YW50cywgc3RyaW5nMmJ1ZiA9IF9hLnN0cmluZzJidWY7XG4gICAgICAgIHZhciBkZWZsYXRlID0gbmV3IERlZmxhdGUoKTtcbiAgICAgICAgdmFyIHJhd0J5dGVzQ291bnQgPSAwO1xuICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtb25pdG9yKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgc3dpdGNoIChkYXRhLmFjdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2luaXQnOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbml0aWFsaXplZCcsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd3cml0ZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxCeXRlc0NvdW50ID0gcHVzaERhdGEoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd3JvdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc2VkQnl0ZXNDb3VudDogZGVmbGF0ZS5jaHVua3MucmVkdWNlKGZ1bmN0aW9uICh0b3RhbCwgY2h1bmspIHsgcmV0dXJuIHRvdGFsICsgY2h1bmsubGVuZ3RoOyB9LCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxCeXRlc0NvdW50OiBhZGRpdGlvbmFsQnl0ZXNDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdmbHVzaCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxCeXRlc0NvdW50ID0gZGF0YS5kYXRhID8gcHVzaERhdGEoZGF0YS5kYXRhKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGRlZmxhdGUucHVzaCgnJywgY29uc3RhbnRzLlpfRklOSVNIKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmx1c2hlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogZGVmbGF0ZS5yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsQnl0ZXNDb3VudDogYWRkaXRpb25hbEJ5dGVzQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdCeXRlc0NvdW50OiByYXdCeXRlc0NvdW50LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZGVmbGF0ZSA9IG5ldyBEZWZsYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJhd0J5dGVzQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgZnVuY3Rpb24gcHVzaERhdGEoZGF0YSkge1xuICAgICAgICAgICAgLy8gVGV4dEVuY29kZXIgaXMgbm90IHN1cHBvcnRlZCBvbiBvbGQgYnJvd3NlciB2ZXJzaW9uIGxpa2UgRWRnZSAxOCwgdGhlcmVmb3JlIHdlIHVzZSBzdHJpbmcyYnVmXG4gICAgICAgICAgICB2YXIgYmluYXJ5RGF0YSA9IHN0cmluZzJidWYoZGF0YSk7XG4gICAgICAgICAgICBkZWZsYXRlLnB1c2goYmluYXJ5RGF0YSwgY29uc3RhbnRzLlpfU1lOQ19GTFVTSCk7XG4gICAgICAgICAgICByYXdCeXRlc0NvdW50ICs9IGJpbmFyeURhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIGJpbmFyeURhdGEubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfSkoKTtcbiAgICBmdW5jdGlvbiBtb25pdG9yKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gREFUQV9DTE9ORV9FUlIsIGNmIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJfV29ya2Vyc19BUEkvU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG1cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3JlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogXCJcIi5jb25jYXQoZSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9wYWtvL2Jsb2IvMDM0NjY5YmEwZjFhNGMwNTkwZTQ1ZjdjMjgyMDEyODIwMGY5NzJiMy9kaXN0L3Bha29fZGVmbGF0ZS5lczUuanNcbiAgICBmdW5jdGlvbiBtYWtlUGFrb0RlZmxhdGUoKSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSwgbm8tYml0d2lzZSAqL1xuICAgICAgICAvLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuICAgICAgICAvLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbiAgICAgICAgLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4gICAgICAgIC8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbiAgICAgICAgLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuICAgICAgICAvLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4gICAgICAgIC8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4gICAgICAgIC8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbiAgICAgICAgLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbiAgICAgICAgLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4gICAgICAgIC8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG4gICAgICAgIC8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgICAgICAgLy8gY29uc3QgWl9GSUxURVJFRCAgICAgICAgICA9IDE7XG4gICAgICAgIC8vIGNvbnN0IFpfSFVGRk1BTl9PTkxZICAgICAgPSAyO1xuICAgICAgICAvLyBjb25zdCBaX1JMRSAgICAgICAgICAgICAgID0gMztcbiAgICAgICAgdmFyIFpfRklYRUQgPSA0OyAvLyBjb25zdCBaX0RFRkFVTFRfU1RSQVRFR1kgID0gMDtcbiAgICAgICAgLyogUG9zc2libGUgdmFsdWVzIG9mIHRoZSBkYXRhX3R5cGUgZmllbGQgKHRob3VnaCBzZWUgaW5mbGF0ZSgpKSAqL1xuICAgICAgICB2YXIgWl9CSU5BUlkgPSAwO1xuICAgICAgICB2YXIgWl9URVhUID0gMTsgLy8gY29uc3QgWl9BU0NJSSAgICAgICAgICAgICA9IDE7IC8vID0gWl9URVhUXG4gICAgICAgIHZhciBaX1VOS05PV04gPSAyO1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgICAgIGZ1bmN0aW9uIHplcm8oYnVmKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gYnVmLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgtLWxlbiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgYnVmW2xlbl0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IC8vIEZyb20genV0aWwuaFxuICAgICAgICB2YXIgU1RPUkVEX0JMT0NLID0gMDtcbiAgICAgICAgdmFyIFNUQVRJQ19UUkVFUyA9IDE7XG4gICAgICAgIHZhciBEWU5fVFJFRVMgPSAyO1xuICAgICAgICAvKiBUaGUgdGhyZWUga2luZHMgb2YgYmxvY2sgdHlwZSAqL1xuICAgICAgICB2YXIgTUlOX01BVENIID0gMztcbiAgICAgICAgdmFyIE1BWF9NQVRDSCA9IDI1ODtcbiAgICAgICAgLyogVGhlIG1pbmltdW0gYW5kIG1heGltdW0gbWF0Y2ggbGVuZ3RocyAqL1xuICAgICAgICAvLyBGcm9tIGRlZmxhdGUuaFxuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogSW50ZXJuYWwgY29tcHJlc3Npb24gc3RhdGUuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgTEVOR1RIX0NPREVTID0gMjk7XG4gICAgICAgIC8qIG51bWJlciBvZiBsZW5ndGggY29kZXMsIG5vdCBjb3VudGluZyB0aGUgc3BlY2lhbCBFTkRfQkxPQ0sgY29kZSAqL1xuICAgICAgICB2YXIgTElURVJBTFMgPSAyNTY7XG4gICAgICAgIC8qIG51bWJlciBvZiBsaXRlcmFsIGJ5dGVzIDAuLjI1NSAqL1xuICAgICAgICB2YXIgTF9DT0RFUyA9IExJVEVSQUxTICsgMSArIExFTkdUSF9DT0RFUztcbiAgICAgICAgLyogbnVtYmVyIG9mIExpdGVyYWwgb3IgTGVuZ3RoIGNvZGVzLCBpbmNsdWRpbmcgdGhlIEVORF9CTE9DSyBjb2RlICovXG4gICAgICAgIHZhciBEX0NPREVTID0gMzA7XG4gICAgICAgIC8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlcyAqL1xuICAgICAgICB2YXIgQkxfQ09ERVMgPSAxOTtcbiAgICAgICAgLyogbnVtYmVyIG9mIGNvZGVzIHVzZWQgdG8gdHJhbnNmZXIgdGhlIGJpdCBsZW5ndGhzICovXG4gICAgICAgIHZhciBIRUFQX1NJWkUgPSAyICogTF9DT0RFUyArIDE7XG4gICAgICAgIC8qIG1heGltdW0gaGVhcCBzaXplICovXG4gICAgICAgIHZhciBNQVhfQklUUyA9IDE1O1xuICAgICAgICAvKiBBbGwgY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CSVRTIGJpdHMgKi9cbiAgICAgICAgdmFyIEJ1Zl9zaXplID0gMTY7XG4gICAgICAgIC8qIHNpemUgb2YgYml0IGJ1ZmZlciBpbiBiaV9idWYgKi9cbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIENvbnN0YW50c1xuICAgICAgICAgKi9cbiAgICAgICAgdmFyIE1BWF9CTF9CSVRTID0gNztcbiAgICAgICAgLyogQml0IGxlbmd0aCBjb2RlcyBtdXN0IG5vdCBleGNlZWQgTUFYX0JMX0JJVFMgYml0cyAqL1xuICAgICAgICB2YXIgRU5EX0JMT0NLID0gMjU2O1xuICAgICAgICAvKiBlbmQgb2YgYmxvY2sgbGl0ZXJhbCBjb2RlICovXG4gICAgICAgIHZhciBSRVBfM182ID0gMTY7XG4gICAgICAgIC8qIHJlcGVhdCBwcmV2aW91cyBiaXQgbGVuZ3RoIDMtNiB0aW1lcyAoMiBiaXRzIG9mIHJlcGVhdCBjb3VudCkgKi9cbiAgICAgICAgdmFyIFJFUFpfM18xMCA9IDE3O1xuICAgICAgICAvKiByZXBlYXQgYSB6ZXJvIGxlbmd0aCAzLTEwIHRpbWVzICAoMyBiaXRzIG9mIHJlcGVhdCBjb3VudCkgKi9cbiAgICAgICAgdmFyIFJFUFpfMTFfMTM4ID0gMTg7XG4gICAgICAgIC8qIHJlcGVhdCBhIHplcm8gbGVuZ3RoIDExLTEzOCB0aW1lcyAgKDcgYml0cyBvZiByZXBlYXQgY291bnQpICovXG4gICAgICAgIHZhciBleHRyYV9sYml0cyA9IFxuICAgICAgICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGxlbmd0aCBjb2RlICovXG4gICAgICAgIG5ldyBVaW50OEFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAyLCAyLCAyLCAyLCAzLCAzLCAzLCAzLCA0LCA0LCA0LCA0LCA1LCA1LCA1LCA1LCAwXSk7XG4gICAgICAgIHZhciBleHRyYV9kYml0cyA9IFxuICAgICAgICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGRpc3RhbmNlIGNvZGUgKi9cbiAgICAgICAgbmV3IFVpbnQ4QXJyYXkoWzAsIDAsIDAsIDAsIDEsIDEsIDIsIDIsIDMsIDMsIDQsIDQsIDUsIDUsIDYsIDYsIDcsIDcsIDgsIDgsIDksIDksIDEwLCAxMCwgMTEsIDExLCAxMiwgMTIsIDEzLCAxM10pO1xuICAgICAgICB2YXIgZXh0cmFfYmxiaXRzID0gXG4gICAgICAgIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggYml0IGxlbmd0aCBjb2RlICovXG4gICAgICAgIG5ldyBVaW50OEFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAyLCAzLCA3XSk7XG4gICAgICAgIHZhciBibF9vcmRlciA9IG5ldyBVaW50OEFycmF5KFsxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1XSk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgY29tbWEtc3BhY2luZyxhcnJheS1icmFja2V0LXNwYWNpbmcgKi9cbiAgICAgICAgLyogVGhlIGxlbmd0aHMgb2YgdGhlIGJpdCBsZW5ndGggY29kZXMgYXJlIHNlbnQgaW4gb3JkZXIgb2YgZGVjcmVhc2luZ1xuICAgICAgICAgKiBwcm9iYWJpbGl0eSwgdG8gYXZvaWQgdHJhbnNtaXR0aW5nIHRoZSBsZW5ndGhzIGZvciB1bnVzZWQgYml0IGxlbmd0aCBjb2Rlcy5cbiAgICAgICAgICovXG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBMb2NhbCBkYXRhLiBUaGVzZSBhcmUgaW5pdGlhbGl6ZWQgb25seSBvbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gV2UgcHJlLWZpbGwgYXJyYXlzIHdpdGggMCB0byBhdm9pZCB1bmluaXRpYWxpemVkIGdhcHNcbiAgICAgICAgdmFyIERJU1RfQ09ERV9MRU4gPSA1MTI7XG4gICAgICAgIC8qIHNlZSBkZWZpbml0aW9uIG9mIGFycmF5IGRpc3RfY29kZSBiZWxvdyAqL1xuICAgICAgICAvLyAhISEhIFVzZSBmbGF0IGFycmF5IGluc3RlYWQgb2Ygc3RydWN0dXJlLCBGcmVxID0gaSoyLCBMZW4gPSBpKjIrMVxuICAgICAgICB2YXIgc3RhdGljX2x0cmVlID0gbmV3IEFycmF5KChMX0NPREVTICsgMikgKiAyKTtcbiAgICAgICAgemVybyhzdGF0aWNfbHRyZWUpO1xuICAgICAgICAvKiBUaGUgc3RhdGljIGxpdGVyYWwgdHJlZS4gU2luY2UgdGhlIGJpdCBsZW5ndGhzIGFyZSBpbXBvc2VkLCB0aGVyZSBpcyBub1xuICAgICAgICAgKiBuZWVkIGZvciB0aGUgTF9DT0RFUyBleHRyYSBjb2RlcyB1c2VkIGR1cmluZyBoZWFwIGNvbnN0cnVjdGlvbi4gSG93ZXZlclxuICAgICAgICAgKiBUaGUgY29kZXMgMjg2IGFuZCAyODcgYXJlIG5lZWRlZCB0byBidWlsZCBhIGNhbm9uaWNhbCB0cmVlIChzZWUgX3RyX2luaXRcbiAgICAgICAgICogYmVsb3cpLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHN0YXRpY19kdHJlZSA9IG5ldyBBcnJheShEX0NPREVTICogMik7XG4gICAgICAgIHplcm8oc3RhdGljX2R0cmVlKTtcbiAgICAgICAgLyogVGhlIHN0YXRpYyBkaXN0YW5jZSB0cmVlLiAoQWN0dWFsbHkgYSB0cml2aWFsIHRyZWUgc2luY2UgYWxsIGNvZGVzIHVzZVxuICAgICAgICAgKiA1IGJpdHMuKVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF9kaXN0X2NvZGUgPSBuZXcgQXJyYXkoRElTVF9DT0RFX0xFTik7XG4gICAgICAgIHplcm8oX2Rpc3RfY29kZSk7XG4gICAgICAgIC8qIERpc3RhbmNlIGNvZGVzLiBUaGUgZmlyc3QgMjU2IHZhbHVlcyBjb3JyZXNwb25kIHRvIHRoZSBkaXN0YW5jZXNcbiAgICAgICAgICogMyAuLiAyNTgsIHRoZSBsYXN0IDI1NiB2YWx1ZXMgY29ycmVzcG9uZCB0byB0aGUgdG9wIDggYml0cyBvZlxuICAgICAgICAgKiB0aGUgMTUgYml0IGRpc3RhbmNlcy5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfbGVuZ3RoX2NvZGUgPSBuZXcgQXJyYXkoTUFYX01BVENIIC0gTUlOX01BVENIICsgMSk7XG4gICAgICAgIHplcm8oX2xlbmd0aF9jb2RlKTtcbiAgICAgICAgLyogbGVuZ3RoIGNvZGUgZm9yIGVhY2ggbm9ybWFsaXplZCBtYXRjaCBsZW5ndGggKDAgPT0gTUlOX01BVENIKSAqL1xuICAgICAgICB2YXIgYmFzZV9sZW5ndGggPSBuZXcgQXJyYXkoTEVOR1RIX0NPREVTKTtcbiAgICAgICAgemVybyhiYXNlX2xlbmd0aCk7XG4gICAgICAgIC8qIEZpcnN0IG5vcm1hbGl6ZWQgbGVuZ3RoIGZvciBlYWNoIGNvZGUgKDAgPSBNSU5fTUFUQ0gpICovXG4gICAgICAgIHZhciBiYXNlX2Rpc3QgPSBuZXcgQXJyYXkoRF9DT0RFUyk7XG4gICAgICAgIHplcm8oYmFzZV9kaXN0KTtcbiAgICAgICAgLyogRmlyc3Qgbm9ybWFsaXplZCBkaXN0YW5jZSBmb3IgZWFjaCBjb2RlICgwID0gZGlzdGFuY2Ugb2YgMSkgKi9cbiAgICAgICAgZnVuY3Rpb24gU3RhdGljVHJlZURlc2Moc3RhdGljX3RyZWUsIGV4dHJhX2JpdHMsIGV4dHJhX2Jhc2UsIGVsZW1zLCBtYXhfbGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY190cmVlID0gc3RhdGljX3RyZWU7XG4gICAgICAgICAgICAvKiBzdGF0aWMgdHJlZSBvciBOVUxMICovXG4gICAgICAgICAgICB0aGlzLmV4dHJhX2JpdHMgPSBleHRyYV9iaXRzO1xuICAgICAgICAgICAgLyogZXh0cmEgYml0cyBmb3IgZWFjaCBjb2RlIG9yIE5VTEwgKi9cbiAgICAgICAgICAgIHRoaXMuZXh0cmFfYmFzZSA9IGV4dHJhX2Jhc2U7XG4gICAgICAgICAgICAvKiBiYXNlIGluZGV4IGZvciBleHRyYV9iaXRzICovXG4gICAgICAgICAgICB0aGlzLmVsZW1zID0gZWxlbXM7XG4gICAgICAgICAgICAvKiBtYXggbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSB0cmVlICovXG4gICAgICAgICAgICB0aGlzLm1heF9sZW5ndGggPSBtYXhfbGVuZ3RoO1xuICAgICAgICAgICAgLyogbWF4IGJpdCBsZW5ndGggZm9yIHRoZSBjb2RlcyAqL1xuICAgICAgICAgICAgLy8gc2hvdyBpZiBgc3RhdGljX3RyZWVgIGhhcyBkYXRhIG9yIGR1bW15IC0gbmVlZGVkIGZvciBtb25vbW9ycGhpYyBvYmplY3RzXG4gICAgICAgICAgICB0aGlzLmhhc19zdHJlZSA9IHN0YXRpY190cmVlICYmIHN0YXRpY190cmVlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdGljX2xfZGVzYztcbiAgICAgICAgdmFyIHN0YXRpY19kX2Rlc2M7XG4gICAgICAgIHZhciBzdGF0aWNfYmxfZGVzYztcbiAgICAgICAgZnVuY3Rpb24gVHJlZURlc2MoZHluX3RyZWUsIHN0YXRfZGVzYykge1xuICAgICAgICAgICAgdGhpcy5keW5fdHJlZSA9IGR5bl90cmVlO1xuICAgICAgICAgICAgLyogdGhlIGR5bmFtaWMgdHJlZSAqL1xuICAgICAgICAgICAgdGhpcy5tYXhfY29kZSA9IDA7XG4gICAgICAgICAgICAvKiBsYXJnZXN0IGNvZGUgd2l0aCBub24gemVybyBmcmVxdWVuY3kgKi9cbiAgICAgICAgICAgIHRoaXMuc3RhdF9kZXNjID0gc3RhdF9kZXNjO1xuICAgICAgICAgICAgLyogdGhlIGNvcnJlc3BvbmRpbmcgc3RhdGljIHRyZWUgKi9cbiAgICAgICAgfVxuICAgICAgICB2YXIgZF9jb2RlID0gZnVuY3Rpb24gZF9jb2RlKGRpc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBkaXN0IDwgMjU2ID8gX2Rpc3RfY29kZVtkaXN0XSA6IF9kaXN0X2NvZGVbMjU2ICsgKGRpc3QgPj4+IDcpXTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIE91dHB1dCBhIHNob3J0IExTQiBmaXJzdCBvbiB0aGUgc3RyZWFtLlxuICAgICAgICAgKiBJTiBhc3NlcnRpb246IHRoZXJlIGlzIGVub3VnaCByb29tIGluIHBlbmRpbmdCdWYuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcHV0X3Nob3J0ID0gZnVuY3Rpb24gcHV0X3Nob3J0KHMsIHcpIHtcbiAgICAgICAgICAgIC8vICAgIHB1dF9ieXRlKHMsICh1Y2gpKCh3KSAmIDB4ZmYpKTtcbiAgICAgICAgICAgIC8vICAgIHB1dF9ieXRlKHMsICh1Y2gpKCh1c2gpKHcpID4+IDgpKTtcbiAgICAgICAgICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gdyAmIDB4ZmY7XG4gICAgICAgICAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9ICh3ID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBTZW5kIGEgdmFsdWUgb24gYSBnaXZlbiBudW1iZXIgb2YgYml0cy5cbiAgICAgICAgICogSU4gYXNzZXJ0aW9uOiBsZW5ndGggPD0gMTYgYW5kIHZhbHVlIGZpdHMgaW4gbGVuZ3RoIGJpdHMuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc2VuZF9iaXRzID0gZnVuY3Rpb24gc2VuZF9iaXRzKHMsIHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChzLmJpX3ZhbGlkID4gQnVmX3NpemUgLSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzLmJpX2J1ZiB8PSAodmFsdWUgPDwgcy5iaV92YWxpZCkgJiAweGZmZmY7XG4gICAgICAgICAgICAgICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgICAgICAgICAgICAgICBzLmJpX2J1ZiA9IHZhbHVlID4+IChCdWZfc2l6ZSAtIHMuYmlfdmFsaWQpO1xuICAgICAgICAgICAgICAgIHMuYmlfdmFsaWQgKz0gbGVuZ3RoIC0gQnVmX3NpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzLmJpX2J1ZiB8PSAodmFsdWUgPDwgcy5iaV92YWxpZCkgJiAweGZmZmY7XG4gICAgICAgICAgICAgICAgcy5iaV92YWxpZCArPSBsZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzZW5kX2NvZGUgPSBmdW5jdGlvbiBzZW5kX2NvZGUocywgYywgdHJlZSkge1xuICAgICAgICAgICAgc2VuZF9iaXRzKHMsIHRyZWVbYyAqIDJdLCBcbiAgICAgICAgICAgIC8qIC5Db2RlICovXG4gICAgICAgICAgICB0cmVlW2MgKiAyICsgMV1cbiAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBSZXZlcnNlIHRoZSBmaXJzdCBsZW4gYml0cyBvZiBhIGNvZGUsIHVzaW5nIHN0cmFpZ2h0Zm9yd2FyZCBjb2RlIChhIGZhc3RlclxuICAgICAgICAgKiBtZXRob2Qgd291bGQgdXNlIGEgdGFibGUpXG4gICAgICAgICAqIElOIGFzc2VydGlvbjogMSA8PSBsZW4gPD0gMTVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBiaV9yZXZlcnNlID0gZnVuY3Rpb24gYmlfcmV2ZXJzZShjb2RlLCBsZW4pIHtcbiAgICAgICAgICAgIHZhciByZXMgPSAwO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHJlcyB8PSBjb2RlICYgMTtcbiAgICAgICAgICAgICAgICBjb2RlID4+Pj0gMTtcbiAgICAgICAgICAgICAgICByZXMgPDw9IDE7XG4gICAgICAgICAgICB9IHdoaWxlICgtLWxlbiA+IDApO1xuICAgICAgICAgICAgcmV0dXJuIHJlcyA+Pj4gMTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIEZsdXNoIHRoZSBiaXQgYnVmZmVyLCBrZWVwaW5nIGF0IG1vc3QgNyBiaXRzIGluIGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGJpX2ZsdXNoID0gZnVuY3Rpb24gYmlfZmx1c2gocykge1xuICAgICAgICAgICAgaWYgKHMuYmlfdmFsaWQgPT09IDE2KSB7XG4gICAgICAgICAgICAgICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgICAgICAgICAgICAgICBzLmJpX2J1ZiA9IDA7XG4gICAgICAgICAgICAgICAgcy5iaV92YWxpZCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzLmJpX3ZhbGlkID49IDgpIHtcbiAgICAgICAgICAgICAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IHMuYmlfYnVmICYgMHhmZjtcbiAgICAgICAgICAgICAgICBzLmJpX2J1ZiA+Pj0gODtcbiAgICAgICAgICAgICAgICBzLmJpX3ZhbGlkIC09IDg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBDb21wdXRlIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhzIGZvciBhIHRyZWUgYW5kIHVwZGF0ZSB0aGUgdG90YWwgYml0IGxlbmd0aFxuICAgICAgICAgKiBmb3IgdGhlIGN1cnJlbnQgYmxvY2suXG4gICAgICAgICAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkcyBmcmVxIGFuZCBkYWQgYXJlIHNldCwgaGVhcFtoZWFwX21heF0gYW5kXG4gICAgICAgICAqICAgIGFib3ZlIGFyZSB0aGUgdHJlZSBub2RlcyBzb3J0ZWQgYnkgaW5jcmVhc2luZyBmcmVxdWVuY3kuXG4gICAgICAgICAqIE9VVCBhc3NlcnRpb25zOiB0aGUgZmllbGQgbGVuIGlzIHNldCB0byB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RoLCB0aGVcbiAgICAgICAgICogICAgIGFycmF5IGJsX2NvdW50IGNvbnRhaW5zIHRoZSBmcmVxdWVuY2llcyBmb3IgZWFjaCBiaXQgbGVuZ3RoLlxuICAgICAgICAgKiAgICAgVGhlIGxlbmd0aCBvcHRfbGVuIGlzIHVwZGF0ZWQ7IHN0YXRpY19sZW4gaXMgYWxzbyB1cGRhdGVkIGlmIHN0cmVlIGlzXG4gICAgICAgICAqICAgICBub3QgbnVsbC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBnZW5fYml0bGVuID0gZnVuY3Rpb24gZ2VuX2JpdGxlbihzLCBkZXNjIC8vICAgIGRlZmxhdGVfc3RhdGUgKnM7IC8vICAgIHRyZWVfZGVzYyAqZGVzYzsgICAgLyogdGhlIHRyZWUgZGVzY3JpcHRvciAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciB0cmVlID0gZGVzYy5keW5fdHJlZTtcbiAgICAgICAgICAgIHZhciBtYXhfY29kZSA9IGRlc2MubWF4X2NvZGU7XG4gICAgICAgICAgICB2YXIgc3RyZWUgPSBkZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZTtcbiAgICAgICAgICAgIHZhciBoYXNfc3RyZWUgPSBkZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWU7XG4gICAgICAgICAgICB2YXIgZXh0cmEgPSBkZXNjLnN0YXRfZGVzYy5leHRyYV9iaXRzO1xuICAgICAgICAgICAgdmFyIGJhc2UgPSBkZXNjLnN0YXRfZGVzYy5leHRyYV9iYXNlO1xuICAgICAgICAgICAgdmFyIG1heF9sZW5ndGggPSBkZXNjLnN0YXRfZGVzYy5tYXhfbGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGg7XG4gICAgICAgICAgICAvKiBoZWFwIGluZGV4ICovXG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIHZhciBtO1xuICAgICAgICAgICAgLyogaXRlcmF0ZSBvdmVyIHRoZSB0cmVlIGVsZW1lbnRzICovXG4gICAgICAgICAgICB2YXIgYml0cztcbiAgICAgICAgICAgIC8qIGJpdCBsZW5ndGggKi9cbiAgICAgICAgICAgIHZhciB4Yml0cztcbiAgICAgICAgICAgIC8qIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgICAgIHZhciBmO1xuICAgICAgICAgICAgLyogZnJlcXVlbmN5ICovXG4gICAgICAgICAgICB2YXIgb3ZlcmZsb3cgPSAwO1xuICAgICAgICAgICAgLyogbnVtYmVyIG9mIGVsZW1lbnRzIHdpdGggYml0IGxlbmd0aCB0b28gbGFyZ2UgKi9cbiAgICAgICAgICAgIGZvciAoYml0cyA9IDA7IGJpdHMgPD0gTUFYX0JJVFM7IGJpdHMrKykge1xuICAgICAgICAgICAgICAgIHMuYmxfY291bnRbYml0c10gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogSW4gYSBmaXJzdCBwYXNzLCBjb21wdXRlIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhzICh3aGljaCBtYXlcbiAgICAgICAgICAgICAqIG92ZXJmbG93IGluIHRoZSBjYXNlIG9mIHRoZSBiaXQgbGVuZ3RoIHRyZWUpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0cmVlW3MuaGVhcFtzLmhlYXBfbWF4XSAqIDIgKyAxXSA9XG4gICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAvKiByb290IG9mIHRoZSBoZWFwICovXG4gICAgICAgICAgICBmb3IgKGggPSBzLmhlYXBfbWF4ICsgMTsgaCA8IEhFQVBfU0laRTsgaCsrKSB7XG4gICAgICAgICAgICAgICAgbiA9IHMuaGVhcFtoXTtcbiAgICAgICAgICAgICAgICBiaXRzID1cbiAgICAgICAgICAgICAgICAgICAgdHJlZVt0cmVlW24gKiAyICsgMV0gKlxuICAgICAgICAgICAgICAgICAgICAgICAgLyogLkRhZCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgMiArXG4gICAgICAgICAgICAgICAgICAgICAgICAxXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgICAgICAgICAxO1xuICAgICAgICAgICAgICAgIGlmIChiaXRzID4gbWF4X2xlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBiaXRzID0gbWF4X2xlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3crKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJlZVtuICogMiArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBiaXRzO1xuICAgICAgICAgICAgICAgIC8qIFdlIG92ZXJ3cml0ZSB0cmVlW25dLkRhZCB3aGljaCBpcyBubyBsb25nZXIgbmVlZGVkICovXG4gICAgICAgICAgICAgICAgaWYgKG4gPiBtYXhfY29kZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogbm90IGEgbGVhZiBub2RlICovXG4gICAgICAgICAgICAgICAgcy5ibF9jb3VudFtiaXRzXSsrO1xuICAgICAgICAgICAgICAgIHhiaXRzID0gMDtcbiAgICAgICAgICAgICAgICBpZiAobiA+PSBiYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHhiaXRzID0gZXh0cmFbbiAtIGJhc2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmID0gdHJlZVtuICogMl07XG4gICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICBzLm9wdF9sZW4gKz0gZiAqIChiaXRzICsgeGJpdHMpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNfc3RyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5zdGF0aWNfbGVuICs9XG4gICAgICAgICAgICAgICAgICAgICAgICBmICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RyZWVbbiAqIDIgKyAxXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGJpdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvdmVyZmxvdyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gLy8gVHJhY2UoKHN0ZGVycixcIlxcbmJpdCBsZW5ndGggb3ZlcmZsb3dcXG5cIikpO1xuICAgICAgICAgICAgLyogVGhpcyBoYXBwZW5zIGZvciBleGFtcGxlIG9uIG9iajIgYW5kIHBpYyBvZiB0aGUgQ2FsZ2FyeSBjb3JwdXMgKi9cbiAgICAgICAgICAgIC8qIEZpbmQgdGhlIGZpcnN0IGJpdCBsZW5ndGggd2hpY2ggY291bGQgaW5jcmVhc2U6ICovXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgYml0cyA9IG1heF9sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIHdoaWxlIChzLmJsX2NvdW50W2JpdHNdID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdHMtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcy5ibF9jb3VudFtiaXRzXS0tO1xuICAgICAgICAgICAgICAgIC8qIG1vdmUgb25lIGxlYWYgZG93biB0aGUgdHJlZSAqL1xuICAgICAgICAgICAgICAgIHMuYmxfY291bnRbYml0cyArIDFdICs9IDI7XG4gICAgICAgICAgICAgICAgLyogbW92ZSBvbmUgb3ZlcmZsb3cgaXRlbSBhcyBpdHMgYnJvdGhlciAqL1xuICAgICAgICAgICAgICAgIHMuYmxfY291bnRbbWF4X2xlbmd0aF0tLTtcbiAgICAgICAgICAgICAgICAvKiBUaGUgYnJvdGhlciBvZiB0aGUgb3ZlcmZsb3cgaXRlbSBhbHNvIG1vdmVzIG9uZSBzdGVwIHVwLFxuICAgICAgICAgICAgICAgICAqIGJ1dCB0aGlzIGRvZXMgbm90IGFmZmVjdCBibF9jb3VudFttYXhfbGVuZ3RoXVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIG92ZXJmbG93IC09IDI7XG4gICAgICAgICAgICB9IHdoaWxlIChvdmVyZmxvdyA+IDApO1xuICAgICAgICAgICAgLyogTm93IHJlY29tcHV0ZSBhbGwgYml0IGxlbmd0aHMsIHNjYW5uaW5nIGluIGluY3JlYXNpbmcgZnJlcXVlbmN5LlxuICAgICAgICAgICAgICogaCBpcyBzdGlsbCBlcXVhbCB0byBIRUFQX1NJWkUuIChJdCBpcyBzaW1wbGVyIHRvIHJlY29uc3RydWN0IGFsbFxuICAgICAgICAgICAgICogbGVuZ3RocyBpbnN0ZWFkIG9mIGZpeGluZyBvbmx5IHRoZSB3cm9uZyBvbmVzLiBUaGlzIGlkZWEgaXMgdGFrZW5cbiAgICAgICAgICAgICAqIGZyb20gJ2FyJyB3cml0dGVuIGJ5IEhhcnVoaWtvIE9rdW11cmEuKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IgKGJpdHMgPSBtYXhfbGVuZ3RoOyBiaXRzICE9PSAwOyBiaXRzLS0pIHtcbiAgICAgICAgICAgICAgICBuID0gcy5ibF9jb3VudFtiaXRzXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBtID0gcy5oZWFwWy0taF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChtID4gbWF4X2NvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmVlW20gKiAyICsgMV0gIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmFjZSgoc3RkZXJyLFwiY29kZSAlZCBiaXRzICVkLT4lZFxcblwiLCBtLCB0cmVlW21dLkxlbiwgYml0cykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5vcHRfbGVuICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGJpdHMgLSB0cmVlW20gKiAyICsgMV0pICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlW20gKiAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmVlW20gKiAyICsgMV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG4tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBHZW5lcmF0ZSB0aGUgY29kZXMgZm9yIGEgZ2l2ZW4gdHJlZSBhbmQgYml0IGNvdW50cyAod2hpY2ggbmVlZCBub3QgYmVcbiAgICAgICAgICogb3B0aW1hbCkuXG4gICAgICAgICAqIElOIGFzc2VydGlvbjogdGhlIGFycmF5IGJsX2NvdW50IGNvbnRhaW5zIHRoZSBiaXQgbGVuZ3RoIHN0YXRpc3RpY3MgZm9yXG4gICAgICAgICAqIHRoZSBnaXZlbiB0cmVlIGFuZCB0aGUgZmllbGQgbGVuIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMuXG4gICAgICAgICAqIE9VVCBhc3NlcnRpb246IHRoZSBmaWVsZCBjb2RlIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMgb2Ygbm9uXG4gICAgICAgICAqICAgICB6ZXJvIGNvZGUgbGVuZ3RoLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGdlbl9jb2RlcyA9IGZ1bmN0aW9uIGdlbl9jb2Rlcyh0cmVlLCBtYXhfY29kZSwgYmxfY291bnRcbiAgICAgICAgLy8gICAgY3RfZGF0YSAqdHJlZTsgICAgICAgICAgICAgLyogdGhlIHRyZWUgdG8gZGVjb3JhdGUgKi9cbiAgICAgICAgLy8gICAgaW50IG1heF9jb2RlOyAgICAgICAgICAgICAgLyogbGFyZ2VzdCBjb2RlIHdpdGggbm9uIHplcm8gZnJlcXVlbmN5ICovXG4gICAgICAgIC8vICAgIHVzaGYgKmJsX2NvdW50OyAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlcyBhdCBlYWNoIGJpdCBsZW5ndGggKi9cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgbmV4dF9jb2RlID0gbmV3IEFycmF5KE1BWF9CSVRTICsgMSk7XG4gICAgICAgICAgICAvKiBuZXh0IGNvZGUgdmFsdWUgZm9yIGVhY2ggYml0IGxlbmd0aCAqL1xuICAgICAgICAgICAgdmFyIGNvZGUgPSAwO1xuICAgICAgICAgICAgLyogcnVubmluZyBjb2RlIHZhbHVlICovXG4gICAgICAgICAgICB2YXIgYml0cztcbiAgICAgICAgICAgIC8qIGJpdCBpbmRleCAqL1xuICAgICAgICAgICAgdmFyIG47XG4gICAgICAgICAgICAvKiBjb2RlIGluZGV4ICovXG4gICAgICAgICAgICAvKiBUaGUgZGlzdHJpYnV0aW9uIGNvdW50cyBhcmUgZmlyc3QgdXNlZCB0byBnZW5lcmF0ZSB0aGUgY29kZSB2YWx1ZXNcbiAgICAgICAgICAgICAqIHdpdGhvdXQgYml0IHJldmVyc2FsLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IgKGJpdHMgPSAxOyBiaXRzIDw9IE1BWF9CSVRTOyBiaXRzKyspIHtcbiAgICAgICAgICAgICAgICBuZXh0X2NvZGVbYml0c10gPSBjb2RlID0gKGNvZGUgKyBibF9jb3VudFtiaXRzIC0gMV0pIDw8IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBDaGVjayB0aGF0IHRoZSBiaXQgY291bnRzIGluIGJsX2NvdW50IGFyZSBjb25zaXN0ZW50LiBUaGUgbGFzdCBjb2RlXG4gICAgICAgICAgICAgKiBtdXN0IGJlIGFsbCBvbmVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBBc3NlcnQgKGNvZGUgKyBibF9jb3VudFtNQVhfQklUU10tMSA9PSAoMTw8TUFYX0JJVFMpLTEsXG4gICAgICAgICAgICAvLyAgICAgICAgXCJpbmNvbnNpc3RlbnQgYml0IGNvdW50c1wiKTtcbiAgICAgICAgICAgIC8vIFRyYWNldigoc3RkZXJyLFwiXFxuZ2VuX2NvZGVzOiBtYXhfY29kZSAlZCBcIiwgbWF4X2NvZGUpKTtcbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSB0cmVlW24gKiAyICsgMV07XG4gICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIE5vdyByZXZlcnNlIHRoZSBiaXRzICovXG4gICAgICAgICAgICAgICAgdHJlZVtuICogMl0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuQ29kZSAqL1xuICAgICAgICAgICAgICAgICAgICBiaV9yZXZlcnNlKG5leHRfY29kZVtsZW5dKyssIGxlbik7IC8vIFRyYWNlY3YodHJlZSAhPSBzdGF0aWNfbHRyZWUsIChzdGRlcnIsXCJcXG5uICUzZCAlYyBsICUyZCBjICU0eCAoJXgpIFwiLFxuICAgICAgICAgICAgICAgIC8vICAgICBuLCAoaXNncmFwaChuKSA/IG4gOiAnICcpLCBsZW4sIHRyZWVbbl0uQ29kZSwgbmV4dF9jb2RlW2xlbl0tMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogSW5pdGlhbGl6ZSB0aGUgdmFyaW91cyAnY29uc3RhbnQnIHRhYmxlcy5cbiAgICAgICAgICovXG4gICAgICAgIHZhciB0cl9zdGF0aWNfaW5pdCA9IGZ1bmN0aW9uIHRyX3N0YXRpY19pbml0KCkge1xuICAgICAgICAgICAgdmFyIG47XG4gICAgICAgICAgICAvKiBpdGVyYXRlcyBvdmVyIHRyZWUgZWxlbWVudHMgKi9cbiAgICAgICAgICAgIHZhciBiaXRzO1xuICAgICAgICAgICAgLyogYml0IGNvdW50ZXIgKi9cbiAgICAgICAgICAgIHZhciBsZW5ndGg7XG4gICAgICAgICAgICAvKiBsZW5ndGggdmFsdWUgKi9cbiAgICAgICAgICAgIHZhciBjb2RlO1xuICAgICAgICAgICAgLyogY29kZSB2YWx1ZSAqL1xuICAgICAgICAgICAgdmFyIGRpc3Q7XG4gICAgICAgICAgICAvKiBkaXN0YW5jZSBpbmRleCAqL1xuICAgICAgICAgICAgdmFyIGJsX2NvdW50ID0gbmV3IEFycmF5KE1BWF9CSVRTICsgMSk7XG4gICAgICAgICAgICAvKiBudW1iZXIgb2YgY29kZXMgYXQgZWFjaCBiaXQgbGVuZ3RoIGZvciBhbiBvcHRpbWFsIHRyZWUgKi9cbiAgICAgICAgICAgIC8vIGRvIGNoZWNrIGluIF90cl9pbml0KClcbiAgICAgICAgICAgIC8vIGlmIChzdGF0aWNfaW5pdF9kb25lKSByZXR1cm47XG4gICAgICAgICAgICAvKiBGb3Igc29tZSBlbWJlZGRlZCB0YXJnZXRzLCBnbG9iYWwgdmFyaWFibGVzIGFyZSBub3QgaW5pdGlhbGl6ZWQ6ICovXG4gICAgICAgICAgICAvKiAjaWZkZWYgTk9fSU5JVF9HTE9CQUxfUE9JTlRFUlNcbiAgICAgICAgICAgIHN0YXRpY19sX2Rlc2Muc3RhdGljX3RyZWUgPSBzdGF0aWNfbHRyZWU7XG4gICAgICAgICAgICBzdGF0aWNfbF9kZXNjLmV4dHJhX2JpdHMgPSBleHRyYV9sYml0cztcbiAgICAgICAgICAgIHN0YXRpY19kX2Rlc2Muc3RhdGljX3RyZWUgPSBzdGF0aWNfZHRyZWU7XG4gICAgICAgICAgICBzdGF0aWNfZF9kZXNjLmV4dHJhX2JpdHMgPSBleHRyYV9kYml0cztcbiAgICAgICAgICAgIHN0YXRpY19ibF9kZXNjLmV4dHJhX2JpdHMgPSBleHRyYV9ibGJpdHM7XG4gICAgICAgICAgI2VuZGlmICovXG4gICAgICAgICAgICAvKiBJbml0aWFsaXplIHRoZSBtYXBwaW5nIGxlbmd0aCAoMC4uMjU1KSAtPiBsZW5ndGggY29kZSAoMC4uMjgpICovXG4gICAgICAgICAgICBsZW5ndGggPSAwO1xuICAgICAgICAgICAgZm9yIChjb2RlID0gMDsgY29kZSA8IExFTkdUSF9DT0RFUyAtIDE7IGNvZGUrKykge1xuICAgICAgICAgICAgICAgIGJhc2VfbGVuZ3RoW2NvZGVdID0gbGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCAxIDw8IGV4dHJhX2xiaXRzW2NvZGVdOyBuKyspIHtcbiAgICAgICAgICAgICAgICAgICAgX2xlbmd0aF9jb2RlW2xlbmd0aCsrXSA9IGNvZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBBc3NlcnQgKGxlbmd0aCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IGxlbmd0aCAhPSAyNTZcIik7XG4gICAgICAgICAgICAvKiBOb3RlIHRoYXQgdGhlIGxlbmd0aCAyNTUgKG1hdGNoIGxlbmd0aCAyNTgpIGNhbiBiZSByZXByZXNlbnRlZFxuICAgICAgICAgICAgICogaW4gdHdvIGRpZmZlcmVudCB3YXlzOiBjb2RlIDI4NCArIDUgYml0cyBvciBjb2RlIDI4NSwgc28gd2VcbiAgICAgICAgICAgICAqIG92ZXJ3cml0ZSBsZW5ndGhfY29kZVsyNTVdIHRvIHVzZSB0aGUgYmVzdCBlbmNvZGluZzpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX2xlbmd0aF9jb2RlW2xlbmd0aCAtIDFdID0gY29kZTtcbiAgICAgICAgICAgIC8qIEluaXRpYWxpemUgdGhlIG1hcHBpbmcgZGlzdCAoMC4uMzJLKSAtPiBkaXN0IGNvZGUgKDAuLjI5KSAqL1xuICAgICAgICAgICAgZGlzdCA9IDA7XG4gICAgICAgICAgICBmb3IgKGNvZGUgPSAwOyBjb2RlIDwgMTY7IGNvZGUrKykge1xuICAgICAgICAgICAgICAgIGJhc2VfZGlzdFtjb2RlXSA9IGRpc3Q7XG4gICAgICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IDEgPDwgZXh0cmFfZGJpdHNbY29kZV07IG4rKykge1xuICAgICAgICAgICAgICAgICAgICBfZGlzdF9jb2RlW2Rpc3QrK10gPSBjb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gQXNzZXJ0IChkaXN0ID09IDI1NiwgXCJ0cl9zdGF0aWNfaW5pdDogZGlzdCAhPSAyNTZcIik7XG4gICAgICAgICAgICBkaXN0ID4+PSA3O1xuICAgICAgICAgICAgLyogZnJvbSBub3cgb24sIGFsbCBkaXN0YW5jZXMgYXJlIGRpdmlkZWQgYnkgMTI4ICovXG4gICAgICAgICAgICBmb3IgKDsgY29kZSA8IERfQ09ERVM7IGNvZGUrKykge1xuICAgICAgICAgICAgICAgIGJhc2VfZGlzdFtjb2RlXSA9IGRpc3QgPDwgNztcbiAgICAgICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgMSA8PCAoZXh0cmFfZGJpdHNbY29kZV0gLSA3KTsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaXN0X2NvZGVbMjU2ICsgZGlzdCsrXSA9IGNvZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBBc3NlcnQgKGRpc3QgPT0gMjU2LCBcInRyX3N0YXRpY19pbml0OiAyNTYrZGlzdCAhPSA1MTJcIik7XG4gICAgICAgICAgICAvKiBDb25zdHJ1Y3QgdGhlIGNvZGVzIG9mIHRoZSBzdGF0aWMgbGl0ZXJhbCB0cmVlICovXG4gICAgICAgICAgICBmb3IgKGJpdHMgPSAwOyBiaXRzIDw9IE1BWF9CSVRTOyBiaXRzKyspIHtcbiAgICAgICAgICAgICAgICBibF9jb3VudFtiaXRzXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChuIDw9IDE0Mykge1xuICAgICAgICAgICAgICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgICAgICA4O1xuICAgICAgICAgICAgICAgIG4rKztcbiAgICAgICAgICAgICAgICBibF9jb3VudFs4XSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKG4gPD0gMjU1KSB7XG4gICAgICAgICAgICAgICAgc3RhdGljX2x0cmVlW24gKiAyICsgMV0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgICAgIDk7XG4gICAgICAgICAgICAgICAgbisrO1xuICAgICAgICAgICAgICAgIGJsX2NvdW50WzldKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAobiA8PSAyNzkpIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXSA9XG4gICAgICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgNztcbiAgICAgICAgICAgICAgICBuKys7XG4gICAgICAgICAgICAgICAgYmxfY291bnRbN10rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChuIDw9IDI4Nykge1xuICAgICAgICAgICAgICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgICAgICA4O1xuICAgICAgICAgICAgICAgIG4rKztcbiAgICAgICAgICAgICAgICBibF9jb3VudFs4XSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogQ29kZXMgMjg2IGFuZCAyODcgZG8gbm90IGV4aXN0LCBidXQgd2UgbXVzdCBpbmNsdWRlIHRoZW0gaW4gdGhlXG4gICAgICAgICAgICAgKiB0cmVlIGNvbnN0cnVjdGlvbiB0byBnZXQgYSBjYW5vbmljYWwgSHVmZm1hbiB0cmVlIChsb25nZXN0IGNvZGVcbiAgICAgICAgICAgICAqIGFsbCBvbmVzKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZW5fY29kZXMoc3RhdGljX2x0cmVlLCBMX0NPREVTICsgMSwgYmxfY291bnQpO1xuICAgICAgICAgICAgLyogVGhlIHN0YXRpYyBkaXN0YW5jZSB0cmVlIGlzIHRyaXZpYWw6ICovXG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgRF9DT0RFUzsgbisrKSB7XG4gICAgICAgICAgICAgICAgc3RhdGljX2R0cmVlW24gKiAyICsgMV0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgICAgIDU7XG4gICAgICAgICAgICAgICAgc3RhdGljX2R0cmVlW24gKiAyXSA9XG4gICAgICAgICAgICAgICAgICAgIC8qIC5Db2RlICovXG4gICAgICAgICAgICAgICAgICAgIGJpX3JldmVyc2UobiwgNSk7XG4gICAgICAgICAgICB9IC8vIE5vdyBkYXRhIHJlYWR5IGFuZCB3ZSBjYW4gaW5pdCBzdGF0aWMgdHJlZXNcbiAgICAgICAgICAgIHN0YXRpY19sX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2x0cmVlLCBleHRyYV9sYml0cywgTElURVJBTFMgKyAxLCBMX0NPREVTLCBNQVhfQklUUyk7XG4gICAgICAgICAgICBzdGF0aWNfZF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19kdHJlZSwgZXh0cmFfZGJpdHMsIDAsIERfQ09ERVMsIE1BWF9CSVRTKTtcbiAgICAgICAgICAgIHN0YXRpY19ibF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKG5ldyBBcnJheSgwKSwgZXh0cmFfYmxiaXRzLCAwLCBCTF9DT0RFUywgTUFYX0JMX0JJVFMpO1xuICAgICAgICAgICAgLy8gc3RhdGljX2luaXRfZG9uZSA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBJbml0aWFsaXplIGEgbmV3IGJsb2NrLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGluaXRfYmxvY2sgPSBmdW5jdGlvbiBpbml0X2Jsb2NrKHMpIHtcbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgLyogaXRlcmF0ZXMgb3ZlciB0cmVlIGVsZW1lbnRzICovXG4gICAgICAgICAgICAvKiBJbml0aWFsaXplIHRoZSB0cmVlcy4gKi9cbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCBMX0NPREVTOyBuKyspIHtcbiAgICAgICAgICAgICAgICBzLmR5bl9sdHJlZVtuICogMl0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IERfQ09ERVM7IG4rKykge1xuICAgICAgICAgICAgICAgIHMuZHluX2R0cmVlW24gKiAyXSA9XG4gICAgICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgQkxfQ09ERVM7IG4rKykge1xuICAgICAgICAgICAgICAgIHMuYmxfdHJlZVtuICogMl0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5keW5fbHRyZWVbRU5EX0JMT0NLICogMl0gPVxuICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgMTtcbiAgICAgICAgICAgIHMub3B0X2xlbiA9IHMuc3RhdGljX2xlbiA9IDA7XG4gICAgICAgICAgICBzLmxhc3RfbGl0ID0gcy5tYXRjaGVzID0gMDtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIEZsdXNoIHRoZSBiaXQgYnVmZmVyIGFuZCBhbGlnbiB0aGUgb3V0cHV0IG9uIGEgYnl0ZSBib3VuZGFyeVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGJpX3dpbmR1cCA9IGZ1bmN0aW9uIGJpX3dpbmR1cChzKSB7XG4gICAgICAgICAgICBpZiAocy5iaV92YWxpZCA+IDgpIHtcbiAgICAgICAgICAgICAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocy5iaV92YWxpZCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBwdXRfYnl0ZShzLCAoQnl0ZSlzLT5iaV9idWYpO1xuICAgICAgICAgICAgICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gcy5iaV9idWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLmJpX2J1ZiA9IDA7XG4gICAgICAgICAgICBzLmJpX3ZhbGlkID0gMDtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIENvcHkgYSBzdG9yZWQgYmxvY2ssIHN0b3JpbmcgZmlyc3QgdGhlIGxlbmd0aCBhbmQgaXRzXG4gICAgICAgICAqIG9uZSdzIGNvbXBsZW1lbnQgaWYgcmVxdWVzdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGNvcHlfYmxvY2sgPSBmdW5jdGlvbiBjb3B5X2Jsb2NrKHMsIGJ1ZiwgbGVuLCBoZWFkZXJcbiAgICAgICAgLy8gRGVmbGF0ZVN0YXRlICpzO1xuICAgICAgICAvLyBjaGFyZiAgICAqYnVmOyAgICAvKiB0aGUgaW5wdXQgZGF0YSAqL1xuICAgICAgICAvLyB1bnNpZ25lZCBsZW47ICAgICAvKiBpdHMgbGVuZ3RoICovXG4gICAgICAgIC8vIGludCAgICAgIGhlYWRlcjsgIC8qIHRydWUgaWYgYmxvY2sgaGVhZGVyIG11c3QgYmUgd3JpdHRlbiAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIGJpX3dpbmR1cChzKTtcbiAgICAgICAgICAgIC8qIGFsaWduIG9uIGJ5dGUgYm91bmRhcnkgKi9cbiAgICAgICAgICAgIGlmIChoZWFkZXIpIHtcbiAgICAgICAgICAgICAgICBwdXRfc2hvcnQocywgbGVuKTtcbiAgICAgICAgICAgICAgICBwdXRfc2hvcnQocywgfmxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgICAgICAvLyAgICBwdXRfYnl0ZShzLCAqYnVmKyspO1xuICAgICAgICAgICAgLy8gIH1cbiAgICAgICAgICAgIHMucGVuZGluZ19idWYuc2V0KHMud2luZG93LnN1YmFycmF5KGJ1ZiwgYnVmICsgbGVuKSwgcy5wZW5kaW5nKTtcbiAgICAgICAgICAgIHMucGVuZGluZyArPSBsZW47XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBDb21wYXJlcyB0byBzdWJ0cmVlcywgdXNpbmcgdGhlIHRyZWUgZGVwdGggYXMgdGllIGJyZWFrZXIgd2hlblxuICAgICAgICAgKiB0aGUgc3VidHJlZXMgaGF2ZSBlcXVhbCBmcmVxdWVuY3kuIFRoaXMgbWluaW1pemVzIHRoZSB3b3JzdCBjYXNlIGxlbmd0aC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBzbWFsbGVyID0gZnVuY3Rpb24gc21hbGxlcih0cmVlLCBuLCBtLCBkZXB0aCkge1xuICAgICAgICAgICAgdmFyIF9uMiA9IG4gKiAyO1xuICAgICAgICAgICAgdmFyIF9tMiA9IG0gKiAyO1xuICAgICAgICAgICAgcmV0dXJuICh0cmVlW19uMl0gPFxuICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgdHJlZVtfbTJdIHx8XG4gICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAodHJlZVtfbjJdID09PVxuICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICB0cmVlW19tMl0gJiZcbiAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgZGVwdGhbbl0gPD0gZGVwdGhbbV0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFJlc3RvcmUgdGhlIGhlYXAgcHJvcGVydHkgYnkgbW92aW5nIGRvd24gdGhlIHRyZWUgc3RhcnRpbmcgYXQgbm9kZSBrLFxuICAgICAgICAgKiBleGNoYW5naW5nIGEgbm9kZSB3aXRoIHRoZSBzbWFsbGVzdCBvZiBpdHMgdHdvIHNvbnMgaWYgbmVjZXNzYXJ5LCBzdG9wcGluZ1xuICAgICAgICAgKiB3aGVuIHRoZSBoZWFwIHByb3BlcnR5IGlzIHJlLWVzdGFibGlzaGVkIChlYWNoIGZhdGhlciBzbWFsbGVyIHRoYW4gaXRzXG4gICAgICAgICAqIHR3byBzb25zKS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBwcWRvd25oZWFwID0gZnVuY3Rpb24gcHFkb3duaGVhcChzLCB0cmVlLCBrXG4gICAgICAgIC8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4gICAgICAgIC8vICAgIGN0X2RhdGEgKnRyZWU7ICAvKiB0aGUgdHJlZSB0byByZXN0b3JlICovXG4gICAgICAgIC8vICAgIGludCBrOyAgICAgICAgICAgICAgIC8qIG5vZGUgdG8gbW92ZSBkb3duICovXG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHYgPSBzLmhlYXBba107XG4gICAgICAgICAgICB2YXIgaiA9IGsgPDwgMTtcbiAgICAgICAgICAgIC8qIGxlZnQgc29uIG9mIGsgKi9cbiAgICAgICAgICAgIHdoaWxlIChqIDw9IHMuaGVhcF9sZW4pIHtcbiAgICAgICAgICAgICAgICAvKiBTZXQgaiB0byB0aGUgc21hbGxlc3Qgb2YgdGhlIHR3byBzb25zOiAqL1xuICAgICAgICAgICAgICAgIGlmIChqIDwgcy5oZWFwX2xlbiAmJiBzbWFsbGVyKHRyZWUsIHMuaGVhcFtqICsgMV0sIHMuaGVhcFtqXSwgcy5kZXB0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBFeGl0IGlmIHYgaXMgc21hbGxlciB0aGFuIGJvdGggc29ucyAqL1xuICAgICAgICAgICAgICAgIGlmIChzbWFsbGVyKHRyZWUsIHYsIHMuaGVhcFtqXSwgcy5kZXB0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEV4Y2hhbmdlIHYgd2l0aCB0aGUgc21hbGxlc3Qgc29uICovXG4gICAgICAgICAgICAgICAgcy5oZWFwW2tdID0gcy5oZWFwW2pdO1xuICAgICAgICAgICAgICAgIGsgPSBqO1xuICAgICAgICAgICAgICAgIC8qIEFuZCBjb250aW51ZSBkb3duIHRoZSB0cmVlLCBzZXR0aW5nIGogdG8gdGhlIGxlZnQgc29uIG9mIGsgKi9cbiAgICAgICAgICAgICAgICBqIDw8PSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5oZWFwW2tdID0gdjtcbiAgICAgICAgfTsgLy8gaW5saW5lZCBtYW51YWxseVxuICAgICAgICAvLyBjb25zdCBTTUFMTEVTVCA9IDE7XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBTZW5kIHRoZSBibG9jayBkYXRhIGNvbXByZXNzZWQgdXNpbmcgdGhlIGdpdmVuIEh1ZmZtYW4gdHJlZXNcbiAgICAgICAgICovXG4gICAgICAgIHZhciBjb21wcmVzc19ibG9jayA9IGZ1bmN0aW9uIGNvbXByZXNzX2Jsb2NrKHMsIGx0cmVlLCBkdHJlZVxuICAgICAgICAvLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuICAgICAgICAvLyAgICBjb25zdCBjdF9kYXRhICpsdHJlZTsgLyogbGl0ZXJhbCB0cmVlICovXG4gICAgICAgIC8vICAgIGNvbnN0IGN0X2RhdGEgKmR0cmVlOyAvKiBkaXN0YW5jZSB0cmVlICovXG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFyIGRpc3Q7XG4gICAgICAgICAgICAvKiBkaXN0YW5jZSBvZiBtYXRjaGVkIHN0cmluZyAqL1xuICAgICAgICAgICAgdmFyIGxjO1xuICAgICAgICAgICAgLyogbWF0Y2ggbGVuZ3RoIG9yIHVubWF0Y2hlZCBjaGFyIChpZiBkaXN0ID09IDApICovXG4gICAgICAgICAgICB2YXIgbHggPSAwO1xuICAgICAgICAgICAgLyogcnVubmluZyBpbmRleCBpbiBsX2J1ZiAqL1xuICAgICAgICAgICAgdmFyIGNvZGU7XG4gICAgICAgICAgICAvKiB0aGUgY29kZSB0byBzZW5kICovXG4gICAgICAgICAgICB2YXIgZXh0cmE7XG4gICAgICAgICAgICAvKiBudW1iZXIgb2YgZXh0cmEgYml0cyB0byBzZW5kICovXG4gICAgICAgICAgICBpZiAocy5sYXN0X2xpdCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdCA9IChzLnBlbmRpbmdfYnVmW3MuZF9idWYgKyBseCAqIDJdIDw8IDgpIHwgcy5wZW5kaW5nX2J1ZltzLmRfYnVmICsgbHggKiAyICsgMV07XG4gICAgICAgICAgICAgICAgICAgIGxjID0gcy5wZW5kaW5nX2J1ZltzLmxfYnVmICsgbHhdO1xuICAgICAgICAgICAgICAgICAgICBseCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9jb2RlKHMsIGxjLCBsdHJlZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBzZW5kIGEgbGl0ZXJhbCBieXRlICovXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmFjZWN2KGlzZ3JhcGgobGMpLCAoc3RkZXJyLFwiICclYycgXCIsIGxjKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBIZXJlLCBsYyBpcyB0aGUgbWF0Y2ggbGVuZ3RoIC0gTUlOX01BVENIICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gX2xlbmd0aF9jb2RlW2xjXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRfY29kZShzLCBjb2RlICsgTElURVJBTFMgKyAxLCBsdHJlZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBzZW5kIHRoZSBsZW5ndGggY29kZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEgPSBleHRyYV9sYml0c1tjb2RlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHRyYSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxjIC09IGJhc2VfbGVuZ3RoW2NvZGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRfYml0cyhzLCBsYywgZXh0cmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIHNlbmQgdGhlIGV4dHJhIGxlbmd0aCBiaXRzICovXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBkaXN0IGlzIG5vdyB0aGUgbWF0Y2ggZGlzdGFuY2UgLSAxICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gZF9jb2RlKGRpc3QpOyAvLyBBc3NlcnQgKGNvZGUgPCBEX0NPREVTLCBcImJhZCBkX2NvZGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kX2NvZGUocywgY29kZSwgZHRyZWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogc2VuZCB0aGUgZGlzdGFuY2UgY29kZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEgPSBleHRyYV9kYml0c1tjb2RlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHRyYSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3QgLT0gYmFzZV9kaXN0W2NvZGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRfYml0cyhzLCBkaXN0LCBleHRyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogc2VuZCB0aGUgZXh0cmEgZGlzdGFuY2UgYml0cyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIGxpdGVyYWwgb3IgbWF0Y2ggcGFpciA/ICovXG4gICAgICAgICAgICAgICAgICAgIC8qIENoZWNrIHRoYXQgdGhlIG92ZXJsYXkgYmV0d2VlbiBwZW5kaW5nX2J1ZiBhbmQgZF9idWYrbF9idWYgaXMgb2s6ICovXG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc2VydCgodUludCkocy0+cGVuZGluZykgPCBzLT5saXRfYnVmc2l6ZSArIDIqbHgsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIFwicGVuZGluZ0J1ZiBvdmVyZmxvd1wiKTtcbiAgICAgICAgICAgICAgICB9IHdoaWxlIChseCA8IHMubGFzdF9saXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VuZF9jb2RlKHMsIEVORF9CTE9DSywgbHRyZWUpO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogQ29uc3RydWN0IG9uZSBIdWZmbWFuIHRyZWUgYW5kIGFzc2lnbnMgdGhlIGNvZGUgYml0IHN0cmluZ3MgYW5kIGxlbmd0aHMuXG4gICAgICAgICAqIFVwZGF0ZSB0aGUgdG90YWwgYml0IGxlbmd0aCBmb3IgdGhlIGN1cnJlbnQgYmxvY2suXG4gICAgICAgICAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkIGZyZXEgaXMgc2V0IGZvciBhbGwgdHJlZSBlbGVtZW50cy5cbiAgICAgICAgICogT1VUIGFzc2VydGlvbnM6IHRoZSBmaWVsZHMgbGVuIGFuZCBjb2RlIGFyZSBzZXQgdG8gdGhlIG9wdGltYWwgYml0IGxlbmd0aFxuICAgICAgICAgKiAgICAgYW5kIGNvcnJlc3BvbmRpbmcgY29kZS4gVGhlIGxlbmd0aCBvcHRfbGVuIGlzIHVwZGF0ZWQ7IHN0YXRpY19sZW4gaXNcbiAgICAgICAgICogICAgIGFsc28gdXBkYXRlZCBpZiBzdHJlZSBpcyBub3QgbnVsbC4gVGhlIGZpZWxkIG1heF9jb2RlIGlzIHNldC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBidWlsZF90cmVlID0gZnVuY3Rpb24gYnVpbGRfdHJlZShzLCBkZXNjIC8vICAgIGRlZmxhdGVfc3RhdGUgKnM7IC8vICAgIHRyZWVfZGVzYyAqZGVzYzsgLyogdGhlIHRyZWUgZGVzY3JpcHRvciAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciB0cmVlID0gZGVzYy5keW5fdHJlZTtcbiAgICAgICAgICAgIHZhciBzdHJlZSA9IGRlc2Muc3RhdF9kZXNjLnN0YXRpY190cmVlO1xuICAgICAgICAgICAgdmFyIGhhc19zdHJlZSA9IGRlc2Muc3RhdF9kZXNjLmhhc19zdHJlZTtcbiAgICAgICAgICAgIHZhciBlbGVtcyA9IGRlc2Muc3RhdF9kZXNjLmVsZW1zO1xuICAgICAgICAgICAgdmFyIG47XG4gICAgICAgICAgICB2YXIgbTtcbiAgICAgICAgICAgIC8qIGl0ZXJhdGUgb3ZlciBoZWFwIGVsZW1lbnRzICovXG4gICAgICAgICAgICB2YXIgbWF4X2NvZGUgPSAtMTtcbiAgICAgICAgICAgIC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuICAgICAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgICAgICAvKiBuZXcgbm9kZSBiZWluZyBjcmVhdGVkICovXG4gICAgICAgICAgICAvKiBDb25zdHJ1Y3QgdGhlIGluaXRpYWwgaGVhcCwgd2l0aCBsZWFzdCBmcmVxdWVudCBlbGVtZW50IGluXG4gICAgICAgICAgICAgKiBoZWFwW1NNQUxMRVNUXS4gVGhlIHNvbnMgb2YgaGVhcFtuXSBhcmUgaGVhcFsyKm5dIGFuZCBoZWFwWzIqbisxXS5cbiAgICAgICAgICAgICAqIGhlYXBbMF0gaXMgbm90IHVzZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHMuaGVhcF9sZW4gPSAwO1xuICAgICAgICAgICAgcy5oZWFwX21heCA9IEhFQVBfU0laRTtcbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCBlbGVtczsgbisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRyZWVbbiAqIDJdICE9PVxuICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuaGVhcFsrK3MuaGVhcF9sZW5dID0gbWF4X2NvZGUgPSBuO1xuICAgICAgICAgICAgICAgICAgICBzLmRlcHRoW25dID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyZWVbbiAqIDIgKyAxXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIFRoZSBwa3ppcCBmb3JtYXQgcmVxdWlyZXMgdGhhdCBhdCBsZWFzdCBvbmUgZGlzdGFuY2UgY29kZSBleGlzdHMsXG4gICAgICAgICAgICAgKiBhbmQgdGhhdCBhdCBsZWFzdCBvbmUgYml0IHNob3VsZCBiZSBzZW50IGV2ZW4gaWYgdGhlcmUgaXMgb25seSBvbmVcbiAgICAgICAgICAgICAqIHBvc3NpYmxlIGNvZGUuIFNvIHRvIGF2b2lkIHNwZWNpYWwgY2hlY2tzIGxhdGVyIG9uIHdlIGZvcmNlIGF0IGxlYXN0XG4gICAgICAgICAgICAgKiB0d28gY29kZXMgb2Ygbm9uIHplcm8gZnJlcXVlbmN5LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB3aGlsZSAocy5oZWFwX2xlbiA8IDIpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gcy5oZWFwWysrcy5oZWFwX2xlbl0gPSBtYXhfY29kZSA8IDIgPyArK21heF9jb2RlIDogMDtcbiAgICAgICAgICAgICAgICB0cmVlW25vZGUgKiAyXSA9XG4gICAgICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgICAgIDE7XG4gICAgICAgICAgICAgICAgcy5kZXB0aFtub2RlXSA9IDA7XG4gICAgICAgICAgICAgICAgcy5vcHRfbGVuLS07XG4gICAgICAgICAgICAgICAgaWYgKGhhc19zdHJlZSkge1xuICAgICAgICAgICAgICAgICAgICBzLnN0YXRpY19sZW4gLT0gc3RyZWVbbm9kZSAqIDIgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBub2RlIGlzIDAgb3IgMSBzbyBpdCBkb2VzIG5vdCBoYXZlIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc2MubWF4X2NvZGUgPSBtYXhfY29kZTtcbiAgICAgICAgICAgIC8qIFRoZSBlbGVtZW50cyBoZWFwW2hlYXBfbGVuLzIrMSAuLiBoZWFwX2xlbl0gYXJlIGxlYXZlcyBvZiB0aGUgdHJlZSxcbiAgICAgICAgICAgICAqIGVzdGFibGlzaCBzdWItaGVhcHMgb2YgaW5jcmVhc2luZyBsZW5ndGhzOlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IgKG4gPSBzLmhlYXBfbGVuID4+IDE7IFxuICAgICAgICAgICAgLyogaW50IC8yICovXG4gICAgICAgICAgICBuID49IDE7IG4tLSkge1xuICAgICAgICAgICAgICAgIHBxZG93bmhlYXAocywgdHJlZSwgbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBDb25zdHJ1Y3QgdGhlIEh1ZmZtYW4gdHJlZSBieSByZXBlYXRlZGx5IGNvbWJpbmluZyB0aGUgbGVhc3QgdHdvXG4gICAgICAgICAgICAgKiBmcmVxdWVudCBub2Rlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbm9kZSA9IGVsZW1zO1xuICAgICAgICAgICAgLyogbmV4dCBpbnRlcm5hbCBub2RlIG9mIHRoZSB0cmVlICovXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgLy8gcHFyZW1vdmUocywgdHJlZSwgbik7ICAvKiBuID0gbm9kZSBvZiBsZWFzdCBmcmVxdWVuY3kgKi9cbiAgICAgICAgICAgICAgICAvKiogKiBwcXJlbW92ZSAqKiAqL1xuICAgICAgICAgICAgICAgIG4gPSBzLmhlYXBbMV07XG4gICAgICAgICAgICAgICAgLyogU01BTExFU1QgKi9cbiAgICAgICAgICAgICAgICBzLmhlYXBbMV0gPSBzLmhlYXBbcy5oZWFwX2xlbi0tXTtcbiAgICAgICAgICAgICAgICAvKiBTTUFMTEVTVCAqL1xuICAgICAgICAgICAgICAgIHBxZG93bmhlYXAocywgdHJlZSwgMVxuICAgICAgICAgICAgICAgIC8qIFNNQUxMRVNUICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgIG0gPSBzLmhlYXBbMV07XG4gICAgICAgICAgICAgICAgLyogU01BTExFU1QgKi9cbiAgICAgICAgICAgICAgICAvKiBtID0gbm9kZSBvZiBuZXh0IGxlYXN0IGZyZXF1ZW5jeSAqL1xuICAgICAgICAgICAgICAgIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gbjtcbiAgICAgICAgICAgICAgICAvKiBrZWVwIHRoZSBub2RlcyBzb3J0ZWQgYnkgZnJlcXVlbmN5ICovXG4gICAgICAgICAgICAgICAgcy5oZWFwWy0tcy5oZWFwX21heF0gPSBtO1xuICAgICAgICAgICAgICAgIC8qIENyZWF0ZSBhIG5ldyBub2RlIGZhdGhlciBvZiBuIGFuZCBtICovXG4gICAgICAgICAgICAgICAgdHJlZVtub2RlICogMl0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICB0cmVlW24gKiAyXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJlZVttICogMl07XG4gICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICBzLmRlcHRoW25vZGVdID0gKHMuZGVwdGhbbl0gPj0gcy5kZXB0aFttXSA/IHMuZGVwdGhbbl0gOiBzLmRlcHRoW21dKSArIDE7XG4gICAgICAgICAgICAgICAgdHJlZVtuICogMiArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkRhZCAqL1xuICAgICAgICAgICAgICAgICAgICB0cmVlW20gKiAyICsgMV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogLkRhZCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTtcbiAgICAgICAgICAgICAgICAvKiBhbmQgaW5zZXJ0IHRoZSBuZXcgbm9kZSBpbiB0aGUgaGVhcCAqL1xuICAgICAgICAgICAgICAgIHMuaGVhcFsxXSA9IG5vZGUrKztcbiAgICAgICAgICAgICAgICAvKiBTTUFMTEVTVCAqL1xuICAgICAgICAgICAgICAgIHBxZG93bmhlYXAocywgdHJlZSwgMVxuICAgICAgICAgICAgICAgIC8qIFNNQUxMRVNUICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gd2hpbGUgKHMuaGVhcF9sZW4gPj0gMik7XG4gICAgICAgICAgICBzLmhlYXBbLS1zLmhlYXBfbWF4XSA9IHMuaGVhcFsxXTtcbiAgICAgICAgICAgIC8qIFNNQUxMRVNUICovXG4gICAgICAgICAgICAvKiBBdCB0aGlzIHBvaW50LCB0aGUgZmllbGRzIGZyZXEgYW5kIGRhZCBhcmUgc2V0LiBXZSBjYW4gbm93XG4gICAgICAgICAgICAgKiBnZW5lcmF0ZSB0aGUgYml0IGxlbmd0aHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdlbl9iaXRsZW4ocywgZGVzYyk7XG4gICAgICAgICAgICAvKiBUaGUgZmllbGQgbGVuIGlzIG5vdyBzZXQsIHdlIGNhbiBnZW5lcmF0ZSB0aGUgYml0IGNvZGVzICovXG4gICAgICAgICAgICBnZW5fY29kZXModHJlZSwgbWF4X2NvZGUsIHMuYmxfY291bnQpO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogU2NhbiBhIGxpdGVyYWwgb3IgZGlzdGFuY2UgdHJlZSB0byBkZXRlcm1pbmUgdGhlIGZyZXF1ZW5jaWVzIG9mIHRoZSBjb2Rlc1xuICAgICAgICAgKiBpbiB0aGUgYml0IGxlbmd0aCB0cmVlLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNjYW5fdHJlZSA9IGZ1bmN0aW9uIHNjYW5fdHJlZShzLCB0cmVlLCBtYXhfY29kZVxuICAgICAgICAvLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuICAgICAgICAvLyAgICBjdF9kYXRhICp0cmVlOyAgIC8qIHRoZSB0cmVlIHRvIGJlIHNjYW5uZWQgKi9cbiAgICAgICAgLy8gICAgaW50IG1heF9jb2RlOyAgICAvKiBhbmQgaXRzIGxhcmdlc3QgY29kZSBvZiBub24gemVybyBmcmVxdWVuY3kgKi9cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIC8qIGl0ZXJhdGVzIG92ZXIgYWxsIHRyZWUgZWxlbWVudHMgKi9cbiAgICAgICAgICAgIHZhciBwcmV2bGVuID0gLTE7XG4gICAgICAgICAgICAvKiBsYXN0IGVtaXR0ZWQgbGVuZ3RoICovXG4gICAgICAgICAgICB2YXIgY3VybGVuO1xuICAgICAgICAgICAgLyogbGVuZ3RoIG9mIGN1cnJlbnQgY29kZSAqL1xuICAgICAgICAgICAgdmFyIG5leHRsZW4gPSB0cmVlWzAgKiAyICsgMV07XG4gICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAvKiBsZW5ndGggb2YgbmV4dCBjb2RlICovXG4gICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgLyogcmVwZWF0IGNvdW50IG9mIHRoZSBjdXJyZW50IGNvZGUgKi9cbiAgICAgICAgICAgIHZhciBtYXhfY291bnQgPSA3O1xuICAgICAgICAgICAgLyogbWF4IHJlcGVhdCBjb3VudCAqL1xuICAgICAgICAgICAgdmFyIG1pbl9jb3VudCA9IDQ7XG4gICAgICAgICAgICAvKiBtaW4gcmVwZWF0IGNvdW50ICovXG4gICAgICAgICAgICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG1heF9jb3VudCA9IDEzODtcbiAgICAgICAgICAgICAgICBtaW5fY291bnQgPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJlZVsobWF4X2NvZGUgKyAxKSAqIDIgKyAxXSA9XG4gICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgIDB4ZmZmZjtcbiAgICAgICAgICAgIC8qIGd1YXJkICovXG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDw9IG1heF9jb2RlOyBuKyspIHtcbiAgICAgICAgICAgICAgICBjdXJsZW4gPSBuZXh0bGVuO1xuICAgICAgICAgICAgICAgIG5leHRsZW4gPSB0cmVlWyhuICsgMSkgKiAyICsgMV07XG4gICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgIGlmICgrK2NvdW50IDwgbWF4X2NvdW50ICYmIGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY291bnQgPCBtaW5fY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5ibF90cmVlW2N1cmxlbiAqIDJdICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cmxlbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VybGVuICE9PSBwcmV2bGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmJsX3RyZWVbY3VybGVuICogMl0gLyogLkZyZXEgKi8rKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzLmJsX3RyZWVbUkVQXzNfNiAqIDJdIC8qIC5GcmVxICovKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50IDw9IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuYmxfdHJlZVtSRVBaXzNfMTAgKiAyXSAvKiAuRnJlcSAqLysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcy5ibF90cmVlW1JFUFpfMTFfMTM4ICogMl0gLyogLkZyZXEgKi8rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHByZXZsZW4gPSBjdXJsZW47XG4gICAgICAgICAgICAgICAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4X2NvdW50ID0gMTM4O1xuICAgICAgICAgICAgICAgICAgICBtaW5fY291bnQgPSAzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4X2NvdW50ID0gNjtcbiAgICAgICAgICAgICAgICAgICAgbWluX2NvdW50ID0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1heF9jb3VudCA9IDc7XG4gICAgICAgICAgICAgICAgICAgIG1pbl9jb3VudCA9IDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogU2VuZCBhIGxpdGVyYWwgb3IgZGlzdGFuY2UgdHJlZSBpbiBjb21wcmVzc2VkIGZvcm0sIHVzaW5nIHRoZSBjb2RlcyBpblxuICAgICAgICAgKiBibF90cmVlLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNlbmRfdHJlZSA9IGZ1bmN0aW9uIHNlbmRfdHJlZShzLCB0cmVlLCBtYXhfY29kZVxuICAgICAgICAvLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuICAgICAgICAvLyAgICBjdF9kYXRhICp0cmVlOyAvKiB0aGUgdHJlZSB0byBiZSBzY2FubmVkICovXG4gICAgICAgIC8vICAgIGludCBtYXhfY29kZTsgICAgICAgLyogYW5kIGl0cyBsYXJnZXN0IGNvZGUgb2Ygbm9uIHplcm8gZnJlcXVlbmN5ICovXG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFyIG47XG4gICAgICAgICAgICAvKiBpdGVyYXRlcyBvdmVyIGFsbCB0cmVlIGVsZW1lbnRzICovXG4gICAgICAgICAgICB2YXIgcHJldmxlbiA9IC0xO1xuICAgICAgICAgICAgLyogbGFzdCBlbWl0dGVkIGxlbmd0aCAqL1xuICAgICAgICAgICAgdmFyIGN1cmxlbjtcbiAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IGNvZGUgKi9cbiAgICAgICAgICAgIHZhciBuZXh0bGVuID0gdHJlZVswICogMiArIDFdO1xuICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgLyogbGVuZ3RoIG9mIG5leHQgY29kZSAqL1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICAgIC8qIHJlcGVhdCBjb3VudCBvZiB0aGUgY3VycmVudCBjb2RlICovXG4gICAgICAgICAgICB2YXIgbWF4X2NvdW50ID0gNztcbiAgICAgICAgICAgIC8qIG1heCByZXBlYXQgY291bnQgKi9cbiAgICAgICAgICAgIHZhciBtaW5fY291bnQgPSA0O1xuICAgICAgICAgICAgLyogbWluIHJlcGVhdCBjb3VudCAqL1xuICAgICAgICAgICAgLyogdHJlZVttYXhfY29kZSsxXS5MZW4gPSAtMTsgKi9cbiAgICAgICAgICAgIC8qIGd1YXJkIGFscmVhZHkgc2V0ICovXG4gICAgICAgICAgICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG1heF9jb3VudCA9IDEzODtcbiAgICAgICAgICAgICAgICBtaW5fY291bnQgPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8PSBtYXhfY29kZTsgbisrKSB7XG4gICAgICAgICAgICAgICAgY3VybGVuID0gbmV4dGxlbjtcbiAgICAgICAgICAgICAgICBuZXh0bGVuID0gdHJlZVsobiArIDEpICogMiArIDFdO1xuICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICBpZiAoKytjb3VudCA8IG1heF9jb3VudCAmJiBjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50IDwgbWluX2NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRfY29kZShzLCBjdXJsZW4sIHMuYmxfdHJlZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tY291bnQgIT09IDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJsZW4gIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cmxlbiAhPT0gcHJldmxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9jb2RlKHMsIGN1cmxlbiwgcy5ibF90cmVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50LS07XG4gICAgICAgICAgICAgICAgICAgIH0gLy8gQXNzZXJ0KGNvdW50ID49IDMgJiYgY291bnQgPD0gNiwgXCIgM182P1wiKTtcbiAgICAgICAgICAgICAgICAgICAgc2VuZF9jb2RlKHMsIFJFUF8zXzYsIHMuYmxfdHJlZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRfYml0cyhzLCBjb3VudCAtIDMsIDIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb3VudCA8PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICBzZW5kX2NvZGUocywgUkVQWl8zXzEwLCBzLmJsX3RyZWUpO1xuICAgICAgICAgICAgICAgICAgICBzZW5kX2JpdHMocywgY291bnQgLSAzLCAzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRfY29kZShzLCBSRVBaXzExXzEzOCwgcy5ibF90cmVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VuZF9iaXRzKHMsIGNvdW50IC0gMTEsIDcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcHJldmxlbiA9IGN1cmxlbjtcbiAgICAgICAgICAgICAgICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgICAgICAgICAgICAgICAgIG1pbl9jb3VudCA9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgICAgICAgICAgICAgICBtYXhfY291bnQgPSA2O1xuICAgICAgICAgICAgICAgICAgICBtaW5fY291bnQgPSAzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4X2NvdW50ID0gNztcbiAgICAgICAgICAgICAgICAgICAgbWluX2NvdW50ID0gNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBDb25zdHJ1Y3QgdGhlIEh1ZmZtYW4gdHJlZSBmb3IgdGhlIGJpdCBsZW5ndGhzIGFuZCByZXR1cm4gdGhlIGluZGV4IGluXG4gICAgICAgICAqIGJsX29yZGVyIG9mIHRoZSBsYXN0IGJpdCBsZW5ndGggY29kZSB0byBzZW5kLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGJ1aWxkX2JsX3RyZWUgPSBmdW5jdGlvbiBidWlsZF9ibF90cmVlKHMpIHtcbiAgICAgICAgICAgIHZhciBtYXhfYmxpbmRleDtcbiAgICAgICAgICAgIC8qIGluZGV4IG9mIGxhc3QgYml0IGxlbmd0aCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXEgKi9cbiAgICAgICAgICAgIC8qIERldGVybWluZSB0aGUgYml0IGxlbmd0aCBmcmVxdWVuY2llcyBmb3IgbGl0ZXJhbCBhbmQgZGlzdGFuY2UgdHJlZXMgKi9cbiAgICAgICAgICAgIHNjYW5fdHJlZShzLCBzLmR5bl9sdHJlZSwgcy5sX2Rlc2MubWF4X2NvZGUpO1xuICAgICAgICAgICAgc2Nhbl90cmVlKHMsIHMuZHluX2R0cmVlLCBzLmRfZGVzYy5tYXhfY29kZSk7XG4gICAgICAgICAgICAvKiBCdWlsZCB0aGUgYml0IGxlbmd0aCB0cmVlOiAqL1xuICAgICAgICAgICAgYnVpbGRfdHJlZShzLCBzLmJsX2Rlc2MpO1xuICAgICAgICAgICAgLyogb3B0X2xlbiBub3cgaW5jbHVkZXMgdGhlIGxlbmd0aCBvZiB0aGUgdHJlZSByZXByZXNlbnRhdGlvbnMsIGV4Y2VwdFxuICAgICAgICAgICAgICogdGhlIGxlbmd0aHMgb2YgdGhlIGJpdCBsZW5ndGhzIGNvZGVzIGFuZCB0aGUgNSs1KzQgYml0cyBmb3IgdGhlIGNvdW50cy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLyogRGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgYml0IGxlbmd0aCBjb2RlcyB0byBzZW5kLiBUaGUgcGt6aXAgZm9ybWF0XG4gICAgICAgICAgICAgKiByZXF1aXJlcyB0aGF0IGF0IGxlYXN0IDQgYml0IGxlbmd0aCBjb2RlcyBiZSBzZW50LiAoYXBwbm90ZS50eHQgc2F5c1xuICAgICAgICAgICAgICogMyBidXQgdGhlIGFjdHVhbCB2YWx1ZSB1c2VkIGlzIDQuKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IgKG1heF9ibGluZGV4ID0gQkxfQ09ERVMgLSAxOyBtYXhfYmxpbmRleCA+PSAzOyBtYXhfYmxpbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMuYmxfdHJlZVtibF9vcmRlclttYXhfYmxpbmRleF0gKiAyICsgMV0gIT09XG4gICAgICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgMCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBVcGRhdGUgb3B0X2xlbiB0byBpbmNsdWRlIHRoZSBiaXQgbGVuZ3RoIHRyZWUgYW5kIGNvdW50cyAqL1xuICAgICAgICAgICAgcy5vcHRfbGVuICs9IDMgKiAobWF4X2JsaW5kZXggKyAxKSArIDUgKyA1ICsgNDsgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxuZHluIHRyZWVzOiBkeW4gJWxkLCBzdGF0ICVsZFwiLFxuICAgICAgICAgICAgLy8gICAgICAgIHMtPm9wdF9sZW4sIHMtPnN0YXRpY19sZW4pKTtcbiAgICAgICAgICAgIHJldHVybiBtYXhfYmxpbmRleDtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFNlbmQgdGhlIGhlYWRlciBmb3IgYSBibG9jayB1c2luZyBkeW5hbWljIEh1ZmZtYW4gdHJlZXM6IHRoZSBjb3VudHMsIHRoZVxuICAgICAgICAgKiBsZW5ndGhzIG9mIHRoZSBiaXQgbGVuZ3RoIGNvZGVzLCB0aGUgbGl0ZXJhbCB0cmVlIGFuZCB0aGUgZGlzdGFuY2UgdHJlZS5cbiAgICAgICAgICogSU4gYXNzZXJ0aW9uOiBsY29kZXMgPj0gMjU3LCBkY29kZXMgPj0gMSwgYmxjb2RlcyA+PSA0LlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNlbmRfYWxsX3RyZWVzID0gZnVuY3Rpb24gc2VuZF9hbGxfdHJlZXMocywgbGNvZGVzLCBkY29kZXMsIGJsY29kZXMgLy8gICAgZGVmbGF0ZV9zdGF0ZSAqczsgLy8gICAgaW50IGxjb2RlcywgZGNvZGVzLCBibGNvZGVzOyAvKiBudW1iZXIgb2YgY29kZXMgZm9yIGVhY2ggdHJlZSAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciByYW5rO1xuICAgICAgICAgICAgLyogaW5kZXggaW4gYmxfb3JkZXIgKi9cbiAgICAgICAgICAgIC8vIEFzc2VydCAobGNvZGVzID49IDI1NyAmJiBkY29kZXMgPj0gMSAmJiBibGNvZGVzID49IDQsIFwibm90IGVub3VnaCBjb2Rlc1wiKTtcbiAgICAgICAgICAgIC8vIEFzc2VydCAobGNvZGVzIDw9IExfQ09ERVMgJiYgZGNvZGVzIDw9IERfQ09ERVMgJiYgYmxjb2RlcyA8PSBCTF9DT0RFUyxcbiAgICAgICAgICAgIC8vICAgICAgICBcInRvbyBtYW55IGNvZGVzXCIpO1xuICAgICAgICAgICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgY291bnRzOiBcIikpO1xuICAgICAgICAgICAgc2VuZF9iaXRzKHMsIGxjb2RlcyAtIDI1NywgNSk7XG4gICAgICAgICAgICAvKiBub3QgKzI1NSBhcyBzdGF0ZWQgaW4gYXBwbm90ZS50eHQgKi9cbiAgICAgICAgICAgIHNlbmRfYml0cyhzLCBkY29kZXMgLSAxLCA1KTtcbiAgICAgICAgICAgIHNlbmRfYml0cyhzLCBibGNvZGVzIC0gNCwgNCk7XG4gICAgICAgICAgICAvKiBub3QgLTMgYXMgc3RhdGVkIGluIGFwcG5vdGUudHh0ICovXG4gICAgICAgICAgICBmb3IgKHJhbmsgPSAwOyByYW5rIDwgYmxjb2RlczsgcmFuaysrKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgY29kZSAlMmQgXCIsIGJsX29yZGVyW3JhbmtdKSk7XG4gICAgICAgICAgICAgICAgc2VuZF9iaXRzKHMsIHMuYmxfdHJlZVtibF9vcmRlcltyYW5rXSAqIDIgKyAxXSwgXG4gICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgIDMpO1xuICAgICAgICAgICAgfSAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5ibCB0cmVlOiBzZW50ICVsZFwiLCBzLT5iaXRzX3NlbnQpKTtcbiAgICAgICAgICAgIHNlbmRfdHJlZShzLCBzLmR5bl9sdHJlZSwgbGNvZGVzIC0gMSk7XG4gICAgICAgICAgICAvKiBsaXRlcmFsIHRyZWUgKi9cbiAgICAgICAgICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmxpdCB0cmVlOiBzZW50ICVsZFwiLCBzLT5iaXRzX3NlbnQpKTtcbiAgICAgICAgICAgIHNlbmRfdHJlZShzLCBzLmR5bl9kdHJlZSwgZGNvZGVzIC0gMSk7XG4gICAgICAgICAgICAvKiBkaXN0YW5jZSB0cmVlICovXG4gICAgICAgICAgICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5kaXN0IHRyZWU6IHNlbnQgJWxkXCIsIHMtPmJpdHNfc2VudCkpO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogQ2hlY2sgaWYgdGhlIGRhdGEgdHlwZSBpcyBURVhUIG9yIEJJTkFSWSwgdXNpbmcgdGhlIGZvbGxvd2luZyBhbGdvcml0aG06XG4gICAgICAgICAqIC0gVEVYVCBpZiB0aGUgdHdvIGNvbmRpdGlvbnMgYmVsb3cgYXJlIHNhdGlzZmllZDpcbiAgICAgICAgICogICAgYSkgVGhlcmUgYXJlIG5vIG5vbi1wb3J0YWJsZSBjb250cm9sIGNoYXJhY3RlcnMgYmVsb25naW5nIHRvIHRoZVxuICAgICAgICAgKiAgICAgICBcImJsYWNrIGxpc3RcIiAoMC4uNiwgMTQuLjI1LCAyOC4uMzEpLlxuICAgICAgICAgKiAgICBiKSBUaGVyZSBpcyBhdCBsZWFzdCBvbmUgcHJpbnRhYmxlIGNoYXJhY3RlciBiZWxvbmdpbmcgdG8gdGhlXG4gICAgICAgICAqICAgICAgIFwid2hpdGUgbGlzdFwiICg5IHtUQUJ9LCAxMCB7TEZ9LCAxMyB7Q1J9LCAzMi4uMjU1KS5cbiAgICAgICAgICogLSBCSU5BUlkgb3RoZXJ3aXNlLlxuICAgICAgICAgKiAtIFRoZSBmb2xsb3dpbmcgcGFydGlhbGx5LXBvcnRhYmxlIGNvbnRyb2wgY2hhcmFjdGVycyBmb3JtIGFcbiAgICAgICAgICogICBcImdyYXkgbGlzdFwiIHRoYXQgaXMgaWdub3JlZCBpbiB0aGlzIGRldGVjdGlvbiBhbGdvcml0aG06XG4gICAgICAgICAqICAgKDcge0JFTH0sIDgge0JTfSwgMTEge1ZUfSwgMTIge0ZGfSwgMjYge1NVQn0sIDI3IHtFU0N9KS5cbiAgICAgICAgICogSU4gYXNzZXJ0aW9uOiB0aGUgZmllbGRzIEZyZXEgb2YgZHluX2x0cmVlIGFyZSBzZXQuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgZGV0ZWN0X2RhdGFfdHlwZSA9IGZ1bmN0aW9uIGRldGVjdF9kYXRhX3R5cGUocykge1xuICAgICAgICAgICAgLyogYmxhY2tfbWFzayBpcyB0aGUgYml0IG1hc2sgb2YgYmxhY2stbGlzdGVkIGJ5dGVzXG4gICAgICAgICAgICAgKiBzZXQgYml0cyAwLi42LCAxNC4uMjUsIGFuZCAyOC4uMzFcbiAgICAgICAgICAgICAqIDB4ZjNmZmMwN2YgPSBiaW5hcnkgMTExMTAwMTExMTExMTExMTExMDAwMDAwMDExMTExMTFcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIGJsYWNrX21hc2sgPSAweGYzZmZjMDdmO1xuICAgICAgICAgICAgdmFyIG47XG4gICAgICAgICAgICAvKiBDaGVjayBmb3Igbm9uLXRleHR1YWwgKFwiYmxhY2stbGlzdGVkXCIpIGJ5dGVzLiAqL1xuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8PSAzMTsgbisrLCBibGFja19tYXNrID4+Pj0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChibGFja19tYXNrICYgMSAmJlxuICAgICAgICAgICAgICAgICAgICBzLmR5bl9sdHJlZVtuICogMl0gIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWl9CSU5BUlk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogQ2hlY2sgZm9yIHRleHR1YWwgKFwid2hpdGUtbGlzdGVkXCIpIGJ5dGVzLiAqL1xuICAgICAgICAgICAgaWYgKHMuZHluX2x0cmVlWzkgKiAyXSAhPT1cbiAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgIDAgfHxcbiAgICAgICAgICAgICAgICBzLmR5bl9sdHJlZVsxMCAqIDJdICE9PVxuICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAwIHx8XG4gICAgICAgICAgICAgICAgcy5keW5fbHRyZWVbMTMgKiAyXSAhPT1cbiAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBaX1RFWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKG4gPSAzMjsgbiA8IExJVEVSQUxTOyBuKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocy5keW5fbHRyZWVbbiAqIDJdICE9PVxuICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBaX1RFWFQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogVGhlcmUgYXJlIG5vIFwiYmxhY2stbGlzdGVkXCIgb3IgXCJ3aGl0ZS1saXN0ZWRcIiBieXRlczpcbiAgICAgICAgICAgICAqIHRoaXMgc3RyZWFtIGVpdGhlciBpcyBlbXB0eSBvciBoYXMgdG9sZXJhdGVkIChcImdyYXktbGlzdGVkXCIpIGJ5dGVzIG9ubHkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBaX0JJTkFSWTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN0YXRpY19pbml0X2RvbmUgPSBmYWxzZTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIEluaXRpYWxpemUgdGhlIHRyZWUgZGF0YSBzdHJ1Y3R1cmVzIGZvciBhIG5ldyB6bGliIHN0cmVhbS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdHJfaW5pdCA9IGZ1bmN0aW9uIF90cl9pbml0KHMpIHtcbiAgICAgICAgICAgIGlmICghc3RhdGljX2luaXRfZG9uZSkge1xuICAgICAgICAgICAgICAgIHRyX3N0YXRpY19pbml0KCk7XG4gICAgICAgICAgICAgICAgc3RhdGljX2luaXRfZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLmxfZGVzYyA9IG5ldyBUcmVlRGVzYyhzLmR5bl9sdHJlZSwgc3RhdGljX2xfZGVzYyk7XG4gICAgICAgICAgICBzLmRfZGVzYyA9IG5ldyBUcmVlRGVzYyhzLmR5bl9kdHJlZSwgc3RhdGljX2RfZGVzYyk7XG4gICAgICAgICAgICBzLmJsX2Rlc2MgPSBuZXcgVHJlZURlc2Mocy5ibF90cmVlLCBzdGF0aWNfYmxfZGVzYyk7XG4gICAgICAgICAgICBzLmJpX2J1ZiA9IDA7XG4gICAgICAgICAgICBzLmJpX3ZhbGlkID0gMDtcbiAgICAgICAgICAgIC8qIEluaXRpYWxpemUgdGhlIGZpcnN0IGJsb2NrIG9mIHRoZSBmaXJzdCBmaWxlOiAqL1xuICAgICAgICAgICAgaW5pdF9ibG9jayhzKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFNlbmQgYSBzdG9yZWQgYmxvY2tcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdHJfc3RvcmVkX2Jsb2NrID0gZnVuY3Rpb24gX3RyX3N0b3JlZF9ibG9jayhzLCBidWYsIHN0b3JlZF9sZW4sIGxhc3RcbiAgICAgICAgLy8gRGVmbGF0ZVN0YXRlICpzO1xuICAgICAgICAvLyBjaGFyZiAqYnVmOyAgICAgICAvKiBpbnB1dCBibG9jayAqL1xuICAgICAgICAvLyB1bGcgc3RvcmVkX2xlbjsgICAvKiBsZW5ndGggb2YgaW5wdXQgYmxvY2sgKi9cbiAgICAgICAgLy8gaW50IGxhc3Q7ICAgICAgICAgLyogb25lIGlmIHRoaXMgaXMgdGhlIGxhc3QgYmxvY2sgZm9yIGEgZmlsZSAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHNlbmRfYml0cyhzLCAoU1RPUkVEX0JMT0NLIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpO1xuICAgICAgICAgICAgLyogc2VuZCBibG9jayB0eXBlICovXG4gICAgICAgICAgICBjb3B5X2Jsb2NrKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgdHJ1ZSk7XG4gICAgICAgICAgICAvKiB3aXRoIGhlYWRlciAqL1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogU2VuZCBvbmUgZW1wdHkgc3RhdGljIGJsb2NrIHRvIGdpdmUgZW5vdWdoIGxvb2thaGVhZCBmb3IgaW5mbGF0ZS5cbiAgICAgICAgICogVGhpcyB0YWtlcyAxMCBiaXRzLCBvZiB3aGljaCA3IG1heSByZW1haW4gaW4gdGhlIGJpdCBidWZmZXIuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RyX2FsaWduID0gZnVuY3Rpb24gX3RyX2FsaWduKHMpIHtcbiAgICAgICAgICAgIHNlbmRfYml0cyhzLCBTVEFUSUNfVFJFRVMgPDwgMSwgMyk7XG4gICAgICAgICAgICBzZW5kX2NvZGUocywgRU5EX0JMT0NLLCBzdGF0aWNfbHRyZWUpO1xuICAgICAgICAgICAgYmlfZmx1c2gocyk7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBEZXRlcm1pbmUgdGhlIGJlc3QgZW5jb2RpbmcgZm9yIHRoZSBjdXJyZW50IGJsb2NrOiBkeW5hbWljIHRyZWVzLCBzdGF0aWNcbiAgICAgICAgICogdHJlZXMgb3Igc3RvcmUsIGFuZCBvdXRwdXQgdGhlIGVuY29kZWQgYmxvY2sgdG8gdGhlIHppcCBmaWxlLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90cl9mbHVzaF9ibG9jayA9IGZ1bmN0aW9uIF90cl9mbHVzaF9ibG9jayhzLCBidWYsIHN0b3JlZF9sZW4sIGxhc3RcbiAgICAgICAgLy8gRGVmbGF0ZVN0YXRlICpzO1xuICAgICAgICAvLyBjaGFyZiAqYnVmOyAgICAgICAvKiBpbnB1dCBibG9jaywgb3IgTlVMTCBpZiB0b28gb2xkICovXG4gICAgICAgIC8vIHVsZyBzdG9yZWRfbGVuOyAgIC8qIGxlbmd0aCBvZiBpbnB1dCBibG9jayAqL1xuICAgICAgICAvLyBpbnQgbGFzdDsgICAgICAgICAvKiBvbmUgaWYgdGhpcyBpcyB0aGUgbGFzdCBibG9jayBmb3IgYSBmaWxlICovXG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFyIG9wdF9sZW5iO1xuICAgICAgICAgICAgdmFyIHN0YXRpY19sZW5iO1xuICAgICAgICAgICAgLyogb3B0X2xlbiBhbmQgc3RhdGljX2xlbiBpbiBieXRlcyAqL1xuICAgICAgICAgICAgdmFyIG1heF9ibGluZGV4ID0gMDtcbiAgICAgICAgICAgIC8qIGluZGV4IG9mIGxhc3QgYml0IGxlbmd0aCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXEgKi9cbiAgICAgICAgICAgIC8qIEJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzIHVubGVzcyBhIHN0b3JlZCBibG9jayBpcyBmb3JjZWQgKi9cbiAgICAgICAgICAgIGlmIChzLmxldmVsID4gMCkge1xuICAgICAgICAgICAgICAgIC8qIENoZWNrIGlmIHRoZSBmaWxlIGlzIGJpbmFyeSBvciB0ZXh0ICovXG4gICAgICAgICAgICAgICAgaWYgKHMuc3RybS5kYXRhX3R5cGUgPT09IFpfVU5LTk9XTikge1xuICAgICAgICAgICAgICAgICAgICBzLnN0cm0uZGF0YV90eXBlID0gZGV0ZWN0X2RhdGFfdHlwZShzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogQ29uc3RydWN0IHRoZSBsaXRlcmFsIGFuZCBkaXN0YW5jZSB0cmVlcyAqL1xuICAgICAgICAgICAgICAgIGJ1aWxkX3RyZWUocywgcy5sX2Rlc2MpOyAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5saXQgZGF0YTogZHluICVsZCwgc3RhdCAlbGRcIiwgcy0+b3B0X2xlbixcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgcy0+c3RhdGljX2xlbikpO1xuICAgICAgICAgICAgICAgIGJ1aWxkX3RyZWUocywgcy5kX2Rlc2MpOyAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5kaXN0IGRhdGE6IGR5biAlbGQsIHN0YXQgJWxkXCIsIHMtPm9wdF9sZW4sXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHMtPnN0YXRpY19sZW4pKTtcbiAgICAgICAgICAgICAgICAvKiBBdCB0aGlzIHBvaW50LCBvcHRfbGVuIGFuZCBzdGF0aWNfbGVuIGFyZSB0aGUgdG90YWwgYml0IGxlbmd0aHMgb2ZcbiAgICAgICAgICAgICAgICAgKiB0aGUgY29tcHJlc3NlZCBibG9jayBkYXRhLCBleGNsdWRpbmcgdGhlIHRyZWUgcmVwcmVzZW50YXRpb25zLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8qIEJ1aWxkIHRoZSBiaXQgbGVuZ3RoIHRyZWUgZm9yIHRoZSBhYm92ZSB0d28gdHJlZXMsIGFuZCBnZXQgdGhlIGluZGV4XG4gICAgICAgICAgICAgICAgICogaW4gYmxfb3JkZXIgb2YgdGhlIGxhc3QgYml0IGxlbmd0aCBjb2RlIHRvIHNlbmQuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgbWF4X2JsaW5kZXggPSBidWlsZF9ibF90cmVlKHMpO1xuICAgICAgICAgICAgICAgIC8qIERldGVybWluZSB0aGUgYmVzdCBlbmNvZGluZy4gQ29tcHV0ZSB0aGUgYmxvY2sgbGVuZ3RocyBpbiBieXRlcy4gKi9cbiAgICAgICAgICAgICAgICBvcHRfbGVuYiA9IChzLm9wdF9sZW4gKyAzICsgNykgPj4+IDM7XG4gICAgICAgICAgICAgICAgc3RhdGljX2xlbmIgPSAocy5zdGF0aWNfbGVuICsgMyArIDcpID4+PiAzOyAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5vcHQgJWx1KCVsdSkgc3RhdCAlbHUoJWx1KSBzdG9yZWQgJWx1IGxpdCAldSBcIixcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgb3B0X2xlbmIsIHMtPm9wdF9sZW4sIHN0YXRpY19sZW5iLCBzLT5zdGF0aWNfbGVuLCBzdG9yZWRfbGVuLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBzLT5sYXN0X2xpdCkpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0aWNfbGVuYiA8PSBvcHRfbGVuYikge1xuICAgICAgICAgICAgICAgICAgICBvcHRfbGVuYiA9IHN0YXRpY19sZW5iO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFzc2VydChidWYgIT0gKGNoYXIqKTAsIFwibG9zdCBidWZcIik7XG4gICAgICAgICAgICAgICAgb3B0X2xlbmIgPSBzdGF0aWNfbGVuYiA9IHN0b3JlZF9sZW4gKyA1O1xuICAgICAgICAgICAgICAgIC8qIGZvcmNlIGEgc3RvcmVkIGJsb2NrICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RvcmVkX2xlbiArIDQgPD0gb3B0X2xlbmIgJiYgYnVmICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8qIDQ6IHR3byB3b3JkcyBmb3IgdGhlIGxlbmd0aHMgKi9cbiAgICAgICAgICAgICAgICAvKiBUaGUgdGVzdCBidWYgIT0gTlVMTCBpcyBvbmx5IG5lY2Vzc2FyeSBpZiBMSVRfQlVGU0laRSA+IFdTSVpFLlxuICAgICAgICAgICAgICAgICAqIE90aGVyd2lzZSB3ZSBjYW4ndCBoYXZlIHByb2Nlc3NlZCBtb3JlIHRoYW4gV1NJWkUgaW5wdXQgYnl0ZXMgc2luY2VcbiAgICAgICAgICAgICAgICAgKiB0aGUgbGFzdCBibG9jayBmbHVzaCwgYmVjYXVzZSBjb21wcmVzc2lvbiB3b3VsZCBoYXZlIGJlZW5cbiAgICAgICAgICAgICAgICAgKiBzdWNjZXNzZnVsLiBJZiBMSVRfQlVGU0laRSA8PSBXU0laRSwgaXQgaXMgbmV2ZXIgdG9vIGxhdGUgdG9cbiAgICAgICAgICAgICAgICAgKiB0cmFuc2Zvcm0gYSBibG9jayBpbnRvIGEgc3RvcmVkIGJsb2NrLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIF90cl9zdG9yZWRfYmxvY2socywgYnVmLCBzdG9yZWRfbGVuLCBsYXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHMuc3RyYXRlZ3kgPT09IFpfRklYRUQgfHwgc3RhdGljX2xlbmIgPT09IG9wdF9sZW5iKSB7XG4gICAgICAgICAgICAgICAgc2VuZF9iaXRzKHMsIChTVEFUSUNfVFJFRVMgPDwgMSkgKyAobGFzdCA/IDEgOiAwKSwgMyk7XG4gICAgICAgICAgICAgICAgY29tcHJlc3NfYmxvY2socywgc3RhdGljX2x0cmVlLCBzdGF0aWNfZHRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VuZF9iaXRzKHMsIChEWU5fVFJFRVMgPDwgMSkgKyAobGFzdCA/IDEgOiAwKSwgMyk7XG4gICAgICAgICAgICAgICAgc2VuZF9hbGxfdHJlZXMocywgcy5sX2Rlc2MubWF4X2NvZGUgKyAxLCBzLmRfZGVzYy5tYXhfY29kZSArIDEsIG1heF9ibGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgY29tcHJlc3NfYmxvY2socywgcy5keW5fbHRyZWUsIHMuZHluX2R0cmVlKTtcbiAgICAgICAgICAgIH0gLy8gQXNzZXJ0IChzLT5jb21wcmVzc2VkX2xlbiA9PSBzLT5iaXRzX3NlbnQsIFwiYmFkIGNvbXByZXNzZWQgc2l6ZVwiKTtcbiAgICAgICAgICAgIC8qIFRoZSBhYm92ZSBjaGVjayBpcyBtYWRlIG1vZCAyXjMyLCBmb3IgZmlsZXMgbGFyZ2VyIHRoYW4gNTEyIE1CXG4gICAgICAgICAgICAgKiBhbmQgdUxvbmcgaW1wbGVtZW50ZWQgb24gMzIgYml0cy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW5pdF9ibG9jayhzKTtcbiAgICAgICAgICAgIGlmIChsYXN0KSB7XG4gICAgICAgICAgICAgICAgYmlfd2luZHVwKHMpO1xuICAgICAgICAgICAgfSAvLyBUcmFjZXYoKHN0ZGVycixcIlxcbmNvbXBybGVuICVsdSglbHUpIFwiLCBzLT5jb21wcmVzc2VkX2xlbj4+MyxcbiAgICAgICAgICAgIC8vICAgICAgIHMtPmNvbXByZXNzZWRfbGVuLTcqbGFzdCkpO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogU2F2ZSB0aGUgbWF0Y2ggaW5mbyBhbmQgdGFsbHkgdGhlIGZyZXF1ZW5jeSBjb3VudHMuIFJldHVybiB0cnVlIGlmXG4gICAgICAgICAqIHRoZSBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdHJfdGFsbHkgPSBmdW5jdGlvbiBfdHJfdGFsbHkocywgZGlzdCwgbGNcbiAgICAgICAgLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbiAgICAgICAgLy8gICAgdW5zaWduZWQgZGlzdDsgIC8qIGRpc3RhbmNlIG9mIG1hdGNoZWQgc3RyaW5nICovXG4gICAgICAgIC8vICAgIHVuc2lnbmVkIGxjOyAgICAvKiBtYXRjaCBsZW5ndGgtTUlOX01BVENIIG9yIHVubWF0Y2hlZCBjaGFyIChpZiBkaXN0PT0wKSAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIGxldCBvdXRfbGVuZ3RoLCBpbl9sZW5ndGgsIGRjb2RlO1xuICAgICAgICAgICAgcy5wZW5kaW5nX2J1ZltzLmRfYnVmICsgcy5sYXN0X2xpdCAqIDJdID0gKGRpc3QgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICAgIHMucGVuZGluZ19idWZbcy5kX2J1ZiArIHMubGFzdF9saXQgKiAyICsgMV0gPSBkaXN0ICYgMHhmZjtcbiAgICAgICAgICAgIHMucGVuZGluZ19idWZbcy5sX2J1ZiArIHMubGFzdF9saXRdID0gbGMgJiAweGZmO1xuICAgICAgICAgICAgcy5sYXN0X2xpdCsrO1xuICAgICAgICAgICAgaWYgKGRpc3QgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvKiBsYyBpcyB0aGUgdW5tYXRjaGVkIGNoYXIgKi9cbiAgICAgICAgICAgICAgICBzLmR5bl9sdHJlZVtsYyAqIDJdIC8qIC5GcmVxICovKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzLm1hdGNoZXMrKztcbiAgICAgICAgICAgICAgICAvKiBIZXJlLCBsYyBpcyB0aGUgbWF0Y2ggbGVuZ3RoIC0gTUlOX01BVENIICovXG4gICAgICAgICAgICAgICAgZGlzdC0tO1xuICAgICAgICAgICAgICAgIC8qIGRpc3QgPSBtYXRjaCBkaXN0YW5jZSAtIDEgKi9cbiAgICAgICAgICAgICAgICAvLyBBc3NlcnQoKHVzaClkaXN0IDwgKHVzaClNQVhfRElTVChzKSAmJlxuICAgICAgICAgICAgICAgIC8vICAgICAgICh1c2gpbGMgPD0gKHVzaCkoTUFYX01BVENILU1JTl9NQVRDSCkgJiZcbiAgICAgICAgICAgICAgICAvLyAgICAgICAodXNoKWRfY29kZShkaXN0KSA8ICh1c2gpRF9DT0RFUywgIFwiX3RyX3RhbGx5OiBiYWQgbWF0Y2hcIik7XG4gICAgICAgICAgICAgICAgcy5keW5fbHRyZWVbKF9sZW5ndGhfY29kZVtsY10gKyBMSVRFUkFMUyArIDEpICogMl0gLyogLkZyZXEgKi8rKztcbiAgICAgICAgICAgICAgICBzLmR5bl9kdHJlZVtkX2NvZGUoZGlzdCkgKiAyXSAvKiAuRnJlcSAqLysrO1xuICAgICAgICAgICAgfSAvLyAoISkgVGhpcyBibG9jayBpcyBkaXNhYmxlZCBpbiB6bGliIGRlZmF1bHRzLFxuICAgICAgICAgICAgLy8gZG9uJ3QgZW5hYmxlIGl0IGZvciBiaW5hcnkgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgLy8gI2lmZGVmIFRSVU5DQVRFX0JMT0NLXG4gICAgICAgICAgICAvLyAgLyogVHJ5IHRvIGd1ZXNzIGlmIGl0IGlzIHByb2ZpdGFibGUgdG8gc3RvcCB0aGUgY3VycmVudCBibG9jayBoZXJlICovXG4gICAgICAgICAgICAvLyAgaWYgKChzLmxhc3RfbGl0ICYgMHgxZmZmKSA9PT0gMCAmJiBzLmxldmVsID4gMikge1xuICAgICAgICAgICAgLy8gICAgLyogQ29tcHV0ZSBhbiB1cHBlciBib3VuZCBmb3IgdGhlIGNvbXByZXNzZWQgbGVuZ3RoICovXG4gICAgICAgICAgICAvLyAgICBvdXRfbGVuZ3RoID0gcy5sYXN0X2xpdCo4O1xuICAgICAgICAgICAgLy8gICAgaW5fbGVuZ3RoID0gcy5zdHJzdGFydCAtIHMuYmxvY2tfc3RhcnQ7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgZm9yIChkY29kZSA9IDA7IGRjb2RlIDwgRF9DT0RFUzsgZGNvZGUrKykge1xuICAgICAgICAgICAgLy8gICAgICBvdXRfbGVuZ3RoICs9IHMuZHluX2R0cmVlW2Rjb2RlKjJdLyouRnJlcSovICogKDUgKyBleHRyYV9kYml0c1tkY29kZV0pO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy8gICAgb3V0X2xlbmd0aCA+Pj49IDM7XG4gICAgICAgICAgICAvLyAgICAvL1RyYWNldigoc3RkZXJyLFwiXFxubGFzdF9saXQgJXUsIGluICVsZCwgb3V0IH4lbGQoJWxkJSUpIFwiLFxuICAgICAgICAgICAgLy8gICAgLy8gICAgICAgcy0+bGFzdF9saXQsIGluX2xlbmd0aCwgb3V0X2xlbmd0aCxcbiAgICAgICAgICAgIC8vICAgIC8vICAgICAgIDEwMEwgLSBvdXRfbGVuZ3RoKjEwMEwvaW5fbGVuZ3RoKSk7XG4gICAgICAgICAgICAvLyAgICBpZiAocy5tYXRjaGVzIDwgKHMubGFzdF9saXQ+PjEpLyppbnQgLzIqLyAmJiBvdXRfbGVuZ3RoIDwgKGluX2xlbmd0aD4+MSkvKmludCAvMiovKSB7XG4gICAgICAgICAgICAvLyAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy8gIH1cbiAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgICAgcmV0dXJuIHMubGFzdF9saXQgPT09IHMubGl0X2J1ZnNpemUgLSAxO1xuICAgICAgICAgICAgLyogV2UgYXZvaWQgZXF1YWxpdHkgd2l0aCBsaXRfYnVmc2l6ZSBiZWNhdXNlIG9mIHdyYXBhcm91bmQgYXQgNjRLXG4gICAgICAgICAgICAgKiBvbiAxNiBiaXQgbWFjaGluZXMgYW5kIGJlY2F1c2Ugc3RvcmVkIGJsb2NrcyBhcmUgcmVzdHJpY3RlZCB0b1xuICAgICAgICAgICAgICogNjRLLTEgYnl0ZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIF90cl9pbml0XzEgPSBfdHJfaW5pdDtcbiAgICAgICAgdmFyIF90cl9zdG9yZWRfYmxvY2tfMSA9IF90cl9zdG9yZWRfYmxvY2s7XG4gICAgICAgIHZhciBfdHJfZmx1c2hfYmxvY2tfMSA9IF90cl9mbHVzaF9ibG9jaztcbiAgICAgICAgdmFyIF90cl90YWxseV8xID0gX3RyX3RhbGx5O1xuICAgICAgICB2YXIgX3RyX2FsaWduXzEgPSBfdHJfYWxpZ247XG4gICAgICAgIHZhciB0cmVlcyA9IHtcbiAgICAgICAgICAgIF90cl9pbml0OiBfdHJfaW5pdF8xLFxuICAgICAgICAgICAgX3RyX3N0b3JlZF9ibG9jazogX3RyX3N0b3JlZF9ibG9ja18xLFxuICAgICAgICAgICAgX3RyX2ZsdXNoX2Jsb2NrOiBfdHJfZmx1c2hfYmxvY2tfMSxcbiAgICAgICAgICAgIF90cl90YWxseTogX3RyX3RhbGx5XzEsXG4gICAgICAgICAgICBfdHJfYWxpZ246IF90cl9hbGlnbl8xLFxuICAgICAgICB9O1xuICAgICAgICAvLyBJdCBpc24ndCB3b3J0aCBpdCB0byBtYWtlIGFkZGl0aW9uYWwgb3B0aW1pemF0aW9ucyBhcyBpbiBvcmlnaW5hbC5cbiAgICAgICAgLy8gU21hbGwgc2l6ZSBpcyBwcmVmZXJhYmxlLlxuICAgICAgICAvLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbiAgICAgICAgLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbiAgICAgICAgLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4gICAgICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuICAgICAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgICAgIC8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAgICAgLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuICAgICAgICAvLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuICAgICAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgICAgIC8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4gICAgICAgIC8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICAgICAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuICAgICAgICB2YXIgYWRsZXIzMiA9IGZ1bmN0aW9uIGFkbGVyMzIoYWRsZXIsIGJ1ZiwgbGVuLCBwb3MpIHtcbiAgICAgICAgICAgIHZhciBzMSA9IChhZGxlciAmIDB4ZmZmZikgfCAwO1xuICAgICAgICAgICAgdmFyIHMyID0gKChhZGxlciA+Pj4gMTYpICYgMHhmZmZmKSB8IDA7XG4gICAgICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgICAgICB3aGlsZSAobGVuICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxpbWl0IH4gdHdpY2UgbGVzcyB0aGFuIDU1NTIsIHRvIGtlZXBcbiAgICAgICAgICAgICAgICAvLyBzMiBpbiAzMS1iaXRzLCBiZWNhdXNlIHdlIGZvcmNlIHNpZ25lZCBpbnRzLlxuICAgICAgICAgICAgICAgIC8vIGluIG90aGVyIGNhc2UgJT0gd2lsbCBmYWlsLlxuICAgICAgICAgICAgICAgIG4gPSBsZW4gPiAyMDAwID8gMjAwMCA6IGxlbjtcbiAgICAgICAgICAgICAgICBsZW4gLT0gbjtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gKHMxICsgYnVmW3BvcysrXSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICBzMiA9IChzMiArIHMxKSB8IDA7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1uKTtcbiAgICAgICAgICAgICAgICBzMSAlPSA2NTUyMTtcbiAgICAgICAgICAgICAgICBzMiAlPSA2NTUyMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzMSB8IChzMiA8PCAxNikgfCAwO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgYWRsZXIzMl8xID0gYWRsZXIzMjtcbiAgICAgICAgLy8gU28gd3JpdGUgY29kZSB0byBtaW5pbWl6ZSBzaXplIC0gbm8gcHJlZ2VuZXJhdGVkIHRhYmxlc1xuICAgICAgICAvLyBhbmQgYXJyYXkgdG9vbHMgZGVwZW5kZW5jaWVzLlxuICAgICAgICAvLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbiAgICAgICAgLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbiAgICAgICAgLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4gICAgICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuICAgICAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgICAgIC8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAgICAgLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuICAgICAgICAvLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuICAgICAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgICAgIC8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4gICAgICAgIC8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICAgICAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuICAgICAgICAvLyBVc2Ugb3JkaW5hcnkgYXJyYXksIHNpbmNlIHVudHlwZWQgbWFrZXMgbm8gYm9vc3QgaGVyZVxuICAgICAgICB2YXIgbWFrZVRhYmxlID0gZnVuY3Rpb24gbWFrZVRhYmxlKCkge1xuICAgICAgICAgICAgdmFyIGM7XG4gICAgICAgICAgICB2YXIgdGFibGUgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgMjU2OyBuKyspIHtcbiAgICAgICAgICAgICAgICBjID0gbjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICBjID0gYyAmIDEgPyAweGVkYjg4MzIwIF4gKGMgPj4+IDEpIDogYyA+Pj4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFibGVbbl0gPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhYmxlO1xuICAgICAgICB9OyAvLyBDcmVhdGUgdGFibGUgb24gbG9hZC4gSnVzdCAyNTUgc2lnbmVkIGxvbmdzLiBOb3QgYSBwcm9ibGVtLlxuICAgICAgICB2YXIgY3JjVGFibGUgPSBuZXcgVWludDMyQXJyYXkobWFrZVRhYmxlKCkpO1xuICAgICAgICB2YXIgY3JjMzIgPSBmdW5jdGlvbiBjcmMzMihjcmMsIGJ1ZiwgbGVuLCBwb3MpIHtcbiAgICAgICAgICAgIHZhciB0ID0gY3JjVGFibGU7XG4gICAgICAgICAgICB2YXIgZW5kID0gcG9zICsgbGVuO1xuICAgICAgICAgICAgY3JjIF49IC0xO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHBvczsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3JjID0gKGNyYyA+Pj4gOCkgXiB0WyhjcmMgXiBidWZbaV0pICYgMHhmZl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3JjIF4gLTE7IC8vID4+PiAwO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgY3JjMzJfMSA9IGNyYzMyO1xuICAgICAgICAvLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuICAgICAgICAvLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbiAgICAgICAgLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4gICAgICAgIC8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbiAgICAgICAgLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuICAgICAgICAvLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4gICAgICAgIC8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4gICAgICAgIC8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbiAgICAgICAgLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbiAgICAgICAgLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4gICAgICAgIC8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHtcbiAgICAgICAgICAgIDI6ICduZWVkIGRpY3Rpb25hcnknLFxuICAgICAgICAgICAgLyogWl9ORUVEX0RJQ1QgICAgICAgMiAgKi9cbiAgICAgICAgICAgIDE6ICdzdHJlYW0gZW5kJyxcbiAgICAgICAgICAgIC8qIFpfU1RSRUFNX0VORCAgICAgIDEgICovXG4gICAgICAgICAgICAwOiAnJyxcbiAgICAgICAgICAgIC8qIFpfT0sgICAgICAgICAgICAgIDAgICovXG4gICAgICAgICAgICAnLTEnOiAnZmlsZSBlcnJvcicsXG4gICAgICAgICAgICAvKiBaX0VSUk5PICAgICAgICAgKC0xKSAqL1xuICAgICAgICAgICAgJy0yJzogJ3N0cmVhbSBlcnJvcicsXG4gICAgICAgICAgICAvKiBaX1NUUkVBTV9FUlJPUiAgKC0yKSAqL1xuICAgICAgICAgICAgJy0zJzogJ2RhdGEgZXJyb3InLFxuICAgICAgICAgICAgLyogWl9EQVRBX0VSUk9SICAgICgtMykgKi9cbiAgICAgICAgICAgICctNCc6ICdpbnN1ZmZpY2llbnQgbWVtb3J5JyxcbiAgICAgICAgICAgIC8qIFpfTUVNX0VSUk9SICAgICAoLTQpICovXG4gICAgICAgICAgICAnLTUnOiAnYnVmZmVyIGVycm9yJyxcbiAgICAgICAgICAgIC8qIFpfQlVGX0VSUk9SICAgICAoLTUpICovXG4gICAgICAgICAgICAnLTYnOiAnaW5jb21wYXRpYmxlIHZlcnNpb24nLFxuICAgICAgICAgICAgLyogWl9WRVJTSU9OX0VSUk9SICgtNikgKi9cbiAgICAgICAgfTtcbiAgICAgICAgLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbiAgICAgICAgLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4gICAgICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuICAgICAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgICAgIC8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAgICAgLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuICAgICAgICAvLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuICAgICAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgICAgIC8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4gICAgICAgIC8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICAgICAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuICAgICAgICB2YXIgY29uc3RhbnRzID0ge1xuICAgICAgICAgICAgLyogQWxsb3dlZCBmbHVzaCB2YWx1ZXM7IHNlZSBkZWZsYXRlKCkgYW5kIGluZmxhdGUoKSBiZWxvdyBmb3IgZGV0YWlscyAqL1xuICAgICAgICAgICAgWl9OT19GTFVTSDogMCxcbiAgICAgICAgICAgIFpfUEFSVElBTF9GTFVTSDogMSxcbiAgICAgICAgICAgIFpfU1lOQ19GTFVTSDogMixcbiAgICAgICAgICAgIFpfRlVMTF9GTFVTSDogMyxcbiAgICAgICAgICAgIFpfRklOSVNIOiA0LFxuICAgICAgICAgICAgWl9CTE9DSzogNSxcbiAgICAgICAgICAgIFpfVFJFRVM6IDYsXG4gICAgICAgICAgICAvKiBSZXR1cm4gY29kZXMgZm9yIHRoZSBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIGZ1bmN0aW9ucy4gTmVnYXRpdmUgdmFsdWVzXG4gICAgICAgICAgICAgKiBhcmUgZXJyb3JzLCBwb3NpdGl2ZSB2YWx1ZXMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgYnV0IG5vcm1hbCBldmVudHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFpfT0s6IDAsXG4gICAgICAgICAgICBaX1NUUkVBTV9FTkQ6IDEsXG4gICAgICAgICAgICBaX05FRURfRElDVDogMixcbiAgICAgICAgICAgIFpfRVJSTk86IC0xLFxuICAgICAgICAgICAgWl9TVFJFQU1fRVJST1I6IC0yLFxuICAgICAgICAgICAgWl9EQVRBX0VSUk9SOiAtMyxcbiAgICAgICAgICAgIFpfTUVNX0VSUk9SOiAtNCxcbiAgICAgICAgICAgIFpfQlVGX0VSUk9SOiAtNSxcbiAgICAgICAgICAgIC8vIFpfVkVSU0lPTl9FUlJPUjogLTYsXG4gICAgICAgICAgICAvKiBjb21wcmVzc2lvbiBsZXZlbHMgKi9cbiAgICAgICAgICAgIFpfTk9fQ09NUFJFU1NJT046IDAsXG4gICAgICAgICAgICBaX0JFU1RfU1BFRUQ6IDEsXG4gICAgICAgICAgICBaX0JFU1RfQ09NUFJFU1NJT046IDksXG4gICAgICAgICAgICBaX0RFRkFVTFRfQ09NUFJFU1NJT046IC0xLFxuICAgICAgICAgICAgWl9GSUxURVJFRDogMSxcbiAgICAgICAgICAgIFpfSFVGRk1BTl9PTkxZOiAyLFxuICAgICAgICAgICAgWl9STEU6IDMsXG4gICAgICAgICAgICBaX0ZJWEVEOiA0LFxuICAgICAgICAgICAgWl9ERUZBVUxUX1NUUkFURUdZOiAwLFxuICAgICAgICAgICAgLyogUG9zc2libGUgdmFsdWVzIG9mIHRoZSBkYXRhX3R5cGUgZmllbGQgKHRob3VnaCBzZWUgaW5mbGF0ZSgpKSAqL1xuICAgICAgICAgICAgWl9CSU5BUlk6IDAsXG4gICAgICAgICAgICBaX1RFWFQ6IDEsXG4gICAgICAgICAgICAvLyBaX0FTQ0lJOiAgICAgICAgICAgICAgICAxLCAvLyA9IFpfVEVYVCAoZGVwcmVjYXRlZClcbiAgICAgICAgICAgIFpfVU5LTk9XTjogMixcbiAgICAgICAgICAgIC8qIFRoZSBkZWZsYXRlIGNvbXByZXNzaW9uIG1ldGhvZCAqL1xuICAgICAgICAgICAgWl9ERUZMQVRFRDogOCwgLy8gWl9OVUxMOiAgICAgICAgICAgICAgICAgbnVsbCAvLyBVc2UgLTEgb3IgbnVsbCBpbmxpbmUsIGRlcGVuZGluZyBvbiB2YXIgdHlwZVxuICAgICAgICB9O1xuICAgICAgICAvLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuICAgICAgICAvLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbiAgICAgICAgLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4gICAgICAgIC8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbiAgICAgICAgLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuICAgICAgICAvLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4gICAgICAgIC8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4gICAgICAgIC8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbiAgICAgICAgLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbiAgICAgICAgLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4gICAgICAgIC8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG4gICAgICAgIHZhciBfdHJfaW5pdCQxID0gdHJlZXMuX3RyX2luaXQ7XG4gICAgICAgIHZhciBfdHJfc3RvcmVkX2Jsb2NrJDEgPSB0cmVlcy5fdHJfc3RvcmVkX2Jsb2NrO1xuICAgICAgICB2YXIgX3RyX2ZsdXNoX2Jsb2NrJDEgPSB0cmVlcy5fdHJfZmx1c2hfYmxvY2s7XG4gICAgICAgIHZhciBfdHJfdGFsbHkkMSA9IHRyZWVzLl90cl90YWxseTtcbiAgICAgICAgdmFyIF90cl9hbGlnbiQxID0gdHJlZXMuX3RyX2FsaWduO1xuICAgICAgICAvKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgICAgIHZhciBaX05PX0ZMVVNIID0gY29uc3RhbnRzLlpfTk9fRkxVU0g7XG4gICAgICAgIHZhciBaX1BBUlRJQUxfRkxVU0ggPSBjb25zdGFudHMuWl9QQVJUSUFMX0ZMVVNIO1xuICAgICAgICB2YXIgWl9GVUxMX0ZMVVNIID0gY29uc3RhbnRzLlpfRlVMTF9GTFVTSDtcbiAgICAgICAgdmFyIFpfRklOSVNIID0gY29uc3RhbnRzLlpfRklOSVNIO1xuICAgICAgICB2YXIgWl9CTE9DSyA9IGNvbnN0YW50cy5aX0JMT0NLO1xuICAgICAgICB2YXIgWl9PSyA9IGNvbnN0YW50cy5aX09LO1xuICAgICAgICB2YXIgWl9TVFJFQU1fRU5EID0gY29uc3RhbnRzLlpfU1RSRUFNX0VORDtcbiAgICAgICAgdmFyIFpfU1RSRUFNX0VSUk9SID0gY29uc3RhbnRzLlpfU1RSRUFNX0VSUk9SO1xuICAgICAgICB2YXIgWl9EQVRBX0VSUk9SID0gY29uc3RhbnRzLlpfREFUQV9FUlJPUjtcbiAgICAgICAgdmFyIFpfQlVGX0VSUk9SID0gY29uc3RhbnRzLlpfQlVGX0VSUk9SO1xuICAgICAgICB2YXIgWl9ERUZBVUxUX0NPTVBSRVNTSU9OID0gY29uc3RhbnRzLlpfREVGQVVMVF9DT01QUkVTU0lPTjtcbiAgICAgICAgdmFyIFpfRklMVEVSRUQgPSBjb25zdGFudHMuWl9GSUxURVJFRDtcbiAgICAgICAgdmFyIFpfSFVGRk1BTl9PTkxZID0gY29uc3RhbnRzLlpfSFVGRk1BTl9PTkxZO1xuICAgICAgICB2YXIgWl9STEUgPSBjb25zdGFudHMuWl9STEU7XG4gICAgICAgIHZhciBaX0ZJWEVEJDEgPSBjb25zdGFudHMuWl9GSVhFRDtcbiAgICAgICAgdmFyIFpfREVGQVVMVF9TVFJBVEVHWSA9IGNvbnN0YW50cy5aX0RFRkFVTFRfU1RSQVRFR1k7XG4gICAgICAgIHZhciBaX1VOS05PV04kMSA9IGNvbnN0YW50cy5aX1VOS05PV047XG4gICAgICAgIHZhciBaX0RFRkxBVEVEID0gY29uc3RhbnRzLlpfREVGTEFURUQ7XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgICAgICAgdmFyIE1BWF9NRU1fTEVWRUwgPSA5O1xuICAgICAgICAvKiBNYXhpbXVtIHZhbHVlIGZvciBtZW1MZXZlbCBpbiBkZWZsYXRlSW5pdDIgKi9cbiAgICAgICAgdmFyIE1BWF9XQklUUyA9IDE1O1xuICAgICAgICAvKiAzMksgTFo3NyB3aW5kb3cgKi9cbiAgICAgICAgdmFyIERFRl9NRU1fTEVWRUwgPSA4O1xuICAgICAgICB2YXIgTEVOR1RIX0NPREVTJDEgPSAyOTtcbiAgICAgICAgLyogbnVtYmVyIG9mIGxlbmd0aCBjb2Rlcywgbm90IGNvdW50aW5nIHRoZSBzcGVjaWFsIEVORF9CTE9DSyBjb2RlICovXG4gICAgICAgIHZhciBMSVRFUkFMUyQxID0gMjU2O1xuICAgICAgICAvKiBudW1iZXIgb2YgbGl0ZXJhbCBieXRlcyAwLi4yNTUgKi9cbiAgICAgICAgdmFyIExfQ09ERVMkMSA9IExJVEVSQUxTJDEgKyAxICsgTEVOR1RIX0NPREVTJDE7XG4gICAgICAgIC8qIG51bWJlciBvZiBMaXRlcmFsIG9yIExlbmd0aCBjb2RlcywgaW5jbHVkaW5nIHRoZSBFTkRfQkxPQ0sgY29kZSAqL1xuICAgICAgICB2YXIgRF9DT0RFUyQxID0gMzA7XG4gICAgICAgIC8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlcyAqL1xuICAgICAgICB2YXIgQkxfQ09ERVMkMSA9IDE5O1xuICAgICAgICAvKiBudW1iZXIgb2YgY29kZXMgdXNlZCB0byB0cmFuc2ZlciB0aGUgYml0IGxlbmd0aHMgKi9cbiAgICAgICAgdmFyIEhFQVBfU0laRSQxID0gMiAqIExfQ09ERVMkMSArIDE7XG4gICAgICAgIC8qIG1heGltdW0gaGVhcCBzaXplICovXG4gICAgICAgIHZhciBNQVhfQklUUyQxID0gMTU7XG4gICAgICAgIC8qIEFsbCBjb2RlcyBtdXN0IG5vdCBleGNlZWQgTUFYX0JJVFMgYml0cyAqL1xuICAgICAgICB2YXIgTUlOX01BVENIJDEgPSAzO1xuICAgICAgICB2YXIgTUFYX01BVENIJDEgPSAyNTg7XG4gICAgICAgIHZhciBNSU5fTE9PS0FIRUFEID0gTUFYX01BVENIJDEgKyBNSU5fTUFUQ0gkMSArIDE7XG4gICAgICAgIHZhciBQUkVTRVRfRElDVCA9IDB4MjA7XG4gICAgICAgIHZhciBJTklUX1NUQVRFID0gNDI7XG4gICAgICAgIHZhciBFWFRSQV9TVEFURSA9IDY5O1xuICAgICAgICB2YXIgTkFNRV9TVEFURSA9IDczO1xuICAgICAgICB2YXIgQ09NTUVOVF9TVEFURSA9IDkxO1xuICAgICAgICB2YXIgSENSQ19TVEFURSA9IDEwMztcbiAgICAgICAgdmFyIEJVU1lfU1RBVEUgPSAxMTM7XG4gICAgICAgIHZhciBGSU5JU0hfU1RBVEUgPSA2NjY7XG4gICAgICAgIHZhciBCU19ORUVEX01PUkUgPSAxO1xuICAgICAgICAvKiBibG9jayBub3QgY29tcGxldGVkLCBuZWVkIG1vcmUgaW5wdXQgb3IgbW9yZSBvdXRwdXQgKi9cbiAgICAgICAgdmFyIEJTX0JMT0NLX0RPTkUgPSAyO1xuICAgICAgICAvKiBibG9jayBmbHVzaCBwZXJmb3JtZWQgKi9cbiAgICAgICAgdmFyIEJTX0ZJTklTSF9TVEFSVEVEID0gMztcbiAgICAgICAgLyogZmluaXNoIHN0YXJ0ZWQsIG5lZWQgb25seSBtb3JlIG91dHB1dCBhdCBuZXh0IGRlZmxhdGUgKi9cbiAgICAgICAgdmFyIEJTX0ZJTklTSF9ET05FID0gNDtcbiAgICAgICAgLyogZmluaXNoIGRvbmUsIGFjY2VwdCBubyBtb3JlIGlucHV0IG9yIG91dHB1dCAqL1xuICAgICAgICB2YXIgT1NfQ09ERSA9IDB4MDM7IC8vIFVuaXggOikgLiBEb24ndCBkZXRlY3QsIHVzZSB0aGlzIGRlZmF1bHQuXG4gICAgICAgIHZhciBlcnIgPSBmdW5jdGlvbiBlcnIoc3RybSwgZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9IG1lc3NhZ2VzW2Vycm9yQ29kZV07XG4gICAgICAgICAgICByZXR1cm4gZXJyb3JDb2RlO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmFuayA9IGZ1bmN0aW9uIHJhbmsoZikge1xuICAgICAgICAgICAgcmV0dXJuIChmIDw8IDEpIC0gKGYgPiA0ID8gOSA6IDApO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgemVybyQxID0gZnVuY3Rpb24gemVybyhidWYpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSBidWYubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKC0tbGVuID49IDApIHtcbiAgICAgICAgICAgICAgICBidWZbbGVuXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBIQVNIX1pMSUIgPSBmdW5jdGlvbiBIQVNIX1pMSUIocywgcHJldiwgZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuICgocHJldiA8PCBzLmhhc2hfc2hpZnQpIF4gZGF0YSkgJiBzLmhhc2hfbWFzaztcbiAgICAgICAgfTsgLy8gVGhpcyBoYXNoIGNhdXNlcyBsZXNzIGNvbGxpc2lvbnMsIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGFrby9pc3N1ZXMvMTM1XG4gICAgICAgIC8vIEJ1dCBicmVha3MgYmluYXJ5IGNvbXBhdGliaWxpdHlcbiAgICAgICAgLy8gbGV0IEhBU0hfRkFTVCA9IChzLCBwcmV2LCBkYXRhKSA9PiAoKHByZXYgPDwgOCkgKyAocHJldiA+PiA4KSArIChkYXRhIDw8IDQpKSAmIHMuaGFzaF9tYXNrO1xuICAgICAgICB2YXIgSEFTSCA9IEhBU0hfWkxJQjtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBGbHVzaCBhcyBtdWNoIHBlbmRpbmcgb3V0cHV0IGFzIHBvc3NpYmxlLiBBbGwgZGVmbGF0ZSgpIG91dHB1dCBnb2VzXG4gICAgICAgICAqIHRocm91Z2ggdGhpcyBmdW5jdGlvbiBzbyBzb21lIGFwcGxpY2F0aW9ucyBtYXkgd2lzaCB0byBtb2RpZnkgaXRcbiAgICAgICAgICogdG8gYXZvaWQgYWxsb2NhdGluZyBhIGxhcmdlIHN0cm0tPm91dHB1dCBidWZmZXIgYW5kIGNvcHlpbmcgaW50byBpdC5cbiAgICAgICAgICogKFNlZSBhbHNvIHJlYWRfYnVmKCkpLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGZsdXNoX3BlbmRpbmcgPSBmdW5jdGlvbiBmbHVzaF9wZW5kaW5nKHN0cm0pIHtcbiAgICAgICAgICAgIHZhciBzID0gc3RybS5zdGF0ZTsgLy8gX3RyX2ZsdXNoX2JpdHMocyk7XG4gICAgICAgICAgICB2YXIgbGVuID0gcy5wZW5kaW5nO1xuICAgICAgICAgICAgaWYgKGxlbiA+IHN0cm0uYXZhaWxfb3V0KSB7XG4gICAgICAgICAgICAgICAgbGVuID0gc3RybS5hdmFpbF9vdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RybS5vdXRwdXQuc2V0KHMucGVuZGluZ19idWYuc3ViYXJyYXkocy5wZW5kaW5nX291dCwgcy5wZW5kaW5nX291dCArIGxlbiksIHN0cm0ubmV4dF9vdXQpO1xuICAgICAgICAgICAgc3RybS5uZXh0X291dCArPSBsZW47XG4gICAgICAgICAgICBzLnBlbmRpbmdfb3V0ICs9IGxlbjtcbiAgICAgICAgICAgIHN0cm0udG90YWxfb3V0ICs9IGxlbjtcbiAgICAgICAgICAgIHN0cm0uYXZhaWxfb3V0IC09IGxlbjtcbiAgICAgICAgICAgIHMucGVuZGluZyAtPSBsZW47XG4gICAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcy5wZW5kaW5nX291dCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBmbHVzaF9ibG9ja19vbmx5ID0gZnVuY3Rpb24gZmx1c2hfYmxvY2tfb25seShzLCBsYXN0KSB7XG4gICAgICAgICAgICBfdHJfZmx1c2hfYmxvY2skMShzLCBzLmJsb2NrX3N0YXJ0ID49IDAgPyBzLmJsb2NrX3N0YXJ0IDogLTEsIHMuc3Ryc3RhcnQgLSBzLmJsb2NrX3N0YXJ0LCBsYXN0KTtcbiAgICAgICAgICAgIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgICAgZmx1c2hfcGVuZGluZyhzLnN0cm0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcHV0X2J5dGUgPSBmdW5jdGlvbiBwdXRfYnl0ZShzLCBiKSB7XG4gICAgICAgICAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IGI7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogUHV0IGEgc2hvcnQgaW4gdGhlIHBlbmRpbmcgYnVmZmVyLiBUaGUgMTYtYml0IHZhbHVlIGlzIHB1dCBpbiBNU0Igb3JkZXIuXG4gICAgICAgICAqIElOIGFzc2VydGlvbjogdGhlIHN0cmVhbSBzdGF0ZSBpcyBjb3JyZWN0IGFuZCB0aGVyZSBpcyBlbm91Z2ggcm9vbSBpblxuICAgICAgICAgKiBwZW5kaW5nX2J1Zi5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBwdXRTaG9ydE1TQiA9IGZ1bmN0aW9uIHB1dFNob3J0TVNCKHMsIGIpIHtcbiAgICAgICAgICAgIC8vICBwdXRfYnl0ZShzLCAoQnl0ZSkoYiA+PiA4KSk7XG4gICAgICAgICAgICAvLyAgcHV0X2J5dGUocywgKEJ5dGUpKGIgJiAweGZmKSk7XG4gICAgICAgICAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IChiID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IGIgJiAweGZmO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogUmVhZCBhIG5ldyBidWZmZXIgZnJvbSB0aGUgY3VycmVudCBpbnB1dCBzdHJlYW0sIHVwZGF0ZSB0aGUgYWRsZXIzMlxuICAgICAgICAgKiBhbmQgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIHJlYWQuICBBbGwgZGVmbGF0ZSgpIGlucHV0IGdvZXMgdGhyb3VnaFxuICAgICAgICAgKiB0aGlzIGZ1bmN0aW9uIHNvIHNvbWUgYXBwbGljYXRpb25zIG1heSB3aXNoIHRvIG1vZGlmeSBpdCB0byBhdm9pZFxuICAgICAgICAgKiBhbGxvY2F0aW5nIGEgbGFyZ2Ugc3RybS0+aW5wdXQgYnVmZmVyIGFuZCBjb3B5aW5nIGZyb20gaXQuXG4gICAgICAgICAqIChTZWUgYWxzbyBmbHVzaF9wZW5kaW5nKCkpLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHJlYWRfYnVmID0gZnVuY3Rpb24gcmVhZF9idWYoc3RybSwgYnVmLCBzdGFydCwgc2l6ZSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHN0cm0uYXZhaWxfaW47XG4gICAgICAgICAgICBpZiAobGVuID4gc2l6ZSkge1xuICAgICAgICAgICAgICAgIGxlbiA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJtLmF2YWlsX2luIC09IGxlbjsgLy8gem1lbWNweShidWYsIHN0cm0tPm5leHRfaW4sIGxlbik7XG4gICAgICAgICAgICBidWYuc2V0KHN0cm0uaW5wdXQuc3ViYXJyYXkoc3RybS5uZXh0X2luLCBzdHJtLm5leHRfaW4gKyBsZW4pLCBzdGFydCk7XG4gICAgICAgICAgICBpZiAoc3RybS5zdGF0ZS53cmFwID09PSAxKSB7XG4gICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IGFkbGVyMzJfMShzdHJtLmFkbGVyLCBidWYsIGxlbiwgc3RhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RybS5zdGF0ZS53cmFwID09PSAyKSB7XG4gICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgYnVmLCBsZW4sIHN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cm0ubmV4dF9pbiArPSBsZW47XG4gICAgICAgICAgICBzdHJtLnRvdGFsX2luICs9IGxlbjtcbiAgICAgICAgICAgIHJldHVybiBsZW47XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBTZXQgbWF0Y2hfc3RhcnQgdG8gdGhlIGxvbmdlc3QgbWF0Y2ggc3RhcnRpbmcgYXQgdGhlIGdpdmVuIHN0cmluZyBhbmRcbiAgICAgICAgICogcmV0dXJuIGl0cyBsZW5ndGguIE1hdGNoZXMgc2hvcnRlciBvciBlcXVhbCB0byBwcmV2X2xlbmd0aCBhcmUgZGlzY2FyZGVkLFxuICAgICAgICAgKiBpbiB3aGljaCBjYXNlIHRoZSByZXN1bHQgaXMgZXF1YWwgdG8gcHJldl9sZW5ndGggYW5kIG1hdGNoX3N0YXJ0IGlzXG4gICAgICAgICAqIGdhcmJhZ2UuXG4gICAgICAgICAqIElOIGFzc2VydGlvbnM6IGN1cl9tYXRjaCBpcyB0aGUgaGVhZCBvZiB0aGUgaGFzaCBjaGFpbiBmb3IgdGhlIGN1cnJlbnRcbiAgICAgICAgICogICBzdHJpbmcgKHN0cnN0YXJ0KSBhbmQgaXRzIGRpc3RhbmNlIGlzIDw9IE1BWF9ESVNULCBhbmQgcHJldl9sZW5ndGggPj0gMVxuICAgICAgICAgKiBPVVQgYXNzZXJ0aW9uOiB0aGUgbWF0Y2ggbGVuZ3RoIGlzIG5vdCBncmVhdGVyIHRoYW4gcy0+bG9va2FoZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGxvbmdlc3RfbWF0Y2ggPSBmdW5jdGlvbiBsb25nZXN0X21hdGNoKHMsIGN1cl9tYXRjaCkge1xuICAgICAgICAgICAgdmFyIGNoYWluX2xlbmd0aCA9IHMubWF4X2NoYWluX2xlbmd0aDtcbiAgICAgICAgICAgIC8qIG1heCBoYXNoIGNoYWluIGxlbmd0aCAqL1xuICAgICAgICAgICAgdmFyIHNjYW4gPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgICAgLyogY3VycmVudCBzdHJpbmcgKi9cbiAgICAgICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgICAgIC8qIG1hdGNoZWQgc3RyaW5nICovXG4gICAgICAgICAgICB2YXIgbGVuO1xuICAgICAgICAgICAgLyogbGVuZ3RoIG9mIGN1cnJlbnQgbWF0Y2ggKi9cbiAgICAgICAgICAgIHZhciBiZXN0X2xlbiA9IHMucHJldl9sZW5ndGg7XG4gICAgICAgICAgICAvKiBiZXN0IG1hdGNoIGxlbmd0aCBzbyBmYXIgKi9cbiAgICAgICAgICAgIHZhciBuaWNlX21hdGNoID0gcy5uaWNlX21hdGNoO1xuICAgICAgICAgICAgLyogc3RvcCBpZiBtYXRjaCBsb25nIGVub3VnaCAqL1xuICAgICAgICAgICAgdmFyIGxpbWl0ID0gcy5zdHJzdGFydCA+IHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCA/IHMuc3Ryc3RhcnQgLSAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSA6IDA7XG4gICAgICAgICAgICAvKiBOSUwgKi9cbiAgICAgICAgICAgIHZhciBfd2luID0gcy53aW5kb3c7IC8vIHNob3J0Y3V0XG4gICAgICAgICAgICB2YXIgd21hc2sgPSBzLndfbWFzaztcbiAgICAgICAgICAgIHZhciBwcmV2ID0gcy5wcmV2O1xuICAgICAgICAgICAgLyogU3RvcCB3aGVuIGN1cl9tYXRjaCBiZWNvbWVzIDw9IGxpbWl0LiBUbyBzaW1wbGlmeSB0aGUgY29kZSxcbiAgICAgICAgICAgICAqIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmcgb2Ygd2luZG93IGluZGV4IDAuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBzdHJlbmQgPSBzLnN0cnN0YXJ0ICsgTUFYX01BVENIJDE7XG4gICAgICAgICAgICB2YXIgc2Nhbl9lbmQxID0gX3dpbltzY2FuICsgYmVzdF9sZW4gLSAxXTtcbiAgICAgICAgICAgIHZhciBzY2FuX2VuZCA9IF93aW5bc2NhbiArIGJlc3RfbGVuXTtcbiAgICAgICAgICAgIC8qIFRoZSBjb2RlIGlzIG9wdGltaXplZCBmb3IgSEFTSF9CSVRTID49IDggYW5kIE1BWF9NQVRDSC0yIG11bHRpcGxlIG9mIDE2LlxuICAgICAgICAgICAgICogSXQgaXMgZWFzeSB0byBnZXQgcmlkIG9mIHRoaXMgb3B0aW1pemF0aW9uIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gQXNzZXJ0KHMtPmhhc2hfYml0cyA+PSA4ICYmIE1BWF9NQVRDSCA9PSAyNTgsIFwiQ29kZSB0b28gY2xldmVyXCIpO1xuICAgICAgICAgICAgLyogRG8gbm90IHdhc3RlIHRvbyBtdWNoIHRpbWUgaWYgd2UgYWxyZWFkeSBoYXZlIGEgZ29vZCBtYXRjaDogKi9cbiAgICAgICAgICAgIGlmIChzLnByZXZfbGVuZ3RoID49IHMuZ29vZF9tYXRjaCkge1xuICAgICAgICAgICAgICAgIGNoYWluX2xlbmd0aCA+Pj0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIERvIG5vdCBsb29rIGZvciBtYXRjaGVzIGJleW9uZCB0aGUgZW5kIG9mIHRoZSBpbnB1dC4gVGhpcyBpcyBuZWNlc3NhcnlcbiAgICAgICAgICAgICAqIHRvIG1ha2UgZGVmbGF0ZSBkZXRlcm1pbmlzdGljLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAobmljZV9tYXRjaCA+IHMubG9va2FoZWFkKSB7XG4gICAgICAgICAgICAgICAgbmljZV9tYXRjaCA9IHMubG9va2FoZWFkO1xuICAgICAgICAgICAgfSAvLyBBc3NlcnQoKHVsZylzLT5zdHJzdGFydCA8PSBzLT53aW5kb3dfc2l6ZS1NSU5fTE9PS0FIRUFELCBcIm5lZWQgbG9va2FoZWFkXCIpO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIC8vIEFzc2VydChjdXJfbWF0Y2ggPCBzLT5zdHJzdGFydCwgXCJubyBmdXR1cmVcIik7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBjdXJfbWF0Y2g7XG4gICAgICAgICAgICAgICAgLyogU2tpcCB0byBuZXh0IG1hdGNoIGlmIHRoZSBtYXRjaCBsZW5ndGggY2Fubm90IGluY3JlYXNlXG4gICAgICAgICAgICAgICAgICogb3IgaWYgdGhlIG1hdGNoIGxlbmd0aCBpcyBsZXNzIHRoYW4gMi4gIE5vdGUgdGhhdCB0aGUgY2hlY2tzIGJlbG93XG4gICAgICAgICAgICAgICAgICogZm9yIGluc3VmZmljaWVudCBsb29rYWhlYWQgb25seSBvY2N1ciBvY2Nhc2lvbmFsbHkgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICAgICAgICogcmVhc29ucy4gIFRoZXJlZm9yZSB1bmluaXRpYWxpemVkIG1lbW9yeSB3aWxsIGJlIGFjY2Vzc2VkLCBhbmRcbiAgICAgICAgICAgICAgICAgKiBjb25kaXRpb25hbCBqdW1wcyB3aWxsIGJlIG1hZGUgdGhhdCBkZXBlbmQgb24gdGhvc2UgdmFsdWVzLlxuICAgICAgICAgICAgICAgICAqIEhvd2V2ZXIgdGhlIGxlbmd0aCBvZiB0aGUgbWF0Y2ggaXMgbGltaXRlZCB0byB0aGUgbG9va2FoZWFkLCBzb1xuICAgICAgICAgICAgICAgICAqIHRoZSBvdXRwdXQgb2YgZGVmbGF0ZSBpcyBub3QgYWZmZWN0ZWQgYnkgdGhlIHVuaW5pdGlhbGl6ZWQgdmFsdWVzLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChfd2luW21hdGNoICsgYmVzdF9sZW5dICE9PSBzY2FuX2VuZCB8fFxuICAgICAgICAgICAgICAgICAgICBfd2luW21hdGNoICsgYmVzdF9sZW4gLSAxXSAhPT0gc2Nhbl9lbmQxIHx8XG4gICAgICAgICAgICAgICAgICAgIF93aW5bbWF0Y2hdICE9PSBfd2luW3NjYW5dIHx8XG4gICAgICAgICAgICAgICAgICAgIF93aW5bKyttYXRjaF0gIT09IF93aW5bc2NhbiArIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBUaGUgY2hlY2sgYXQgYmVzdF9sZW4tMSBjYW4gYmUgcmVtb3ZlZCBiZWNhdXNlIGl0IHdpbGwgYmUgbWFkZVxuICAgICAgICAgICAgICAgICAqIGFnYWluIGxhdGVyLiAoVGhpcyBoZXVyaXN0aWMgaXMgbm90IGFsd2F5cyBhIHdpbi4pXG4gICAgICAgICAgICAgICAgICogSXQgaXMgbm90IG5lY2Vzc2FyeSB0byBjb21wYXJlIHNjYW5bMl0gYW5kIG1hdGNoWzJdIHNpbmNlIHRoZXlcbiAgICAgICAgICAgICAgICAgKiBhcmUgYWx3YXlzIGVxdWFsIHdoZW4gdGhlIG90aGVyIGJ5dGVzIG1hdGNoLCBnaXZlbiB0aGF0XG4gICAgICAgICAgICAgICAgICogdGhlIGhhc2gga2V5cyBhcmUgZXF1YWwgYW5kIHRoYXQgSEFTSF9CSVRTID49IDguXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2NhbiArPSAyO1xuICAgICAgICAgICAgICAgIG1hdGNoKys7IC8vIEFzc2VydCgqc2NhbiA9PSAqbWF0Y2gsIFwibWF0Y2hbMl0/XCIpO1xuICAgICAgICAgICAgICAgIC8qIFdlIGNoZWNrIGZvciBpbnN1ZmZpY2llbnQgbG9va2FoZWFkIG9ubHkgZXZlcnkgOHRoIGNvbXBhcmlzb247XG4gICAgICAgICAgICAgICAgICogdGhlIDI1NnRoIGNoZWNrIHdpbGwgYmUgbWFkZSBhdCBzdHJzdGFydCsyNTguXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAvKiBqc2hpbnQgbm9lbXB0eTpmYWxzZSAqL1xuICAgICAgICAgICAgICAgIH0gd2hpbGUgKF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgICAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgICAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICAgICAgICAgc2NhbiA8IHN0cmVuZCk7IC8vIEFzc2VydChzY2FuIDw9IHMtPndpbmRvdysodW5zaWduZWQpKHMtPndpbmRvd19zaXplLTEpLCBcIndpbGQgc2NhblwiKTtcbiAgICAgICAgICAgICAgICBsZW4gPSBNQVhfTUFUQ0gkMSAtIChzdHJlbmQgLSBzY2FuKTtcbiAgICAgICAgICAgICAgICBzY2FuID0gc3RyZW5kIC0gTUFYX01BVENIJDE7XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IGJlc3RfbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfc3RhcnQgPSBjdXJfbWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RfbGVuID0gbGVuO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVuID49IG5pY2VfbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNjYW5fZW5kMSA9IF93aW5bc2NhbiArIGJlc3RfbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHNjYW5fZW5kID0gX3dpbltzY2FuICsgYmVzdF9sZW5dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKChjdXJfbWF0Y2ggPSBwcmV2W2N1cl9tYXRjaCAmIHdtYXNrXSkgPiBsaW1pdCAmJiAtLWNoYWluX2xlbmd0aCAhPT0gMCk7XG4gICAgICAgICAgICBpZiAoYmVzdF9sZW4gPD0gcy5sb29rYWhlYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmVzdF9sZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcy5sb29rYWhlYWQ7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBGaWxsIHRoZSB3aW5kb3cgd2hlbiB0aGUgbG9va2FoZWFkIGJlY29tZXMgaW5zdWZmaWNpZW50LlxuICAgICAgICAgKiBVcGRhdGVzIHN0cnN0YXJ0IGFuZCBsb29rYWhlYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIElOIGFzc2VydGlvbjogbG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRFxuICAgICAgICAgKiBPVVQgYXNzZXJ0aW9uczogc3Ryc3RhcnQgPD0gd2luZG93X3NpemUtTUlOX0xPT0tBSEVBRFxuICAgICAgICAgKiAgICBBdCBsZWFzdCBvbmUgYnl0ZSBoYXMgYmVlbiByZWFkLCBvciBhdmFpbF9pbiA9PSAwOyByZWFkcyBhcmVcbiAgICAgICAgICogICAgcGVyZm9ybWVkIGZvciBhdCBsZWFzdCB0d28gYnl0ZXMgKHJlcXVpcmVkIGZvciB0aGUgemlwIHRyYW5zbGF0ZV9lb2xcbiAgICAgICAgICogICAgb3B0aW9uIC0tIG5vdCBzdXBwb3J0ZWQgaGVyZSkuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgZmlsbF93aW5kb3cgPSBmdW5jdGlvbiBmaWxsX3dpbmRvdyhzKSB7XG4gICAgICAgICAgICB2YXIgX3dfc2l6ZSA9IHMud19zaXplO1xuICAgICAgICAgICAgdmFyIHA7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIHZhciBtO1xuICAgICAgICAgICAgdmFyIG1vcmU7XG4gICAgICAgICAgICB2YXIgc3RyOyAvLyBBc3NlcnQocy0+bG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCwgXCJhbHJlYWR5IGVub3VnaCBsb29rYWhlYWRcIik7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbW9yZSA9IHMud2luZG93X3NpemUgLSBzLmxvb2thaGVhZCAtIHMuc3Ryc3RhcnQ7IC8vIEpTIGludHMgaGF2ZSAzMiBiaXQsIGJsb2NrIGJlbG93IG5vdCBuZWVkZWRcbiAgICAgICAgICAgICAgICAvKiBEZWFsIHdpdGggIUAjJCUgNjRLIGxpbWl0OiAqL1xuICAgICAgICAgICAgICAgIC8vIGlmIChzaXplb2YoaW50KSA8PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgaWYgKG1vcmUgPT0gMCAmJiBzLT5zdHJzdGFydCA9PSAwICYmIHMtPmxvb2thaGVhZCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIG1vcmUgPSB3c2l6ZTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICB9IGVsc2UgaWYgKG1vcmUgPT0gKHVuc2lnbmVkKSgtMSkpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgLyogVmVyeSB1bmxpa2VseSwgYnV0IHBvc3NpYmxlIG9uIDE2IGJpdCBtYWNoaW5lIGlmXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAqIHN0cnN0YXJ0ID09IDAgJiYgbG9va2FoZWFkID09IDEgKGlucHV0IGRvbmUgYSBieXRlIGF0IHRpbWUpXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBtb3JlLS07XG4gICAgICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvKiBJZiB0aGUgd2luZG93IGlzIGFsbW9zdCBmdWxsIGFuZCB0aGVyZSBpcyBpbnN1ZmZpY2llbnQgbG9va2FoZWFkLFxuICAgICAgICAgICAgICAgICAqIG1vdmUgdGhlIHVwcGVyIGhhbGYgdG8gdGhlIGxvd2VyIG9uZSB0byBtYWtlIHJvb20gaW4gdGhlIHVwcGVyIGhhbGYuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHMuc3Ryc3RhcnQgPj0gX3dfc2l6ZSArIChfd19zaXplIC0gTUlOX0xPT0tBSEVBRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcy53aW5kb3cuc2V0KHMud2luZG93LnN1YmFycmF5KF93X3NpemUsIF93X3NpemUgKyBfd19zaXplKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfc3RhcnQgLT0gX3dfc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCAtPSBfd19zaXplO1xuICAgICAgICAgICAgICAgICAgICAvKiB3ZSBub3cgaGF2ZSBzdHJzdGFydCA+PSBNQVhfRElTVCAqL1xuICAgICAgICAgICAgICAgICAgICBzLmJsb2NrX3N0YXJ0IC09IF93X3NpemU7XG4gICAgICAgICAgICAgICAgICAgIC8qIFNsaWRlIHRoZSBoYXNoIHRhYmxlIChjb3VsZCBiZSBhdm9pZGVkIHdpdGggMzIgYml0IHZhbHVlc1xuICAgICAgICAgICAgICAgICAgIGF0IHRoZSBleHBlbnNlIG9mIG1lbW9yeSB1c2FnZSkuIFdlIHNsaWRlIGV2ZW4gd2hlbiBsZXZlbCA9PSAwXG4gICAgICAgICAgICAgICAgICAgdG8ga2VlcCB0aGUgaGFzaCB0YWJsZSBjb25zaXN0ZW50IGlmIHdlIHN3aXRjaCBiYWNrIHRvIGxldmVsID4gMFxuICAgICAgICAgICAgICAgICAgIGxhdGVyLiAoVXNpbmcgbGV2ZWwgMCBwZXJtYW5lbnRseSBpcyBub3QgYW4gb3B0aW1hbCB1c2FnZSBvZlxuICAgICAgICAgICAgICAgICAgIHpsaWIsIHNvIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhpcyBwYXRob2xvZ2ljYWwgY2FzZS4pXG4gICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgbiA9IHMuaGFzaF9zaXplO1xuICAgICAgICAgICAgICAgICAgICBwID0gbjtcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbSA9IHMuaGVhZFstLXBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5oZWFkW3BdID0gbSA+PSBfd19zaXplID8gbSAtIF93X3NpemUgOiAwO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW4pO1xuICAgICAgICAgICAgICAgICAgICBuID0gX3dfc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgcCA9IG47XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBzLnByZXZbLS1wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMucHJldltwXSA9IG0gPj0gX3dfc2l6ZSA/IG0gLSBfd19zaXplIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIElmIG4gaXMgbm90IG9uIGFueSBoYXNoIGNoYWluLCBwcmV2W25dIGlzIGdhcmJhZ2UgYnV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBpdHMgdmFsdWUgd2lsbCBuZXZlciBiZSB1c2VkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tbik7XG4gICAgICAgICAgICAgICAgICAgIG1vcmUgKz0gX3dfc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9pbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlcmUgd2FzIG5vIHNsaWRpbmc6XG4gICAgICAgICAgICAgICAgICogICAgc3Ryc3RhcnQgPD0gV1NJWkUrTUFYX0RJU1QtMSAmJiBsb29rYWhlYWQgPD0gTUlOX0xPT0tBSEVBRCAtIDEgJiZcbiAgICAgICAgICAgICAgICAgKiAgICBtb3JlID09IHdpbmRvd19zaXplIC0gbG9va2FoZWFkIC0gc3Ryc3RhcnRcbiAgICAgICAgICAgICAgICAgKiA9PiBtb3JlID49IHdpbmRvd19zaXplIC0gKE1JTl9MT09LQUhFQUQtMSArIFdTSVpFICsgTUFYX0RJU1QtMSlcbiAgICAgICAgICAgICAgICAgKiA9PiBtb3JlID49IHdpbmRvd19zaXplIC0gMipXU0laRSArIDJcbiAgICAgICAgICAgICAgICAgKiBJbiB0aGUgQklHX01FTSBvciBNTUFQIGNhc2UgKG5vdCB5ZXQgc3VwcG9ydGVkKSxcbiAgICAgICAgICAgICAgICAgKiAgIHdpbmRvd19zaXplID09IGlucHV0X3NpemUgKyBNSU5fTE9PS0FIRUFEICAmJlxuICAgICAgICAgICAgICAgICAqICAgc3Ryc3RhcnQgKyBzLT5sb29rYWhlYWQgPD0gaW5wdXRfc2l6ZSA9PiBtb3JlID49IE1JTl9MT09LQUhFQUQuXG4gICAgICAgICAgICAgICAgICogT3RoZXJ3aXNlLCB3aW5kb3dfc2l6ZSA9PSAyKldTSVpFIHNvIG1vcmUgPj0gMi5cbiAgICAgICAgICAgICAgICAgKiBJZiB0aGVyZSB3YXMgc2xpZGluZywgbW9yZSA+PSBXU0laRS4gU28gaW4gYWxsIGNhc2VzLCBtb3JlID49IDIuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgLy8gQXNzZXJ0KG1vcmUgPj0gMiwgXCJtb3JlIDwgMlwiKTtcbiAgICAgICAgICAgICAgICBuID0gcmVhZF9idWYocy5zdHJtLCBzLndpbmRvdywgcy5zdHJzdGFydCArIHMubG9va2FoZWFkLCBtb3JlKTtcbiAgICAgICAgICAgICAgICBzLmxvb2thaGVhZCArPSBuO1xuICAgICAgICAgICAgICAgIC8qIEluaXRpYWxpemUgdGhlIGhhc2ggdmFsdWUgbm93IHRoYXQgd2UgaGF2ZSBzb21lIGlucHV0OiAqL1xuICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCArIHMuaW5zZXJ0ID49IE1JTl9NQVRDSCQxKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHMuc3Ryc3RhcnQgLSBzLmluc2VydDtcbiAgICAgICAgICAgICAgICAgICAgcy5pbnNfaCA9IHMud2luZG93W3N0cl07XG4gICAgICAgICAgICAgICAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgMV0pOyAqL1xuICAgICAgICAgICAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzdHIgKyAxXSk7IC8vICNpZiBNSU5fTUFUQ0ggIT0gM1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgQ2FsbCB1cGRhdGVfaGFzaCgpIE1JTl9NQVRDSC0zIG1vcmUgdGltZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzLmluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogVVBEQVRFX0hBU0gocywgcy0+aW5zX2gsIHMtPndpbmRvd1tzdHIgKyBNSU5fTUFUQ0gtMV0pOyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbc3RyICsgTUlOX01BVENIJDEgLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLnByZXZbc3RyICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gc3RyO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmluc2VydC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkICsgcy5pbnNlcnQgPCBNSU5fTUFUQ0gkMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIElmIHRoZSB3aG9sZSBpbnB1dCBoYXMgbGVzcyB0aGFuIE1JTl9NQVRDSCBieXRlcywgaW5zX2ggaXMgZ2FyYmFnZSxcbiAgICAgICAgICAgICAgICAgKiBidXQgdGhpcyBpcyBub3QgaW1wb3J0YW50IHNpbmNlIG9ubHkgbGl0ZXJhbCBieXRlcyB3aWxsIGJlIGVtaXR0ZWQuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICB9IHdoaWxlIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgcy5zdHJtLmF2YWlsX2luICE9PSAwKTtcbiAgICAgICAgICAgIC8qIElmIHRoZSBXSU5fSU5JVCBieXRlcyBhZnRlciB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGRhdGEgaGF2ZSBuZXZlciBiZWVuXG4gICAgICAgICAgICAgKiB3cml0dGVuLCB0aGVuIHplcm8gdGhvc2UgYnl0ZXMgaW4gb3JkZXIgdG8gYXZvaWQgbWVtb3J5IGNoZWNrIHJlcG9ydHMgb2ZcbiAgICAgICAgICAgICAqIHRoZSB1c2Ugb2YgdW5pbml0aWFsaXplZCAob3IgdW5pbml0aWFsaXNlZCBhcyBKdWxpYW4gd3JpdGVzKSBieXRlcyBieVxuICAgICAgICAgICAgICogdGhlIGxvbmdlc3QgbWF0Y2ggcm91dGluZXMuICBVcGRhdGUgdGhlIGhpZ2ggd2F0ZXIgbWFyayBmb3IgdGhlIG5leHRcbiAgICAgICAgICAgICAqIHRpbWUgdGhyb3VnaCBoZXJlLiAgV0lOX0lOSVQgaXMgc2V0IHRvIE1BWF9NQVRDSCBzaW5jZSB0aGUgbG9uZ2VzdCBtYXRjaFxuICAgICAgICAgICAgICogcm91dGluZXMgYWxsb3cgc2Nhbm5pbmcgdG8gc3Ryc3RhcnQgKyBNQVhfTUFUQ0gsIGlnbm9yaW5nIGxvb2thaGVhZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gIGlmIChzLmhpZ2hfd2F0ZXIgPCBzLndpbmRvd19zaXplKSB7XG4gICAgICAgICAgICAvLyAgICBjb25zdCBjdXJyID0gcy5zdHJzdGFydCArIHMubG9va2FoZWFkO1xuICAgICAgICAgICAgLy8gICAgbGV0IGluaXQgPSAwO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIGlmIChzLmhpZ2hfd2F0ZXIgPCBjdXJyKSB7XG4gICAgICAgICAgICAvLyAgICAgIC8qIFByZXZpb3VzIGhpZ2ggd2F0ZXIgbWFyayBiZWxvdyBjdXJyZW50IGRhdGEgLS0gemVybyBXSU5fSU5JVFxuICAgICAgICAgICAgLy8gICAgICAgKiBieXRlcyBvciB1cCB0byBlbmQgb2Ygd2luZG93LCB3aGljaGV2ZXIgaXMgbGVzcy5cbiAgICAgICAgICAgIC8vICAgICAgICovXG4gICAgICAgICAgICAvLyAgICAgIGluaXQgPSBzLndpbmRvd19zaXplIC0gY3VycjtcbiAgICAgICAgICAgIC8vICAgICAgaWYgKGluaXQgPiBXSU5fSU5JVClcbiAgICAgICAgICAgIC8vICAgICAgICBpbml0ID0gV0lOX0lOSVQ7XG4gICAgICAgICAgICAvLyAgICAgIHptZW16ZXJvKHMtPndpbmRvdyArIGN1cnIsICh1bnNpZ25lZClpbml0KTtcbiAgICAgICAgICAgIC8vICAgICAgcy0+aGlnaF93YXRlciA9IGN1cnIgKyBpbml0O1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy8gICAgZWxzZSBpZiAocy0+aGlnaF93YXRlciA8ICh1bGcpY3VyciArIFdJTl9JTklUKSB7XG4gICAgICAgICAgICAvLyAgICAgIC8qIEhpZ2ggd2F0ZXIgbWFyayBhdCBvciBhYm92ZSBjdXJyZW50IGRhdGEsIGJ1dCBiZWxvdyBjdXJyZW50IGRhdGFcbiAgICAgICAgICAgIC8vICAgICAgICogcGx1cyBXSU5fSU5JVCAtLSB6ZXJvIG91dCB0byBjdXJyZW50IGRhdGEgcGx1cyBXSU5fSU5JVCwgb3IgdXBcbiAgICAgICAgICAgIC8vICAgICAgICogdG8gZW5kIG9mIHdpbmRvdywgd2hpY2hldmVyIGlzIGxlc3MuXG4gICAgICAgICAgICAvLyAgICAgICAqL1xuICAgICAgICAgICAgLy8gICAgICBpbml0ID0gKHVsZyljdXJyICsgV0lOX0lOSVQgLSBzLT5oaWdoX3dhdGVyO1xuICAgICAgICAgICAgLy8gICAgICBpZiAoaW5pdCA+IHMtPndpbmRvd19zaXplIC0gcy0+aGlnaF93YXRlcilcbiAgICAgICAgICAgIC8vICAgICAgICBpbml0ID0gcy0+d2luZG93X3NpemUgLSBzLT5oaWdoX3dhdGVyO1xuICAgICAgICAgICAgLy8gICAgICB6bWVtemVybyhzLT53aW5kb3cgKyBzLT5oaWdoX3dhdGVyLCAodW5zaWduZWQpaW5pdCk7XG4gICAgICAgICAgICAvLyAgICAgIHMtPmhpZ2hfd2F0ZXIgKz0gaW5pdDtcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vICB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gIEFzc2VydCgodWxnKXMtPnN0cnN0YXJ0IDw9IHMtPndpbmRvd19zaXplIC0gTUlOX0xPT0tBSEVBRCxcbiAgICAgICAgICAgIC8vICAgIFwibm90IGVub3VnaCByb29tIGZvciBzZWFyY2hcIik7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBDb3B5IHdpdGhvdXQgY29tcHJlc3Npb24gYXMgbXVjaCBhcyBwb3NzaWJsZSBmcm9tIHRoZSBpbnB1dCBzdHJlYW0sIHJldHVyblxuICAgICAgICAgKiB0aGUgY3VycmVudCBibG9jayBzdGF0ZS5cbiAgICAgICAgICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBpbnNlcnQgbmV3IHN0cmluZ3MgaW4gdGhlIGRpY3Rpb25hcnkgc2luY2VcbiAgICAgICAgICogdW5jb21wcmVzc2libGUgZGF0YSBpcyBwcm9iYWJseSBub3QgdXNlZnVsLiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWRcbiAgICAgICAgICogb25seSBmb3IgdGhlIGxldmVsPTAgY29tcHJlc3Npb24gb3B0aW9uLlxuICAgICAgICAgKiBOT1RFOiB0aGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBvcHRpbWl6ZWQgdG8gYXZvaWQgZXh0cmEgY29weWluZyBmcm9tXG4gICAgICAgICAqIHdpbmRvdyB0byBwZW5kaW5nX2J1Zi5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBkZWZsYXRlX3N0b3JlZCA9IGZ1bmN0aW9uIGRlZmxhdGVfc3RvcmVkKHMsIGZsdXNoKSB7XG4gICAgICAgICAgICAvKiBTdG9yZWQgYmxvY2tzIGFyZSBsaW1pdGVkIHRvIDB4ZmZmZiBieXRlcywgcGVuZGluZ19idWYgaXMgbGltaXRlZFxuICAgICAgICAgICAgICogdG8gcGVuZGluZ19idWZfc2l6ZSwgYW5kIGVhY2ggc3RvcmVkIGJsb2NrIGhhcyBhIDUgYnl0ZSBoZWFkZXI6XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBtYXhfYmxvY2tfc2l6ZSA9IDB4ZmZmZjtcbiAgICAgICAgICAgIGlmIChtYXhfYmxvY2tfc2l6ZSA+IHMucGVuZGluZ19idWZfc2l6ZSAtIDUpIHtcbiAgICAgICAgICAgICAgICBtYXhfYmxvY2tfc2l6ZSA9IHMucGVuZGluZ19idWZfc2l6ZSAtIDU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBDb3B5IGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSBpbnB1dCB0byBvdXRwdXQ6ICovXG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgLyogRmlsbCB0aGUgd2luZG93IGFzIG11Y2ggYXMgcG9zc2libGU6ICovXG4gICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzZXJ0KHMtPnN0cnN0YXJ0IDwgcy0+d19zaXplK01BWF9ESVNUKHMpIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vICBzLT5ibG9ja19zdGFydCA+PSAobG9uZylzLT53X3NpemUsIFwic2xpZGUgdG9vIGxhdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgaWYgKCEocy5zdHJzdGFydCA8IHMud19zaXplICsgKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIHMuYmxvY2tfc3RhcnQgPj0gcy53X3NpemUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB0aHJvdyAgbmV3IEVycm9yKFwic2xpZGUgdG9vIGxhdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwICYmIGZsdXNoID09PSBaX05PX0ZMVVNIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICAgICAgICAgICAgICB9IC8vIEFzc2VydChzLT5ibG9ja19zdGFydCA+PSAwTCwgXCJibG9jayBnb25lXCIpO1xuICAgICAgICAgICAgICAgIC8vICAgIGlmIChzLmJsb2NrX3N0YXJ0IDwgMCkgdGhyb3cgbmV3IEVycm9yKFwiYmxvY2sgZ29uZVwiKTtcbiAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0ICs9IHMubG9va2FoZWFkO1xuICAgICAgICAgICAgICAgIHMubG9va2FoZWFkID0gMDtcbiAgICAgICAgICAgICAgICAvKiBFbWl0IGEgc3RvcmVkIGJsb2NrIGlmIHBlbmRpbmdfYnVmIHdpbGwgYmUgZnVsbDogKi9cbiAgICAgICAgICAgICAgICB2YXIgbWF4X3N0YXJ0ID0gcy5ibG9ja19zdGFydCArIG1heF9ibG9ja19zaXplO1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cnN0YXJ0ID09PSAwIHx8IHMuc3Ryc3RhcnQgPj0gbWF4X3N0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIHN0cnN0YXJ0ID09IDAgaXMgcG9zc2libGUgd2hlbiB3cmFwYXJvdW5kIG9uIDE2LWJpdCBtYWNoaW5lICovXG4gICAgICAgICAgICAgICAgICAgIHMubG9va2FoZWFkID0gcy5zdHJzdGFydCAtIG1heF9zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCA9IG1heF9zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMCk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBGbHVzaCBpZiB3ZSBtYXkgaGF2ZSB0byBzbGlkZSwgb3RoZXJ3aXNlIGJsb2NrX3N0YXJ0IG1heSBiZWNvbWVcbiAgICAgICAgICAgICAgICAgKiBuZWdhdGl2ZSBhbmQgdGhlIGRhdGEgd2lsbCBiZSBnb25lOlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydCA+PSBzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMCk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICAgICAgICAgIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAxKTsgKiogKi9cbiAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy5zdHJzdGFydCA+IHMuYmxvY2tfc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIENvbXByZXNzIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSB0aGUgaW5wdXQgc3RyZWFtLCByZXR1cm4gdGhlIGN1cnJlbnRcbiAgICAgICAgICogYmxvY2sgc3RhdGUuXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgcGVyZm9ybSBsYXp5IGV2YWx1YXRpb24gb2YgbWF0Y2hlcyBhbmQgaW5zZXJ0c1xuICAgICAgICAgKiBuZXcgc3RyaW5ncyBpbiB0aGUgZGljdGlvbmFyeSBvbmx5IGZvciB1bm1hdGNoZWQgc3RyaW5ncyBvciBmb3Igc2hvcnRcbiAgICAgICAgICogbWF0Y2hlcy4gSXQgaXMgdXNlZCBvbmx5IGZvciB0aGUgZmFzdCBjb21wcmVzc2lvbiBvcHRpb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGRlZmxhdGVfZmFzdCA9IGZ1bmN0aW9uIGRlZmxhdGVfZmFzdChzLCBmbHVzaCkge1xuICAgICAgICAgICAgdmFyIGhhc2hfaGVhZDtcbiAgICAgICAgICAgIC8qIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW4gKi9cbiAgICAgICAgICAgIHZhciBiZmx1c2g7XG4gICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBhbHdheXMgaGF2ZSBlbm91Z2ggbG9va2FoZWFkLCBleGNlcHRcbiAgICAgICAgICAgICAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAgICAgICAgICAgICAqIGZvciB0aGUgbmV4dCBtYXRjaCwgcGx1cyBNSU5fTUFUQ0ggYnl0ZXMgdG8gaW5zZXJ0IHRoZVxuICAgICAgICAgICAgICAgICAqIHN0cmluZyBmb2xsb3dpbmcgdGhlIG5leHQgbWF0Y2guXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCkge1xuICAgICAgICAgICAgICAgICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBJbnNlcnQgdGhlIHN0cmluZyB3aW5kb3dbc3Ryc3RhcnQgLi4gc3Ryc3RhcnQrMl0gaW4gdGhlXG4gICAgICAgICAgICAgICAgICogZGljdGlvbmFyeSwgYW5kIHNldCBoYXNoX2hlYWQgdG8gdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW46XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaGFzaF9oZWFkID0gMDtcbiAgICAgICAgICAgICAgICAvKiBOSUwgKi9cbiAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIJDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIJDEgLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICAgICAgICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBGaW5kIHRoZSBsb25nZXN0IG1hdGNoLCBkaXNjYXJkaW5nIHRob3NlIDw9IHByZXZfbGVuZ3RoLlxuICAgICAgICAgICAgICAgICAqIEF0IHRoaXMgcG9pbnQgd2UgaGF2ZSBhbHdheXMgbWF0Y2hfbGVuZ3RoIDwgTUlOX01BVENIXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKGhhc2hfaGVhZCAhPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAvKiBOSUwgKi9cbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCAtIGhhc2hfaGVhZCA8PSBzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogVG8gc2ltcGxpZnkgdGhlIGNvZGUsIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICogb2Ygd2luZG93IGluZGV4IDAgKGluIHBhcnRpY3VsYXIgd2UgaGF2ZSB0byBhdm9pZCBhIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAqIG9mIHRoZSBzdHJpbmcgd2l0aCBpdHNlbGYgYXQgdGhlIHN0YXJ0IG9mIHRoZSBpbnB1dCBmaWxlKS5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gbG9uZ2VzdF9tYXRjaChzLCBoYXNoX2hlYWQpO1xuICAgICAgICAgICAgICAgICAgICAvKiBsb25nZXN0X21hdGNoKCkgc2V0cyBtYXRjaF9zdGFydCAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocy5tYXRjaF9sZW5ndGggPj0gTUlOX01BVENIJDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2tfbWF0Y2gocywgcy5zdHJzdGFydCwgcy5tYXRjaF9zdGFydCwgcy5tYXRjaF9sZW5ndGgpOyAvLyBmb3IgZGVidWcgb25seVxuICAgICAgICAgICAgICAgICAgICAvKiogKiBfdHJfdGFsbHlfZGlzdChzLCBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENILCBiZmx1c2gpOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICBiZmx1c2ggPSBfdHJfdGFsbHkkMShzLCBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gkMSk7XG4gICAgICAgICAgICAgICAgICAgIHMubG9va2FoZWFkIC09IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAvKiBJbnNlcnQgbmV3IHN0cmluZ3MgaW4gdGhlIGhhc2ggdGFibGUgb25seSBpZiB0aGUgbWF0Y2ggbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAqIGlzIG5vdCB0b28gbGFyZ2UuIFRoaXMgc2F2ZXMgdGltZSBidXQgZGVncmFkZXMgY29tcHJlc3Npb24uXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5tYXRjaF9sZW5ndGggPD0gcy5tYXhfbGF6eV9tYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgLyogbWF4X2luc2VydF9sZW5ndGggKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHMubG9va2FoZWFkID49IE1JTl9NQVRDSCQxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogc3RyaW5nIGF0IHN0cnN0YXJ0IGFscmVhZHkgaW4gdGFibGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqICogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0gkMSAtIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogc3Ryc3RhcnQgbmV2ZXIgZXhjZWVkcyBXU0laRS1NQVhfTUFUQ0gsIHNvIHRoZXJlIGFyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGFsd2F5cyBNSU5fTUFUQ0ggYnl0ZXMgYWhlYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLXMubWF0Y2hfbGVuZ3RoICE9PSAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuc3Ryc3RhcnQgKz0gcy5tYXRjaF9sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmluc19oID0gcy53aW5kb3dbcy5zdHJzdGFydF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0KzFdKTsgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQgKyAxXSk7IC8vICNpZiBNSU5fTUFUQ0ggIT0gM1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgQ2FsbCBVUERBVEVfSEFTSCgpIE1JTl9NQVRDSC0zIG1vcmUgdGltZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgICAgICAgICAgICAgICAgLyogSWYgbG9va2FoZWFkIDwgTUlOX01BVENILCBpbnNfaCBpcyBnYXJiYWdlLCBidXQgaXQgZG9lcyBub3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIG1hdHRlciBzaW5jZSBpdCB3aWxsIGJlIHJlY29tcHV0ZWQgYXQgbmV4dCBkZWZsYXRlIGNhbGwuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgICAgICAgICAgICAgICAvLyBUcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSkpO1xuICAgICAgICAgICAgICAgICAgICAvKiogKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICBiZmx1c2ggPSBfdHJfdGFsbHkkMShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSk7XG4gICAgICAgICAgICAgICAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICAgICAgICAgICAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJmbHVzaCkge1xuICAgICAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5pbnNlcnQgPSBzLnN0cnN0YXJ0IDwgTUlOX01BVENIJDEgLSAxID8gcy5zdHJzdGFydCA6IE1JTl9NQVRDSCQxIC0gMTtcbiAgICAgICAgICAgIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAxKTsgKiogKi9cbiAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy5sYXN0X2xpdCkge1xuICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFNhbWUgYXMgYWJvdmUsIGJ1dCBhY2hpZXZlcyBiZXR0ZXIgY29tcHJlc3Npb24uIFdlIHVzZSBhIGxhenlcbiAgICAgICAgICogZXZhbHVhdGlvbiBmb3IgbWF0Y2hlczogYSBtYXRjaCBpcyBmaW5hbGx5IGFkb3B0ZWQgb25seSBpZiB0aGVyZSBpc1xuICAgICAgICAgKiBubyBiZXR0ZXIgbWF0Y2ggYXQgdGhlIG5leHQgd2luZG93IHBvc2l0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGRlZmxhdGVfc2xvdyA9IGZ1bmN0aW9uIGRlZmxhdGVfc2xvdyhzLCBmbHVzaCkge1xuICAgICAgICAgICAgdmFyIGhhc2hfaGVhZDtcbiAgICAgICAgICAgIC8qIGhlYWQgb2YgaGFzaCBjaGFpbiAqL1xuICAgICAgICAgICAgdmFyIGJmbHVzaDtcbiAgICAgICAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuICAgICAgICAgICAgdmFyIG1heF9pbnNlcnQ7XG4gICAgICAgICAgICAvKiBQcm9jZXNzIHRoZSBpbnB1dCBibG9jay4gKi9cbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBhbHdheXMgaGF2ZSBlbm91Z2ggbG9va2FoZWFkLCBleGNlcHRcbiAgICAgICAgICAgICAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAgICAgICAgICAgICAqIGZvciB0aGUgbmV4dCBtYXRjaCwgcGx1cyBNSU5fTUFUQ0ggYnl0ZXMgdG8gaW5zZXJ0IHRoZVxuICAgICAgICAgICAgICAgICAqIHN0cmluZyBmb2xsb3dpbmcgdGhlIG5leHQgbWF0Y2guXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCkge1xuICAgICAgICAgICAgICAgICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEluc2VydCB0aGUgc3RyaW5nIHdpbmRvd1tzdHJzdGFydCAuLiBzdHJzdGFydCsyXSBpbiB0aGVcbiAgICAgICAgICAgICAgICAgKiBkaWN0aW9uYXJ5LCBhbmQgc2V0IGhhc2hfaGVhZCB0byB0aGUgaGVhZCBvZiB0aGUgaGFzaCBjaGFpbjpcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBoYXNoX2hlYWQgPSAwO1xuICAgICAgICAgICAgICAgIC8qIE5JTCAqL1xuICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gkMSkge1xuICAgICAgICAgICAgICAgICAgICAvKiogKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0gkMSAtIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgICAgICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEZpbmQgdGhlIGxvbmdlc3QgbWF0Y2gsIGRpc2NhcmRpbmcgdGhvc2UgPD0gcHJldl9sZW5ndGguXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcy5wcmV2X2xlbmd0aCA9IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgICAgICAgICAgIHMucHJldl9tYXRjaCA9IHMubWF0Y2hfc3RhcnQ7XG4gICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBNSU5fTUFUQ0gkMSAtIDE7XG4gICAgICAgICAgICAgICAgaWYgKGhhc2hfaGVhZCAhPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAvKiBOSUwgKi9cbiAgICAgICAgICAgICAgICAgICAgcy5wcmV2X2xlbmd0aCA8IHMubWF4X2xhenlfbWF0Y2ggJiZcbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCAtIGhhc2hfaGVhZCA8PSBzLndfc2l6ZSAtIE1JTl9MT09LQUhFQURcbiAgICAgICAgICAgICAgICAvKiBNQVhfRElTVChzKSAqL1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvKiBUbyBzaW1wbGlmeSB0aGUgY29kZSwgd2UgcHJldmVudCBtYXRjaGVzIHdpdGggdGhlIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgKiBvZiB3aW5kb3cgaW5kZXggMCAoaW4gcGFydGljdWxhciB3ZSBoYXZlIHRvIGF2b2lkIGEgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICogb2YgdGhlIHN0cmluZyB3aXRoIGl0c2VsZiBhdCB0aGUgc3RhcnQgb2YgdGhlIGlucHV0IGZpbGUpLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBsb25nZXN0X21hdGNoKHMsIGhhc2hfaGVhZCk7XG4gICAgICAgICAgICAgICAgICAgIC8qIGxvbmdlc3RfbWF0Y2goKSBzZXRzIG1hdGNoX3N0YXJ0ICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA8PSA1ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAocy5zdHJhdGVneSA9PT0gWl9GSUxURVJFRCB8fCAocy5tYXRjaF9sZW5ndGggPT09IE1JTl9NQVRDSCQxICYmIHMuc3Ryc3RhcnQgLSBzLm1hdGNoX3N0YXJ0ID4gNDA5NikpXG4gICAgICAgICAgICAgICAgICAgIC8qIFRPT19GQVIgKi9cbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBJZiBwcmV2X21hdGNoIGlzIGFsc28gTUlOX01BVENILCBtYXRjaF9zdGFydCBpcyBnYXJiYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBidXQgd2Ugd2lsbCBpZ25vcmUgdGhlIGN1cnJlbnQgbWF0Y2ggYW55d2F5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IE1JTl9NQVRDSCQxIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBJZiB0aGVyZSB3YXMgYSBtYXRjaCBhdCB0aGUgcHJldmlvdXMgc3RlcCBhbmQgdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgKiBtYXRjaCBpcyBub3QgYmV0dGVyLCBvdXRwdXQgdGhlIHByZXZpb3VzIG1hdGNoOlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChzLnByZXZfbGVuZ3RoID49IE1JTl9NQVRDSCQxICYmIHMubWF0Y2hfbGVuZ3RoIDw9IHMucHJldl9sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4X2luc2VydCA9IHMuc3Ryc3RhcnQgKyBzLmxvb2thaGVhZCAtIE1JTl9NQVRDSCQxO1xuICAgICAgICAgICAgICAgICAgICAvKiBEbyBub3QgaW5zZXJ0IHN0cmluZ3MgaW4gaGFzaCB0YWJsZSBiZXlvbmQgdGhpcy4gKi9cbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2tfbWF0Y2gocywgcy5zdHJzdGFydC0xLCBzLnByZXZfbWF0Y2gsIHMucHJldl9sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAvKiogKl90cl90YWxseV9kaXN0KHMsIHMuc3Ryc3RhcnQgLSAxIC0gcy5wcmV2X21hdGNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5wcmV2X2xlbmd0aCAtIE1JTl9NQVRDSCwgYmZsdXNoKTsqKiAqL1xuICAgICAgICAgICAgICAgICAgICBiZmx1c2ggPSBfdHJfdGFsbHkkMShzLCBzLnN0cnN0YXJ0IC0gMSAtIHMucHJldl9tYXRjaCwgcy5wcmV2X2xlbmd0aCAtIE1JTl9NQVRDSCQxKTtcbiAgICAgICAgICAgICAgICAgICAgLyogSW5zZXJ0IGluIGhhc2ggdGFibGUgYWxsIHN0cmluZ3MgdXAgdG8gdGhlIGVuZCBvZiB0aGUgbWF0Y2guXG4gICAgICAgICAgICAgICAgICAgICAqIHN0cnN0YXJ0LTEgYW5kIHN0cnN0YXJ0IGFyZSBhbHJlYWR5IGluc2VydGVkLiBJZiB0aGVyZSBpcyBub3RcbiAgICAgICAgICAgICAgICAgICAgICogZW5vdWdoIGxvb2thaGVhZCwgdGhlIGxhc3QgdHdvIHN0cmluZ3MgYXJlIG5vdCBpbnNlcnRlZCBpblxuICAgICAgICAgICAgICAgICAgICAgKiB0aGUgaGFzaCB0YWJsZS5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHMubG9va2FoZWFkIC09IHMucHJldl9sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBzLnByZXZfbGVuZ3RoIC09IDI7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgrK3Muc3Ryc3RhcnQgPD0gbWF4X2luc2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiAqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIJDEgLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLXMucHJldl9sZW5ndGggIT09IDApO1xuICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIJDEgLSAxO1xuICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMubWF0Y2hfYXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIElmIHRoZXJlIHdhcyBubyBtYXRjaCBhdCB0aGUgcHJldmlvdXMgcG9zaXRpb24sIG91dHB1dCBhXG4gICAgICAgICAgICAgICAgICAgICAqIHNpbmdsZSBsaXRlcmFsLiBJZiB0aGVyZSB3YXMgYSBtYXRjaCBidXQgdGhlIGN1cnJlbnQgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICogaXMgbG9uZ2VyLCB0cnVuY2F0ZSB0aGUgcHJldmlvdXMgbWF0Y2ggdG8gYSBzaW5nbGUgbGl0ZXJhbC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydC0xXSkpO1xuICAgICAgICAgICAgICAgICAgICAvKiogKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnQtMV0sIGJmbHVzaCk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnQgLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLX09OTFkocywgMCkgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKiBUaGVyZSBpcyBubyBwcmV2aW91cyBtYXRjaCB0byBjb21wYXJlIHdpdGgsIHdhaXQgZm9yXG4gICAgICAgICAgICAgICAgICAgICAqIHRoZSBuZXh0IHN0ZXAgdG8gZGVjaWRlLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9hdmFpbGFibGUgPSAxO1xuICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBBc3NlcnQgKGZsdXNoICE9IFpfTk9fRkxVU0gsIFwibm8gZmx1c2g/XCIpO1xuICAgICAgICAgICAgaWYgKHMubWF0Y2hfYXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy0+d2luZG93W3MtPnN0cnN0YXJ0LTFdKSk7XG4gICAgICAgICAgICAgICAgLyoqICogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0LTFdLCBiZmx1c2gpOyAqKiAqL1xuICAgICAgICAgICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnQgLSAxXSk7XG4gICAgICAgICAgICAgICAgcy5tYXRjaF9hdmFpbGFibGUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5pbnNlcnQgPSBzLnN0cnN0YXJ0IDwgTUlOX01BVENIJDEgLSAxID8gcy5zdHJzdGFydCA6IE1JTl9NQVRDSCQxIC0gMTtcbiAgICAgICAgICAgIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAxKTsgKiogKi9cbiAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy5sYXN0X2xpdCkge1xuICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIEZvciBaX1JMRSwgc2ltcGx5IGxvb2sgZm9yIHJ1bnMgb2YgYnl0ZXMsIGdlbmVyYXRlIG1hdGNoZXMgb25seSBvZiBkaXN0YW5jZVxuICAgICAgICAgKiBvbmUuICBEbyBub3QgbWFpbnRhaW4gYSBoYXNoIHRhYmxlLiAgKEl0IHdpbGwgYmUgcmVnZW5lcmF0ZWQgaWYgdGhpcyBydW4gb2ZcbiAgICAgICAgICogZGVmbGF0ZSBzd2l0Y2hlcyBhd2F5IGZyb20gWl9STEUuKVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGRlZmxhdGVfcmxlID0gZnVuY3Rpb24gZGVmbGF0ZV9ybGUocywgZmx1c2gpIHtcbiAgICAgICAgICAgIHZhciBiZmx1c2g7XG4gICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cbiAgICAgICAgICAgIHZhciBwcmV2O1xuICAgICAgICAgICAgLyogYnl0ZSBhdCBkaXN0YW5jZSBvbmUgdG8gbWF0Y2ggKi9cbiAgICAgICAgICAgIHZhciBzY2FuO1xuICAgICAgICAgICAgdmFyIHN0cmVuZDtcbiAgICAgICAgICAgIC8qIHNjYW4gZ29lcyB1cCB0byBzdHJlbmQgZm9yIGxlbmd0aCBvZiBydW4gKi9cbiAgICAgICAgICAgIHZhciBfd2luID0gcy53aW5kb3c7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgYWx3YXlzIGhhdmUgZW5vdWdoIGxvb2thaGVhZCwgZXhjZXB0XG4gICAgICAgICAgICAgICAgICogYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgZmlsZS4gV2UgbmVlZCBNQVhfTUFUQ0ggYnl0ZXNcbiAgICAgICAgICAgICAgICAgKiBmb3IgdGhlIGxvbmdlc3QgcnVuLCBwbHVzIG9uZSBmb3IgdGhlIHVucm9sbGVkIGxvb3AuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkIDw9IE1BWF9NQVRDSCQxKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPD0gTUFYX01BVENIJDEgJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBTZWUgaG93IG1hbnkgdGltZXMgdGhlIHByZXZpb3VzIGJ5dGUgcmVwZWF0cyAqL1xuICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIJDEgJiYgcy5zdHJzdGFydCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbiA9IHMuc3Ryc3RhcnQgLSAxO1xuICAgICAgICAgICAgICAgICAgICBwcmV2ID0gX3dpbltzY2FuXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlbmQgPSBzLnN0cnN0YXJ0ICsgTUFYX01BVENIJDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoganNoaW50IG5vZW1wdHk6ZmFsc2UgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYW4gPCBzdHJlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBNQVhfTUFUQ0gkMSAtIChzdHJlbmQgLSBzY2FuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA+IHMubG9va2FoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBzLmxvb2thaGVhZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAvLyBBc3NlcnQoc2NhbiA8PSBzLT53aW5kb3crKHVJbnQpKHMtPndpbmRvd19zaXplLTEpLCBcIndpbGQgc2NhblwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogRW1pdCBtYXRjaCBpZiBoYXZlIHJ1biBvZiBNSU5fTUFUQ0ggb3IgbG9uZ2VyLCBlbHNlIGVtaXQgbGl0ZXJhbCAqL1xuICAgICAgICAgICAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA+PSBNSU5fTUFUQ0gkMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVja19tYXRjaChzLCBzLnN0cnN0YXJ0LCBzLnN0cnN0YXJ0IC0gMSwgcy5tYXRjaF9sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAvKiogKiBfdHJfdGFsbHlfZGlzdChzLCAxLCBzLm1hdGNoX2xlbmd0aCAtIE1JTl9NQVRDSCwgYmZsdXNoKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgYmZsdXNoID0gX3RyX3RhbGx5JDEocywgMSwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gkMSk7XG4gICAgICAgICAgICAgICAgICAgIHMubG9va2FoZWFkIC09IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0ICs9IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKiBObyBtYXRjaCwgb3V0cHV0IGEgbGl0ZXJhbCBieXRlICovXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydF0pKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSwgYmZsdXNoKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgYmZsdXNoID0gX3RyX3RhbGx5JDEocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuICAgICAgICAgICAgICAgICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMCk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICAgICAgICAgIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAxKTsgKiogKi9cbiAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy5sYXN0X2xpdCkge1xuICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIEZvciBaX0hVRkZNQU5fT05MWSwgZG8gbm90IGxvb2sgZm9yIG1hdGNoZXMuICBEbyBub3QgbWFpbnRhaW4gYSBoYXNoIHRhYmxlLlxuICAgICAgICAgKiAoSXQgd2lsbCBiZSByZWdlbmVyYXRlZCBpZiB0aGlzIHJ1biBvZiBkZWZsYXRlIHN3aXRjaGVzIGF3YXkgZnJvbSBIdWZmbWFuLilcbiAgICAgICAgICovXG4gICAgICAgIHZhciBkZWZsYXRlX2h1ZmYgPSBmdW5jdGlvbiBkZWZsYXRlX2h1ZmYocywgZmx1c2gpIHtcbiAgICAgICAgICAgIHZhciBiZmx1c2g7XG4gICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBoYXZlIGEgbGl0ZXJhbCB0byB3cml0ZS4gKi9cbiAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZsdXNoID09PSBaX05PX0ZMVVNIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBPdXRwdXQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IDA7IC8vIFRyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydF0pKTtcbiAgICAgICAgICAgICAgICAvKiogKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiAqL1xuICAgICAgICAgICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnRdKTtcbiAgICAgICAgICAgICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgICAgICAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgICAgICAgICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLmluc2VydCA9IDA7XG4gICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfRklOSVNIKSB7XG4gICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMSk7ICoqICovXG4gICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMubGFzdF9saXQpIHtcbiAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG4gICAgICAgIH07XG4gICAgICAgIC8qIFZhbHVlcyBmb3IgbWF4X2xhenlfbWF0Y2gsIGdvb2RfbWF0Y2ggYW5kIG1heF9jaGFpbl9sZW5ndGgsIGRlcGVuZGluZyBvblxuICAgICAgICAgKiB0aGUgZGVzaXJlZCBwYWNrIGxldmVsICgwLi45KS4gVGhlIHZhbHVlcyBnaXZlbiBiZWxvdyBoYXZlIGJlZW4gdHVuZWQgdG9cbiAgICAgICAgICogZXhjbHVkZSB3b3JzdCBjYXNlIHBlcmZvcm1hbmNlIGZvciBwYXRob2xvZ2ljYWwgZmlsZXMuIEJldHRlciB2YWx1ZXMgbWF5IGJlXG4gICAgICAgICAqIGZvdW5kIGZvciBzcGVjaWZpYyBmaWxlcy5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIENvbmZpZyhnb29kX2xlbmd0aCwgbWF4X2xhenksIG5pY2VfbGVuZ3RoLCBtYXhfY2hhaW4sIGZ1bmMpIHtcbiAgICAgICAgICAgIHRoaXMuZ29vZF9sZW5ndGggPSBnb29kX2xlbmd0aDtcbiAgICAgICAgICAgIHRoaXMubWF4X2xhenkgPSBtYXhfbGF6eTtcbiAgICAgICAgICAgIHRoaXMubmljZV9sZW5ndGggPSBuaWNlX2xlbmd0aDtcbiAgICAgICAgICAgIHRoaXMubWF4X2NoYWluID0gbWF4X2NoYWluO1xuICAgICAgICAgICAgdGhpcy5mdW5jID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29uZmlndXJhdGlvbl90YWJsZSA9IFtcbiAgICAgICAgICAgIC8qICAgICAgZ29vZCBsYXp5IG5pY2UgY2hhaW4gKi9cbiAgICAgICAgICAgIG5ldyBDb25maWcoMCwgMCwgMCwgMCwgZGVmbGF0ZV9zdG9yZWQpLFxuICAgICAgICAgICAgLyogMCBzdG9yZSBvbmx5ICovXG4gICAgICAgICAgICBuZXcgQ29uZmlnKDQsIDQsIDgsIDQsIGRlZmxhdGVfZmFzdCksXG4gICAgICAgICAgICAvKiAxIG1heCBzcGVlZCwgbm8gbGF6eSBtYXRjaGVzICovXG4gICAgICAgICAgICBuZXcgQ29uZmlnKDQsIDUsIDE2LCA4LCBkZWZsYXRlX2Zhc3QpLFxuICAgICAgICAgICAgLyogMiAqL1xuICAgICAgICAgICAgbmV3IENvbmZpZyg0LCA2LCAzMiwgMzIsIGRlZmxhdGVfZmFzdCksXG4gICAgICAgICAgICAvKiAzICovXG4gICAgICAgICAgICBuZXcgQ29uZmlnKDQsIDQsIDE2LCAxNiwgZGVmbGF0ZV9zbG93KSxcbiAgICAgICAgICAgIC8qIDQgbGF6eSBtYXRjaGVzICovXG4gICAgICAgICAgICBuZXcgQ29uZmlnKDgsIDE2LCAzMiwgMzIsIGRlZmxhdGVfc2xvdyksXG4gICAgICAgICAgICAvKiA1ICovXG4gICAgICAgICAgICBuZXcgQ29uZmlnKDgsIDE2LCAxMjgsIDEyOCwgZGVmbGF0ZV9zbG93KSxcbiAgICAgICAgICAgIC8qIDYgKi9cbiAgICAgICAgICAgIG5ldyBDb25maWcoOCwgMzIsIDEyOCwgMjU2LCBkZWZsYXRlX3Nsb3cpLFxuICAgICAgICAgICAgLyogNyAqL1xuICAgICAgICAgICAgbmV3IENvbmZpZygzMiwgMTI4LCAyNTgsIDEwMjQsIGRlZmxhdGVfc2xvdyksXG4gICAgICAgICAgICAvKiA4ICovXG4gICAgICAgICAgICBuZXcgQ29uZmlnKDMyLCAyNTgsIDI1OCwgNDA5NiwgZGVmbGF0ZV9zbG93KSxcbiAgICAgICAgICAgIC8qIDkgbWF4IGNvbXByZXNzaW9uICovXG4gICAgICAgIF07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBJbml0aWFsaXplIHRoZSBcImxvbmdlc3QgbWF0Y2hcIiByb3V0aW5lcyBmb3IgYSBuZXcgemxpYiBzdHJlYW1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBsbV9pbml0ID0gZnVuY3Rpb24gbG1faW5pdChzKSB7XG4gICAgICAgICAgICBzLndpbmRvd19zaXplID0gMiAqIHMud19zaXplO1xuICAgICAgICAgICAgLyoqICogQ0xFQVJfSEFTSChzKTsgKiogKi9cbiAgICAgICAgICAgIHplcm8kMShzLmhlYWQpOyAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuICAgICAgICAgICAgLyogU2V0IHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyczpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcy5tYXhfbGF6eV9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2xhenk7XG4gICAgICAgICAgICBzLmdvb2RfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmdvb2RfbGVuZ3RoO1xuICAgICAgICAgICAgcy5uaWNlX21hdGNoID0gY29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5uaWNlX2xlbmd0aDtcbiAgICAgICAgICAgIHMubWF4X2NoYWluX2xlbmd0aCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2NoYWluO1xuICAgICAgICAgICAgcy5zdHJzdGFydCA9IDA7XG4gICAgICAgICAgICBzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgICAgICAgICAgIHMubG9va2FoZWFkID0gMDtcbiAgICAgICAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gcy5wcmV2X2xlbmd0aCA9IE1JTl9NQVRDSCQxIC0gMTtcbiAgICAgICAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgICAgICAgICAgIHMuaW5zX2ggPSAwO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBEZWZsYXRlU3RhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnN0cm0gPSBudWxsO1xuICAgICAgICAgICAgLyogcG9pbnRlciBiYWNrIHRvIHRoaXMgemxpYiBzdHJlYW0gKi9cbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gMDtcbiAgICAgICAgICAgIC8qIGFzIHRoZSBuYW1lIGltcGxpZXMgKi9cbiAgICAgICAgICAgIHRoaXMucGVuZGluZ19idWYgPSBudWxsO1xuICAgICAgICAgICAgLyogb3V0cHV0IHN0aWxsIHBlbmRpbmcgKi9cbiAgICAgICAgICAgIHRoaXMucGVuZGluZ19idWZfc2l6ZSA9IDA7XG4gICAgICAgICAgICAvKiBzaXplIG9mIHBlbmRpbmdfYnVmICovXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdfb3V0ID0gMDtcbiAgICAgICAgICAgIC8qIG5leHQgcGVuZGluZyBieXRlIHRvIG91dHB1dCB0byB0aGUgc3RyZWFtICovXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSAwO1xuICAgICAgICAgICAgLyogbmIgb2YgYnl0ZXMgaW4gdGhlIHBlbmRpbmcgYnVmZmVyICovXG4gICAgICAgICAgICB0aGlzLndyYXAgPSAwO1xuICAgICAgICAgICAgLyogYml0IDAgdHJ1ZSBmb3IgemxpYiwgYml0IDEgdHJ1ZSBmb3IgZ3ppcCAqL1xuICAgICAgICAgICAgdGhpcy5nemhlYWQgPSBudWxsO1xuICAgICAgICAgICAgLyogZ3ppcCBoZWFkZXIgaW5mb3JtYXRpb24gdG8gd3JpdGUgKi9cbiAgICAgICAgICAgIHRoaXMuZ3ppbmRleCA9IDA7XG4gICAgICAgICAgICAvKiB3aGVyZSBpbiBleHRyYSwgbmFtZSwgb3IgY29tbWVudCAqL1xuICAgICAgICAgICAgdGhpcy5tZXRob2QgPSBaX0RFRkxBVEVEO1xuICAgICAgICAgICAgLyogY2FuIG9ubHkgYmUgREVGTEFURUQgKi9cbiAgICAgICAgICAgIHRoaXMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAgICAgLyogdmFsdWUgb2YgZmx1c2ggcGFyYW0gZm9yIHByZXZpb3VzIGRlZmxhdGUgY2FsbCAqL1xuICAgICAgICAgICAgdGhpcy53X3NpemUgPSAwO1xuICAgICAgICAgICAgLyogTFo3NyB3aW5kb3cgc2l6ZSAoMzJLIGJ5IGRlZmF1bHQpICovXG4gICAgICAgICAgICB0aGlzLndfYml0cyA9IDA7XG4gICAgICAgICAgICAvKiBsb2cyKHdfc2l6ZSkgICg4Li4xNikgKi9cbiAgICAgICAgICAgIHRoaXMud19tYXNrID0gMDtcbiAgICAgICAgICAgIC8qIHdfc2l6ZSAtIDEgKi9cbiAgICAgICAgICAgIHRoaXMud2luZG93ID0gbnVsbDtcbiAgICAgICAgICAgIC8qIFNsaWRpbmcgd2luZG93LiBJbnB1dCBieXRlcyBhcmUgcmVhZCBpbnRvIHRoZSBzZWNvbmQgaGFsZiBvZiB0aGUgd2luZG93LFxuICAgICAgICAgICAgICogYW5kIG1vdmUgdG8gdGhlIGZpcnN0IGhhbGYgbGF0ZXIgdG8ga2VlcCBhIGRpY3Rpb25hcnkgb2YgYXQgbGVhc3Qgd1NpemVcbiAgICAgICAgICAgICAqIGJ5dGVzLiBXaXRoIHRoaXMgb3JnYW5pemF0aW9uLCBtYXRjaGVzIGFyZSBsaW1pdGVkIHRvIGEgZGlzdGFuY2Ugb2ZcbiAgICAgICAgICAgICAqIHdTaXplLU1BWF9NQVRDSCBieXRlcywgYnV0IHRoaXMgZW5zdXJlcyB0aGF0IElPIGlzIGFsd2F5c1xuICAgICAgICAgICAgICogcGVyZm9ybWVkIHdpdGggYSBsZW5ndGggbXVsdGlwbGUgb2YgdGhlIGJsb2NrIHNpemUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMud2luZG93X3NpemUgPSAwO1xuICAgICAgICAgICAgLyogQWN0dWFsIHNpemUgb2Ygd2luZG93OiAyKndTaXplLCBleGNlcHQgd2hlbiB0aGUgdXNlciBpbnB1dCBidWZmZXJcbiAgICAgICAgICAgICAqIGlzIGRpcmVjdGx5IHVzZWQgYXMgc2xpZGluZyB3aW5kb3cuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMucHJldiA9IG51bGw7XG4gICAgICAgICAgICAvKiBMaW5rIHRvIG9sZGVyIHN0cmluZyB3aXRoIHNhbWUgaGFzaCBpbmRleC4gVG8gbGltaXQgdGhlIHNpemUgb2YgdGhpc1xuICAgICAgICAgICAgICogYXJyYXkgdG8gNjRLLCB0aGlzIGxpbmsgaXMgbWFpbnRhaW5lZCBvbmx5IGZvciB0aGUgbGFzdCAzMksgc3RyaW5ncy5cbiAgICAgICAgICAgICAqIEFuIGluZGV4IGluIHRoaXMgYXJyYXkgaXMgdGh1cyBhIHdpbmRvdyBpbmRleCBtb2R1bG8gMzJLLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmhlYWQgPSBudWxsO1xuICAgICAgICAgICAgLyogSGVhZHMgb2YgdGhlIGhhc2ggY2hhaW5zIG9yIE5JTC4gKi9cbiAgICAgICAgICAgIHRoaXMuaW5zX2ggPSAwO1xuICAgICAgICAgICAgLyogaGFzaCBpbmRleCBvZiBzdHJpbmcgdG8gYmUgaW5zZXJ0ZWQgKi9cbiAgICAgICAgICAgIHRoaXMuaGFzaF9zaXplID0gMDtcbiAgICAgICAgICAgIC8qIG51bWJlciBvZiBlbGVtZW50cyBpbiBoYXNoIHRhYmxlICovXG4gICAgICAgICAgICB0aGlzLmhhc2hfYml0cyA9IDA7XG4gICAgICAgICAgICAvKiBsb2cyKGhhc2hfc2l6ZSkgKi9cbiAgICAgICAgICAgIHRoaXMuaGFzaF9tYXNrID0gMDtcbiAgICAgICAgICAgIC8qIGhhc2hfc2l6ZS0xICovXG4gICAgICAgICAgICB0aGlzLmhhc2hfc2hpZnQgPSAwO1xuICAgICAgICAgICAgLyogTnVtYmVyIG9mIGJpdHMgYnkgd2hpY2ggaW5zX2ggbXVzdCBiZSBzaGlmdGVkIGF0IGVhY2ggaW5wdXRcbiAgICAgICAgICAgICAqIHN0ZXAuIEl0IG11c3QgYmUgc3VjaCB0aGF0IGFmdGVyIE1JTl9NQVRDSCBzdGVwcywgdGhlIG9sZGVzdFxuICAgICAgICAgICAgICogYnl0ZSBubyBsb25nZXIgdGFrZXMgcGFydCBpbiB0aGUgaGFzaCBrZXksIHRoYXQgaXM6XG4gICAgICAgICAgICAgKiAgIGhhc2hfc2hpZnQgKiBNSU5fTUFUQ0ggPj0gaGFzaF9iaXRzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuYmxvY2tfc3RhcnQgPSAwO1xuICAgICAgICAgICAgLyogV2luZG93IHBvc2l0aW9uIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGN1cnJlbnQgb3V0cHV0IGJsb2NrLiBHZXRzXG4gICAgICAgICAgICAgKiBuZWdhdGl2ZSB3aGVuIHRoZSB3aW5kb3cgaXMgbW92ZWQgYmFja3dhcmRzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgICAgICAgICAvKiBsZW5ndGggb2YgYmVzdCBtYXRjaCAqL1xuICAgICAgICAgICAgdGhpcy5wcmV2X21hdGNoID0gMDtcbiAgICAgICAgICAgIC8qIHByZXZpb3VzIG1hdGNoICovXG4gICAgICAgICAgICB0aGlzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gICAgICAgICAgICAvKiBzZXQgaWYgcHJldmlvdXMgbWF0Y2ggZXhpc3RzICovXG4gICAgICAgICAgICB0aGlzLnN0cnN0YXJ0ID0gMDtcbiAgICAgICAgICAgIC8qIHN0YXJ0IG9mIHN0cmluZyB0byBpbnNlcnQgKi9cbiAgICAgICAgICAgIHRoaXMubWF0Y2hfc3RhcnQgPSAwO1xuICAgICAgICAgICAgLyogc3RhcnQgb2YgbWF0Y2hpbmcgc3RyaW5nICovXG4gICAgICAgICAgICB0aGlzLmxvb2thaGVhZCA9IDA7XG4gICAgICAgICAgICAvKiBudW1iZXIgb2YgdmFsaWQgYnl0ZXMgYWhlYWQgaW4gd2luZG93ICovXG4gICAgICAgICAgICB0aGlzLnByZXZfbGVuZ3RoID0gMDtcbiAgICAgICAgICAgIC8qIExlbmd0aCBvZiB0aGUgYmVzdCBtYXRjaCBhdCBwcmV2aW91cyBzdGVwLiBNYXRjaGVzIG5vdCBncmVhdGVyIHRoYW4gdGhpc1xuICAgICAgICAgICAgICogYXJlIGRpc2NhcmRlZC4gVGhpcyBpcyB1c2VkIGluIHRoZSBsYXp5IG1hdGNoIGV2YWx1YXRpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubWF4X2NoYWluX2xlbmd0aCA9IDA7XG4gICAgICAgICAgICAvKiBUbyBzcGVlZCB1cCBkZWZsYXRpb24sIGhhc2ggY2hhaW5zIGFyZSBuZXZlciBzZWFyY2hlZCBiZXlvbmQgdGhpc1xuICAgICAgICAgICAgICogbGVuZ3RoLiAgQSBoaWdoZXIgbGltaXQgaW1wcm92ZXMgY29tcHJlc3Npb24gcmF0aW8gYnV0IGRlZ3JhZGVzIHRoZVxuICAgICAgICAgICAgICogc3BlZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubWF4X2xhenlfbWF0Y2ggPSAwO1xuICAgICAgICAgICAgLyogQXR0ZW1wdCB0byBmaW5kIGEgYmV0dGVyIG1hdGNoIG9ubHkgd2hlbiB0aGUgY3VycmVudCBtYXRjaCBpcyBzdHJpY3RseVxuICAgICAgICAgICAgICogc21hbGxlciB0aGFuIHRoaXMgdmFsdWUuIFRoaXMgbWVjaGFuaXNtIGlzIHVzZWQgb25seSBmb3IgY29tcHJlc3Npb25cbiAgICAgICAgICAgICAqIGxldmVscyA+PSA0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBUaGF0J3MgYWxpYXMgdG8gbWF4X2xhenlfbWF0Y2gsIGRvbid0IHVzZSBkaXJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcy5tYXhfaW5zZXJ0X2xlbmd0aCA9IDA7XG4gICAgICAgICAgICAvKiBJbnNlcnQgbmV3IHN0cmluZ3MgaW4gdGhlIGhhc2ggdGFibGUgb25seSBpZiB0aGUgbWF0Y2ggbGVuZ3RoIGlzIG5vdFxuICAgICAgICAgICAgICogZ3JlYXRlciB0aGFuIHRoaXMgbGVuZ3RoLiBUaGlzIHNhdmVzIHRpbWUgYnV0IGRlZ3JhZGVzIGNvbXByZXNzaW9uLlxuICAgICAgICAgICAgICogbWF4X2luc2VydF9sZW5ndGggaXMgdXNlZCBvbmx5IGZvciBjb21wcmVzc2lvbiBsZXZlbHMgPD0gMy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5sZXZlbCA9IDA7XG4gICAgICAgICAgICAvKiBjb21wcmVzc2lvbiBsZXZlbCAoMS4uOSkgKi9cbiAgICAgICAgICAgIHRoaXMuc3RyYXRlZ3kgPSAwO1xuICAgICAgICAgICAgLyogZmF2b3Igb3IgZm9yY2UgSHVmZm1hbiBjb2RpbmcgKi9cbiAgICAgICAgICAgIHRoaXMuZ29vZF9tYXRjaCA9IDA7XG4gICAgICAgICAgICAvKiBVc2UgYSBmYXN0ZXIgc2VhcmNoIHdoZW4gdGhlIHByZXZpb3VzIG1hdGNoIGlzIGxvbmdlciB0aGFuIHRoaXMgKi9cbiAgICAgICAgICAgIHRoaXMubmljZV9tYXRjaCA9IDA7XG4gICAgICAgICAgICAvKiBTdG9wIHNlYXJjaGluZyB3aGVuIGN1cnJlbnQgbWF0Y2ggZXhjZWVkcyB0aGlzICovXG4gICAgICAgICAgICAvKiB1c2VkIGJ5IHRyZWVzLmM6ICovXG4gICAgICAgICAgICAvKiBEaWRuJ3QgdXNlIGN0X2RhdGEgdHlwZWRlZiBiZWxvdyB0byBzdXBwcmVzcyBjb21waWxlciB3YXJuaW5nICovXG4gICAgICAgICAgICAvLyBzdHJ1Y3QgY3RfZGF0YV9zIGR5bl9sdHJlZVtIRUFQX1NJWkVdOyAgIC8qIGxpdGVyYWwgYW5kIGxlbmd0aCB0cmVlICovXG4gICAgICAgICAgICAvLyBzdHJ1Y3QgY3RfZGF0YV9zIGR5bl9kdHJlZVsyKkRfQ09ERVMrMV07IC8qIGRpc3RhbmNlIHRyZWUgKi9cbiAgICAgICAgICAgIC8vIHN0cnVjdCBjdF9kYXRhX3MgYmxfdHJlZVsyKkJMX0NPREVTKzFdOyAgLyogSHVmZm1hbiB0cmVlIGZvciBiaXQgbGVuZ3RocyAqL1xuICAgICAgICAgICAgLy8gVXNlIGZsYXQgYXJyYXkgb2YgRE9VQkxFIHNpemUsIHdpdGggaW50ZXJsZWF2ZWQgZmF0YSxcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgSlMgZG9lcyBub3Qgc3VwcG9ydCBlZmZlY3RpdmVcbiAgICAgICAgICAgIHRoaXMuZHluX2x0cmVlID0gbmV3IFVpbnQxNkFycmF5KEhFQVBfU0laRSQxICogMik7XG4gICAgICAgICAgICB0aGlzLmR5bl9kdHJlZSA9IG5ldyBVaW50MTZBcnJheSgoMiAqIERfQ09ERVMkMSArIDEpICogMik7XG4gICAgICAgICAgICB0aGlzLmJsX3RyZWUgPSBuZXcgVWludDE2QXJyYXkoKDIgKiBCTF9DT0RFUyQxICsgMSkgKiAyKTtcbiAgICAgICAgICAgIHplcm8kMSh0aGlzLmR5bl9sdHJlZSk7XG4gICAgICAgICAgICB6ZXJvJDEodGhpcy5keW5fZHRyZWUpO1xuICAgICAgICAgICAgemVybyQxKHRoaXMuYmxfdHJlZSk7XG4gICAgICAgICAgICB0aGlzLmxfZGVzYyA9IG51bGw7XG4gICAgICAgICAgICAvKiBkZXNjLiBmb3IgbGl0ZXJhbCB0cmVlICovXG4gICAgICAgICAgICB0aGlzLmRfZGVzYyA9IG51bGw7XG4gICAgICAgICAgICAvKiBkZXNjLiBmb3IgZGlzdGFuY2UgdHJlZSAqL1xuICAgICAgICAgICAgdGhpcy5ibF9kZXNjID0gbnVsbDtcbiAgICAgICAgICAgIC8qIGRlc2MuIGZvciBiaXQgbGVuZ3RoIHRyZWUgKi9cbiAgICAgICAgICAgIC8vIHVzaCBibF9jb3VudFtNQVhfQklUUysxXTtcbiAgICAgICAgICAgIHRoaXMuYmxfY291bnQgPSBuZXcgVWludDE2QXJyYXkoTUFYX0JJVFMkMSArIDEpO1xuICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCBmb3IgYW4gb3B0aW1hbCB0cmVlICovXG4gICAgICAgICAgICAvLyBpbnQgaGVhcFsyKkxfQ09ERVMrMV07ICAgICAgLyogaGVhcCB1c2VkIHRvIGJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzICovXG4gICAgICAgICAgICB0aGlzLmhlYXAgPSBuZXcgVWludDE2QXJyYXkoMiAqIExfQ09ERVMkMSArIDEpO1xuICAgICAgICAgICAgLyogaGVhcCB1c2VkIHRvIGJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzICovXG4gICAgICAgICAgICB6ZXJvJDEodGhpcy5oZWFwKTtcbiAgICAgICAgICAgIHRoaXMuaGVhcF9sZW4gPSAwO1xuICAgICAgICAgICAgLyogbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBoZWFwICovXG4gICAgICAgICAgICB0aGlzLmhlYXBfbWF4ID0gMDtcbiAgICAgICAgICAgIC8qIGVsZW1lbnQgb2YgbGFyZ2VzdCBmcmVxdWVuY3kgKi9cbiAgICAgICAgICAgIC8qIFRoZSBzb25zIG9mIGhlYXBbbl0gYXJlIGhlYXBbMipuXSBhbmQgaGVhcFsyKm4rMV0uIGhlYXBbMF0gaXMgbm90IHVzZWQuXG4gICAgICAgICAgICAgKiBUaGUgc2FtZSBoZWFwIGFycmF5IGlzIHVzZWQgdG8gYnVpbGQgYWxsIHRyZWVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmRlcHRoID0gbmV3IFVpbnQxNkFycmF5KDIgKiBMX0NPREVTJDEgKyAxKTsgLy8gdWNoIGRlcHRoWzIqTF9DT0RFUysxXTtcbiAgICAgICAgICAgIHplcm8kMSh0aGlzLmRlcHRoKTtcbiAgICAgICAgICAgIC8qIERlcHRoIG9mIGVhY2ggc3VidHJlZSB1c2VkIGFzIHRpZSBicmVha2VyIGZvciB0cmVlcyBvZiBlcXVhbCBmcmVxdWVuY3lcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5sX2J1ZiA9IDA7XG4gICAgICAgICAgICAvKiBidWZmZXIgaW5kZXggZm9yIGxpdGVyYWxzIG9yIGxlbmd0aHMgKi9cbiAgICAgICAgICAgIHRoaXMubGl0X2J1ZnNpemUgPSAwO1xuICAgICAgICAgICAgLyogU2l6ZSBvZiBtYXRjaCBidWZmZXIgZm9yIGxpdGVyYWxzL2xlbmd0aHMuICBUaGVyZSBhcmUgNCByZWFzb25zIGZvclxuICAgICAgICAgICAgICogbGltaXRpbmcgbGl0X2J1ZnNpemUgdG8gNjRLOlxuICAgICAgICAgICAgICogICAtIGZyZXF1ZW5jaWVzIGNhbiBiZSBrZXB0IGluIDE2IGJpdCBjb3VudGVyc1xuICAgICAgICAgICAgICogICAtIGlmIGNvbXByZXNzaW9uIGlzIG5vdCBzdWNjZXNzZnVsIGZvciB0aGUgZmlyc3QgYmxvY2ssIGFsbCBpbnB1dFxuICAgICAgICAgICAgICogICAgIGRhdGEgaXMgc3RpbGwgaW4gdGhlIHdpbmRvdyBzbyB3ZSBjYW4gc3RpbGwgZW1pdCBhIHN0b3JlZCBibG9jayBldmVuXG4gICAgICAgICAgICAgKiAgICAgd2hlbiBpbnB1dCBjb21lcyBmcm9tIHN0YW5kYXJkIGlucHV0LiAgKFRoaXMgY2FuIGFsc28gYmUgZG9uZSBmb3JcbiAgICAgICAgICAgICAqICAgICBhbGwgYmxvY2tzIGlmIGxpdF9idWZzaXplIGlzIG5vdCBncmVhdGVyIHRoYW4gMzJLLilcbiAgICAgICAgICAgICAqICAgLSBpZiBjb21wcmVzc2lvbiBpcyBub3Qgc3VjY2Vzc2Z1bCBmb3IgYSBmaWxlIHNtYWxsZXIgdGhhbiA2NEssIHdlIGNhblxuICAgICAgICAgICAgICogICAgIGV2ZW4gZW1pdCBhIHN0b3JlZCBmaWxlIGluc3RlYWQgb2YgYSBzdG9yZWQgYmxvY2sgKHNhdmluZyA1IGJ5dGVzKS5cbiAgICAgICAgICAgICAqICAgICBUaGlzIGlzIGFwcGxpY2FibGUgb25seSBmb3IgemlwIChub3QgZ3ppcCBvciB6bGliKS5cbiAgICAgICAgICAgICAqICAgLSBjcmVhdGluZyBuZXcgSHVmZm1hbiB0cmVlcyBsZXNzIGZyZXF1ZW50bHkgbWF5IG5vdCBwcm92aWRlIGZhc3RcbiAgICAgICAgICAgICAqICAgICBhZGFwdGF0aW9uIHRvIGNoYW5nZXMgaW4gdGhlIGlucHV0IGRhdGEgc3RhdGlzdGljcy4gKFRha2UgZm9yXG4gICAgICAgICAgICAgKiAgICAgZXhhbXBsZSBhIGJpbmFyeSBmaWxlIHdpdGggcG9vcmx5IGNvbXByZXNzaWJsZSBjb2RlIGZvbGxvd2VkIGJ5XG4gICAgICAgICAgICAgKiAgICAgYSBoaWdobHkgY29tcHJlc3NpYmxlIHN0cmluZyB0YWJsZS4pIFNtYWxsZXIgYnVmZmVyIHNpemVzIGdpdmVcbiAgICAgICAgICAgICAqICAgICBmYXN0IGFkYXB0YXRpb24gYnV0IGhhdmUgb2YgY291cnNlIHRoZSBvdmVyaGVhZCBvZiB0cmFuc21pdHRpbmdcbiAgICAgICAgICAgICAqICAgICB0cmVlcyBtb3JlIGZyZXF1ZW50bHkuXG4gICAgICAgICAgICAgKiAgIC0gSSBjYW4ndCBjb3VudCBhYm92ZSA0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubGFzdF9saXQgPSAwO1xuICAgICAgICAgICAgLyogcnVubmluZyBpbmRleCBpbiBsX2J1ZiAqL1xuICAgICAgICAgICAgdGhpcy5kX2J1ZiA9IDA7XG4gICAgICAgICAgICAvKiBCdWZmZXIgaW5kZXggZm9yIGRpc3RhbmNlcy4gVG8gc2ltcGxpZnkgdGhlIGNvZGUsIGRfYnVmIGFuZCBsX2J1ZiBoYXZlXG4gICAgICAgICAgICAgKiB0aGUgc2FtZSBudW1iZXIgb2YgZWxlbWVudHMuIFRvIHVzZSBkaWZmZXJlbnQgbGVuZ3RocywgYW4gZXh0cmEgZmxhZ1xuICAgICAgICAgICAgICogYXJyYXkgd291bGQgYmUgbmVjZXNzYXJ5LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm9wdF9sZW4gPSAwO1xuICAgICAgICAgICAgLyogYml0IGxlbmd0aCBvZiBjdXJyZW50IGJsb2NrIHdpdGggb3B0aW1hbCB0cmVlcyAqL1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNfbGVuID0gMDtcbiAgICAgICAgICAgIC8qIGJpdCBsZW5ndGggb2YgY3VycmVudCBibG9jayB3aXRoIHN0YXRpYyB0cmVlcyAqL1xuICAgICAgICAgICAgdGhpcy5tYXRjaGVzID0gMDtcbiAgICAgICAgICAgIC8qIG51bWJlciBvZiBzdHJpbmcgbWF0Y2hlcyBpbiBjdXJyZW50IGJsb2NrICovXG4gICAgICAgICAgICB0aGlzLmluc2VydCA9IDA7XG4gICAgICAgICAgICAvKiBieXRlcyBhdCBlbmQgb2Ygd2luZG93IGxlZnQgdG8gaW5zZXJ0ICovXG4gICAgICAgICAgICB0aGlzLmJpX2J1ZiA9IDA7XG4gICAgICAgICAgICAvKiBPdXRwdXQgYnVmZmVyLiBiaXRzIGFyZSBpbnNlcnRlZCBzdGFydGluZyBhdCB0aGUgYm90dG9tIChsZWFzdFxuICAgICAgICAgICAgICogc2lnbmlmaWNhbnQgYml0cykuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuYmlfdmFsaWQgPSAwO1xuICAgICAgICAgICAgLyogTnVtYmVyIG9mIHZhbGlkIGJpdHMgaW4gYmlfYnVmLiAgQWxsIGJpdHMgYWJvdmUgdGhlIGxhc3QgdmFsaWQgYml0XG4gICAgICAgICAgICAgKiBhcmUgYWx3YXlzIHplcm8uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIFVzZWQgZm9yIHdpbmRvdyBtZW1vcnkgaW5pdC4gV2Ugc2FmZWx5IGlnbm9yZSBpdCBmb3IgSlMuIFRoYXQgbWFrZXNcbiAgICAgICAgICAgIC8vIHNlbnNlIG9ubHkgZm9yIHBvaW50ZXJzIGFuZCBtZW1vcnkgY2hlY2sgdG9vbHMuXG4gICAgICAgICAgICAvLyB0aGlzLmhpZ2hfd2F0ZXIgPSAwO1xuICAgICAgICAgICAgLyogSGlnaCB3YXRlciBtYXJrIG9mZnNldCBpbiB3aW5kb3cgZm9yIGluaXRpYWxpemVkIGJ5dGVzIC0tIGJ5dGVzIGFib3ZlXG4gICAgICAgICAgICAgKiB0aGlzIGFyZSBzZXQgdG8gemVybyBpbiBvcmRlciB0byBhdm9pZCBtZW1vcnkgY2hlY2sgd2FybmluZ3Mgd2hlblxuICAgICAgICAgICAgICogbG9uZ2VzdCBtYXRjaCByb3V0aW5lcyBhY2Nlc3MgYnl0ZXMgcGFzdCB0aGUgaW5wdXQuICBUaGlzIGlzIHRoZW5cbiAgICAgICAgICAgICAqIHVwZGF0ZWQgdG8gdGhlIG5ldyBoaWdoIHdhdGVyIG1hcmsuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVmbGF0ZVJlc2V0S2VlcCA9IGZ1bmN0aW9uIGRlZmxhdGVSZXNldEtlZXAoc3RybSkge1xuICAgICAgICAgICAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJtLnRvdGFsX2luID0gc3RybS50b3RhbF9vdXQgPSAwO1xuICAgICAgICAgICAgc3RybS5kYXRhX3R5cGUgPSBaX1VOS05PV04kMTtcbiAgICAgICAgICAgIHZhciBzID0gc3RybS5zdGF0ZTtcbiAgICAgICAgICAgIHMucGVuZGluZyA9IDA7XG4gICAgICAgICAgICBzLnBlbmRpbmdfb3V0ID0gMDtcbiAgICAgICAgICAgIGlmIChzLndyYXAgPCAwKSB7XG4gICAgICAgICAgICAgICAgcy53cmFwID0gLXMud3JhcDtcbiAgICAgICAgICAgICAgICAvKiB3YXMgbWFkZSBuZWdhdGl2ZSBieSBkZWZsYXRlKC4uLiwgWl9GSU5JU0gpOyAqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5zdGF0dXMgPSBzLndyYXAgPyBJTklUX1NUQVRFIDogQlVTWV9TVEFURTtcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPVxuICAgICAgICAgICAgICAgIHMud3JhcCA9PT0gMlxuICAgICAgICAgICAgICAgICAgICA/IDAgLy8gY3JjMzIoMCwgWl9OVUxMLCAwKVxuICAgICAgICAgICAgICAgICAgICA6IDE7IC8vIGFkbGVyMzIoMCwgWl9OVUxMLCAwKVxuICAgICAgICAgICAgcy5sYXN0X2ZsdXNoID0gWl9OT19GTFVTSDtcbiAgICAgICAgICAgIF90cl9pbml0JDEocyk7XG4gICAgICAgICAgICByZXR1cm4gWl9PSztcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmxhdGVSZXNldCA9IGZ1bmN0aW9uIGRlZmxhdGVSZXNldChzdHJtKSB7XG4gICAgICAgICAgICB2YXIgcmV0ID0gZGVmbGF0ZVJlc2V0S2VlcChzdHJtKTtcbiAgICAgICAgICAgIGlmIChyZXQgPT09IFpfT0spIHtcbiAgICAgICAgICAgICAgICBsbV9pbml0KHN0cm0uc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmxhdGVTZXRIZWFkZXIgPSBmdW5jdGlvbiBkZWZsYXRlU2V0SGVhZGVyKHN0cm0sIGhlYWQpIHtcbiAgICAgICAgICAgIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHJtLnN0YXRlLndyYXAgIT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJtLnN0YXRlLmd6aGVhZCA9IGhlYWQ7XG4gICAgICAgICAgICByZXR1cm4gWl9PSztcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmxhdGVJbml0MiA9IGZ1bmN0aW9uIGRlZmxhdGVJbml0MihzdHJtLCBsZXZlbCwgbWV0aG9kLCB3aW5kb3dCaXRzLCBtZW1MZXZlbCwgc3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGlmICghc3RybSkge1xuICAgICAgICAgICAgICAgIC8vID09PSBaX05VTExcbiAgICAgICAgICAgICAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgd3JhcCA9IDE7XG4gICAgICAgICAgICBpZiAobGV2ZWwgPT09IFpfREVGQVVMVF9DT01QUkVTU0lPTikge1xuICAgICAgICAgICAgICAgIGxldmVsID0gNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3aW5kb3dCaXRzIDwgMCkge1xuICAgICAgICAgICAgICAgIC8qIHN1cHByZXNzIHpsaWIgd3JhcHBlciAqL1xuICAgICAgICAgICAgICAgIHdyYXAgPSAwO1xuICAgICAgICAgICAgICAgIHdpbmRvd0JpdHMgPSAtd2luZG93Qml0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHdpbmRvd0JpdHMgPiAxNSkge1xuICAgICAgICAgICAgICAgIHdyYXAgPSAyO1xuICAgICAgICAgICAgICAgIC8qIHdyaXRlIGd6aXAgd3JhcHBlciBpbnN0ZWFkICovXG4gICAgICAgICAgICAgICAgd2luZG93Qml0cyAtPSAxNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZW1MZXZlbCA8IDEgfHxcbiAgICAgICAgICAgICAgICBtZW1MZXZlbCA+IE1BWF9NRU1fTEVWRUwgfHxcbiAgICAgICAgICAgICAgICBtZXRob2QgIT09IFpfREVGTEFURUQgfHxcbiAgICAgICAgICAgICAgICB3aW5kb3dCaXRzIDwgOCB8fFxuICAgICAgICAgICAgICAgIHdpbmRvd0JpdHMgPiAxNSB8fFxuICAgICAgICAgICAgICAgIGxldmVsIDwgMCB8fFxuICAgICAgICAgICAgICAgIGxldmVsID4gOSB8fFxuICAgICAgICAgICAgICAgIHN0cmF0ZWd5IDwgMCB8fFxuICAgICAgICAgICAgICAgIHN0cmF0ZWd5ID4gWl9GSVhFRCQxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2luZG93Qml0cyA9PT0gOCkge1xuICAgICAgICAgICAgICAgIHdpbmRvd0JpdHMgPSA5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogdW50aWwgMjU2LWJ5dGUgd2luZG93IGJ1ZyBmaXhlZCAqL1xuICAgICAgICAgICAgdmFyIHMgPSBuZXcgRGVmbGF0ZVN0YXRlKCk7XG4gICAgICAgICAgICBzdHJtLnN0YXRlID0gcztcbiAgICAgICAgICAgIHMuc3RybSA9IHN0cm07XG4gICAgICAgICAgICBzLndyYXAgPSB3cmFwO1xuICAgICAgICAgICAgcy5nemhlYWQgPSBudWxsO1xuICAgICAgICAgICAgcy53X2JpdHMgPSB3aW5kb3dCaXRzO1xuICAgICAgICAgICAgcy53X3NpemUgPSAxIDw8IHMud19iaXRzO1xuICAgICAgICAgICAgcy53X21hc2sgPSBzLndfc2l6ZSAtIDE7XG4gICAgICAgICAgICBzLmhhc2hfYml0cyA9IG1lbUxldmVsICsgNztcbiAgICAgICAgICAgIHMuaGFzaF9zaXplID0gMSA8PCBzLmhhc2hfYml0cztcbiAgICAgICAgICAgIHMuaGFzaF9tYXNrID0gcy5oYXNoX3NpemUgLSAxO1xuICAgICAgICAgICAgcy5oYXNoX3NoaWZ0ID0gfn4oKHMuaGFzaF9iaXRzICsgTUlOX01BVENIJDEgLSAxKSAvIE1JTl9NQVRDSCQxKTtcbiAgICAgICAgICAgIHMud2luZG93ID0gbmV3IFVpbnQ4QXJyYXkocy53X3NpemUgKiAyKTtcbiAgICAgICAgICAgIHMuaGVhZCA9IG5ldyBVaW50MTZBcnJheShzLmhhc2hfc2l6ZSk7XG4gICAgICAgICAgICBzLnByZXYgPSBuZXcgVWludDE2QXJyYXkocy53X3NpemUpOyAvLyBEb24ndCBuZWVkIG1lbSBpbml0IG1hZ2ljIGZvciBKUy5cbiAgICAgICAgICAgIC8vIHMuaGlnaF93YXRlciA9IDA7ICAvKiBub3RoaW5nIHdyaXR0ZW4gdG8gcy0+d2luZG93IHlldCAqL1xuICAgICAgICAgICAgcy5saXRfYnVmc2l6ZSA9IDEgPDwgKG1lbUxldmVsICsgNik7XG4gICAgICAgICAgICAvKiAxNksgZWxlbWVudHMgYnkgZGVmYXVsdCAqL1xuICAgICAgICAgICAgcy5wZW5kaW5nX2J1Zl9zaXplID0gcy5saXRfYnVmc2l6ZSAqIDQ7XG4gICAgICAgICAgICAvLyBvdmVybGF5ID0gKHVzaGYgKikgWkFMTE9DKHN0cm0sIHMtPmxpdF9idWZzaXplLCBzaXplb2YodXNoKSsyKTtcbiAgICAgICAgICAgIC8vIHMtPnBlbmRpbmdfYnVmID0gKHVjaGYgKikgb3ZlcmxheTtcbiAgICAgICAgICAgIC8vIEl0IGlzIG9mZnNldCBmcm9tIGBzLnBlbmRpbmdfYnVmYCAoc2l6ZSBpcyBgcy5saXRfYnVmc2l6ZSAqIDJgKVxuICAgICAgICAgICAgcy5wZW5kaW5nX2J1ZiA9IG5ldyBVaW50OEFycmF5KHMucGVuZGluZ19idWZfc2l6ZSk7XG4gICAgICAgICAgICAvLyBzLT5kX2J1ZiA9IG92ZXJsYXkgKyBzLT5saXRfYnVmc2l6ZS9zaXplb2YodXNoKTtcbiAgICAgICAgICAgIHMuZF9idWYgPSAxICogcy5saXRfYnVmc2l6ZTsgLy8gcy0+bF9idWYgPSBzLT5wZW5kaW5nX2J1ZiArICgxK3NpemVvZih1c2gpKSpzLT5saXRfYnVmc2l6ZTtcbiAgICAgICAgICAgIHMubF9idWYgPSAoMSArIDIpICogcy5saXRfYnVmc2l6ZTtcbiAgICAgICAgICAgIHMubGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgICAgIHMuc3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgICAgICAgICAgIHMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmxhdGVSZXNldChzdHJtKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmxhdGVJbml0ID0gZnVuY3Rpb24gZGVmbGF0ZUluaXQoc3RybSwgbGV2ZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZsYXRlSW5pdDIoc3RybSwgbGV2ZWwsIFpfREVGTEFURUQsIE1BWF9XQklUUywgREVGX01FTV9MRVZFTCwgWl9ERUZBVUxUX1NUUkFURUdZKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmxhdGUgPSBmdW5jdGlvbiBkZWZsYXRlKHN0cm0sIGZsdXNoKSB7XG4gICAgICAgICAgICB2YXIgYmVnO1xuICAgICAgICAgICAgdmFyIHZhbDsgLy8gZm9yIGd6aXAgaGVhZGVyIHdyaXRlIG9ubHlcbiAgICAgICAgICAgIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSB8fCBmbHVzaCA+IFpfQkxPQ0sgfHwgZmx1c2ggPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cm0gPyBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IpIDogWl9TVFJFQU1fRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcyA9IHN0cm0uc3RhdGU7XG4gICAgICAgICAgICBpZiAoIXN0cm0ub3V0cHV0IHx8ICghc3RybS5pbnB1dCAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSB8fCAocy5zdGF0dXMgPT09IEZJTklTSF9TVEFURSAmJiBmbHVzaCAhPT0gWl9GSU5JU0gpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycihzdHJtLCBzdHJtLmF2YWlsX291dCA9PT0gMCA/IFpfQlVGX0VSUk9SIDogWl9TVFJFQU1fRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5zdHJtID0gc3RybTtcbiAgICAgICAgICAgIC8qIGp1c3QgaW4gY2FzZSAqL1xuICAgICAgICAgICAgdmFyIG9sZF9mbHVzaCA9IHMubGFzdF9mbHVzaDtcbiAgICAgICAgICAgIHMubGFzdF9mbHVzaCA9IGZsdXNoO1xuICAgICAgICAgICAgLyogV3JpdGUgdGhlIGhlYWRlciAqL1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBJTklUX1NUQVRFKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMud3JhcCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBHWklQIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gMDsgLy8gY3JjMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIDMxKTtcbiAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgMTM5KTtcbiAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgOCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcy5nemhlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHMtPmd6aGVhZCA9PSBaX05VTExcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCBzLmxldmVsID09PSA5ID8gMiA6IHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIgPyA0IDogMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCBPU19DT0RFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50ZXh0ID8gMSA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocy5nemhlYWQuaGNyYyA/IDIgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzLmd6aGVhZC5leHRyYSA/IDAgOiA0KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzLmd6aGVhZC5uYW1lID8gMCA6IDgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIXMuZ3poZWFkLmNvbW1lbnQgPyAwIDogMTYpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLnRpbWUgJiAweGZmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50aW1lID4+IDgpICYgMHhmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGltZSA+PiAxNikgJiAweGZmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50aW1lID4+IDI0KSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgcy5sZXZlbCA9PT0gOSA/IDIgOiBzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyID8gNCA6IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQub3MgJiAweGZmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmd6aGVhZC5leHRyYSAmJiBzLmd6aGVhZC5leHRyYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC5leHRyYS5sZW5ndGggJiAweGZmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQuZXh0cmEubGVuZ3RoID4+IDgpICYgMHhmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmd6aW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgPSBFWFRSQV9TVEFURTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gLy8gREVGTEFURSBoZWFkZXJcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlciA9IChaX0RFRkxBVEVEICsgKChzLndfYml0cyAtIDgpIDw8IDQpKSA8PCA4O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGV2ZWxfZmxhZ3MgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsX2ZsYWdzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzLmxldmVsIDwgNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxfZmxhZ3MgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMubGV2ZWwgPT09IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsX2ZsYWdzID0gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsX2ZsYWdzID0gMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoZWFkZXIgfD0gbGV2ZWxfZmxhZ3MgPDwgNjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc3Ryc3RhcnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlciB8PSBQUkVTRVRfRElDVDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoZWFkZXIgKz0gMzEgLSAoaGVhZGVyICUgMzEpO1xuICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG4gICAgICAgICAgICAgICAgICAgIHB1dFNob3J0TVNCKHMsIGhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIC8qIFNhdmUgdGhlIGFkbGVyMzIgb2YgdGhlIHByZXNldCBkaWN0aW9uYXJ5OiAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5zdHJzdGFydCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciA+Pj4gMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciAmIDB4ZmZmZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IDE7IC8vIGFkbGVyMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyAjaWZkZWYgR1pJUFxuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBFWFRSQV9TVEFURSkge1xuICAgICAgICAgICAgICAgIGlmIChzLmd6aGVhZC5leHRyYVxuICAgICAgICAgICAgICAgIC8qICE9IFpfTlVMTCAqL1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBiZWcgPSBzLnBlbmRpbmc7XG4gICAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0IG9mIGJ5dGVzIHRvIHVwZGF0ZSBjcmMgKi9cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHMuZ3ppbmRleCA8IChzLmd6aGVhZC5leHRyYS5sZW5ndGggJiAweGZmZmYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZyA9IHMucGVuZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQuZXh0cmFbcy5nemluZGV4XSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5nemluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuZ3ppbmRleCA9PT0gcy5nemhlYWQuZXh0cmEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmd6aW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgPSBOQU1FX1NUQVRFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyA9IE5BTUVfU1RBVEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBOQU1FX1NUQVRFKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMuZ3poZWFkLm5hbWVcbiAgICAgICAgICAgICAgICAvKiAhPSBaX05VTEwgKi9cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgYmVnID0gcy5wZW5kaW5nO1xuICAgICAgICAgICAgICAgICAgICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG4gICAgICAgICAgICAgICAgICAgIC8vIGludCB2YWw7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnID0gcy5wZW5kaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IC8vIEpTIHNwZWNpZmljOiBsaXR0bGUgbWFnaWMgdG8gYWRkIHplcm8gdGVybWluYXRvciB0byBlbmQgb2Ygc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5nemluZGV4IDwgcy5nemhlYWQubmFtZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBzLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQocy5nemluZGV4KyspICYgMHhmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICh2YWwgIT09IDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmd6aW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgPSBDT01NRU5UX1NUQVRFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyA9IENPTU1FTlRfU1RBVEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBDT01NRU5UX1NUQVRFKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMuZ3poZWFkLmNvbW1lbnRcbiAgICAgICAgICAgICAgICAvKiAhPSBaX05VTEwgKi9cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgYmVnID0gcy5wZW5kaW5nO1xuICAgICAgICAgICAgICAgICAgICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG4gICAgICAgICAgICAgICAgICAgIC8vIGludCB2YWw7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnID0gcy5wZW5kaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IC8vIEpTIHNwZWNpZmljOiBsaXR0bGUgbWFnaWMgdG8gYWRkIHplcm8gdGVybWluYXRvciB0byBlbmQgb2Ygc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5nemluZGV4IDwgcy5nemhlYWQuY29tbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBzLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQocy5nemluZGV4KyspICYgMHhmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICh2YWwgIT09IDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyA9IEhDUkNfU1RBVEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzID0gSENSQ19TVEFURTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IEhDUkNfU1RBVEUpIHtcbiAgICAgICAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5wZW5kaW5nICsgMiA+IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocy5wZW5kaW5nICsgMiA8PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIHN0cm0uYWRsZXIgJiAweGZmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDgpICYgMHhmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gMDsgLy8gY3JjMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IC8vICNlbmRpZlxuICAgICAgICAgICAgLyogRmx1c2ggYXMgbXVjaCBwZW5kaW5nIG91dHB1dCBhcyBwb3NzaWJsZSAqL1xuICAgICAgICAgICAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIFNpbmNlIGF2YWlsX291dCBpcyAwLCBkZWZsYXRlIHdpbGwgYmUgY2FsbGVkIGFnYWluIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICogbW9yZSBvdXRwdXQgc3BhY2UsIGJ1dCBwb3NzaWJseSB3aXRoIGJvdGggcGVuZGluZyBhbmRcbiAgICAgICAgICAgICAgICAgICAgICogYXZhaWxfaW4gZXF1YWwgdG8gemVyby4gVGhlcmUgd29uJ3QgYmUgYW55dGhpbmcgdG8gZG8sXG4gICAgICAgICAgICAgICAgICAgICAqIGJ1dCB0aGlzIGlzIG5vdCBhbiBlcnJvciBzaXR1YXRpb24gc28gbWFrZSBzdXJlIHdlXG4gICAgICAgICAgICAgICAgICAgICAqIHJldHVybiBPSyBpbnN0ZWFkIG9mIEJVRl9FUlJPUiBhdCBuZXh0IGNhbGwgb2YgZGVmbGF0ZTpcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWl9PSztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogTWFrZSBzdXJlIHRoZXJlIGlzIHNvbWV0aGluZyB0byBkbyBhbmQgYXZvaWQgZHVwbGljYXRlIGNvbnNlY3V0aXZlXG4gICAgICAgICAgICAgICAgICogZmx1c2hlcy4gRm9yIHJlcGVhdGVkIGFuZCB1c2VsZXNzIGNhbGxzIHdpdGggWl9GSU5JU0gsIHdlIGtlZXBcbiAgICAgICAgICAgICAgICAgKiByZXR1cm5pbmcgWl9TVFJFQU1fRU5EIGluc3RlYWQgb2YgWl9CVUZfRVJST1IuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdHJtLmF2YWlsX2luID09PSAwICYmIHJhbmsoZmx1c2gpIDw9IHJhbmsob2xkX2ZsdXNoKSAmJiBmbHVzaCAhPT0gWl9GSU5JU0gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyKHN0cm0sIFpfQlVGX0VSUk9SKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIFVzZXIgbXVzdCBub3QgcHJvdmlkZSBtb3JlIGlucHV0IGFmdGVyIHRoZSBmaXJzdCBGSU5JU0g6ICovXG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IEZJTklTSF9TVEFURSAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBTdGFydCBhIG5ldyBibG9jayBvciBjb250aW51ZSB0aGUgY3VycmVudCBvbmUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChzdHJtLmF2YWlsX2luICE9PSAwIHx8IHMubG9va2FoZWFkICE9PSAwIHx8IChmbHVzaCAhPT0gWl9OT19GTFVTSCAmJiBzLnN0YXR1cyAhPT0gRklOSVNIX1NUQVRFKSkge1xuICAgICAgICAgICAgICAgIHZhciBic3RhdGUgPSBzLnN0cmF0ZWd5ID09PSBaX0hVRkZNQU5fT05MWVxuICAgICAgICAgICAgICAgICAgICA/IGRlZmxhdGVfaHVmZihzLCBmbHVzaClcbiAgICAgICAgICAgICAgICAgICAgOiBzLnN0cmF0ZWd5ID09PSBaX1JMRVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBkZWZsYXRlX3JsZShzLCBmbHVzaClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5mdW5jKHMsIGZsdXNoKTtcbiAgICAgICAgICAgICAgICBpZiAoYnN0YXRlID09PSBCU19GSU5JU0hfU1RBUlRFRCB8fCBic3RhdGUgPT09IEJTX0ZJTklTSF9ET05FKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzID0gRklOSVNIX1NUQVRFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYnN0YXRlID09PSBCU19ORUVEX01PUkUgfHwgYnN0YXRlID09PSBCU19GSU5JU0hfU1RBUlRFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogYXZvaWQgQlVGX0VSUk9SIG5leHQgY2FsbCwgc2VlIGFib3ZlICovXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFpfT0s7XG4gICAgICAgICAgICAgICAgICAgIC8qIElmIGZsdXNoICE9IFpfTk9fRkxVU0ggJiYgYXZhaWxfb3V0ID09IDAsIHRoZSBuZXh0IGNhbGxcbiAgICAgICAgICAgICAgICAgICAgICogb2YgZGVmbGF0ZSBzaG91bGQgdXNlIHRoZSBzYW1lIGZsdXNoIHBhcmFtZXRlciB0byBtYWtlIHN1cmVcbiAgICAgICAgICAgICAgICAgICAgICogdGhhdCB0aGUgZmx1c2ggaXMgY29tcGxldGUuIFNvIHdlIGRvbid0IGhhdmUgdG8gb3V0cHV0IGFuXG4gICAgICAgICAgICAgICAgICAgICAqIGVtcHR5IGJsb2NrIGhlcmUsIHRoaXMgd2lsbCBiZSBkb25lIGF0IG5leHQgY2FsbC4gVGhpcyBhbHNvXG4gICAgICAgICAgICAgICAgICAgICAqIGVuc3VyZXMgdGhhdCBmb3IgYSB2ZXJ5IHNtYWxsIG91dHB1dCBidWZmZXIsIHdlIGVtaXQgYXQgbW9zdFxuICAgICAgICAgICAgICAgICAgICAgKiBvbmUgZW1wdHkgYmxvY2suXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYnN0YXRlID09PSBCU19CTE9DS19ET05FKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbHVzaCA9PT0gWl9QQVJUSUFMX0ZMVVNIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdHJfYWxpZ24kMShzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmbHVzaCAhPT0gWl9CTE9DSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogRlVMTF9GTFVTSCBvciBTWU5DX0ZMVVNIICovXG4gICAgICAgICAgICAgICAgICAgICAgICBfdHJfc3RvcmVkX2Jsb2NrJDEocywgMCwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogRm9yIGEgZnVsbCBmbHVzaCwgdGhpcyBlbXB0eSBibG9jayB3aWxsIGJlIHJlY29nbml6ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGFzIGEgc3BlY2lhbCBtYXJrZXIgYnkgaW5mbGF0ZV9zeW5jKCkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbHVzaCA9PT0gWl9GVUxMX0ZMVVNIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqICogQ0xFQVJfSEFTSChzKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBmb3JnZXQgaGlzdG9yeSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHplcm8kMShzLmhlYWQpOyAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5ibG9ja19zdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGF2b2lkIEJVRl9FUlJPUiBhdCBuZXh0IGNhbGwsIHNlZSBhYm92ZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFpfT0s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IC8vIEFzc2VydChzdHJtLT5hdmFpbF9vdXQgPiAwLCBcImJ1ZzJcIik7XG4gICAgICAgICAgICAvLyBpZiAoc3RybS5hdmFpbF9vdXQgPD0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJidWcyXCIpO31cbiAgICAgICAgICAgIGlmIChmbHVzaCAhPT0gWl9GSU5JU0gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWl9PSztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzLndyYXAgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBaX1NUUkVBTV9FTkQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBXcml0ZSB0aGUgdHJhaWxlciAqL1xuICAgICAgICAgICAgaWYgKHMud3JhcCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIHN0cm0uYWRsZXIgJiAweGZmKTtcbiAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiA4KSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDE2KSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDI0KSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIHN0cm0udG90YWxfaW4gJiAweGZmKTtcbiAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAoc3RybS50b3RhbF9pbiA+PiA4KSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDE2KSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDI0KSAmIDB4ZmYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciA+Pj4gMTYpO1xuICAgICAgICAgICAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgJiAweGZmZmYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgICAgIC8qIElmIGF2YWlsX291dCBpcyB6ZXJvLCB0aGUgYXBwbGljYXRpb24gd2lsbCBjYWxsIGRlZmxhdGUgYWdhaW5cbiAgICAgICAgICAgICAqIHRvIGZsdXNoIHRoZSByZXN0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAocy53cmFwID4gMCkge1xuICAgICAgICAgICAgICAgIHMud3JhcCA9IC1zLndyYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiB3cml0ZSB0aGUgdHJhaWxlciBvbmx5IG9uY2UhICovXG4gICAgICAgICAgICByZXR1cm4gcy5wZW5kaW5nICE9PSAwID8gWl9PSyA6IFpfU1RSRUFNX0VORDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmxhdGVFbmQgPSBmdW5jdGlvbiBkZWZsYXRlRW5kKHN0cm0pIHtcbiAgICAgICAgICAgIGlmICghc3RybSB8fFxuICAgICAgICAgICAgICAgIC8qID09IFpfTlVMTCAqL1xuICAgICAgICAgICAgICAgICFzdHJtLnN0YXRlXG4gICAgICAgICAgICAvKiA9PSBaX05VTEwgKi9cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGF0dXMgPSBzdHJtLnN0YXRlLnN0YXR1cztcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IElOSVRfU1RBVEUgJiZcbiAgICAgICAgICAgICAgICBzdGF0dXMgIT09IEVYVFJBX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgc3RhdHVzICE9PSBOQU1FX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgc3RhdHVzICE9PSBDT01NRU5UX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgc3RhdHVzICE9PSBIQ1JDX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgc3RhdHVzICE9PSBCVVNZX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgc3RhdHVzICE9PSBGSU5JU0hfU1RBVEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cm0uc3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gQlVTWV9TVEFURSA/IGVycihzdHJtLCBaX0RBVEFfRVJST1IpIDogWl9PSztcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBJbml0aWFsaXplcyB0aGUgY29tcHJlc3Npb24gZGljdGlvbmFyeSBmcm9tIHRoZSBnaXZlbiBieXRlXG4gICAgICAgICAqIHNlcXVlbmNlIHdpdGhvdXQgcHJvZHVjaW5nIGFueSBjb21wcmVzc2VkIG91dHB1dC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBkZWZsYXRlU2V0RGljdGlvbmFyeSA9IGZ1bmN0aW9uIGRlZmxhdGVTZXREaWN0aW9uYXJ5KHN0cm0sIGRpY3Rpb25hcnkpIHtcbiAgICAgICAgICAgIHZhciBkaWN0TGVuZ3RoID0gZGljdGlvbmFyeS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoIXN0cm0gfHxcbiAgICAgICAgICAgICAgICAvKiA9PSBaX05VTEwgKi9cbiAgICAgICAgICAgICAgICAhc3RybS5zdGF0ZVxuICAgICAgICAgICAgLyogPT0gWl9OVUxMICovXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcyA9IHN0cm0uc3RhdGU7XG4gICAgICAgICAgICB2YXIgd3JhcCA9IHMud3JhcDtcbiAgICAgICAgICAgIGlmICh3cmFwID09PSAyIHx8ICh3cmFwID09PSAxICYmIHMuc3RhdHVzICE9PSBJTklUX1NUQVRFKSB8fCBzLmxvb2thaGVhZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIHdoZW4gdXNpbmcgemxpYiB3cmFwcGVycywgY29tcHV0ZSBBZGxlci0zMiBmb3IgcHJvdmlkZWQgZGljdGlvbmFyeSAqL1xuICAgICAgICAgICAgaWYgKHdyYXAgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvKiBhZGxlcjMyKHN0cm0tPmFkbGVyLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoKTsgKi9cbiAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gYWRsZXIzMl8xKHN0cm0uYWRsZXIsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy53cmFwID0gMDtcbiAgICAgICAgICAgIC8qIGF2b2lkIGNvbXB1dGluZyBBZGxlci0zMiBpbiByZWFkX2J1ZiAqL1xuICAgICAgICAgICAgLyogaWYgZGljdGlvbmFyeSB3b3VsZCBmaWxsIHdpbmRvdywganVzdCByZXBsYWNlIHRoZSBoaXN0b3J5ICovXG4gICAgICAgICAgICBpZiAoZGljdExlbmd0aCA+PSBzLndfc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICh3cmFwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGFscmVhZHkgZW1wdHkgb3RoZXJ3aXNlICovXG4gICAgICAgICAgICAgICAgICAgIC8qKiAqIENMRUFSX0hBU0gocyk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgIHplcm8kMShzLmhlYWQpOyAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcy5ibG9ja19zdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogdXNlIHRoZSB0YWlsICovXG4gICAgICAgICAgICAgICAgLy8gZGljdGlvbmFyeSA9IGRpY3Rpb25hcnkuc2xpY2UoZGljdExlbmd0aCAtIHMud19zaXplKTtcbiAgICAgICAgICAgICAgICB2YXIgdG1wRGljdCA9IG5ldyBVaW50OEFycmF5KHMud19zaXplKTtcbiAgICAgICAgICAgICAgICB0bXBEaWN0LnNldChkaWN0aW9uYXJ5LnN1YmFycmF5KGRpY3RMZW5ndGggLSBzLndfc2l6ZSwgZGljdExlbmd0aCksIDApO1xuICAgICAgICAgICAgICAgIGRpY3Rpb25hcnkgPSB0bXBEaWN0O1xuICAgICAgICAgICAgICAgIGRpY3RMZW5ndGggPSBzLndfc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGluc2VydCBkaWN0aW9uYXJ5IGludG8gd2luZG93IGFuZCBoYXNoICovXG4gICAgICAgICAgICB2YXIgYXZhaWwgPSBzdHJtLmF2YWlsX2luO1xuICAgICAgICAgICAgdmFyIG5leHQgPSBzdHJtLm5leHRfaW47XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBzdHJtLmlucHV0O1xuICAgICAgICAgICAgc3RybS5hdmFpbF9pbiA9IGRpY3RMZW5ndGg7XG4gICAgICAgICAgICBzdHJtLm5leHRfaW4gPSAwO1xuICAgICAgICAgICAgc3RybS5pbnB1dCA9IGRpY3Rpb25hcnk7XG4gICAgICAgICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgICAgICAgIHdoaWxlIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gkMSkge1xuICAgICAgICAgICAgICAgIHZhciBzdHIgPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgICAgICAgIHZhciBuID0gcy5sb29rYWhlYWQgLSAoTUlOX01BVENIJDEgLSAxKTtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgTUlOX01BVENILTFdKTsgKi9cbiAgICAgICAgICAgICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbc3RyICsgTUlOX01BVENIJDEgLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgIHMucHJldltzdHIgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgICAgICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHN0cjtcbiAgICAgICAgICAgICAgICAgICAgc3RyKys7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1uKTtcbiAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0ID0gc3RyO1xuICAgICAgICAgICAgICAgIHMubG9va2FoZWFkID0gTUlOX01BVENIJDEgLSAxO1xuICAgICAgICAgICAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5zdHJzdGFydCArPSBzLmxvb2thaGVhZDtcbiAgICAgICAgICAgIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgICAgcy5pbnNlcnQgPSBzLmxvb2thaGVhZDtcbiAgICAgICAgICAgIHMubG9va2FoZWFkID0gMDtcbiAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gcy5wcmV2X2xlbmd0aCA9IE1JTl9NQVRDSCQxIC0gMTtcbiAgICAgICAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgICAgICAgICAgIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gICAgICAgICAgICBzdHJtLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgICAgICBzdHJtLmF2YWlsX2luID0gYXZhaWw7XG4gICAgICAgICAgICBzLndyYXAgPSB3cmFwO1xuICAgICAgICAgICAgcmV0dXJuIFpfT0s7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZWZsYXRlSW5pdF8xID0gZGVmbGF0ZUluaXQ7XG4gICAgICAgIHZhciBkZWZsYXRlSW5pdDJfMSA9IGRlZmxhdGVJbml0MjtcbiAgICAgICAgdmFyIGRlZmxhdGVSZXNldF8xID0gZGVmbGF0ZVJlc2V0O1xuICAgICAgICB2YXIgZGVmbGF0ZVJlc2V0S2VlcF8xID0gZGVmbGF0ZVJlc2V0S2VlcDtcbiAgICAgICAgdmFyIGRlZmxhdGVTZXRIZWFkZXJfMSA9IGRlZmxhdGVTZXRIZWFkZXI7XG4gICAgICAgIHZhciBkZWZsYXRlXzIgPSBkZWZsYXRlO1xuICAgICAgICB2YXIgZGVmbGF0ZUVuZF8xID0gZGVmbGF0ZUVuZDtcbiAgICAgICAgdmFyIGRlZmxhdGVTZXREaWN0aW9uYXJ5XzEgPSBkZWZsYXRlU2V0RGljdGlvbmFyeTtcbiAgICAgICAgdmFyIGRlZmxhdGVJbmZvID0gJ3Bha28gZGVmbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdCknO1xuICAgICAgICAvKiBOb3QgaW1wbGVtZW50ZWRcbiAgICAgIG1vZHVsZS5leHBvcnRzLmRlZmxhdGVCb3VuZCA9IGRlZmxhdGVCb3VuZDtcbiAgICAgIG1vZHVsZS5leHBvcnRzLmRlZmxhdGVDb3B5ID0gZGVmbGF0ZUNvcHk7XG4gICAgICBtb2R1bGUuZXhwb3J0cy5kZWZsYXRlUGFyYW1zID0gZGVmbGF0ZVBhcmFtcztcbiAgICAgIG1vZHVsZS5leHBvcnRzLmRlZmxhdGVQZW5kaW5nID0gZGVmbGF0ZVBlbmRpbmc7XG4gICAgICBtb2R1bGUuZXhwb3J0cy5kZWZsYXRlUHJpbWUgPSBkZWZsYXRlUHJpbWU7XG4gICAgICBtb2R1bGUuZXhwb3J0cy5kZWZsYXRlVHVuZSA9IGRlZmxhdGVUdW5lO1xuICAgICAgKi9cbiAgICAgICAgdmFyIGRlZmxhdGVfMSA9IHtcbiAgICAgICAgICAgIGRlZmxhdGVJbml0OiBkZWZsYXRlSW5pdF8xLFxuICAgICAgICAgICAgZGVmbGF0ZUluaXQyOiBkZWZsYXRlSW5pdDJfMSxcbiAgICAgICAgICAgIGRlZmxhdGVSZXNldDogZGVmbGF0ZVJlc2V0XzEsXG4gICAgICAgICAgICBkZWZsYXRlUmVzZXRLZWVwOiBkZWZsYXRlUmVzZXRLZWVwXzEsXG4gICAgICAgICAgICBkZWZsYXRlU2V0SGVhZGVyOiBkZWZsYXRlU2V0SGVhZGVyXzEsXG4gICAgICAgICAgICBkZWZsYXRlOiBkZWZsYXRlXzIsXG4gICAgICAgICAgICBkZWZsYXRlRW5kOiBkZWZsYXRlRW5kXzEsXG4gICAgICAgICAgICBkZWZsYXRlU2V0RGljdGlvbmFyeTogZGVmbGF0ZVNldERpY3Rpb25hcnlfMSxcbiAgICAgICAgICAgIGRlZmxhdGVJbmZvOiBkZWZsYXRlSW5mbyxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSm9pbiBhcnJheSBvZiBjaHVua3MgdG8gc2luZ2xlIGFycmF5LlxuICAgICAgICBmdW5jdGlvbiBmbGF0dGVuQ2h1bmtzKGNodW5rcykge1xuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGRhdGEgbGVuZ3RoXG4gICAgICAgICAgICB2YXIgbGVuID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGxlbiArPSBjaHVua3NbaV0ubGVuZ3RoO1xuICAgICAgICAgICAgfSAvLyBqb2luIGNodW5rc1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHBvcyA9IDAsIF9sID0gY2h1bmtzLmxlbmd0aDsgX2kgPCBfbDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBjaHVuayA9IGNodW5rc1tfaV07XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNldChjaHVuaywgcG9zKTtcbiAgICAgICAgICAgICAgICBwb3MgKz0gY2h1bmsubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdHJpbmcgZW5jb2RlL2RlY29kZSBoZWxwZXJzXG4gICAgICAgIC8vXG4gICAgICAgIC8vIC0gYXBwbHkoQXJyYXkpIGNhbiBmYWlsIG9uIEFuZHJvaWQgMi4yXG4gICAgICAgIC8vIC0gYXBwbHkoVWludDhBcnJheSkgY2FuIGZhaWwgb24gaU9TIDUuMSBTYWZhcmlcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGFibGUgd2l0aCB1dGY4IGxlbmd0aHMgKGNhbGN1bGF0ZWQgYnkgZmlyc3QgYnl0ZSBvZiBzZXF1ZW5jZSlcbiAgICAgICAgLy8gTm90ZSwgdGhhdCA1ICYgNi1ieXRlIHZhbHVlcyBhbmQgc29tZSA0LWJ5dGUgdmFsdWVzIGNhbiBub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlMsXG4gICAgICAgIC8vIGJlY2F1c2UgbWF4IHBvc3NpYmxlIGNvZGVwb2ludCBpcyAweDEwZmZmZlxuICAgICAgICB2YXIgX3V0ZjhsZW4gPSBuZXcgVWludDhBcnJheSgyNTYpO1xuICAgICAgICBmb3IgKHZhciBxID0gMDsgcSA8IDI1NjsgcSsrKSB7XG4gICAgICAgICAgICBfdXRmOGxlbltxXSA9IHEgPj0gMjUyID8gNiA6IHEgPj0gMjQ4ID8gNSA6IHEgPj0gMjQwID8gNCA6IHEgPj0gMjI0ID8gMyA6IHEgPj0gMTkyID8gMiA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgX3V0ZjhsZW5bMjU0XSA9IF91dGY4bGVuWzI1NF0gPSAxOyAvLyBJbnZhbGlkIHNlcXVlbmNlIHN0YXJ0XG4gICAgICAgIC8vIGNvbnZlcnQgc3RyaW5nIHRvIGFycmF5ICh0eXBlZCwgd2hlbiBwb3NzaWJsZSlcbiAgICAgICAgLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbiAgICAgICAgLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4gICAgICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuICAgICAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgICAgIC8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAgICAgLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuICAgICAgICAvLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuICAgICAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgICAgIC8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4gICAgICAgIC8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICAgICAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuICAgICAgICBmdW5jdGlvbiBaU3RyZWFtKCkge1xuICAgICAgICAgICAgLyogbmV4dCBpbnB1dCBieXRlICovXG4gICAgICAgICAgICB0aGlzLmlucHV0ID0gbnVsbDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuICAgICAgICAgICAgdGhpcy5uZXh0X2luID0gMDtcbiAgICAgICAgICAgIC8qIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUgYXQgaW5wdXQgKi9cbiAgICAgICAgICAgIHRoaXMuYXZhaWxfaW4gPSAwO1xuICAgICAgICAgICAgLyogdG90YWwgbnVtYmVyIG9mIGlucHV0IGJ5dGVzIHJlYWQgc28gZmFyICovXG4gICAgICAgICAgICB0aGlzLnRvdGFsX2luID0gMDtcbiAgICAgICAgICAgIC8qIG5leHQgb3V0cHV0IGJ5dGUgc2hvdWxkIGJlIHB1dCB0aGVyZSAqL1xuICAgICAgICAgICAgdGhpcy5vdXRwdXQgPSBudWxsOyAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG4gICAgICAgICAgICB0aGlzLm5leHRfb3V0ID0gMDtcbiAgICAgICAgICAgIC8qIHJlbWFpbmluZyBmcmVlIHNwYWNlIGF0IG91dHB1dCAqL1xuICAgICAgICAgICAgdGhpcy5hdmFpbF9vdXQgPSAwO1xuICAgICAgICAgICAgLyogdG90YWwgbnVtYmVyIG9mIGJ5dGVzIG91dHB1dCBzbyBmYXIgKi9cbiAgICAgICAgICAgIHRoaXMudG90YWxfb3V0ID0gMDtcbiAgICAgICAgICAgIC8qIGxhc3QgZXJyb3IgbWVzc2FnZSwgTlVMTCBpZiBubyBlcnJvciAqL1xuICAgICAgICAgICAgdGhpcy5tc2cgPSAnJztcbiAgICAgICAgICAgIC8qIFpfTlVMTCAqL1xuICAgICAgICAgICAgLyogbm90IHZpc2libGUgYnkgYXBwbGljYXRpb25zICovXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIC8qIGJlc3QgZ3Vlc3MgYWJvdXQgdGhlIGRhdGEgdHlwZTogYmluYXJ5IG9yIHRleHQgKi9cbiAgICAgICAgICAgIHRoaXMuZGF0YV90eXBlID0gMjtcbiAgICAgICAgICAgIC8qIFpfVU5LTk9XTiAqL1xuICAgICAgICAgICAgLyogYWRsZXIzMiB2YWx1ZSBvZiB0aGUgdW5jb21wcmVzc2VkIGRhdGEgKi9cbiAgICAgICAgICAgIHRoaXMuYWRsZXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciB6c3RyZWFtID0gWlN0cmVhbTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICB2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICAgICAgICAvKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgICAgIHZhciBaX05PX0ZMVVNIJDEgPSBjb25zdGFudHMuWl9OT19GTFVTSDtcbiAgICAgICAgdmFyIFpfU1lOQ19GTFVTSCA9IGNvbnN0YW50cy5aX1NZTkNfRkxVU0g7XG4gICAgICAgIHZhciBaX0ZVTExfRkxVU0gkMSA9IGNvbnN0YW50cy5aX0ZVTExfRkxVU0g7XG4gICAgICAgIHZhciBaX0ZJTklTSCQxID0gY29uc3RhbnRzLlpfRklOSVNIO1xuICAgICAgICB2YXIgWl9PSyQxID0gY29uc3RhbnRzLlpfT0s7XG4gICAgICAgIHZhciBaX1NUUkVBTV9FTkQkMSA9IGNvbnN0YW50cy5aX1NUUkVBTV9FTkQ7XG4gICAgICAgIHZhciBaX0RFRkFVTFRfQ09NUFJFU1NJT04kMSA9IGNvbnN0YW50cy5aX0RFRkFVTFRfQ09NUFJFU1NJT047XG4gICAgICAgIHZhciBaX0RFRkFVTFRfU1RSQVRFR1kkMSA9IGNvbnN0YW50cy5aX0RFRkFVTFRfU1RSQVRFR1k7XG4gICAgICAgIHZhciBaX0RFRkxBVEVEJDEgPSBjb25zdGFudHMuWl9ERUZMQVRFRDtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjbGFzcyBEZWZsYXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEdlbmVyaWMgSlMtc3R5bGUgd3JhcHBlciBmb3IgemxpYiBjYWxscy4gSWYgeW91IGRvbid0IG5lZWRcbiAgICAgICAgICogc3RyZWFtaW5nIGJlaGF2aW91ciAtIHVzZSBtb3JlIHNpbXBsZSBmdW5jdGlvbnM6IFtbZGVmbGF0ZV1dLFxuICAgICAgICAgKiBbW2RlZmxhdGVSYXddXSBhbmQgW1tnemlwXV0uXG4gICAgICAgICAqICovXG4gICAgICAgIC8qIGludGVybmFsXG4gICAgICAgICAqIERlZmxhdGUuY2h1bmtzIC0+IEFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIENodW5rcyBvZiBvdXRwdXQgZGF0YSwgaWYgW1tEZWZsYXRlI29uRGF0YV1dIG5vdCBvdmVycmlkZGVuLlxuICAgICAgICAgKiAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmbGF0ZS5yZXN1bHQgLT4gVWludDhBcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBDb21wcmVzc2VkIHJlc3VsdCwgZ2VuZXJhdGVkIGJ5IGRlZmF1bHQgW1tEZWZsYXRlI29uRGF0YV1dXG4gICAgICAgICAqIGFuZCBbW0RlZmxhdGUjb25FbmRdXSBoYW5kbGVycy4gRmlsbGVkIGFmdGVyIHlvdSBwdXNoIGxhc3QgY2h1bmtcbiAgICAgICAgICogKGNhbGwgW1tEZWZsYXRlI3B1c2hdXSB3aXRoIGBaX0ZJTklTSGAgLyBgdHJ1ZWAgcGFyYW0pLlxuICAgICAgICAgKiAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmbGF0ZS5lcnIgLT4gTnVtYmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEVycm9yIGNvZGUgYWZ0ZXIgZGVmbGF0ZSBmaW5pc2hlZC4gMCAoWl9PSykgb24gc3VjY2Vzcy5cbiAgICAgICAgICogWW91IHdpbGwgbm90IG5lZWQgaXQgaW4gcmVhbCBsaWZlLCBiZWNhdXNlIGRlZmxhdGUgZXJyb3JzXG4gICAgICAgICAqIGFyZSBwb3NzaWJsZSBvbmx5IG9uIHdyb25nIG9wdGlvbnMgb3IgYmFkIGBvbkRhdGFgIC8gYG9uRW5kYFxuICAgICAgICAgKiBjdXN0b20gaGFuZGxlcnMuXG4gICAgICAgICAqICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZsYXRlLm1zZyAtPiBTdHJpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogRXJyb3IgbWVzc2FnZSwgaWYgW1tEZWZsYXRlLmVycl1dICE9IDBcbiAgICAgICAgICogKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIG5ldyBEZWZsYXRlKG9wdGlvbnMpXG4gICAgICAgICAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIENyZWF0ZXMgbmV3IGRlZmxhdG9yIGluc3RhbmNlIHdpdGggc3BlY2lmaWVkIHBhcmFtcy4gVGhyb3dzIGV4Y2VwdGlvblxuICAgICAgICAgKiBvbiBiYWQgcGFyYW1zLiBTdXBwb3J0ZWQgb3B0aW9uczpcbiAgICAgICAgICpcbiAgICAgICAgICogLSBgbGV2ZWxgXG4gICAgICAgICAqIC0gYHdpbmRvd0JpdHNgXG4gICAgICAgICAqIC0gYG1lbUxldmVsYFxuICAgICAgICAgKiAtIGBzdHJhdGVneWBcbiAgICAgICAgICogLSBgZGljdGlvbmFyeWBcbiAgICAgICAgICpcbiAgICAgICAgICogW2h0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZF0oaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkKVxuICAgICAgICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGVzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQWRkaXRpb25hbCBvcHRpb25zLCBmb3IgaW50ZXJuYWwgbmVlZHM6XG4gICAgICAgICAqXG4gICAgICAgICAqICogYGNodW5rU2l6ZWAgLSBzaXplIG9mIGdlbmVyYXRlZCBkYXRhIGNodW5rcyAoMTZLIGJ5IGRlZmF1bHQpXG4gICAgICAgICAqICogYHJhd2AgKEJvb2xlYW4pIC0gZG8gcmF3IGRlZmxhdGVcbiAgICAgICAgICogKiBgZ3ppcGAgKEJvb2xlYW4pIC0gY3JlYXRlIGd6aXAgd3JhcHBlclxuICAgICAgICAgKiAqIGBoZWFkZXJgIChPYmplY3QpIC0gY3VzdG9tIGhlYWRlciBmb3IgZ3ppcFxuICAgICAgICAgKiAqKiBgdGV4dGAgKEJvb2xlYW4pIC0gdHJ1ZSBpZiBjb21wcmVzc2VkIGRhdGEgYmVsaWV2ZWQgdG8gYmUgdGV4dFxuICAgICAgICAgKiAqKiBgdGltZWAgKE51bWJlcikgLSBtb2RpZmljYXRpb24gdGltZSwgdW5peCB0aW1lc3RhbXBcbiAgICAgICAgICogKiogYG9zYCAoTnVtYmVyKSAtIG9wZXJhdGlvbiBzeXN0ZW0gY29kZVxuICAgICAgICAgKiAqKiBgZXh0cmFgIChBcnJheSkgLSBhcnJheSBvZiBieXRlcyB3aXRoIGV4dHJhIGRhdGEgKG1heCA2NTUzNilcbiAgICAgICAgICogKiogYG5hbWVgIChTdHJpbmcpIC0gZmlsZSBuYW1lIChiaW5hcnkgc3RyaW5nKVxuICAgICAgICAgKiAqKiBgY29tbWVudGAgKFN0cmluZykgLSBjb21tZW50IChiaW5hcnkgc3RyaW5nKVxuICAgICAgICAgKiAqKiBgaGNyY2AgKEJvb2xlYW4pIC0gdHJ1ZSBpZiBoZWFkZXIgY3JjIHNob3VsZCBiZSBhZGRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiAjIyMjIyBFeGFtcGxlOlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBqYXZhc2NyaXB0XG4gICAgICAgICAqIGNvbnN0IHBha28gPSByZXF1aXJlKCdwYWtvJylcbiAgICAgICAgICogICAsIGNodW5rMSA9IG5ldyBVaW50OEFycmF5KFsxLDIsMyw0LDUsNiw3LDgsOV0pXG4gICAgICAgICAqICAgLCBjaHVuazIgPSBuZXcgVWludDhBcnJheShbMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTldKTtcbiAgICAgICAgICpcbiAgICAgICAgICogY29uc3QgZGVmbGF0ZSA9IG5ldyBwYWtvLkRlZmxhdGUoeyBsZXZlbDogM30pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBkZWZsYXRlLnB1c2goY2h1bmsxLCBmYWxzZSk7XG4gICAgICAgICAqIGRlZmxhdGUucHVzaChjaHVuazIsIHRydWUpOyAgLy8gdHJ1ZSAtPiBsYXN0IGNodW5rXG4gICAgICAgICAqXG4gICAgICAgICAqIGlmIChkZWZsYXRlLmVycikgeyB0aHJvdyBuZXcgRXJyb3IoZGVmbGF0ZS5lcnIpOyB9XG4gICAgICAgICAqXG4gICAgICAgICAqIGNvbnNvbGUubG9nKGRlZmxhdGUucmVzdWx0KTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqICovXG4gICAgICAgIGZ1bmN0aW9uIERlZmxhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbGV2ZWw6IFpfREVGQVVMVF9DT01QUkVTU0lPTiQxLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogWl9ERUZMQVRFRCQxLFxuICAgICAgICAgICAgICAgIGNodW5rU2l6ZTogMTYzODQsXG4gICAgICAgICAgICAgICAgd2luZG93Qml0czogMTUsXG4gICAgICAgICAgICAgICAgbWVtTGV2ZWw6IDgsXG4gICAgICAgICAgICAgICAgc3RyYXRlZ3k6IFpfREVGQVVMVF9TVFJBVEVHWSQxLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAob3B0LnJhdyAmJiBvcHQud2luZG93Qml0cyA+IDApIHtcbiAgICAgICAgICAgICAgICBvcHQud2luZG93Qml0cyA9IC1vcHQud2luZG93Qml0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdC5nemlwICYmIG9wdC53aW5kb3dCaXRzID4gMCAmJiBvcHQud2luZG93Qml0cyA8IDE2KSB7XG4gICAgICAgICAgICAgICAgb3B0LndpbmRvd0JpdHMgKz0gMTY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVyciA9IDA7IC8vIGVycm9yIGNvZGUsIGlmIGhhcHBlbnMgKDAgPSBaX09LKVxuICAgICAgICAgICAgdGhpcy5tc2cgPSAnJzsgLy8gZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5lbmRlZCA9IGZhbHNlOyAvLyB1c2VkIHRvIGF2b2lkIG11bHRpcGxlIG9uRW5kKCkgY2FsbHNcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzID0gW107IC8vIGNodW5rcyBvZiBjb21wcmVzc2VkIGRhdGFcbiAgICAgICAgICAgIHRoaXMuc3RybSA9IG5ldyB6c3RyZWFtKCk7XG4gICAgICAgICAgICB0aGlzLnN0cm0uYXZhaWxfb3V0ID0gMDtcbiAgICAgICAgICAgIHZhciBzdGF0dXMgPSBkZWZsYXRlXzEuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSwgb3B0LmxldmVsLCBvcHQubWV0aG9kLCBvcHQud2luZG93Qml0cywgb3B0Lm1lbUxldmVsLCBvcHQuc3RyYXRlZ3kpO1xuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gWl9PSyQxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2VzW3N0YXR1c10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdC5oZWFkZXIpIHtcbiAgICAgICAgICAgICAgICBkZWZsYXRlXzEuZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sIG9wdC5oZWFkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdC5kaWN0aW9uYXJ5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpY3Q7IC8vIENvbnZlcnQgZGF0YSBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICBpZiAodG9TdHJpbmcuY2FsbChvcHQuZGljdGlvbmFyeSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICAgICAgICAgICAgICAgICAgZGljdCA9IG5ldyBVaW50OEFycmF5KG9wdC5kaWN0aW9uYXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpY3QgPSBvcHQuZGljdGlvbmFyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gZGVmbGF0ZV8xLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSwgZGljdCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gWl9PSyQxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlc1tzdGF0dXNdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZGljdF9zZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZsYXRlI3B1c2goZGF0YVssIGZsdXNoX21vZGVdKSAtPiBCb29sZWFuXG4gICAgICAgICAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheUJ1ZmZlcnxTdHJpbmcpOiBpbnB1dCBkYXRhLiBTdHJpbmdzIHdpbGwgYmVcbiAgICAgICAgICogY29udmVydGVkIHRvIHV0ZjggYnl0ZSBzZXF1ZW5jZS5cbiAgICAgICAgICogLSBmbHVzaF9tb2RlIChOdW1iZXJ8Qm9vbGVhbik6IDAuLjYgZm9yIGNvcnJlc3BvbmRpbmcgWl9OT19GTFVTSC4uWl9UUkVFIG1vZGVzLlxuICAgICAgICAgKiBTZWUgY29uc3RhbnRzLiBTa2lwcGVkIG9yIGBmYWxzZWAgbWVhbnMgWl9OT19GTFVTSCwgYHRydWVgIG1lYW5zIFpfRklOSVNILlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZW5kcyBpbnB1dCBkYXRhIHRvIGRlZmxhdGUgcGlwZSwgZ2VuZXJhdGluZyBbW0RlZmxhdGUjb25EYXRhXV0gY2FsbHMgd2l0aFxuICAgICAgICAgKiBuZXcgY29tcHJlc3NlZCBjaHVua3MuIFJldHVybnMgYHRydWVgIG9uIHN1Y2Nlc3MuIFRoZSBsYXN0IGRhdGEgYmxvY2sgbXVzdFxuICAgICAgICAgKiBoYXZlIGBmbHVzaF9tb2RlYCBaX0ZJTklTSCAob3IgYHRydWVgKS4gVGhhdCB3aWxsIGZsdXNoIGludGVybmFsIHBlbmRpbmdcbiAgICAgICAgICogYnVmZmVycyBhbmQgY2FsbCBbW0RlZmxhdGUjb25FbmRdXS5cbiAgICAgICAgICpcbiAgICAgICAgICogT24gZmFpbCBjYWxsIFtbRGVmbGF0ZSNvbkVuZF1dIHdpdGggZXJyb3IgY29kZSBhbmQgcmV0dXJuIGZhbHNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiAjIyMjIyBFeGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYGphdmFzY3JpcHRcbiAgICAgICAgICogcHVzaChjaHVuaywgZmFsc2UpOyAvLyBwdXNoIG9uZSBvZiBkYXRhIGNodW5rc1xuICAgICAgICAgKiAuLi5cbiAgICAgICAgICogcHVzaChjaHVuaywgdHJ1ZSk7ICAvLyBwdXNoIGxhc3QgY2h1bmtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqICovXG4gICAgICAgIERlZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgZmx1c2hfbW9kZSkge1xuICAgICAgICAgICAgdmFyIHN0cm0gPSB0aGlzLnN0cm07XG4gICAgICAgICAgICB2YXIgY2h1bmtTaXplID0gdGhpcy5vcHRpb25zLmNodW5rU2l6ZTtcbiAgICAgICAgICAgIHZhciBzdGF0dXM7XG4gICAgICAgICAgICB2YXIgX2ZsdXNoX21vZGU7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmbHVzaF9tb2RlID09PSB+fmZsdXNoX21vZGUpIHtcbiAgICAgICAgICAgICAgICBfZmx1c2hfbW9kZSA9IGZsdXNoX21vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfZmx1c2hfbW9kZSA9IGZsdXNoX21vZGUgPT09IHRydWUgPyBaX0ZJTklTSCQxIDogWl9OT19GTFVTSCQxO1xuICAgICAgICAgICAgfSAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG4gICAgICAgICAgICBpZiAodG9TdHJpbmcuY2FsbChkYXRhKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgICAgICAgICAgICAgIHN0cm0uaW5wdXQgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0cm0uaW5wdXQgPSBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RybS5uZXh0X2luID0gMDtcbiAgICAgICAgICAgIHN0cm0uYXZhaWxfaW4gPSBzdHJtLmlucHV0Lmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RybS5vdXRwdXQgPSBuZXcgVWludDhBcnJheShjaHVua1NpemUpO1xuICAgICAgICAgICAgICAgICAgICBzdHJtLm5leHRfb3V0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc3RybS5hdmFpbF9vdXQgPSBjaHVua1NpemU7XG4gICAgICAgICAgICAgICAgfSAvLyBNYWtlIHN1cmUgYXZhaWxfb3V0ID4gNiB0byBhdm9pZCByZXBlYXRpbmcgbWFya2Vyc1xuICAgICAgICAgICAgICAgIGlmICgoX2ZsdXNoX21vZGUgPT09IFpfU1lOQ19GTFVTSCB8fCBfZmx1c2hfbW9kZSA9PT0gWl9GVUxMX0ZMVVNIJDEpICYmIHN0cm0uYXZhaWxfb3V0IDw9IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRhdGEoc3RybS5vdXRwdXQuc3ViYXJyYXkoMCwgc3RybS5uZXh0X291dCkpO1xuICAgICAgICAgICAgICAgICAgICBzdHJtLmF2YWlsX291dCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBkZWZsYXRlXzEuZGVmbGF0ZShzdHJtLCBfZmx1c2hfbW9kZSk7IC8vIEVuZGVkID0+IGZsdXNoIGFuZCBmaW5pc2hcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBaX1NUUkVBTV9FTkQkMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RybS5uZXh0X291dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0LnN1YmFycmF5KDAsIHN0cm0ubmV4dF9vdXQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBkZWZsYXRlXzEuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW5kKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzID09PSBaX09LJDE7XG4gICAgICAgICAgICAgICAgfSAvLyBGbHVzaCBpZiBvdXQgYnVmZmVyIGZ1bGxcbiAgICAgICAgICAgICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRhdGEoc3RybS5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IC8vIEZsdXNoIGlmIHJlcXVlc3RlZCBhbmQgaGFzIGRhdGFcbiAgICAgICAgICAgICAgICBpZiAoX2ZsdXNoX21vZGUgPiAwICYmIHN0cm0ubmV4dF9vdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0LnN1YmFycmF5KDAsIHN0cm0ubmV4dF9vdXQpKTtcbiAgICAgICAgICAgICAgICAgICAgc3RybS5hdmFpbF9vdXQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0cm0uYXZhaWxfaW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZsYXRlI29uRGF0YShjaHVuaykgLT4gVm9pZFxuICAgICAgICAgKiAtIGNodW5rIChVaW50OEFycmF5KTogb3V0cHV0IGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIHN0b3JlcyBkYXRhIGJsb2NrcyBpbiBgY2h1bmtzW11gIHByb3BlcnR5IGFuZCBnbHVlXG4gICAgICAgICAqIHRob3NlIGluIGBvbkVuZGAuIE92ZXJyaWRlIHRoaXMgaGFuZGxlciwgaWYgeW91IG5lZWQgYW5vdGhlciBiZWhhdmlvdXIuXG4gICAgICAgICAqICovXG4gICAgICAgIERlZmxhdGUucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICAgICAgdGhpcy5jaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZsYXRlI29uRW5kKHN0YXR1cykgLT4gVm9pZFxuICAgICAgICAgKiAtIHN0YXR1cyAoTnVtYmVyKTogZGVmbGF0ZSBzdGF0dXMuIDAgKFpfT0spIG9uIHN1Y2Nlc3MsXG4gICAgICAgICAqIG90aGVyIGlmIG5vdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQ2FsbGVkIG9uY2UgYWZ0ZXIgeW91IHRlbGwgZGVmbGF0ZSB0aGF0IHRoZSBpbnB1dCBzdHJlYW0gaXNcbiAgICAgICAgICogY29tcGxldGUgKFpfRklOSVNIKS4gQnkgZGVmYXVsdCAtIGpvaW4gY29sbGVjdGVkIGNodW5rcyxcbiAgICAgICAgICogZnJlZSBtZW1vcnkgYW5kIGZpbGwgYHJlc3VsdHNgIC8gYGVycmAgcHJvcGVydGllcy5cbiAgICAgICAgICogKi9cbiAgICAgICAgRGVmbGF0ZS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgICAgICAvLyBPbiBzdWNjZXNzIC0gam9pblxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gWl9PSyQxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSBmbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2h1bmtzID0gW107XG4gICAgICAgICAgICB0aGlzLmVyciA9IHN0YXR1cztcbiAgICAgICAgICAgIHRoaXMubXNnID0gdGhpcy5zdHJtLm1zZztcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9wYWtvL2Jsb2IvMjZkZmY0ZmIzNDcyYzU1MzJiM2JkODg1NjQyMTE0NmQzNWFiNzU5Mi9saWIvdXRpbHMvc3RyaW5ncy5qcyNMMjZcbiAgICAgICAgZnVuY3Rpb24gc3RyaW5nMmJ1ZihzdHIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgJiYgVGV4dEVuY29kZXIucHJvdG90eXBlLmVuY29kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc3RyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBidWY7XG4gICAgICAgICAgICB2YXIgYztcbiAgICAgICAgICAgIHZhciBjMjtcbiAgICAgICAgICAgIHZhciBtX3BvcztcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgdmFyIHN0cl9sZW4gPSBzdHIubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGJ1Zl9sZW4gPSAwO1xuICAgICAgICAgICAgLy8gY291bnQgYmluYXJ5IHNpemVcbiAgICAgICAgICAgIGZvciAobV9wb3MgPSAwOyBtX3BvcyA8IHN0cl9sZW47IG1fcG9zKyspIHtcbiAgICAgICAgICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQobV9wb3MpO1xuICAgICAgICAgICAgICAgIGlmICgoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiBtX3BvcyArIDEgPCBzdHJfbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGMyID0gc3RyLmNoYXJDb2RlQXQobV9wb3MgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChjMiAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgLSAweGQ4MDApIDw8IDEwKSArIChjMiAtIDB4ZGMwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtX3BvcysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1Zl9sZW4gKz0gYyA8IDB4ODAgPyAxIDogYyA8IDB4ODAwID8gMiA6IGMgPCAweDEwMDAwID8gMyA6IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhbGxvY2F0ZSBidWZmZXJcbiAgICAgICAgICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGJ1Zl9sZW4pO1xuICAgICAgICAgICAgLy8gY29udmVydFxuICAgICAgICAgICAgZm9yIChpID0gMCwgbV9wb3MgPSAwOyBpIDwgYnVmX2xlbjsgbV9wb3MrKykge1xuICAgICAgICAgICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChtX3Bvcyk7XG4gICAgICAgICAgICAgICAgaWYgKChjICYgMHhmYzAwKSA9PT0gMHhkODAwICYmIG1fcG9zICsgMSA8IHN0cl9sZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgYzIgPSBzdHIuY2hhckNvZGVBdChtX3BvcyArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGMyICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gMHgxMDAwMCArICgoYyAtIDB4ZDgwMCkgPDwgMTApICsgKGMyIC0gMHhkYzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1fcG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIG9uZSBieXRlICovXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpKytdID0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIHR3byBieXRlcyAqL1xuICAgICAgICAgICAgICAgICAgICBidWZbaSsrXSA9IDB4YzAgfCAoYyA+Pj4gNik7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjICYgMHgzZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIHRocmVlIGJ5dGVzICovXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpKytdID0gMHhlMCB8IChjID4+PiAxMik7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpKytdID0gMHg4MCB8ICgoYyA+Pj4gNikgJiAweDNmKTtcbiAgICAgICAgICAgICAgICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgJiAweDNmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGZvdXIgYnl0ZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgYnVmW2krK10gPSAweGYwIHwgKGMgPj4+IDE4KTtcbiAgICAgICAgICAgICAgICAgICAgYnVmW2krK10gPSAweDgwIHwgKChjID4+PiAxMikgJiAweDNmKTtcbiAgICAgICAgICAgICAgICAgICAgYnVmW2krK10gPSAweDgwIHwgKChjID4+PiA2KSAmIDB4M2YpO1xuICAgICAgICAgICAgICAgICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyAmIDB4M2YpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBidWY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgRGVmbGF0ZTogRGVmbGF0ZSwgY29uc3RhbnRzOiBjb25zdGFudHMsIHN0cmluZzJidWY6IHN0cmluZzJidWYgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZsYXRlV29ya2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/deflateWorker.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SEGMENT_BYTES_LIMIT\": function() { return /* reexport safe */ _segmentCollection__WEBPACK_IMPORTED_MODULE_0__.SEGMENT_BYTES_LIMIT; },\n/* harmony export */   \"setSegmentBytesLimit\": function() { return /* reexport safe */ _segmentCollection__WEBPACK_IMPORTED_MODULE_0__.setSegmentBytesLimit; },\n/* harmony export */   \"startDeflateWorker\": function() { return /* reexport safe */ _startDeflateWorker__WEBPACK_IMPORTED_MODULE_1__.startDeflateWorker; },\n/* harmony export */   \"startSegmentCollection\": function() { return /* reexport safe */ _segmentCollection__WEBPACK_IMPORTED_MODULE_0__.startSegmentCollection; }\n/* harmony export */ });\n/* harmony import */ var _segmentCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./segmentCollection */ \"./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segmentCollection.js\");\n/* harmony import */ var _startDeflateWorker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./startDeflateWorker */ \"./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/startDeflateWorker.js\");\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBbUY7QUFDekI7QUFDQTtBQUMxRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9pbmRleC5qcz85M2I3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IHN0YXJ0U2VnbWVudENvbGxlY3Rpb24sIHNldFNlZ21lbnRCeXRlc0xpbWl0IH0gZnJvbSAnLi9zZWdtZW50Q29sbGVjdGlvbic7XG5leHBvcnQgeyBzdGFydERlZmxhdGVXb3JrZXIgfSBmcm9tICcuL3N0YXJ0RGVmbGF0ZVdvcmtlcic7XG5leHBvcnQgeyBTRUdNRU5UX0JZVEVTX0xJTUlUIH0gZnJvbSAnLi9zZWdtZW50Q29sbGVjdGlvbic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segment.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segment.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Segment\": function() { return /* binding */ Segment; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ \"./node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _replayStats__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../replayStats */ \"./node_modules/@datadog/browser-rum/esm/domain/replayStats.js\");\n\n\n\nvar nextId = 0;\nvar Segment = /** @class */ (function () {\n    function Segment(worker, context, creationReason, initialRecord, onWrote, onFlushed) {\n        var _this = this;\n        this.worker = worker;\n        this.isFlushed = false;\n        this.flushReason = undefined;\n        this.id = nextId++;\n        var viewId = context.view.id;\n        this.metadata = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n            start: initialRecord.timestamp,\n            end: initialRecord.timestamp,\n            creation_reason: creationReason,\n            records_count: 1,\n            has_full_snapshot: initialRecord.type === _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.FullSnapshot,\n            index_in_view: _replayStats__WEBPACK_IMPORTED_MODULE_1__.getSegmentsCount(viewId),\n        }, context);\n        _replayStats__WEBPACK_IMPORTED_MODULE_1__.addSegment(viewId);\n        _replayStats__WEBPACK_IMPORTED_MODULE_1__.addRecord(viewId);\n        var listener = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (_a) {\n            var data = _a.data;\n            if (data.type === 'errored' || data.type === 'initialized') {\n                return;\n            }\n            if (data.id === _this.id) {\n                _replayStats__WEBPACK_IMPORTED_MODULE_1__.addWroteData(viewId, data.additionalBytesCount);\n                if (data.type === 'flushed') {\n                    onFlushed(data.result, data.rawBytesCount);\n                    worker.removeEventListener('message', listener);\n                }\n                else {\n                    onWrote(data.compressedBytesCount);\n                }\n            }\n            else if (data.id > _this.id) {\n                // Messages should be received in the same order as they are sent, so if we receive a\n                // message with an id superior to this Segment instance id, we know that another, more\n                // recent Segment instance is being used.\n                //\n                // In theory, a \"flush\" response should have been received at this point, so the listener\n                // should already have been removed. But if something goes wrong and we didn't receive a\n                // \"flush\" response, remove the listener to avoid any leak, and send a monitor message to\n                // help investigate the issue.\n                worker.removeEventListener('message', listener);\n                (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.addTelemetryDebug)(\"Segment did not receive a 'flush' response before being replaced.\");\n            }\n        });\n        worker.addEventListener('message', listener);\n        this.worker.postMessage({ data: \"{\\\"records\\\":[\".concat(JSON.stringify(initialRecord)), id: this.id, action: 'write' });\n    }\n    Segment.prototype.addRecord = function (record) {\n        var _a;\n        this.metadata.end = record.timestamp;\n        this.metadata.records_count += 1;\n        _replayStats__WEBPACK_IMPORTED_MODULE_1__.addRecord(this.metadata.view.id);\n        (_a = this.metadata).has_full_snapshot || (_a.has_full_snapshot = record.type === _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.FullSnapshot);\n        this.worker.postMessage({ data: \",\".concat(JSON.stringify(record)), id: this.id, action: 'write' });\n    };\n    Segment.prototype.flush = function (reason) {\n        this.worker.postMessage({\n            data: \"],\".concat(JSON.stringify(this.metadata).slice(1), \"\\n\"),\n            id: this.id,\n            action: 'flush',\n        });\n        this.flushReason = reason;\n        this.isFlushed = true;\n    };\n    return Segment;\n}());\n\n//# sourceMappingURL=segment.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9zZWdtZW50LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkU7QUFDbEM7QUFDSztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkRBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsMkRBQXVCO0FBQzdFLDJCQUEyQiwwREFBNEI7QUFDdkQsU0FBUztBQUNULFFBQVEsb0RBQXNCO0FBQzlCLFFBQVEsbURBQXFCO0FBQzdCLHVCQUF1Qiw4REFBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNEQUF3QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0VBQWlCO0FBQ2pDO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0NBQWtDLFFBQVEsb0ZBQW9GO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1EQUFxQjtBQUM3QiwwRkFBMEYsMkRBQXVCO0FBQ2pILGtDQUFrQyx3RUFBd0U7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNrQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9zZWdtZW50LmpzPzkwMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkVGVsZW1ldHJ5RGVidWcsIGFzc2lnbiwgbW9uaXRvciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBSZWNvcmRUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgcmVwbGF5U3RhdHMgZnJvbSAnLi4vcmVwbGF5U3RhdHMnO1xudmFyIG5leHRJZCA9IDA7XG52YXIgU2VnbWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZWdtZW50KHdvcmtlciwgY29udGV4dCwgY3JlYXRpb25SZWFzb24sIGluaXRpYWxSZWNvcmQsIG9uV3JvdGUsIG9uRmx1c2hlZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLndvcmtlciA9IHdvcmtlcjtcbiAgICAgICAgdGhpcy5pc0ZsdXNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mbHVzaFJlYXNvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJZCsrO1xuICAgICAgICB2YXIgdmlld0lkID0gY29udGV4dC52aWV3LmlkO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gYXNzaWduKHtcbiAgICAgICAgICAgIHN0YXJ0OiBpbml0aWFsUmVjb3JkLnRpbWVzdGFtcCxcbiAgICAgICAgICAgIGVuZDogaW5pdGlhbFJlY29yZC50aW1lc3RhbXAsXG4gICAgICAgICAgICBjcmVhdGlvbl9yZWFzb246IGNyZWF0aW9uUmVhc29uLFxuICAgICAgICAgICAgcmVjb3Jkc19jb3VudDogMSxcbiAgICAgICAgICAgIGhhc19mdWxsX3NuYXBzaG90OiBpbml0aWFsUmVjb3JkLnR5cGUgPT09IFJlY29yZFR5cGUuRnVsbFNuYXBzaG90LFxuICAgICAgICAgICAgaW5kZXhfaW5fdmlldzogcmVwbGF5U3RhdHMuZ2V0U2VnbWVudHNDb3VudCh2aWV3SWQpLFxuICAgICAgICB9LCBjb250ZXh0KTtcbiAgICAgICAgcmVwbGF5U3RhdHMuYWRkU2VnbWVudCh2aWV3SWQpO1xuICAgICAgICByZXBsYXlTdGF0cy5hZGRSZWNvcmQodmlld0lkKTtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gbW9uaXRvcihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gX2EuZGF0YTtcbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdlcnJvcmVkJyB8fCBkYXRhLnR5cGUgPT09ICdpbml0aWFsaXplZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5pZCA9PT0gX3RoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICByZXBsYXlTdGF0cy5hZGRXcm90ZURhdGEodmlld0lkLCBkYXRhLmFkZGl0aW9uYWxCeXRlc0NvdW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnZmx1c2hlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb25GbHVzaGVkKGRhdGEucmVzdWx0LCBkYXRhLnJhd0J5dGVzQ291bnQpO1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9uV3JvdGUoZGF0YS5jb21wcmVzc2VkQnl0ZXNDb3VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5pZCA+IF90aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgLy8gTWVzc2FnZXMgc2hvdWxkIGJlIHJlY2VpdmVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZXkgYXJlIHNlbnQsIHNvIGlmIHdlIHJlY2VpdmUgYVxuICAgICAgICAgICAgICAgIC8vIG1lc3NhZ2Ugd2l0aCBhbiBpZCBzdXBlcmlvciB0byB0aGlzIFNlZ21lbnQgaW5zdGFuY2UgaWQsIHdlIGtub3cgdGhhdCBhbm90aGVyLCBtb3JlXG4gICAgICAgICAgICAgICAgLy8gcmVjZW50IFNlZ21lbnQgaW5zdGFuY2UgaXMgYmVpbmcgdXNlZC5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZW9yeSwgYSBcImZsdXNoXCIgcmVzcG9uc2Ugc2hvdWxkIGhhdmUgYmVlbiByZWNlaXZlZCBhdCB0aGlzIHBvaW50LCBzbyB0aGUgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYWxyZWFkeSBoYXZlIGJlZW4gcmVtb3ZlZC4gQnV0IGlmIHNvbWV0aGluZyBnb2VzIHdyb25nIGFuZCB3ZSBkaWRuJ3QgcmVjZWl2ZSBhXG4gICAgICAgICAgICAgICAgLy8gXCJmbHVzaFwiIHJlc3BvbnNlLCByZW1vdmUgdGhlIGxpc3RlbmVyIHRvIGF2b2lkIGFueSBsZWFrLCBhbmQgc2VuZCBhIG1vbml0b3IgbWVzc2FnZSB0b1xuICAgICAgICAgICAgICAgIC8vIGhlbHAgaW52ZXN0aWdhdGUgdGhlIGlzc3VlLlxuICAgICAgICAgICAgICAgIHdvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIGFkZFRlbGVtZXRyeURlYnVnKFwiU2VnbWVudCBkaWQgbm90IHJlY2VpdmUgYSAnZmx1c2gnIHJlc3BvbnNlIGJlZm9yZSBiZWluZyByZXBsYWNlZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UoeyBkYXRhOiBcIntcXFwicmVjb3Jkc1xcXCI6W1wiLmNvbmNhdChKU09OLnN0cmluZ2lmeShpbml0aWFsUmVjb3JkKSksIGlkOiB0aGlzLmlkLCBhY3Rpb246ICd3cml0ZScgfSk7XG4gICAgfVxuICAgIFNlZ21lbnQucHJvdG90eXBlLmFkZFJlY29yZCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLmVuZCA9IHJlY29yZC50aW1lc3RhbXA7XG4gICAgICAgIHRoaXMubWV0YWRhdGEucmVjb3Jkc19jb3VudCArPSAxO1xuICAgICAgICByZXBsYXlTdGF0cy5hZGRSZWNvcmQodGhpcy5tZXRhZGF0YS52aWV3LmlkKTtcbiAgICAgICAgKF9hID0gdGhpcy5tZXRhZGF0YSkuaGFzX2Z1bGxfc25hcHNob3QgfHwgKF9hLmhhc19mdWxsX3NuYXBzaG90ID0gcmVjb3JkLnR5cGUgPT09IFJlY29yZFR5cGUuRnVsbFNuYXBzaG90KTtcbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UoeyBkYXRhOiBcIixcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkocmVjb3JkKSksIGlkOiB0aGlzLmlkLCBhY3Rpb246ICd3cml0ZScgfSk7XG4gICAgfTtcbiAgICBTZWdtZW50LnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZGF0YTogXCJdLFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLm1ldGFkYXRhKS5zbGljZSgxKSwgXCJcXG5cIiksXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIGFjdGlvbjogJ2ZsdXNoJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZmx1c2hSZWFzb24gPSByZWFzb247XG4gICAgICAgIHRoaXMuaXNGbHVzaGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBTZWdtZW50O1xufSgpKTtcbmV4cG9ydCB7IFNlZ21lbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlZ21lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segment.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segmentCollection.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segmentCollection.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SEGMENT_BYTES_LIMIT\": function() { return /* binding */ SEGMENT_BYTES_LIMIT; },\n/* harmony export */   \"SEGMENT_DURATION_LIMIT\": function() { return /* binding */ SEGMENT_DURATION_LIMIT; },\n/* harmony export */   \"computeSegmentContext\": function() { return /* binding */ computeSegmentContext; },\n/* harmony export */   \"doStartSegmentCollection\": function() { return /* binding */ doStartSegmentCollection; },\n/* harmony export */   \"setSegmentBytesLimit\": function() { return /* binding */ setSegmentBytesLimit; },\n/* harmony export */   \"startSegmentCollection\": function() { return /* binding */ startSegmentCollection; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _segment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./segment */ \"./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segment.js\");\n\n\nvar SEGMENT_DURATION_LIMIT = 30 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND;\n/**\n * beacon payload max queue size implementation is 64kb\n * ensure that we leave room for logs, rum and potential other users\n */\nvar SEGMENT_BYTES_LIMIT = 60000;\n// Segments are the main data structure for session replays. They contain context information used\n// for indexing or UI needs, and a list of records (RRWeb 'events', renamed to avoid confusing\n// namings). They are stored without any processing from the intake, and fetched one after the\n// other while a session is being replayed. Their encoding (deflate) are carefully crafted to allow\n// concatenating multiple segments together. Segments have a size overhead (metadata), so our goal is to\n// build segments containing as many records as possible while complying with the various flush\n// strategies to guarantee a good replay quality.\n//\n// When the recording starts, a segment is initially created.  The segment is flushed (finalized and\n// sent) based on various events (non-exhaustive list):\n//\n// * the page visibility change or becomes to unload\n// * the segment duration reaches a limit\n// * the encoded segment bytes count reaches a limit\n// * ...\n//\n// A segment cannot be created without its context.  If the RUM session ends and no session id is\n// available when creating a new segment, records will be ignored, until the session is renewed and\n// a new session id is available.\n//\n// Empty segments (segments with no record) aren't useful and should be ignored.\n//\n// To help investigate session replays issues, each segment is created with a \"creation reason\",\n// indicating why the session has been created.\nfunction startSegmentCollection(lifeCycle, applicationId, sessionManager, viewContexts, send, worker) {\n    return doStartSegmentCollection(lifeCycle, function () { return computeSegmentContext(applicationId, sessionManager, viewContexts); }, send, worker);\n}\nfunction doStartSegmentCollection(lifeCycle, getSegmentContext, send, worker, emitter) {\n    if (emitter === void 0) { emitter = window; }\n    var state = {\n        status: 0 /* WaitingForInitialRecord */,\n        nextSegmentCreationReason: 'init',\n    };\n    var unsubscribeViewCreated = lifeCycle.subscribe(2 /* VIEW_CREATED */, function () {\n        flushSegment('view_change');\n    }).unsubscribe;\n    var unsubscribeBeforeUnload = lifeCycle.subscribe(9 /* BEFORE_UNLOAD */, function () {\n        flushSegment('before_unload');\n    }).unsubscribe;\n    var unsubscribeVisibilityChange = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(emitter, \"visibilitychange\" /* VISIBILITY_CHANGE */, function () {\n        if (document.visibilityState === 'hidden') {\n            flushSegment('visibility_hidden');\n        }\n    }, { capture: true }).stop;\n    function flushSegment(nextSegmentCreationReason) {\n        if (state.status === 1 /* SegmentPending */) {\n            state.segment.flush(nextSegmentCreationReason);\n            clearTimeout(state.expirationTimeoutId);\n        }\n        if (nextSegmentCreationReason) {\n            state = {\n                status: 0 /* WaitingForInitialRecord */,\n                nextSegmentCreationReason: nextSegmentCreationReason,\n            };\n        }\n        else {\n            state = {\n                status: 2 /* Stopped */,\n            };\n        }\n    }\n    function createNewSegment(creationReason, initialRecord) {\n        var context = getSegmentContext();\n        if (!context) {\n            return;\n        }\n        var segment = new _segment__WEBPACK_IMPORTED_MODULE_0__.Segment(worker, context, creationReason, initialRecord, function (compressedSegmentBytesCount) {\n            if (!segment.isFlushed && compressedSegmentBytesCount > SEGMENT_BYTES_LIMIT) {\n                flushSegment('segment_bytes_limit');\n            }\n        }, function (data, rawSegmentBytesCount) {\n            send(data, segment.metadata, rawSegmentBytesCount, segment.flushReason);\n        });\n        state = {\n            status: 1 /* SegmentPending */,\n            segment: segment,\n            expirationTimeoutId: setTimeout((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(function () {\n                flushSegment('segment_duration_limit');\n            }), SEGMENT_DURATION_LIMIT),\n        };\n    }\n    return {\n        addRecord: function (record) {\n            switch (state.status) {\n                case 0 /* WaitingForInitialRecord */:\n                    createNewSegment(state.nextSegmentCreationReason, record);\n                    break;\n                case 1 /* SegmentPending */:\n                    state.segment.addRecord(record);\n                    break;\n            }\n        },\n        stop: function () {\n            flushSegment();\n            unsubscribeViewCreated();\n            unsubscribeBeforeUnload();\n            unsubscribeVisibilityChange();\n        },\n    };\n}\nfunction computeSegmentContext(applicationId, sessionManager, viewContexts) {\n    var session = sessionManager.findTrackedSession();\n    var viewContext = viewContexts.findView();\n    if (!session || !viewContext) {\n        return undefined;\n    }\n    return {\n        application: {\n            id: applicationId,\n        },\n        session: {\n            id: session.id,\n        },\n        view: {\n            id: viewContext.view.id,\n        },\n    };\n}\nfunction setSegmentBytesLimit(newSegmentBytesLimit) {\n    if (newSegmentBytesLimit === void 0) { newSegmentBytesLimit = 60000; }\n    SEGMENT_BYTES_LIMIT = newSegmentBytesLimit;\n}\n//# sourceMappingURL=segmentCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9zZWdtZW50Q29sbGVjdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE4RTtBQUMxQztBQUM3QixrQ0FBa0MsNkRBQVU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkRBQTZELDRFQUE0RTtBQUN6STtBQUNPO0FBQ1AsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLHNDQUFzQyx1RUFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJLGVBQWU7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNkNBQU87QUFDakM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyw4REFBTztBQUNuRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUCwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3NlZ21lbnRDb2xsZWN0aW9uL3NlZ21lbnRDb2xsZWN0aW9uLmpzP2Q0MDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT05FX1NFQ09ORCwgYWRkRXZlbnRMaXN0ZW5lciwgbW9uaXRvciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBTZWdtZW50IH0gZnJvbSAnLi9zZWdtZW50JztcbmV4cG9ydCB2YXIgU0VHTUVOVF9EVVJBVElPTl9MSU1JVCA9IDMwICogT05FX1NFQ09ORDtcbi8qKlxuICogYmVhY29uIHBheWxvYWQgbWF4IHF1ZXVlIHNpemUgaW1wbGVtZW50YXRpb24gaXMgNjRrYlxuICogZW5zdXJlIHRoYXQgd2UgbGVhdmUgcm9vbSBmb3IgbG9ncywgcnVtIGFuZCBwb3RlbnRpYWwgb3RoZXIgdXNlcnNcbiAqL1xuZXhwb3J0IHZhciBTRUdNRU5UX0JZVEVTX0xJTUlUID0gNjAwMDA7XG4vLyBTZWdtZW50cyBhcmUgdGhlIG1haW4gZGF0YSBzdHJ1Y3R1cmUgZm9yIHNlc3Npb24gcmVwbGF5cy4gVGhleSBjb250YWluIGNvbnRleHQgaW5mb3JtYXRpb24gdXNlZFxuLy8gZm9yIGluZGV4aW5nIG9yIFVJIG5lZWRzLCBhbmQgYSBsaXN0IG9mIHJlY29yZHMgKFJSV2ViICdldmVudHMnLCByZW5hbWVkIHRvIGF2b2lkIGNvbmZ1c2luZ1xuLy8gbmFtaW5ncykuIFRoZXkgYXJlIHN0b3JlZCB3aXRob3V0IGFueSBwcm9jZXNzaW5nIGZyb20gdGhlIGludGFrZSwgYW5kIGZldGNoZWQgb25lIGFmdGVyIHRoZVxuLy8gb3RoZXIgd2hpbGUgYSBzZXNzaW9uIGlzIGJlaW5nIHJlcGxheWVkLiBUaGVpciBlbmNvZGluZyAoZGVmbGF0ZSkgYXJlIGNhcmVmdWxseSBjcmFmdGVkIHRvIGFsbG93XG4vLyBjb25jYXRlbmF0aW5nIG11bHRpcGxlIHNlZ21lbnRzIHRvZ2V0aGVyLiBTZWdtZW50cyBoYXZlIGEgc2l6ZSBvdmVyaGVhZCAobWV0YWRhdGEpLCBzbyBvdXIgZ29hbCBpcyB0b1xuLy8gYnVpbGQgc2VnbWVudHMgY29udGFpbmluZyBhcyBtYW55IHJlY29yZHMgYXMgcG9zc2libGUgd2hpbGUgY29tcGx5aW5nIHdpdGggdGhlIHZhcmlvdXMgZmx1c2hcbi8vIHN0cmF0ZWdpZXMgdG8gZ3VhcmFudGVlIGEgZ29vZCByZXBsYXkgcXVhbGl0eS5cbi8vXG4vLyBXaGVuIHRoZSByZWNvcmRpbmcgc3RhcnRzLCBhIHNlZ21lbnQgaXMgaW5pdGlhbGx5IGNyZWF0ZWQuICBUaGUgc2VnbWVudCBpcyBmbHVzaGVkIChmaW5hbGl6ZWQgYW5kXG4vLyBzZW50KSBiYXNlZCBvbiB2YXJpb3VzIGV2ZW50cyAobm9uLWV4aGF1c3RpdmUgbGlzdCk6XG4vL1xuLy8gKiB0aGUgcGFnZSB2aXNpYmlsaXR5IGNoYW5nZSBvciBiZWNvbWVzIHRvIHVubG9hZFxuLy8gKiB0aGUgc2VnbWVudCBkdXJhdGlvbiByZWFjaGVzIGEgbGltaXRcbi8vICogdGhlIGVuY29kZWQgc2VnbWVudCBieXRlcyBjb3VudCByZWFjaGVzIGEgbGltaXRcbi8vICogLi4uXG4vL1xuLy8gQSBzZWdtZW50IGNhbm5vdCBiZSBjcmVhdGVkIHdpdGhvdXQgaXRzIGNvbnRleHQuICBJZiB0aGUgUlVNIHNlc3Npb24gZW5kcyBhbmQgbm8gc2Vzc2lvbiBpZCBpc1xuLy8gYXZhaWxhYmxlIHdoZW4gY3JlYXRpbmcgYSBuZXcgc2VnbWVudCwgcmVjb3JkcyB3aWxsIGJlIGlnbm9yZWQsIHVudGlsIHRoZSBzZXNzaW9uIGlzIHJlbmV3ZWQgYW5kXG4vLyBhIG5ldyBzZXNzaW9uIGlkIGlzIGF2YWlsYWJsZS5cbi8vXG4vLyBFbXB0eSBzZWdtZW50cyAoc2VnbWVudHMgd2l0aCBubyByZWNvcmQpIGFyZW4ndCB1c2VmdWwgYW5kIHNob3VsZCBiZSBpZ25vcmVkLlxuLy9cbi8vIFRvIGhlbHAgaW52ZXN0aWdhdGUgc2Vzc2lvbiByZXBsYXlzIGlzc3VlcywgZWFjaCBzZWdtZW50IGlzIGNyZWF0ZWQgd2l0aCBhIFwiY3JlYXRpb24gcmVhc29uXCIsXG4vLyBpbmRpY2F0aW5nIHdoeSB0aGUgc2Vzc2lvbiBoYXMgYmVlbiBjcmVhdGVkLlxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2VnbWVudENvbGxlY3Rpb24obGlmZUN5Y2xlLCBhcHBsaWNhdGlvbklkLCBzZXNzaW9uTWFuYWdlciwgdmlld0NvbnRleHRzLCBzZW5kLCB3b3JrZXIpIHtcbiAgICByZXR1cm4gZG9TdGFydFNlZ21lbnRDb2xsZWN0aW9uKGxpZmVDeWNsZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tcHV0ZVNlZ21lbnRDb250ZXh0KGFwcGxpY2F0aW9uSWQsIHNlc3Npb25NYW5hZ2VyLCB2aWV3Q29udGV4dHMpOyB9LCBzZW5kLCB3b3JrZXIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRvU3RhcnRTZWdtZW50Q29sbGVjdGlvbihsaWZlQ3ljbGUsIGdldFNlZ21lbnRDb250ZXh0LCBzZW5kLCB3b3JrZXIsIGVtaXR0ZXIpIHtcbiAgICBpZiAoZW1pdHRlciA9PT0gdm9pZCAwKSB7IGVtaXR0ZXIgPSB3aW5kb3c7IH1cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgIHN0YXR1czogMCAvKiBXYWl0aW5nRm9ySW5pdGlhbFJlY29yZCAqLyxcbiAgICAgICAgbmV4dFNlZ21lbnRDcmVhdGlvblJlYXNvbjogJ2luaXQnLFxuICAgIH07XG4gICAgdmFyIHVuc3Vic2NyaWJlVmlld0NyZWF0ZWQgPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDIgLyogVklFV19DUkVBVEVEICovLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZsdXNoU2VnbWVudCgndmlld19jaGFuZ2UnKTtcbiAgICB9KS51bnN1YnNjcmliZTtcbiAgICB2YXIgdW5zdWJzY3JpYmVCZWZvcmVVbmxvYWQgPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDkgLyogQkVGT1JFX1VOTE9BRCAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICBmbHVzaFNlZ21lbnQoJ2JlZm9yZV91bmxvYWQnKTtcbiAgICB9KS51bnN1YnNjcmliZTtcbiAgICB2YXIgdW5zdWJzY3JpYmVWaXNpYmlsaXR5Q2hhbmdlID0gYWRkRXZlbnRMaXN0ZW5lcihlbWl0dGVyLCBcInZpc2liaWxpdHljaGFuZ2VcIiAvKiBWSVNJQklMSVRZX0NIQU5HRSAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgZmx1c2hTZWdtZW50KCd2aXNpYmlsaXR5X2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgfSwgeyBjYXB0dXJlOiB0cnVlIH0pLnN0b3A7XG4gICAgZnVuY3Rpb24gZmx1c2hTZWdtZW50KG5leHRTZWdtZW50Q3JlYXRpb25SZWFzb24pIHtcbiAgICAgICAgaWYgKHN0YXRlLnN0YXR1cyA9PT0gMSAvKiBTZWdtZW50UGVuZGluZyAqLykge1xuICAgICAgICAgICAgc3RhdGUuc2VnbWVudC5mbHVzaChuZXh0U2VnbWVudENyZWF0aW9uUmVhc29uKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzdGF0ZS5leHBpcmF0aW9uVGltZW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dFNlZ21lbnRDcmVhdGlvblJlYXNvbikge1xuICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAwIC8qIFdhaXRpbmdGb3JJbml0aWFsUmVjb3JkICovLFxuICAgICAgICAgICAgICAgIG5leHRTZWdtZW50Q3JlYXRpb25SZWFzb246IG5leHRTZWdtZW50Q3JlYXRpb25SZWFzb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAyIC8qIFN0b3BwZWQgKi8sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZU5ld1NlZ21lbnQoY3JlYXRpb25SZWFzb24sIGluaXRpYWxSZWNvcmQpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBnZXRTZWdtZW50Q29udGV4dCgpO1xuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VnbWVudCA9IG5ldyBTZWdtZW50KHdvcmtlciwgY29udGV4dCwgY3JlYXRpb25SZWFzb24sIGluaXRpYWxSZWNvcmQsIGZ1bmN0aW9uIChjb21wcmVzc2VkU2VnbWVudEJ5dGVzQ291bnQpIHtcbiAgICAgICAgICAgIGlmICghc2VnbWVudC5pc0ZsdXNoZWQgJiYgY29tcHJlc3NlZFNlZ21lbnRCeXRlc0NvdW50ID4gU0VHTUVOVF9CWVRFU19MSU1JVCkge1xuICAgICAgICAgICAgICAgIGZsdXNoU2VnbWVudCgnc2VnbWVudF9ieXRlc19saW1pdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSwgcmF3U2VnbWVudEJ5dGVzQ291bnQpIHtcbiAgICAgICAgICAgIHNlbmQoZGF0YSwgc2VnbWVudC5tZXRhZGF0YSwgcmF3U2VnbWVudEJ5dGVzQ291bnQsIHNlZ21lbnQuZmx1c2hSZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICBzdGF0dXM6IDEgLyogU2VnbWVudFBlbmRpbmcgKi8sXG4gICAgICAgICAgICBzZWdtZW50OiBzZWdtZW50LFxuICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVvdXRJZDogc2V0VGltZW91dChtb25pdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmbHVzaFNlZ21lbnQoJ3NlZ21lbnRfZHVyYXRpb25fbGltaXQnKTtcbiAgICAgICAgICAgIH0pLCBTRUdNRU5UX0RVUkFUSU9OX0xJTUlUKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUmVjb3JkOiBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHN0YXRlLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBXYWl0aW5nRm9ySW5pdGlhbFJlY29yZCAqLzpcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTmV3U2VnbWVudChzdGF0ZS5uZXh0U2VnbWVudENyZWF0aW9uUmVhc29uLCByZWNvcmQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogU2VnbWVudFBlbmRpbmcgKi86XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnNlZ21lbnQuYWRkUmVjb3JkKHJlY29yZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmbHVzaFNlZ21lbnQoKTtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlVmlld0NyZWF0ZWQoKTtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlQmVmb3JlVW5sb2FkKCk7XG4gICAgICAgICAgICB1bnN1YnNjcmliZVZpc2liaWxpdHlDaGFuZ2UoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTZWdtZW50Q29udGV4dChhcHBsaWNhdGlvbklkLCBzZXNzaW9uTWFuYWdlciwgdmlld0NvbnRleHRzKSB7XG4gICAgdmFyIHNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5maW5kVHJhY2tlZFNlc3Npb24oKTtcbiAgICB2YXIgdmlld0NvbnRleHQgPSB2aWV3Q29udGV4dHMuZmluZFZpZXcoKTtcbiAgICBpZiAoIXNlc3Npb24gfHwgIXZpZXdDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFwcGxpY2F0aW9uOiB7XG4gICAgICAgICAgICBpZDogYXBwbGljYXRpb25JZCxcbiAgICAgICAgfSxcbiAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgaWQ6IHNlc3Npb24uaWQsXG4gICAgICAgIH0sXG4gICAgICAgIHZpZXc6IHtcbiAgICAgICAgICAgIGlkOiB2aWV3Q29udGV4dC52aWV3LmlkLFxuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0U2VnbWVudEJ5dGVzTGltaXQobmV3U2VnbWVudEJ5dGVzTGltaXQpIHtcbiAgICBpZiAobmV3U2VnbWVudEJ5dGVzTGltaXQgPT09IHZvaWQgMCkgeyBuZXdTZWdtZW50Qnl0ZXNMaW1pdCA9IDYwMDAwOyB9XG4gICAgU0VHTUVOVF9CWVRFU19MSU1JVCA9IG5ld1NlZ21lbnRCeXRlc0xpbWl0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VnbWVudENvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segmentCollection.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/startDeflateWorker.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/startDeflateWorker.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"doStartDeflateWorker\": function() { return /* binding */ doStartDeflateWorker; },\n/* harmony export */   \"resetDeflateWorkerState\": function() { return /* binding */ resetDeflateWorkerState; },\n/* harmony export */   \"startDeflateWorker\": function() { return /* binding */ startDeflateWorker; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _deflateWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./deflateWorker */ \"./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/deflateWorker.js\");\n\n\nvar state = { status: 0 /* Nil */ };\nfunction startDeflateWorker(callback, createDeflateWorkerImpl) {\n    if (createDeflateWorkerImpl === void 0) { createDeflateWorkerImpl = _deflateWorker__WEBPACK_IMPORTED_MODULE_0__.createDeflateWorker; }\n    switch (state.status) {\n        case 0 /* Nil */:\n            state = { status: 1 /* Loading */, callbacks: [callback] };\n            doStartDeflateWorker(createDeflateWorkerImpl);\n            break;\n        case 1 /* Loading */:\n            state.callbacks.push(callback);\n            break;\n        case 2 /* Error */:\n            callback();\n            break;\n        case 3 /* Initialized */:\n            callback(state.worker);\n            break;\n    }\n}\nfunction resetDeflateWorkerState() {\n    state = { status: 0 /* Nil */ };\n}\n/**\n * Starts the deflate worker and handle messages and errors\n *\n * The spec allow browsers to handle worker errors differently:\n * - Chromium throws an exception\n * - Firefox fires an error event\n *\n * more details: https://bugzilla.mozilla.org/show_bug.cgi?id=1736865#c2\n */\nfunction doStartDeflateWorker(createDeflateWorkerImpl) {\n    if (createDeflateWorkerImpl === void 0) { createDeflateWorkerImpl = _deflateWorker__WEBPACK_IMPORTED_MODULE_0__.createDeflateWorker; }\n    try {\n        var worker_1 = createDeflateWorkerImpl();\n        worker_1.addEventListener('error', (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(onError));\n        worker_1.addEventListener('message', (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(function (_a) {\n            var data = _a.data;\n            if (data.type === 'errored') {\n                onError(data.error);\n            }\n            else if (data.type === 'initialized') {\n                onInitialized(worker_1);\n            }\n        }));\n        worker_1.postMessage({ action: 'init' });\n        return worker_1;\n    }\n    catch (error) {\n        onError(error);\n    }\n}\nfunction onInitialized(worker) {\n    if (state.status === 1 /* Loading */) {\n        state.callbacks.forEach(function (callback) { return callback(worker); });\n        state = { status: 3 /* Initialized */, worker: worker };\n    }\n}\nfunction onError(error) {\n    if (state.status === 1 /* Loading */) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Session Replay recording failed to start: an error occurred while creating the Worker:', error);\n        if (error instanceof Event || (error instanceof Error && (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.includes)(error.message, 'Content Security Policy'))) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Please make sure CSP is correctly configured ' +\n                'https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy');\n        }\n        else {\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addTelemetryError)(error);\n        }\n        state.callbacks.forEach(function (callback) { return callback(); });\n        state = { status: 2 /* Error */ };\n    }\n    else {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addTelemetryError)(error);\n    }\n}\n//# sourceMappingURL=startDeflateWorker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9zdGFydERlZmxhdGVXb3JrZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBc0Y7QUFDaEM7QUFDdEQsY0FBYztBQUNQO0FBQ1AsOENBQThDLDBCQUEwQiwrREFBbUI7QUFDM0Y7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw4Q0FBOEMsMEJBQTBCLCtEQUFtQjtBQUMzRjtBQUNBO0FBQ0EsMkNBQTJDLDhEQUFPO0FBQ2xELDZDQUE2Qyw4REFBTztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwrQkFBK0IsZ0JBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsMEJBQTBCO0FBQ2hGLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0VBQWE7QUFDckIsaUVBQWlFLCtEQUFRO0FBQ3pFLFlBQVksZ0VBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3RUFBaUI7QUFDN0I7QUFDQSxzREFBc0Qsb0JBQW9CO0FBQzFFLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsUUFBUSx3RUFBaUI7QUFDekI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3NlZ21lbnRDb2xsZWN0aW9uL3N0YXJ0RGVmbGF0ZVdvcmtlci5qcz9iNTEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZFRlbGVtZXRyeUVycm9yLCBkaXNwbGF5LCBpbmNsdWRlcywgbW9uaXRvciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBjcmVhdGVEZWZsYXRlV29ya2VyIH0gZnJvbSAnLi9kZWZsYXRlV29ya2VyJztcbnZhciBzdGF0ZSA9IHsgc3RhdHVzOiAwIC8qIE5pbCAqLyB9O1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RGVmbGF0ZVdvcmtlcihjYWxsYmFjaywgY3JlYXRlRGVmbGF0ZVdvcmtlckltcGwpIHtcbiAgICBpZiAoY3JlYXRlRGVmbGF0ZVdvcmtlckltcGwgPT09IHZvaWQgMCkgeyBjcmVhdGVEZWZsYXRlV29ya2VySW1wbCA9IGNyZWF0ZURlZmxhdGVXb3JrZXI7IH1cbiAgICBzd2l0Y2ggKHN0YXRlLnN0YXR1cykge1xuICAgICAgICBjYXNlIDAgLyogTmlsICovOlxuICAgICAgICAgICAgc3RhdGUgPSB7IHN0YXR1czogMSAvKiBMb2FkaW5nICovLCBjYWxsYmFja3M6IFtjYWxsYmFja10gfTtcbiAgICAgICAgICAgIGRvU3RhcnREZWZsYXRlV29ya2VyKGNyZWF0ZURlZmxhdGVXb3JrZXJJbXBsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEgLyogTG9hZGluZyAqLzpcbiAgICAgICAgICAgIHN0YXRlLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIgLyogRXJyb3IgKi86XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMyAvKiBJbml0aWFsaXplZCAqLzpcbiAgICAgICAgICAgIGNhbGxiYWNrKHN0YXRlLndvcmtlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXREZWZsYXRlV29ya2VyU3RhdGUoKSB7XG4gICAgc3RhdGUgPSB7IHN0YXR1czogMCAvKiBOaWwgKi8gfTtcbn1cbi8qKlxuICogU3RhcnRzIHRoZSBkZWZsYXRlIHdvcmtlciBhbmQgaGFuZGxlIG1lc3NhZ2VzIGFuZCBlcnJvcnNcbiAqXG4gKiBUaGUgc3BlYyBhbGxvdyBicm93c2VycyB0byBoYW5kbGUgd29ya2VyIGVycm9ycyBkaWZmZXJlbnRseTpcbiAqIC0gQ2hyb21pdW0gdGhyb3dzIGFuIGV4Y2VwdGlvblxuICogLSBGaXJlZm94IGZpcmVzIGFuIGVycm9yIGV2ZW50XG4gKlxuICogbW9yZSBkZXRhaWxzOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzM2ODY1I2MyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb1N0YXJ0RGVmbGF0ZVdvcmtlcihjcmVhdGVEZWZsYXRlV29ya2VySW1wbCkge1xuICAgIGlmIChjcmVhdGVEZWZsYXRlV29ya2VySW1wbCA9PT0gdm9pZCAwKSB7IGNyZWF0ZURlZmxhdGVXb3JrZXJJbXBsID0gY3JlYXRlRGVmbGF0ZVdvcmtlcjsgfVxuICAgIHRyeSB7XG4gICAgICAgIHZhciB3b3JrZXJfMSA9IGNyZWF0ZURlZmxhdGVXb3JrZXJJbXBsKCk7XG4gICAgICAgIHdvcmtlcl8xLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgbW9uaXRvcihvbkVycm9yKSk7XG4gICAgICAgIHdvcmtlcl8xLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtb25pdG9yKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBfYS5kYXRhO1xuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgICAgICAgICAgICAgb25FcnJvcihkYXRhLmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2luaXRpYWxpemVkJykge1xuICAgICAgICAgICAgICAgIG9uSW5pdGlhbGl6ZWQod29ya2VyXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHdvcmtlcl8xLnBvc3RNZXNzYWdlKHsgYWN0aW9uOiAnaW5pdCcgfSk7XG4gICAgICAgIHJldHVybiB3b3JrZXJfMTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uSW5pdGlhbGl6ZWQod29ya2VyKSB7XG4gICAgaWYgKHN0YXRlLnN0YXR1cyA9PT0gMSAvKiBMb2FkaW5nICovKSB7XG4gICAgICAgIHN0YXRlLmNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gY2FsbGJhY2sod29ya2VyKTsgfSk7XG4gICAgICAgIHN0YXRlID0geyBzdGF0dXM6IDMgLyogSW5pdGlhbGl6ZWQgKi8sIHdvcmtlcjogd29ya2VyIH07XG4gICAgfVxufVxuZnVuY3Rpb24gb25FcnJvcihlcnJvcikge1xuICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IDEgLyogTG9hZGluZyAqLykge1xuICAgICAgICBkaXNwbGF5LmVycm9yKCdTZXNzaW9uIFJlcGxheSByZWNvcmRpbmcgZmFpbGVkIHRvIHN0YXJ0OiBhbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjcmVhdGluZyB0aGUgV29ya2VyOicsIGVycm9yKTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXZlbnQgfHwgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgaW5jbHVkZXMoZXJyb3IubWVzc2FnZSwgJ0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5JykpKSB7XG4gICAgICAgICAgICBkaXNwbGF5LmVycm9yKCdQbGVhc2UgbWFrZSBzdXJlIENTUCBpcyBjb3JyZWN0bHkgY29uZmlndXJlZCAnICtcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9kb2NzLmRhdGFkb2docS5jb20vcmVhbF91c2VyX21vbml0b3JpbmcvZmFxL2NvbnRlbnRfc2VjdXJpdHlfcG9saWN5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhZGRUZWxlbWV0cnlFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbiAgICAgICAgc3RhdGUgPSB7IHN0YXR1czogMiAvKiBFcnJvciAqLyB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYWRkVGVsZW1ldHJ5RXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0RGVmbGF0ZVdvcmtlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/startDeflateWorker.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/entries/main.js":
/*!***************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/entries/main.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultPrivacyLevel\": function() { return /* reexport safe */ _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.DefaultPrivacyLevel; },\n/* harmony export */   \"datadogRum\": function() { return /* binding */ datadogRum; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"./node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _boot_startRecording__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../boot/startRecording */ \"./node_modules/@datadog/browser-rum/esm/boot/startRecording.js\");\n/* harmony import */ var _boot_recorderApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../boot/recorderApi */ \"./node_modules/@datadog/browser-rum/esm/boot/recorderApi.js\");\n// Keep the following in sync with packages/rum-slim/src/entries/main.ts\n\n\n\n\n\nvar recorderApi = (0,_boot_recorderApi__WEBPACK_IMPORTED_MODULE_2__.makeRecorderApi)(_boot_startRecording__WEBPACK_IMPORTED_MODULE_1__.startRecording);\nvar datadogRum = (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.makeRumPublicApi)(_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.startRum, recorderApi);\n(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.defineGlobal)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.getGlobalObject)(), 'DD_RUM', datadogRum);\n//# sourceMappingURL=main.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2VudHJpZXMvbWFpbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNzRTtBQUNDO0FBQ2Y7QUFDRjtBQUNNO0FBQzVELGtCQUFrQixrRUFBZSxDQUFDLGdFQUFjO0FBQ3pDLGlCQUFpQiwyRUFBZ0IsQ0FBQywrREFBUTtBQUNqRCxtRUFBWSxDQUFDLHNFQUFlO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZW50cmllcy9tYWluLmpzPzZhZmEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gS2VlcCB0aGUgZm9sbG93aW5nIGluIHN5bmMgd2l0aCBwYWNrYWdlcy9ydW0tc2xpbS9zcmMvZW50cmllcy9tYWluLnRzXG5pbXBvcnQgeyBkZWZpbmVHbG9iYWwsIGdldEdsb2JhbE9iamVjdCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBtYWtlUnVtUHVibGljQXBpLCBzdGFydFJ1bSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUnO1xuaW1wb3J0IHsgc3RhcnRSZWNvcmRpbmcgfSBmcm9tICcuLi9ib290L3N0YXJ0UmVjb3JkaW5nJztcbmltcG9ydCB7IG1ha2VSZWNvcmRlckFwaSB9IGZyb20gJy4uL2Jvb3QvcmVjb3JkZXJBcGknO1xuZXhwb3J0IHsgRGVmYXVsdFByaXZhY3lMZXZlbCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG52YXIgcmVjb3JkZXJBcGkgPSBtYWtlUmVjb3JkZXJBcGkoc3RhcnRSZWNvcmRpbmcpO1xuZXhwb3J0IHZhciBkYXRhZG9nUnVtID0gbWFrZVJ1bVB1YmxpY0FwaShzdGFydFJ1bSwgcmVjb3JkZXJBcGkpO1xuZGVmaW5lR2xvYmFsKGdldEdsb2JhbE9iamVjdCgpLCAnRERfUlVNJywgZGF0YWRvZ1J1bSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYWluLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/entries/main.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/transport/send.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/transport/send.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"send\": function() { return /* binding */ send; },\n/* harmony export */   \"toFormEntries\": function() { return /* binding */ toFormEntries; }\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"./node_modules/@datadog/browser-core/esm/index.js\");\n/* harmony import */ var _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/segmentCollection */ \"./node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js\");\n\n\nfunction send(endpointBuilder, data, metadata, rawSegmentBytesCount, flushReason) {\n    var formData = new FormData();\n    formData.append('segment', new Blob([data], {\n        type: 'application/octet-stream',\n    }), \"\".concat(metadata.session.id, \"-\").concat(metadata.start));\n    toFormEntries(metadata, function (key, value) { return formData.append(key, value); });\n    formData.append('raw_segment_size', rawSegmentBytesCount.toString());\n    var request = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.HttpRequest(endpointBuilder, _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_0__.SEGMENT_BYTES_LIMIT);\n    request.send(formData, data.byteLength, flushReason);\n}\nfunction toFormEntries(input, onEntry, prefix) {\n    if (prefix === void 0) { prefix = ''; }\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.objectEntries)(input).forEach(function (_a) {\n        var key = _a[0], value = _a[1];\n        if (typeof value === 'object' && value !== null) {\n            toFormEntries(value, onEntry, \"\".concat(prefix).concat(key, \".\"));\n        }\n        else {\n            onEntry(\"\".concat(prefix).concat(key), String(value));\n        }\n    });\n}\n//# sourceMappingURL=send.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL3RyYW5zcG9ydC9zZW5kLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBbUU7QUFDRDtBQUMzRDtBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvREFBb0QscUNBQXFDO0FBQ3pGO0FBQ0Esc0JBQXNCLDhEQUFXLGtCQUFrQiwwRUFBbUI7QUFDdEU7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCO0FBQzdCLElBQUksb0VBQWE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL3RyYW5zcG9ydC9zZW5kLmpzP2FmOTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlcXVlc3QsIG9iamVjdEVudHJpZXMgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgU0VHTUVOVF9CWVRFU19MSU1JVCB9IGZyb20gJy4uL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc2VuZChlbmRwb2ludEJ1aWxkZXIsIGRhdGEsIG1ldGFkYXRhLCByYXdTZWdtZW50Qnl0ZXNDb3VudCwgZmx1c2hSZWFzb24pIHtcbiAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3NlZ21lbnQnLCBuZXcgQmxvYihbZGF0YV0sIHtcbiAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgfSksIFwiXCIuY29uY2F0KG1ldGFkYXRhLnNlc3Npb24uaWQsIFwiLVwiKS5jb25jYXQobWV0YWRhdGEuc3RhcnQpKTtcbiAgICB0b0Zvcm1FbnRyaWVzKG1ldGFkYXRhLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgeyByZXR1cm4gZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpOyB9KTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3Jhd19zZWdtZW50X3NpemUnLCByYXdTZWdtZW50Qnl0ZXNDb3VudC50b1N0cmluZygpKTtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBIdHRwUmVxdWVzdChlbmRwb2ludEJ1aWxkZXIsIFNFR01FTlRfQllURVNfTElNSVQpO1xuICAgIHJlcXVlc3Quc2VuZChmb3JtRGF0YSwgZGF0YS5ieXRlTGVuZ3RoLCBmbHVzaFJlYXNvbik7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9Gb3JtRW50cmllcyhpbnB1dCwgb25FbnRyeSwgcHJlZml4KSB7XG4gICAgaWYgKHByZWZpeCA9PT0gdm9pZCAwKSB7IHByZWZpeCA9ICcnOyB9XG4gICAgb2JqZWN0RW50cmllcyhpbnB1dCkuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGtleSA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdG9Gb3JtRW50cmllcyh2YWx1ZSwgb25FbnRyeSwgXCJcIi5jb25jYXQocHJlZml4KS5jb25jYXQoa2V5LCBcIi5cIikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb25FbnRyeShcIlwiLmNvbmNhdChwcmVmaXgpLmNvbmNhdChrZXkpLCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VuZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/transport/send.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/types/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/types/index.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _segment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./segment */ \"./node_modules/@datadog/browser-rum/esm/types/segment.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _segment__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _segment__WEBPACK_IMPORTED_MODULE_0__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _record__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./record */ \"./node_modules/@datadog/browser-rum/esm/types/record.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _record__WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _record__WEBPACK_IMPORTED_MODULE_1__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _serializedNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./serializedNode */ \"./node_modules/@datadog/browser-rum/esm/types/serializedNode.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _serializedNode__WEBPACK_IMPORTED_MODULE_2__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _serializedNode__WEBPACK_IMPORTED_MODULE_2__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL3R5cGVzL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBMEI7QUFDRDtBQUNRO0FBQ2pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vdHlwZXMvaW5kZXguanM/ODliOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL3NlZ21lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9yZWNvcmQnO1xuZXhwb3J0ICogZnJvbSAnLi9zZXJpYWxpemVkTm9kZSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/types/index.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/types/record.js":
/*!***************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/types/record.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IncrementalSource\": function() { return /* binding */ IncrementalSource; },\n/* harmony export */   \"MediaInteractionType\": function() { return /* binding */ MediaInteractionType; },\n/* harmony export */   \"MouseInteractionType\": function() { return /* binding */ MouseInteractionType; },\n/* harmony export */   \"RecordType\": function() { return /* binding */ RecordType; }\n/* harmony export */ });\nvar RecordType = {\n    FullSnapshot: 2,\n    IncrementalSnapshot: 3,\n    Meta: 4,\n    Focus: 6,\n    ViewEnd: 7,\n    VisualViewport: 8,\n};\nvar IncrementalSource = {\n    Mutation: 0,\n    MouseMove: 1,\n    MouseInteraction: 2,\n    Scroll: 3,\n    ViewportResize: 4,\n    Input: 5,\n    TouchMove: 6,\n    MediaInteraction: 7,\n    StyleSheetRule: 8,\n    // CanvasMutation : 9,\n    // Font : 10,\n};\nvar MouseInteractionType = {\n    MouseUp: 0,\n    MouseDown: 1,\n    Click: 2,\n    ContextMenu: 3,\n    DblClick: 4,\n    Focus: 5,\n    Blur: 6,\n    TouchStart: 7,\n    TouchEnd: 9,\n};\nvar MediaInteractionType = {\n    Play: 0,\n    Pause: 1,\n};\n//# sourceMappingURL=record.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL3R5cGVzL3JlY29yZC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS90eXBlcy9yZWNvcmQuanM/ZmMxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIFJlY29yZFR5cGUgPSB7XG4gICAgRnVsbFNuYXBzaG90OiAyLFxuICAgIEluY3JlbWVudGFsU25hcHNob3Q6IDMsXG4gICAgTWV0YTogNCxcbiAgICBGb2N1czogNixcbiAgICBWaWV3RW5kOiA3LFxuICAgIFZpc3VhbFZpZXdwb3J0OiA4LFxufTtcbmV4cG9ydCB2YXIgSW5jcmVtZW50YWxTb3VyY2UgPSB7XG4gICAgTXV0YXRpb246IDAsXG4gICAgTW91c2VNb3ZlOiAxLFxuICAgIE1vdXNlSW50ZXJhY3Rpb246IDIsXG4gICAgU2Nyb2xsOiAzLFxuICAgIFZpZXdwb3J0UmVzaXplOiA0LFxuICAgIElucHV0OiA1LFxuICAgIFRvdWNoTW92ZTogNixcbiAgICBNZWRpYUludGVyYWN0aW9uOiA3LFxuICAgIFN0eWxlU2hlZXRSdWxlOiA4LFxuICAgIC8vIENhbnZhc011dGF0aW9uIDogOSxcbiAgICAvLyBGb250IDogMTAsXG59O1xuZXhwb3J0IHZhciBNb3VzZUludGVyYWN0aW9uVHlwZSA9IHtcbiAgICBNb3VzZVVwOiAwLFxuICAgIE1vdXNlRG93bjogMSxcbiAgICBDbGljazogMixcbiAgICBDb250ZXh0TWVudTogMyxcbiAgICBEYmxDbGljazogNCxcbiAgICBGb2N1czogNSxcbiAgICBCbHVyOiA2LFxuICAgIFRvdWNoU3RhcnQ6IDcsXG4gICAgVG91Y2hFbmQ6IDksXG59O1xuZXhwb3J0IHZhciBNZWRpYUludGVyYWN0aW9uVHlwZSA9IHtcbiAgICBQbGF5OiAwLFxuICAgIFBhdXNlOiAxLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY29yZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/types/record.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/types/segment.js":
/*!****************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/types/segment.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceMappingURL=segment.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL3R5cGVzL3NlZ21lbnQuanMuanMiLCJtYXBwaW5ncyI6IjtBQUFVO0FBQ1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS90eXBlcy9zZWdtZW50LmpzPzczOGYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VnbWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/types/segment.js\n");

/***/ }),

/***/ "./node_modules/@datadog/browser-rum/esm/types/serializedNode.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@datadog/browser-rum/esm/types/serializedNode.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NodeType\": function() { return /* binding */ NodeType; }\n/* harmony export */ });\nvar NodeType = {\n    Document: 0,\n    DocumentType: 1,\n    Element: 2,\n    Text: 3,\n    CDATA: 4,\n    Comment: 5,\n};\n//# sourceMappingURL=serializedNode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL3R5cGVzL3NlcmlhbGl6ZWROb2RlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS90eXBlcy9zZXJpYWxpemVkTm9kZS5qcz9mMTgzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgTm9kZVR5cGUgPSB7XG4gICAgRG9jdW1lbnQ6IDAsXG4gICAgRG9jdW1lbnRUeXBlOiAxLFxuICAgIEVsZW1lbnQ6IDIsXG4gICAgVGV4dDogMyxcbiAgICBDREFUQTogNCxcbiAgICBDb21tZW50OiA1LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZWROb2RlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@datadog/browser-rum/esm/types/serializedNode.js\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[2]!./styles/globals.css":
/*!********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[2]!./styles/globals.css ***!
  \********************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\n/* harmony import */ var _node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"html,\\nbody {\\n  padding: 0;\\n  margin: 0;\\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\\n}\\n\\na {\\n  color: inherit;\\n  text-decoration: none;\\n}\\n\\n* {\\n  box-sizing: border-box;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://styles/globals.css\"],\"names\":[],\"mappings\":\"AAAA;;EAEE,UAAU;EACV,SAAS;EACT;wEACsE;AACxE;;AAEA;EACE,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,sBAAsB;AACxB\",\"sourcesContent\":[\"html,\\nbody {\\n  padding: 0;\\n  margin: 0;\\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\\n}\\n\\na {\\n  color: inherit;\\n  text-decoration: none;\\n}\\n\\n* {\\n  box-sizing: border-box;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls4XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbOF0udXNlWzJdIS4vc3R5bGVzL2dsb2JhbHMuY3NzLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ3dIO0FBQ3hILDhCQUE4QixrSEFBMkI7QUFDekQ7QUFDQSx1REFBdUQsZUFBZSxjQUFjLHdKQUF3SixHQUFHLE9BQU8sbUJBQW1CLDBCQUEwQixHQUFHLE9BQU8sMkJBQTJCLEdBQUcsU0FBUyxvRkFBb0YsVUFBVSxVQUFVLEtBQUssT0FBTyxPQUFPLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLHVDQUF1QyxlQUFlLGNBQWMsd0pBQXdKLEdBQUcsT0FBTyxtQkFBbUIsMEJBQTBCLEdBQUcsT0FBTywyQkFBMkIsR0FBRyxxQkFBcUI7QUFDbDFCO0FBQ0EsK0RBQWUsdUJBQXVCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3R5bGVzL2dsb2JhbHMuY3NzPzRiYTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyh0cnVlKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcImh0bWwsXFxuYm9keSB7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgU2Vnb2UgVUksIFJvYm90bywgT3h5Z2VuLFxcbiAgICBVYnVudHUsIENhbnRhcmVsbCwgRmlyYSBTYW5zLCBEcm9pZCBTYW5zLCBIZWx2ZXRpY2EgTmV1ZSwgc2Fucy1zZXJpZjtcXG59XFxuXFxuYSB7XFxuICBjb2xvcjogaW5oZXJpdDtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG59XFxuXFxuKiB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vc3R5bGVzL2dsb2JhbHMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBOztFQUVFLFVBQVU7RUFDVixTQUFTO0VBQ1Q7d0VBQ3NFO0FBQ3hFOztBQUVBO0VBQ0UsY0FBYztFQUNkLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJodG1sLFxcbmJvZHkge1xcbiAgcGFkZGluZzogMDtcXG4gIG1hcmdpbjogMDtcXG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFNlZ29lIFVJLCBSb2JvdG8sIE94eWdlbixcXG4gICAgVWJ1bnR1LCBDYW50YXJlbGwsIEZpcmEgU2FucywgRHJvaWQgU2FucywgSGVsdmV0aWNhIE5ldWUsIHNhbnMtc2VyaWY7XFxufVxcblxcbmEge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcblxcbioge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[2]!./styles/globals.css\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js":
/*!************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js ***!
  \************************************************************************************/
/***/ (function(module) {

"use strict";
eval("\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/ // css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function(useSourceMap) {\n    var list = [] // return the list of modules as css string\n    ;\n    list.toString = function toString() {\n        return this.map(function(item) {\n            var content = cssWithMappingToString(item, useSourceMap);\n            if (item[2]) {\n                return '@media '.concat(item[2], ' {').concat(content, '}');\n            }\n            return content;\n        }).join('');\n    } // import a list of modules into the list\n    ;\n    // eslint-disable-next-line func-names\n    list.i = function(modules, mediaQuery, dedupe) {\n        if (typeof modules === 'string') {\n            // eslint-disable-next-line no-param-reassign\n            modules = [\n                [\n                    null,\n                    modules,\n                    ''\n                ]\n            ];\n        }\n        var alreadyImportedModules = {};\n        if (dedupe) {\n            for(var i = 0; i < this.length; i++){\n                // eslint-disable-next-line prefer-destructuring\n                var id = this[i][0];\n                if (id != null) {\n                    alreadyImportedModules[id] = true;\n                }\n            }\n        }\n        for(var _i = 0; _i < modules.length; _i++){\n            var item = [].concat(modules[_i]);\n            if (dedupe && alreadyImportedModules[item[0]]) {\n                continue;\n            }\n            if (mediaQuery) {\n                if (!item[2]) {\n                    item[2] = mediaQuery;\n                } else {\n                    item[2] = ''.concat(mediaQuery, ' and ').concat(item[2]);\n                }\n            }\n            list.push(item);\n        }\n    };\n    return list;\n};\nfunction cssWithMappingToString(item, useSourceMap) {\n    var content = item[1] || '' // eslint-disable-next-line prefer-destructuring\n    ;\n    var cssMapping = item[3];\n    if (!cssMapping) {\n        return content;\n    }\n    if (useSourceMap && typeof btoa === 'function') {\n        var sourceMapping = toComment(cssMapping);\n        var sourceURLs = cssMapping.sources.map(function(source) {\n            return '/*# sourceURL='.concat(cssMapping.sourceRoot || '').concat(source, ' */');\n        });\n        return [\n            content\n        ].concat(sourceURLs).concat([\n            sourceMapping\n        ]).join('\\n');\n    }\n    return [\n        content\n    ].join('\\n');\n} // Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n    var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,'.concat(base64);\n    return '/*# '.concat(data, ' */');\n}\n\n//# sourceMappingURL=api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9ydW50aW1lL2FwaS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxxQkFBcUI7QUFDekU7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxjQUFjO0FBQ3JFO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvcnVudGltZS9hcGkuanM/Y2E0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovIC8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcbiAgICB2YXIgbGlzdCA9IFtdIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgICA7XG4gICAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG4gICAgICAgICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnQG1lZGlhICcuY29uY2F0KGl0ZW1bMl0sICcgeycpLmNvbmNhdChjb250ZW50LCAnfScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH0pLmpvaW4oJycpO1xuICAgIH0gLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgICA7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICBsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICBtb2R1bGVzID0gW1xuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlcyxcbiAgICAgICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgICAgIGlmIChkZWR1cGUpIHtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuICAgICAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspe1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuICAgICAgICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVtWzJdID0gJycuY29uY2F0KG1lZGlhUXVlcnksICcgYW5kICcpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBsaXN0O1xufTtcbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gICAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgIDtcbiAgICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gICAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cbiAgICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgICAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gJy8qIyBzb3VyY2VVUkw9Jy5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCAnICovJyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgY29udGVudFxuICAgICAgICBdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW1xuICAgICAgICAgICAgc291cmNlTWFwcGluZ1xuICAgICAgICBdKS5qb2luKCdcXG4nKTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgICAgY29udGVudFxuICAgIF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgICB2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnLmNvbmNhdChiYXNlNjQpO1xuICAgIHJldHVybiAnLyojICcuY29uY2F0KGRhdGEsICcgKi8nKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app!":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app! ***!
  \*******************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_app\",\n      function () {\n        return __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.js\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_app\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfYXBwJnBhZ2U9JTJGX2FwcCEuanMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQU8sQ0FBQyxnREFBeUI7QUFDaEQ7QUFDQTtBQUNBLE9BQU8sSUFBVTtBQUNqQixNQUFNLFVBQVU7QUFDaEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzY3ODIiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgKHdpbmRvdy5fX05FWFRfUCA9IHdpbmRvdy5fX05FWFRfUCB8fCBbXSkucHVzaChbXG4gICAgICBcIi9fYXBwXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIik7XG4gICAgICB9XG4gICAgXSk7XG4gICAgaWYobW9kdWxlLmhvdCkge1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93Ll9fTkVYVF9QLnB1c2goW1wiL19hcHBcIl0pXG4gICAgICB9KTtcbiAgICB9XG4gICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app!\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! !../node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[1]!../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[2]!./globals.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[2]!./styles/globals.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                // These elements should always exist. If they do not,\n                // this code should fail.\n                var anchorElement = document.querySelector('#__next_css__DO_NOT_USE__');\n                var parentNode = anchorElement.parentNode// Normally <head>\n                ;\n                // Each style tag should be placed right before our\n                // anchor. By inserting before and not after, we do not\n                // need to track the last inserted element.\n                parentNode.insertBefore(element, anchorElement);\n            };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[1]!../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[2]!./globals.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[2]!./styles/globals.css\",\n      function () {\n        content = __webpack_require__(/*! !!../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[1]!../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[2]!./globals.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[8].use[2]!./styles/globals.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdHlsZXMvZ2xvYmFscy5jc3MuanMiLCJtYXBwaW5ncyI6IkFBQUEsVUFBVSxtQkFBTyxDQUFDLG9OQUF3RztBQUMxSCwwQkFBMEIsbUJBQU8sQ0FBQyx1ZUFBK087O0FBRWpSOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBLElBQUksSUFBVTtBQUNkLHlCQUF5QixVQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGlCQUFpQjtBQUNyQixNQUFNLHVlQUErTztBQUNyUDtBQUNBLGtCQUFrQixtQkFBTyxDQUFDLHVlQUErTzs7QUFFelE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLFVBQVU7O0FBRTFCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxVQUFVO0FBQ1o7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3R5bGVzL2dsb2JhbHMuY3NzP2M5ODMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1zdHlsZS1sb2FkZXIvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzhdLnVzZVsxXSEuLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbOF0udXNlWzJdIS4vZ2xvYmFscy5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgZWxlbWVudHMgc2hvdWxkIGFsd2F5cyBleGlzdC4gSWYgdGhleSBkbyBub3QsXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjb2RlIHNob3VsZCBmYWlsLlxuICAgICAgICAgICAgICAgIHZhciBhbmNob3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI19fbmV4dF9jc3NfX0RPX05PVF9VU0VfXycpO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gYW5jaG9yRWxlbWVudC5wYXJlbnROb2RlLy8gTm9ybWFsbHkgPGhlYWQ+XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIC8vIEVhY2ggc3R5bGUgdGFnIHNob3VsZCBiZSBwbGFjZWQgcmlnaHQgYmVmb3JlIG91clxuICAgICAgICAgICAgICAgIC8vIGFuY2hvci4gQnkgaW5zZXJ0aW5nIGJlZm9yZSBhbmQgbm90IGFmdGVyLCB3ZSBkbyBub3RcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHRyYWNrIHRoZSBsYXN0IGluc2VydGVkIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudCwgYW5jaG9yRWxlbWVudCk7XG4gICAgICAgICAgICB9O1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5pZiAobW9kdWxlLmhvdCkge1xuICBpZiAoIWNvbnRlbnQubG9jYWxzIHx8IG1vZHVsZS5ob3QuaW52YWxpZGF0ZSkge1xuICAgIHZhciBpc0VxdWFsTG9jYWxzID0gZnVuY3Rpb24gaXNFcXVhbExvY2FscyhhLCBiLCBpc05hbWVkRXhwb3J0KSB7XG4gICAgaWYgKCFhICYmIGIgfHwgYSAmJiAhYikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBwO1xuICAgIGZvcihwIGluIGEpe1xuICAgICAgICBpZiAoaXNOYW1lZEV4cG9ydCAmJiBwID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhW3BdICE9PSBiW3BdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yKHAgaW4gYil7XG4gICAgICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhW3BdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuICAgIHZhciBvbGRMb2NhbHMgPSBjb250ZW50LmxvY2FscztcblxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFxuICAgICAgXCIhIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzhdLnVzZVsxXSEuLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbOF0udXNlWzJdIS4vZ2xvYmFscy5jc3NcIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzhdLnVzZVsxXSEuLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbOF0udXNlWzJdIS4vZ2xvYmFscy5jc3NcIik7XG5cbiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghaXNFcXVhbExvY2FscyhvbGRMb2NhbHMsIGNvbnRlbnQubG9jYWxzKSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./styles/globals.css\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js ***!
  \************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nconst isOldIE = function isOldIE() {\n    let memo;\n    return function memorize() {\n        if (typeof memo === 'undefined') {\n            // Test for IE <= 9 as proposed by Browserhacks\n            // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n            // Tests for existence of standard globals is to allow style-loader\n            // to operate correctly into non-standard environments\n            // @see https://github.com/webpack-contrib/style-loader/issues/177\n            memo = Boolean(window && document && document.all && !window.atob);\n        }\n        return memo;\n    };\n}();\nconst getTarget = function getTarget() {\n    const memo = {};\n    return function memorize(target) {\n        if (typeof memo[target] === 'undefined') {\n            let styleTarget = document.querySelector(target);\n            // Special case to return head of iframe instead of iframe itself\n            if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n                try {\n                    // This will throw an exception if access to iframe is blocked\n                    // due to cross-origin restrictions\n                    styleTarget = styleTarget.contentDocument.head;\n                } catch (e) {\n                    // istanbul ignore next\n                    styleTarget = null;\n                }\n            }\n            memo[target] = styleTarget;\n        }\n        return memo[target];\n    };\n}();\nconst stylesInDom = [];\nfunction getIndexByIdentifier(identifier) {\n    let result = -1;\n    for(let i = 0; i < stylesInDom.length; i++){\n        if (stylesInDom[i].identifier === identifier) {\n            result = i;\n            break;\n        }\n    }\n    return result;\n}\nfunction modulesToDom(list, options) {\n    const idCountMap = {};\n    const identifiers = [];\n    for(let i = 0; i < list.length; i++){\n        const item = list[i];\n        const id = options.base ? item[0] + options.base : item[0];\n        const count = idCountMap[id] || 0;\n        const identifier = id + ' ' + count.toString();\n        idCountMap[id] = count + 1;\n        const index = getIndexByIdentifier(identifier);\n        const obj = {\n            css: item[1],\n            media: item[2],\n            sourceMap: item[3]\n        };\n        if (index !== -1) {\n            stylesInDom[index].references++;\n            stylesInDom[index].updater(obj);\n        } else {\n            stylesInDom.push({\n                identifier: identifier,\n                updater: addStyle(obj, options),\n                references: 1\n            });\n        }\n        identifiers.push(identifier);\n    }\n    return identifiers;\n}\nfunction insertStyleElement(options) {\n    const style = document.createElement('style');\n    const attributes = options.attributes || {};\n    if (typeof attributes.nonce === 'undefined') {\n        const nonce = // eslint-disable-next-line no-undef\n         true ? __webpack_require__.nc : 0;\n        if (nonce) {\n            attributes.nonce = nonce;\n        }\n    }\n    Object.keys(attributes).forEach(function(key) {\n        style.setAttribute(key, attributes[key]);\n    });\n    if (typeof options.insert === 'function') {\n        options.insert(style);\n    } else {\n        const target = getTarget(options.insert || 'head');\n        if (!target) {\n            throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n        }\n        target.appendChild(style);\n    }\n    return style;\n}\nfunction removeStyleElement(style) {\n    // istanbul ignore if\n    if (style.parentNode === null) {\n        return false;\n    }\n    style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */ const replaceText = function replaceText() {\n    const textStore = [];\n    return function replace(index, replacement) {\n        textStore[index] = replacement;\n        return textStore.filter(Boolean).join('\\n');\n    };\n}();\nfunction applyToSingletonTag(style, index, remove, obj) {\n    const css = remove ? '' : obj.media ? '@media ' + obj.media + ' {' + obj.css + '}' : obj.css;\n    // For old IE\n    /* istanbul ignore if  */ if (style.styleSheet) {\n        style.styleSheet.cssText = replaceText(index, css);\n    } else {\n        const cssNode = document.createTextNode(css);\n        const childNodes = style.childNodes;\n        if (childNodes[index]) {\n            style.removeChild(childNodes[index]);\n        }\n        if (childNodes.length) {\n            style.insertBefore(cssNode, childNodes[index]);\n        } else {\n            style.appendChild(cssNode);\n        }\n    }\n}\nfunction applyToTag(style, options, obj) {\n    let css = obj.css;\n    const media = obj.media;\n    const sourceMap = obj.sourceMap;\n    if (media) {\n        style.setAttribute('media', media);\n    } else {\n        style.removeAttribute('media');\n    }\n    if (sourceMap && typeof btoa !== 'undefined') {\n        css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */';\n    }\n    // For old IE\n    /* istanbul ignore if  */ if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n    } else {\n        while(style.firstChild){\n            style.removeChild(style.firstChild);\n        }\n        style.appendChild(document.createTextNode(css));\n    }\n}\nlet singleton = null;\nlet singletonCounter = 0;\nfunction addStyle(obj, options) {\n    let style;\n    let update;\n    let remove;\n    if (options.singleton) {\n        const styleIndex = singletonCounter++;\n        style = singleton || (singleton = insertStyleElement(options));\n        update = applyToSingletonTag.bind(null, style, styleIndex, false);\n        remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n    } else {\n        style = insertStyleElement(options);\n        update = applyToTag.bind(null, style, options);\n        remove = function() {\n            removeStyleElement(style);\n        };\n    }\n    update(obj);\n    return function updateStyle(newObj) {\n        if (newObj) {\n            if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n                return;\n            }\n            update(obj = newObj);\n        } else {\n            remove();\n        }\n    };\n}\nmodule.exports = function(list, options) {\n    options = options || {};\n    // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n    // tags it will allow on a page\n    if (!options.singleton && typeof options.singleton !== 'boolean') {\n        options.singleton = isOldIE();\n    }\n    list = list || [];\n    let lastIdentifiers = modulesToDom(list, options);\n    return function update(newList) {\n        newList = newList || [];\n        if (Object.prototype.toString.call(newList) !== '[object Array]') {\n            return;\n        }\n        for(let i = 0; i < lastIdentifiers.length; i++){\n            const identifier = lastIdentifiers[i];\n            const index = getIndexByIdentifier(identifier);\n            stylesInDom[index].references--;\n        }\n        const newLastIdentifiers = modulesToDom(newList, options);\n        for(let i1 = 0; i1 < lastIdentifiers.length; i1++){\n            const identifier = lastIdentifiers[i1];\n            const index = getIndexByIdentifier(identifier);\n            if (stylesInDom[index].references === 0) {\n                stylesInDom[index].updater();\n                stylesInDom.splice(index, 1);\n            }\n        }\n        lastIdentifiers = newLastIdentifiers;\n    };\n};\n\n//# sourceMappingURL=injectStylesIntoStyleTag.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXN0eWxlLWxvYWRlci9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0JBQXdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxLQUF3QyxHQUFHLHNCQUFpQixHQUFHLENBQUk7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EscUVBQXFFLGdCQUFnQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDRCQUE0QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZCQUE2QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXN0eWxlLWxvYWRlci9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcz8yNmVkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gICAgbGV0IG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgICAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAgICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgICAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xufSgpO1xuY29uc3QgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICAgIGNvbnN0IG1lbW8gPSB7fTtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbGV0IHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICAgICAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgICAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gICAgfTtcbn0oKTtcbmNvbnN0IHN0eWxlc0luRG9tID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gICAgbGV0IHJlc3VsdCA9IC0xO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgaWRDb3VudE1hcCA9IHt9O1xuICAgIGNvbnN0IGlkZW50aWZpZXJzID0gW107XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBpdGVtID0gbGlzdFtpXTtcbiAgICAgICAgY29uc3QgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICAgICAgY29uc3QgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgICAgICBjb25zdCBpZGVudGlmaWVyID0gaWQgKyAnICcgKyBjb3VudC50b1N0cmluZygpO1xuICAgICAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgICAgY29uc3Qgb2JqID0ge1xuICAgICAgICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICAgICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgICAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcbiAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IG5vbmNlID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgIHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gICAgICAgIGlmIChub25jZSkge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICAgIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi8gY29uc3QgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgICBjb25zdCB0ZXh0U3RvcmUgPSBbXTtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICAgICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgICAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgICB9O1xufSgpO1xuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gICAgY29uc3QgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyAnQG1lZGlhICcgKyBvYmoubWVkaWEgKyAnIHsnICsgb2JqLmNzcyArICd9JyA6IG9iai5jc3M7XG4gICAgLy8gRm9yIG9sZCBJRVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi8gaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuICAgICAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICAgIGxldCBjc3MgPSBvYmouY3NzO1xuICAgIGNvbnN0IG1lZGlhID0gb2JqLm1lZGlhO1xuICAgIGNvbnN0IHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICAgIH1cbiAgICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjc3MgKz0gJ1xcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsJyArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyAnICovJztcbiAgICB9XG4gICAgLy8gRm9yIG9sZCBJRVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi8gaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpe1xuICAgICAgICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gICAgfVxufVxubGV0IHNpbmdsZXRvbiA9IG51bGw7XG5sZXQgc2luZ2xldG9uQ291bnRlciA9IDA7XG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgICBsZXQgc3R5bGU7XG4gICAgbGV0IHVwZGF0ZTtcbiAgICBsZXQgcmVtb3ZlO1xuICAgIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgICAgICBjb25zdCBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgICAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICAgICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG4gICAgICAgIHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdXBkYXRlKG9iaik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgICAgICBpZiAobmV3T2JqKSB7XG4gICAgICAgICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG4gICAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgICAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgICB9XG4gICAgbGlzdCA9IGxpc3QgfHwgW107XG4gICAgbGV0IGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICAgICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgICAgIGZvcihsZXQgaTEgPSAwOyBpMSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkxKyspe1xuICAgICAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpMV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgaWYgKHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _datadog_browser_rum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-rum */ \"./node_modules/@datadog/browser-rum/esm/entries/main.js\");\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key]);\n        });\n    }\n    return target;\n}\n\n\n\n_datadog_browser_rum__WEBPACK_IMPORTED_MODULE_2__.datadogRum.init({\n    applicationId: \"34479ab2-bd3a-4552-b2c3-1aa4b40b966f\",\n    clientToken: \"pub9c5479042679bcb961fe0064ffd0cbf3\",\n    site: \"datadoghq.com\",\n    service: \"datadog-rum-test\",\n    env: \"prod\",\n    // Specify a version number to identify the deployed version of your application in Datadog \n    // version: '1.0.0',\n    sampleRate: 100,\n    premiumSampleRate: 100,\n    trackInteractions: true,\n    defaultPrivacyLevel: \"mask-user-input\"\n});\n_datadog_browser_rum__WEBPACK_IMPORTED_MODULE_2__.datadogRum.startSessionReplayRecording();\nfunction MyApp(param) {\n    var Component = param.Component, pageProps = param.pageProps;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, _objectSpread({}, pageProps), void 0, false, {\n        fileName: \"/Users/mattahmad/Documents/datadogtest/pages/_app.js\",\n        lineNumber: 25,\n        columnNumber: 10\n    }, this);\n}\n_c = MyApp;\n/* harmony default export */ __webpack_exports__[\"default\"] = (MyApp);\nvar _c;\n$RefreshReg$(_c, \"MyApp\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUdvQjtBQUVsREEsaUVBQWUsQ0FBQztJQUNaRSxhQUFhLEVBQUUsc0NBQXNDO0lBQ3JEQyxXQUFXLEVBQUUscUNBQXFDO0lBQ2xEQyxJQUFJLEVBQUUsZUFBZTtJQUNyQkMsT0FBTyxFQUFDLGtCQUFrQjtJQUMxQkMsR0FBRyxFQUFDLE1BQU07SUFDViw0RkFBNEY7SUFDNUYsb0JBQW9CO0lBQ3BCQyxVQUFVLEVBQUUsR0FBRztJQUNmQyxpQkFBaUIsRUFBRSxHQUFHO0lBQ3RCQyxpQkFBaUIsRUFBRSxJQUFJO0lBQ3ZCQyxtQkFBbUIsRUFBQyxpQkFBaUI7Q0FDeEMsQ0FBQyxDQUFDO0FBRUhWLHdGQUFzQyxFQUFFLENBQUM7QUFJekMsU0FBU1ksS0FBSyxDQUFDLEtBQXdCLEVBQUU7UUFBeEJDLFNBQVMsR0FBWCxLQUF3QixDQUF0QkEsU0FBUyxFQUFFQyxTQUFTLEdBQXRCLEtBQXdCLENBQVhBLFNBQVM7SUFDbkMscUJBQU8sOERBQUNELFNBQVMsb0JBQUtDLFNBQVM7Ozs7WUFBSTtDQUNwQztBQUZRRixLQUFBQSxLQUFLO0FBSWQsK0RBQWVBLEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvX2FwcC5qcz9lMGFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbHMuY3NzJ1xuXG5cbmltcG9ydCB7IGRhdGFkb2dSdW0gfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLXJ1bSc7XG5cbmRhdGFkb2dSdW0uaW5pdCh7XG4gICAgYXBwbGljYXRpb25JZDogJzM0NDc5YWIyLWJkM2EtNDU1Mi1iMmMzLTFhYTRiNDBiOTY2ZicsXG4gICAgY2xpZW50VG9rZW46ICdwdWI5YzU0NzkwNDI2NzliY2I5NjFmZTAwNjRmZmQwY2JmMycsXG4gICAgc2l0ZTogJ2RhdGFkb2docS5jb20nLFxuICAgIHNlcnZpY2U6J2RhdGFkb2ctcnVtLXRlc3QnLFxuICAgIGVudjoncHJvZCcsXG4gICAgLy8gU3BlY2lmeSBhIHZlcnNpb24gbnVtYmVyIHRvIGlkZW50aWZ5IHRoZSBkZXBsb3llZCB2ZXJzaW9uIG9mIHlvdXIgYXBwbGljYXRpb24gaW4gRGF0YWRvZyBcbiAgICAvLyB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgIHNhbXBsZVJhdGU6IDEwMCxcbiAgICBwcmVtaXVtU2FtcGxlUmF0ZTogMTAwLFxuICAgIHRyYWNrSW50ZXJhY3Rpb25zOiB0cnVlLFxuICAgIGRlZmF1bHRQcml2YWN5TGV2ZWw6J21hc2stdXNlci1pbnB1dCdcbn0pO1xuICAgIFxuZGF0YWRvZ1J1bS5zdGFydFNlc3Npb25SZXBsYXlSZWNvcmRpbmcoKTtcblxuXG5cbmZ1bmN0aW9uIE15QXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfSkge1xuICByZXR1cm4gPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxufVxuXG5leHBvcnQgZGVmYXVsdCBNeUFwcFxuIl0sIm5hbWVzIjpbImRhdGFkb2dSdW0iLCJpbml0IiwiYXBwbGljYXRpb25JZCIsImNsaWVudFRva2VuIiwic2l0ZSIsInNlcnZpY2UiLCJlbnYiLCJzYW1wbGVSYXRlIiwicHJlbWl1bVNhbXBsZVJhdGUiLCJ0cmFja0ludGVyYWN0aW9ucyIsImRlZmF1bHRQcml2YWN5TGV2ZWwiLCJzdGFydFNlc3Npb25SZXBsYXlSZWNvcmRpbmciLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./node_modules/react/cjs/react-jsx-dev-runtime.development.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react/cjs/react-jsx-dev-runtime.development.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\n// ATTENTION\n\nvar REACT_ELEMENT_TYPE =  Symbol.for('react.element');\nvar REACT_PORTAL_TYPE =  Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE =  Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE =  Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE =  Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE =  Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE =  Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE =  Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE =  Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE =  Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE =  Symbol.for('react.memo');\nvar REACT_LAZY_TYPE =  Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE =  Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL =  Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n\nvar jsxDEV$1 =  jsxWithValidation ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV$1;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7O0FBRUEsNEJBQTRCO0FBQzVCO0FBQ0EscUNBQXFDOztBQUVyQyxnQ0FBZ0M7QUFDaEM7QUFDQTs7QUFFQSxnQ0FBZ0M7O0FBRWhDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qzs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsU0FBUztBQUNULHVCQUF1QjtBQUN2QjtBQUNBLFNBQVM7QUFDVCx1QkFBdUI7QUFDdkI7QUFDQSxTQUFTO0FBQ1Qsd0JBQXdCO0FBQ3hCO0FBQ0EsU0FBUztBQUNULHdCQUF3QjtBQUN4QjtBQUNBLFNBQVM7QUFDVCxpQ0FBaUM7QUFDakM7QUFDQSxTQUFTO0FBQ1QsMkJBQTJCO0FBQzNCO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkRBQTJEOztBQUUzRDtBQUNBOztBQUVBO0FBQ0EseURBQXlEO0FBQ3pEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhLGtCQUFrQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25COztBQUVBO0FBQ0E7QUFDQSxnRkFBZ0Y7QUFDaEY7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOzs7QUFHbEI7QUFDQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwySEFBMkg7QUFDM0g7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxvRUFBb0U7O0FBRXBFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDOztBQUVqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkLFdBQVcsZUFBZTtBQUMxQixXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRztBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25COztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7O0FBRWxCO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsMkRBQTJELFVBQVU7QUFDckUseUJBQXlCLFVBQVU7QUFDbkM7QUFDQSxhQUFhLFVBQVU7QUFDdkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixZQUFZLFNBQVM7QUFDckI7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLEdBQUc7QUFDZDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw2REFBNkQ7QUFDN0Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxHQUFHO0FBQ2Q7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sNENBQTRDOztBQUU1Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLGlCQUFpQjtBQUNyQzs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhDQUE4QztBQUM5Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwwREFBMEQ7QUFDMUQ7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUJBQXFCO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBLGdCQUFnQjtBQUNoQixjQUFjO0FBQ2QsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzPzE3ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxudmFyIGVuYWJsZVNjb3BlQVBJID0gZmFsc2U7IC8vIEV4cGVyaW1lbnRhbCBDcmVhdGUgRXZlbnQgSGFuZGxlIEFQSS5cbnZhciBlbmFibGVDYWNoZUVsZW1lbnQgPSBmYWxzZTtcbnZhciBlbmFibGVUcmFuc2l0aW9uVHJhY2luZyA9IGZhbHNlOyAvLyBObyBrbm93biBidWdzLCBidXQgbmVlZHMgcGVyZm9ybWFuY2UgdGVzdGluZ1xuXG52YXIgZW5hYmxlTGVnYWN5SGlkZGVuID0gZmFsc2U7IC8vIEVuYWJsZXMgdW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2sgZmVhdHVyZSBpbiBGaWJlclxuLy8gc3R1ZmYuIEludGVuZGVkIHRvIGVuYWJsZSBSZWFjdCBjb3JlIG1lbWJlcnMgdG8gbW9yZSBlYXNpbHkgZGVidWcgc2NoZWR1bGluZ1xuLy8gaXNzdWVzIGluIERFViBidWlsZHMuXG5cbnZhciBlbmFibGVEZWJ1Z1RyYWNpbmcgPSBmYWxzZTsgLy8gVHJhY2sgd2hpY2ggRmliZXIocykgc2NoZWR1bGUgcmVuZGVyIHdvcmsuXG5cbi8vIEFUVEVOVElPTlxuXG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKTtcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9ICBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gIFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50Jyk7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9ICBTeW1ib2wuZm9yKCdyZWFjdC5zdHJpY3RfbW9kZScpO1xudmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSAgU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gIFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJyk7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gIFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gIFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJyk7XG52YXIgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9ICBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZScpO1xudmFyIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9ICBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gIFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKTtcbnZhciBSRUFDVF9MQVpZX1RZUEUgPSAgU3ltYm9sLmZvcigncmVhY3QubGF6eScpO1xudmFyIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gIFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9ICBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgaWYgKG1heWJlSXRlcmFibGUgPT09IG51bGwgfHwgdHlwZW9mIG1heWJlSXRlcmFibGUgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbWF5YmVJdGVyYXRvciA9IE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF07XG5cbiAgaWYgKHR5cGVvZiBtYXliZUl0ZXJhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3I7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0gUmVhY3QuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG5cbmZ1bmN0aW9uIGVycm9yKGZvcm1hdCkge1xuICB7XG4gICAge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nKCdlcnJvcicsIGZvcm1hdCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHByaW50V2FybmluZyhsZXZlbCwgZm9ybWF0LCBhcmdzKSB7XG4gIC8vIFdoZW4gY2hhbmdpbmcgdGhpcyBsb2dpYywgeW91IG1pZ2h0IHdhbnQgdG8gYWxzb1xuICAvLyB1cGRhdGUgY29uc29sZVdpdGhTdGFja0Rldi53d3cuanMgYXMgd2VsbC5cbiAge1xuICAgIHZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbiAgICB2YXIgc3RhY2sgPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcblxuICAgIGlmIChzdGFjayAhPT0gJycpIHtcbiAgICAgIGZvcm1hdCArPSAnJXMnO1xuICAgICAgYXJncyA9IGFyZ3MuY29uY2F0KFtzdGFja10pO1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3NhZmUtc3RyaW5nLWNvZXJjaW9uXG5cblxuICAgIHZhciBhcmdzV2l0aEZvcm1hdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKGl0ZW0pO1xuICAgIH0pOyAvLyBDYXJlZnVsOiBSTiBjdXJyZW50bHkgZGVwZW5kcyBvbiB0aGlzIHByZWZpeFxuXG4gICAgYXJnc1dpdGhGb3JtYXQudW5zaGlmdCgnV2FybmluZzogJyArIGZvcm1hdCk7IC8vIFdlIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIHNwcmVhZCAob3IgLmFwcGx5KSBkaXJlY3RseSBiZWNhdXNlIGl0XG4gICAgLy8gYnJlYWtzIElFOTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMzYxMFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmdcblxuICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGVbbGV2ZWxdLCBjb25zb2xlLCBhcmdzV2l0aEZvcm1hdCk7XG4gIH1cbn1cblxudmFyIFJFQUNUX01PRFVMRV9SRUZFUkVOQ0U7XG5cbntcbiAgUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm1vZHVsZS5yZWZlcmVuY2UnKTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fCAvLyBUaGlzIG5lZWRzIHRvIGluY2x1ZGUgYWxsIHBvc3NpYmxlIG1vZHVsZSByZWZlcmVuY2Ugb2JqZWN0XG4gICAgLy8gdHlwZXMgc3VwcG9ydGVkIGJ5IGFueSBGbGlnaHQgY29uZmlndXJhdGlvbiBhbnl3aGVyZSBzaW5jZVxuICAgIC8vIHdlIGRvbid0IGtub3cgd2hpY2ggRmxpZ2h0IGJ1aWxkIHRoaXMgd2lsbCBlbmQgdXAgYmVpbmcgdXNlZFxuICAgIC8vIHdpdGguXG4gICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0V3JhcHBlZE5hbWUob3V0ZXJUeXBlLCBpbm5lclR5cGUsIHdyYXBwZXJOYW1lKSB7XG4gIHZhciBkaXNwbGF5TmFtZSA9IG91dGVyVHlwZS5kaXNwbGF5TmFtZTtcblxuICBpZiAoZGlzcGxheU5hbWUpIHtcbiAgICByZXR1cm4gZGlzcGxheU5hbWU7XG4gIH1cblxuICB2YXIgZnVuY3Rpb25OYW1lID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8ICcnO1xuICByZXR1cm4gZnVuY3Rpb25OYW1lICE9PSAnJyA/IHdyYXBwZXJOYW1lICsgXCIoXCIgKyBmdW5jdGlvbk5hbWUgKyBcIilcIiA6IHdyYXBwZXJOYW1lO1xufSAvLyBLZWVwIGluIHN5bmMgd2l0aCByZWFjdC1yZWNvbmNpbGVyL2dldENvbXBvbmVudE5hbWVGcm9tRmliZXJcblxuXG5mdW5jdGlvbiBnZXRDb250ZXh0TmFtZSh0eXBlKSB7XG4gIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8ICdDb250ZXh0Jztcbn0gLy8gTm90ZSB0aGF0IHRoZSByZWNvbmNpbGVyIHBhY2thZ2Ugc2hvdWxkIGdlbmVyYWxseSBwcmVmZXIgdG8gdXNlIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoKSBpbnN0ZWFkLlxuXG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAvLyBIb3N0IHJvb3QsIHRleHQgbm9kZSBvciBqdXN0IGludmFsaWQgdHlwZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHtcbiAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgZXJyb3IoJ1JlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnRnJhZ21lbnQnO1xuXG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUG9ydGFsJztcblxuICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgIHJldHVybiAnUHJvZmlsZXInO1xuXG4gICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgcmV0dXJuICdTdHJpY3RNb2RlJztcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2UnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gJ1N1c3BlbnNlTGlzdCc7XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICB2YXIgY29udGV4dCA9IHR5cGU7XG4gICAgICAgIHJldHVybiBnZXRDb250ZXh0TmFtZShjb250ZXh0KSArICcuQ29uc3VtZXInO1xuXG4gICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgIHZhciBwcm92aWRlciA9IHR5cGU7XG4gICAgICAgIHJldHVybiBnZXRDb250ZXh0TmFtZShwcm92aWRlci5fY29udGV4dCkgKyAnLlByb3ZpZGVyJztcblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbi8vIEhlbHBlcnMgdG8gcGF0Y2ggY29uc29sZS5sb2dzIHRvIGF2b2lkIGxvZ2dpbmcgZHVyaW5nIHNpZGUtZWZmZWN0IGZyZWVcbi8vIHJlcGxheWluZyBvbiByZW5kZXIgZnVuY3Rpb24uIFRoaXMgY3VycmVudGx5IG9ubHkgcGF0Y2hlcyB0aGUgb2JqZWN0XG4vLyBsYXppbHkgd2hpY2ggd29uJ3QgY292ZXIgaWYgdGhlIGxvZyBmdW5jdGlvbiB3YXMgZXh0cmFjdGVkIGVhZ2VybHkuXG4vLyBXZSBjb3VsZCBhbHNvIGVhZ2VybHkgcGF0Y2ggdGhlIG1ldGhvZC5cbnZhciBkaXNhYmxlZERlcHRoID0gMDtcbnZhciBwcmV2TG9nO1xudmFyIHByZXZJbmZvO1xudmFyIHByZXZXYXJuO1xudmFyIHByZXZFcnJvcjtcbnZhciBwcmV2R3JvdXA7XG52YXIgcHJldkdyb3VwQ29sbGFwc2VkO1xudmFyIHByZXZHcm91cEVuZDtcblxuZnVuY3Rpb24gZGlzYWJsZWRMb2coKSB7fVxuXG5kaXNhYmxlZExvZy5fX3JlYWN0RGlzYWJsZWRMb2cgPSB0cnVlO1xuZnVuY3Rpb24gZGlzYWJsZUxvZ3MoKSB7XG4gIHtcbiAgICBpZiAoZGlzYWJsZWREZXB0aCA9PT0gMCkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nICovXG4gICAgICBwcmV2TG9nID0gY29uc29sZS5sb2c7XG4gICAgICBwcmV2SW5mbyA9IGNvbnNvbGUuaW5mbztcbiAgICAgIHByZXZXYXJuID0gY29uc29sZS53YXJuO1xuICAgICAgcHJldkVycm9yID0gY29uc29sZS5lcnJvcjtcbiAgICAgIHByZXZHcm91cCA9IGNvbnNvbGUuZ3JvdXA7XG4gICAgICBwcmV2R3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkO1xuICAgICAgcHJldkdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZDsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xOTA5OVxuXG4gICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfTsgLy8gJEZsb3dGaXhNZSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lIEZsb3cgdGhpbmtzIGNvbnNvbGUgaXMgaW1tdXRhYmxlLlxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgIGxvZzogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2TG9nXG4gICAgICAgIH0pLFxuICAgICAgICBpbmZvOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZJbmZvXG4gICAgICAgIH0pLFxuICAgICAgICB3YXJuOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZXYXJuXG4gICAgICAgIH0pLFxuICAgICAgICBlcnJvcjogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2RXJyb3JcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cFxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cEVuZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBFbmRcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICB9XG5cbiAgICBpZiAoZGlzYWJsZWREZXB0aCA8IDApIHtcbiAgICAgIGVycm9yKCdkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gJyArICdUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudERpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnREaXNwYXRjaGVyO1xudmFyIHByZWZpeDtcbmZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUsIHNvdXJjZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7XG4gIC8vIElmIHNvbWV0aGluZyBhc2tlZCBmb3IgYSBzdGFjayBpbnNpZGUgYSBmYWtlIHJlbmRlciwgaXQgc2hvdWxkIGdldCBpZ25vcmVkLlxuICBpZiAoICFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbnRyb2w7XG4gIHJlZW50cnkgPSB0cnVlO1xuICB2YXIgcHJldmlvdXNQcmVwYXJlU3RhY2tUcmFjZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlOyAvLyAkRmxvd0ZpeE1lIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFRoaXMgc2hvdWxkIHRocm93LlxuICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgIC8vIFNvbWV0aGluZyBzaG91bGQgYmUgc2V0dGluZyB0aGUgcHJvcHMgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lXG5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCAncHJvcHMnLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoYXQgd29uJ3QgdGhyb3cgaW4gYSBub24tc3RyaWN0IG1vZGUgZnVuY3Rpb24uXG4gICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAvLyBmcmFtZXMgYWRkZWQgYnkgdGhlIGNvbnN0cnVjdCBjYWxsLlxuICAgICAgICB0cnkge1xuICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIGNvbnRyb2wgPSB4O1xuICAgICAgICB9XG5cbiAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZm4sIFtdLCBGYWtlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgRmFrZS5jYWxsKCk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZuLmNhbGwoRmFrZS5wcm90b3R5cGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICBjb250cm9sID0geDtcbiAgICAgIH1cblxuICAgICAgZm4oKTtcbiAgICB9XG4gIH0gY2F0Y2ggKHNhbXBsZSkge1xuICAgIC8vIFRoaXMgaXMgaW5saW5lZCBtYW51YWxseSBiZWNhdXNlIGNsb3N1cmUgZG9lc24ndCBkbyBpdCBmb3IgdXMuXG4gICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBUaGlzIGV4dHJhY3RzIHRoZSBmaXJzdCBmcmFtZSBmcm9tIHRoZSBzYW1wbGUgdGhhdCBpc24ndCBhbHNvIGluIHRoZSBjb250cm9sLlxuICAgICAgLy8gU2tpcHBpbmcgb25lIGZyYW1lIHRoYXQgd2UgYXNzdW1lIGlzIHRoZSBmcmFtZSB0aGF0IGNhbGxzIHRoZSB0d28uXG4gICAgICB2YXIgc2FtcGxlTGluZXMgPSBzYW1wbGUuc3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIGNvbnRyb2xMaW5lcyA9IGNvbnRyb2wuc3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgdmFyIGMgPSBjb250cm9sTGluZXMubGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAvLyBXZSBleHBlY3QgYXQgbGVhc3Qgb25lIHN0YWNrIGZyYW1lIHRvIGJlIHNoYXJlZC5cbiAgICAgICAgLy8gVHlwaWNhbGx5IHRoaXMgd2lsbCBiZSB0aGUgcm9vdCBtb3N0IG9uZS4gSG93ZXZlciwgc3RhY2sgZnJhbWVzIG1heSBiZVxuICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAvLyBlYXJsaWVyIHRoYW4gdGhlIG90aGVyLiBXZSBhc3N1bWUgdGhhdCB0aGUgc2FtcGxlIGlzIGxvbmdlciBvciB0aGUgc2FtZVxuICAgICAgICAvLyBhbmQgdGhlcmUgZm9yIGN1dCBvZmYgZWFybGllci4gU28gd2Ugc2hvdWxkIGZpbmQgdGhlIHJvb3QgbW9zdCBmcmFtZSBpblxuICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgYy0tO1xuICAgICAgfVxuXG4gICAgICBmb3IgKDsgcyA+PSAxICYmIGMgPj0gMDsgcy0tLCBjLS0pIHtcbiAgICAgICAgLy8gTmV4dCB3ZSBmaW5kIHRoZSBmaXJzdCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSB3aGljaCBzaG91bGQgYmUgdGhlXG4gICAgICAgIC8vIGZyYW1lIHRoYXQgY2FsbGVkIG91ciBzYW1wbGUgZnVuY3Rpb24gYW5kIHRoZSBjb250cm9sLlxuICAgICAgICBpZiAoc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIEluIFY4LCB0aGUgZmlyc3QgbGluZSBpcyBkZXNjcmliaW5nIHRoZSBtZXNzYWdlIGJ1dCBvdGhlciBWTXMgZG9uJ3QuXG4gICAgICAgICAgLy8gSWYgd2UncmUgYWJvdXQgdG8gcmV0dXJuIHRoZSBmaXJzdCBsaW5lLCBhbmQgdGhlIGNvbnRyb2wgaXMgYWxzbyBvbiB0aGUgc2FtZVxuICAgICAgICAgIC8vIGxpbmUsIHRoYXQncyBhIHByZXR0eSBnb29kIGluZGljYXRvciB0aGF0IG91ciBzYW1wbGUgdGhyZXcgYXQgc2FtZSBsaW5lIGFzXG4gICAgICAgICAgLy8gdGhlIGNvbnRyb2wuIEkuZS4gYmVmb3JlIHdlIGVudGVyZWQgdGhlIHNhbXBsZSBmcmFtZS4gU28gd2UgaWdub3JlIHRoaXMgcmVzdWx0LlxuICAgICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UgcGFzc2VkIGEgY2xhc3MgdG8gZnVuY3Rpb24gY29tcG9uZW50LCBvciBub24tZnVuY3Rpb24uXG4gICAgICAgICAgaWYgKHMgIT09IDEgfHwgYyAhPT0gMSkge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBzLS07XG4gICAgICAgICAgICAgIGMtLTsgLy8gV2UgbWF5IHN0aWxsIGhhdmUgc2ltaWxhciBpbnRlcm1lZGlhdGUgZnJhbWVzIGZyb20gdGhlIGNvbnN0cnVjdCBjYWxsLlxuICAgICAgICAgICAgICAvLyBUaGUgbmV4dCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSBzaG91bGQgYmUgb3VyIG1hdGNoIHRob3VnaC5cblxuICAgICAgICAgICAgICBpZiAoYyA8IDAgfHwgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgICAgICAgIC8vIFY4IGFkZHMgYSBcIm5ld1wiIHByZWZpeCBmb3IgbmF0aXZlIGNsYXNzZXMuIExldCdzIHJlbW92ZSBpdCB0byBtYWtlIGl0IHByZXR0aWVyLlxuICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPSAnXFxuJyArIHNhbXBsZUxpbmVzW3NdLnJlcGxhY2UoJyBhdCBuZXcgJywgJyBhdCAnKTsgLy8gSWYgb3VyIGNvbXBvbmVudCBmcmFtZSBpcyBsYWJlbGVkIFwiPGFub255bW91cz5cIlxuICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBoYXZlIGEgdXNlci1wcm92aWRlZCBcImRpc3BsYXlOYW1lXCJcbiAgICAgICAgICAgICAgICAvLyBzcGxpY2UgaXQgaW4gdG8gbWFrZSB0aGUgc3RhY2sgbW9yZSByZWFkYWJsZS5cblxuXG4gICAgICAgICAgICAgICAgaWYgKGZuLmRpc3BsYXlOYW1lICYmIF9mcmFtZS5pbmNsdWRlcygnPGFub255bW91cz4nKSkge1xuICAgICAgICAgICAgICAgICAgX2ZyYW1lID0gX2ZyYW1lLnJlcGxhY2UoJzxhbm9ueW1vdXM+JywgZm4uZGlzcGxheU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIF9mcmFtZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAvLyBSZXR1cm4gdGhlIGxpbmUgd2UgZm91bmQuXG5cblxuICAgICAgICAgICAgICAgIHJldHVybiBfZnJhbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHMgPj0gMSAmJiBjID49IDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIHJlZW50cnkgPSBmYWxzZTtcblxuICAgIHtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIuY3VycmVudCA9IHByZXZpb3VzRGlzcGF0Y2hlcjtcbiAgICAgIHJlZW5hYmxlTG9ncygpO1xuICAgIH1cblxuICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gcHJldmlvdXNQcmVwYXJlU3RhY2tUcmFjZTtcbiAgfSAvLyBGYWxsYmFjayB0byBqdXN0IHVzaW5nIHRoZSBuYW1lIGlmIHdlIGNvdWxkbid0IG1ha2UgaXQgdGhyb3cuXG5cblxuICB2YXIgbmFtZSA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6ICcnO1xuICB2YXIgc3ludGhldGljRnJhbWUgPSBuYW1lID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSkgOiAnJztcblxuICB7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIHN5bnRoZXRpY0ZyYW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3ludGhldGljRnJhbWU7XG59XG5mdW5jdGlvbiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUoZm4sIHNvdXJjZSwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIHNvdXJjZSwgb3duZXJGbikge1xuXG4gIGlmICh0eXBlID09IG51bGwpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB7XG4gICAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZSh0eXBlLCBzaG91bGRDb25zdHJ1Y3QodHlwZSkpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUodHlwZSk7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlJyk7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSgnU3VzcGVuc2VMaXN0Jyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgIHJldHVybiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUodHlwZS5yZW5kZXIpO1xuXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgLy8gTWVtbyBtYXkgY29udGFpbiBhbnkgY29tcG9uZW50IHR5cGUgc28gd2UgcmVjdXJzaXZlbHkgcmVzb2x2ZSBpdC5cbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLnR5cGUsIHNvdXJjZSwgb3duZXJGbik7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuICAgICAgICAgIHZhciBwYXlsb2FkID0gbGF6eUNvbXBvbmVudC5fcGF5bG9hZDtcbiAgICAgICAgICB2YXIgaW5pdCA9IGxhenlDb21wb25lbnQuX2luaXQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTGF6eSBtYXkgY29udGFpbiBhbnkgY29tcG9uZW50IHR5cGUgc28gd2UgcmVjdXJzaXZlbHkgcmVzb2x2ZSBpdC5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoaW5pdChwYXlsb2FkKSwgc291cmNlLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpIHtcbiAge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUsIGVsZW1lbnQuX3NvdXJjZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGVsZW1lbnQpIHtcbiAge1xuICAgIC8vICRGbG93Rml4TWUgVGhpcyBpcyBva2F5IGJ1dCBGbG93IGRvZXNuJ3Qga25vdyBpdC5cbiAgICB2YXIgaGFzID0gRnVuY3Rpb24uY2FsbC5iaW5kKGhhc093blByb3BlcnR5KTtcblxuICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcbiAgICAgIGlmIChoYXModHlwZVNwZWNzLCB0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvciQxID0gdm9pZCAwOyAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvcHJvZC1lcnJvci1jb2Rlc1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgJyArICdpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJyArIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSArICdgLicgKyAnVGhpcyBvZnRlbiBoYXBwZW5zIGJlY2F1c2Ugb2YgdHlwb3Mgc3VjaCBhcyBgUHJvcFR5cGVzLmZ1bmN0aW9uYCBpbnN0ZWFkIG9mIGBQcm9wVHlwZXMuZnVuY2AuJyk7XG4gICAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlcnJvciQxID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciQxID0gZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IkMSAmJiAhKGVycm9yJDEgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGVycm9yKCclczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzJyArICcgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yJDEpO1xuXG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IkMSBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IkMS5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvciQxLm1lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGVycm9yKCdGYWlsZWQgJXMgdHlwZTogJXMnLCBsb2NhdGlvbiwgZXJyb3IkMS5tZXNzYWdlKTtcblxuICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnZhciBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmVcblxuZnVuY3Rpb24gaXNBcnJheShhKSB7XG4gIHJldHVybiBpc0FycmF5SW1wbChhKTtcbn1cblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWUgb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnO1xuICAgIHJldHVybiB0eXBlO1xuICB9XG59IC8vICRGbG93Rml4TWUgb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5cblxuZnVuY3Rpb24gd2lsbENvZXJjaW9uVGhyb3codmFsdWUpIHtcbiAge1xuICAgIHRyeSB7XG4gICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgLy8gSWYgeW91IGVuZGVkIHVwIGhlcmUgYnkgZm9sbG93aW5nIGFuIGV4Y2VwdGlvbiBjYWxsIHN0YWNrLCBoZXJlJ3Mgd2hhdCdzXG4gIC8vIGhhcHBlbmVkOiB5b3Ugc3VwcGxpZWQgYW4gb2JqZWN0IG9yIHN5bWJvbCB2YWx1ZSB0byBSZWFjdCAoYXMgYSBwcm9wLCBrZXksXG4gIC8vIERPTSBhdHRyaWJ1dGUsIENTUyBwcm9wZXJ0eSwgc3RyaW5nIHJlZiwgZXRjLikgYW5kIHdoZW4gUmVhY3QgdHJpZWQgdG9cbiAgLy8gY29lcmNlIGl0IHRvIGEgc3RyaW5nIHVzaW5nIGAnJyArIHZhbHVlYCwgYW4gZXhjZXB0aW9uIHdhcyB0aHJvd24uXG4gIC8vXG4gIC8vIFRoZSBtb3N0IGNvbW1vbiB0eXBlcyB0aGF0IHdpbGwgY2F1c2UgdGhpcyBleGNlcHRpb24gYXJlIGBTeW1ib2xgIGluc3RhbmNlc1xuICAvLyBhbmQgVGVtcG9yYWwgb2JqZWN0cyBsaWtlIGBUZW1wb3JhbC5JbnN0YW50YC4gQnV0IGFueSBvYmplY3QgdGhhdCBoYXMgYVxuICAvLyBgdmFsdWVPZmAgb3IgYFtTeW1ib2wudG9QcmltaXRpdmVdYCBtZXRob2QgdGhhdCB0aHJvd3Mgd2lsbCBhbHNvIGNhdXNlIHRoaXNcbiAgLy8gZXhjZXB0aW9uLiAoTGlicmFyeSBhdXRob3JzIGRvIHRoaXMgdG8gcHJldmVudCB1c2VycyBmcm9tIHVzaW5nIGJ1aWx0LWluXG4gIC8vIG51bWVyaWMgb3BlcmF0b3JzIGxpa2UgYCtgIG9yIGNvbXBhcmlzb24gb3BlcmF0b3JzIGxpa2UgYD49YCBiZWNhdXNlIGN1c3RvbVxuICAvLyBtZXRob2RzIGFyZSBuZWVkZWQgdG8gcGVyZm9ybSBhY2N1cmF0ZSBhcml0aG1ldGljIG9yIGNvbXBhcmlzb24uKVxuICAvL1xuICAvLyBUbyBmaXggdGhlIHByb2JsZW0sIGNvZXJjZSB0aGlzIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmcgYmVmb3JlXG4gIC8vIHBhc3NpbmcgaXQgdG8gUmVhY3QuIFRoZSBtb3N0IHJlbGlhYmxlIHdheSBpcyB1c3VhbGx5IGBTdHJpbmcodmFsdWUpYC5cbiAgLy9cbiAgLy8gVG8gZmluZCB3aGljaCB2YWx1ZSBpcyB0aHJvd2luZywgY2hlY2sgdGhlIGJyb3dzZXIgb3IgZGVidWdnZXIgY29uc29sZS5cbiAgLy8gQmVmb3JlIHRoaXMgZXhjZXB0aW9uIHdhcyB0aHJvd24sIHRoZXJlIHNob3VsZCBiZSBgY29uc29sZS5lcnJvcmAgb3V0cHV0XG4gIC8vIHRoYXQgc2hvd3MgdGhlIHR5cGUgKFN5bWJvbCwgVGVtcG9yYWwuUGxhaW5EYXRlLCBldGMuKSB0aGF0IGNhdXNlZCB0aGVcbiAgLy8gcHJvYmxlbSBhbmQgaG93IHRoYXQgdHlwZSB3YXMgdXNlZDoga2V5LCBhdHJyaWJ1dGUsIGlucHV0IHZhbHVlIHByb3AsIGV0Yy5cbiAgLy8gSW4gbW9zdCBjYXNlcywgdGhpcyBjb25zb2xlIG91dHB1dCBhbHNvIHNob3dzIHRoZSBjb21wb25lbnQgYW5kIGl0c1xuICAvLyBhbmNlc3RvciBjb21wb25lbnRzIHdoZXJlIHRoZSBleGNlcHRpb24gaGFwcGVuZWQuXG4gIC8vXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9zYWZlLXN0cmluZy1jb2VyY2lvblxuICByZXR1cm4gJycgKyB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAge1xuICAgIGlmICh3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkpIHtcbiAgICAgIGVycm9yKCdUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuJyArICcgVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAga2V5OiB0cnVlLFxuICByZWY6IHRydWUsXG4gIF9fc2VsZjogdHJ1ZSxcbiAgX19zb3VyY2U6IHRydWVcbn07XG52YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd247XG52YXIgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd247XG52YXIgZGlkV2FybkFib3V0U3RyaW5nUmVmcztcblxue1xuICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzID0ge307XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkUmVmKGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAncmVmJykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ3JlZicpLmdldDtcblxuICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWcucmVmICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ2tleScpLmdldDtcblxuICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWcua2V5ICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHdhcm5JZlN0cmluZ1JlZkNhbm5vdEJlQXV0b0NvbnZlcnRlZChjb25maWcsIHNlbGYpIHtcbiAge1xuICAgIGlmICh0eXBlb2YgY29uZmlnLnJlZiA9PT0gJ3N0cmluZycgJiYgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBzZWxmICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuc3RhdGVOb2RlICE9PSBzZWxmKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpO1xuXG4gICAgICBpZiAoIWRpZFdhcm5BYm91dFN0cmluZ1JlZnNbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgZXJyb3IoJ0NvbXBvbmVudCBcIiVzXCIgY29udGFpbnMgdGhlIHN0cmluZyByZWYgXCIlc1wiLiAnICsgJ1N1cHBvcnQgZm9yIHN0cmluZyByZWZzIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiAnICsgJ1RoaXMgY2FzZSBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYW4gYXJyb3cgZnVuY3Rpb24uICcgKyAnV2UgYXNrIHlvdSB0byBtYW51YWxseSBmaXggdGhpcyBjYXNlIGJ5IHVzaW5nIHVzZVJlZigpIG9yIGNyZWF0ZVJlZigpIGluc3RlYWQuICcgKyAnTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiAnICsgJ2h0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zdHJpY3QtbW9kZS1zdHJpbmctcmVmJywgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQudHlwZSksIGNvbmZpZy5yZWYpO1xuXG4gICAgICAgIGRpZFdhcm5BYm91dFN0cmluZ1JlZnNbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAge1xuICAgIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdHJ1ZTtcblxuICAgICAgICBlcnJvcignJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAna2V5Jywge1xuICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAge1xuICAgIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcblxuICAgICAgICBlcnJvcignJXM6IGByZWZgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdhcm5BYm91dEFjY2Vzc2luZ1JlZi5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuLyoqXG4gKiBGYWN0b3J5IG1ldGhvZCB0byBjcmVhdGUgYSBuZXcgUmVhY3QgZWxlbWVudC4gVGhpcyBubyBsb25nZXIgYWRoZXJlcyB0b1xuICogdGhlIGNsYXNzIHBhdHRlcm4sIHNvIGRvIG5vdCB1c2UgbmV3IHRvIGNhbGwgaXQuIEFsc28sIGluc3RhbmNlb2YgY2hlY2tcbiAqIHdpbGwgbm90IHdvcmsuIEluc3RlYWQgdGVzdCAkJHR5cGVvZiBmaWVsZCBhZ2FpbnN0IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSB0byBjaGVja1xuICogaWYgc29tZXRoaW5nIGlzIGEgUmVhY3QgRWxlbWVudC5cbiAqXG4gKiBAcGFyYW0geyp9IHR5cGVcbiAqIEBwYXJhbSB7Kn0gcHJvcHNcbiAqIEBwYXJhbSB7Kn0ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlZlxuICogQHBhcmFtIHsqfSBvd25lclxuICogQHBhcmFtIHsqfSBzZWxmIEEgKnRlbXBvcmFyeSogaGVscGVyIHRvIGRldGVjdCBwbGFjZXMgd2hlcmUgYHRoaXNgIGlzXG4gKiBkaWZmZXJlbnQgZnJvbSB0aGUgYG93bmVyYCB3aGVuIFJlYWN0LmNyZWF0ZUVsZW1lbnQgaXMgY2FsbGVkLCBzbyB0aGF0IHdlXG4gKiBjYW4gd2Fybi4gV2Ugd2FudCB0byBnZXQgcmlkIG9mIG93bmVyIGFuZCByZXBsYWNlIHN0cmluZyBgcmVmYHMgd2l0aCBhcnJvd1xuICogZnVuY3Rpb25zLCBhbmQgYXMgbG9uZyBhcyBgdGhpc2AgYW5kIG93bmVyIGFyZSB0aGUgc2FtZSwgdGhlcmUgd2lsbCBiZSBub1xuICogY2hhbmdlIGluIGJlaGF2aW9yLlxuICogQHBhcmFtIHsqfSBzb3VyY2UgQW4gYW5ub3RhdGlvbiBvYmplY3QgKGFkZGVkIGJ5IGEgdHJhbnNwaWxlciBvciBvdGhlcndpc2UpXG4gKiBpbmRpY2F0aW5nIGZpbGVuYW1lLCBsaW5lIG51bWJlciwgYW5kL29yIG90aGVyIGluZm9ybWF0aW9uLlxuICogQGludGVybmFsXG4gKi9cblxuXG52YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvd3MgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IEVsZW1lbnRcbiAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICB0eXBlOiB0eXBlLFxuICAgIGtleToga2V5LFxuICAgIHJlZjogcmVmLFxuICAgIHByb3BzOiBwcm9wcyxcbiAgICAvLyBSZWNvcmQgdGhlIGNvbXBvbmVudCByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhpcyBlbGVtZW50LlxuICAgIF9vd25lcjogb3duZXJcbiAgfTtcblxuICB7XG4gICAgLy8gVGhlIHZhbGlkYXRpb24gZmxhZyBpcyBjdXJyZW50bHkgbXV0YXRpdmUuIFdlIHB1dCBpdCBvblxuICAgIC8vIGFuIGV4dGVybmFsIGJhY2tpbmcgc3RvcmUgc28gdGhhdCB3ZSBjYW4gZnJlZXplIHRoZSB3aG9sZSBvYmplY3QuXG4gICAgLy8gVGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhIFdlYWtNYXAgb25jZSB0aGV5IGFyZSBpbXBsZW1lbnRlZCBpblxuICAgIC8vIGNvbW1vbmx5IHVzZWQgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzLlxuICAgIGVsZW1lbnQuX3N0b3JlID0ge307IC8vIFRvIG1ha2UgY29tcGFyaW5nIFJlYWN0RWxlbWVudHMgZWFzaWVyIGZvciB0ZXN0aW5nIHB1cnBvc2VzLCB3ZSBtYWtlXG4gICAgLy8gdGhlIHZhbGlkYXRpb24gZmxhZyBub24tZW51bWVyYWJsZSAod2hlcmUgcG9zc2libGUsIHdoaWNoIHNob3VsZFxuICAgIC8vIGluY2x1ZGUgZXZlcnkgZW52aXJvbm1lbnQgd2UgcnVuIHRlc3RzIGluKSwgc28gdGhlIHRlc3QgZnJhbWV3b3JrXG4gICAgLy8gaWdub3JlcyBpdC5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSk7IC8vIHNlbGYgYW5kIHNvdXJjZSBhcmUgREVWIG9ubHkgcHJvcGVydGllcy5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc2VsZlxuICAgIH0pOyAvLyBUd28gZWxlbWVudHMgY3JlYXRlZCBpbiB0d28gZGlmZmVyZW50IHBsYWNlcyBzaG91bGQgYmUgY29uc2lkZXJlZFxuICAgIC8vIGVxdWFsIGZvciB0ZXN0aW5nIHB1cnBvc2VzIGFuZCB0aGVyZWZvcmUgd2UgaGlkZSBpdCBmcm9tIGVudW1lcmF0aW9uLlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNvdXJjZVxuICAgIH0pO1xuXG4gICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudC5wcm9wcyk7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYodHlwZSwgY29uZmlnLCBtYXliZUtleSwgc291cmNlLCBzZWxmKSB7XG4gIHtcbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAgcmVmID0gY29uZmlnLnJlZjtcbiAgICAgIHdhcm5JZlN0cmluZ1JlZkNhbm5vdEJlQXV0b0NvbnZlcnRlZChjb25maWcsIHNlbGYpO1xuICAgIH0gLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIGEgbmV3IHByb3BzIG9iamVjdFxuXG5cbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH0gLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG5cblxuICAgIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZS5kZWZhdWx0UHJvcHM7XG5cbiAgICAgIGZvciAocHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa2V5IHx8IHJlZikge1xuICAgICAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bicgOiB0eXBlO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQsIHByb3BzKTtcbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIkMSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudE93bmVyO1xudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgZWxlbWVudC5fc291cmNlLCBvd25lciA/IG93bmVyLnR5cGUgOiBudWxsKTtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMS5zZXRFeHRyYVN0YWNrRnJhbWUoc3RhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd247XG5cbntcbiAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSBmYWxzZTtcbn1cbi8qKlxuICogVmVyaWZpZXMgdGhlIG9iamVjdCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjaXN2YWxpZGVsZW1lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBvYmplY3RgIGlzIGEgUmVhY3RFbGVtZW50LlxuICogQGZpbmFsXG4gKi9cblxuXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICB7XG4gICAgaWYgKFJlYWN0Q3VycmVudE93bmVyJDEuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIkMS5jdXJyZW50LnR5cGUpO1xuXG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSkge1xuICB7XG4gICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgZmlsZU5hbWUgPSBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpO1xuICAgICAgdmFyIGxpbmVOdW1iZXIgPSBzb3VyY2UubGluZU51bWJlcjtcbiAgICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgeW91ciBjb2RlIGF0ICcgKyBmaWxlTmFtZSArICc6JyArIGxpbmVOdW1iZXIgKyAnLic7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59XG4vKipcbiAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICogdXBkYXRlcy5cbiAqL1xuXG5cbnZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcblxuZnVuY3Rpb24gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICB2YXIgaW5mbyA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuXG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICB2YXIgcGFyZW50TmFtZSA9IHR5cGVvZiBwYXJlbnRUeXBlID09PSAnc3RyaW5nJyA/IHBhcmVudFR5cGUgOiBwYXJlbnRUeXBlLmRpc3BsYXlOYW1lIHx8IHBhcmVudFR5cGUubmFtZTtcblxuICAgICAgaWYgKHBhcmVudE5hbWUpIHtcbiAgICAgICAgaW5mbyA9IFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnROYW1lICsgXCI+LlwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbmZvO1xuICB9XG59XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9IGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSk7XG5cbiAgICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTsgLy8gVXN1YWxseSB0aGUgY3VycmVudCBvd25lciBpcyB0aGUgb2ZmZW5kZXIsIGJ1dCBpZiBpdCBhY2NlcHRzIGNoaWxkcmVuIGFzIGFcbiAgICAvLyBwcm9wZXJ0eSwgaXQgbWF5IGJlIHRoZSBjcmVhdG9yIG9mIHRoZSBjaGlsZCB0aGF0J3MgcmVzcG9uc2libGUgZm9yXG4gICAgLy8gYXNzaWduaW5nIGl0IGEga2V5LlxuXG4gICAgdmFyIGNoaWxkT3duZXIgPSAnJztcblxuICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuX293bmVyICYmIGVsZW1lbnQuX293bmVyICE9PSBSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQpIHtcbiAgICAgIC8vIEdpdmUgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuICAgICAgY2hpbGRPd25lciA9IFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGVsZW1lbnQuX293bmVyLnR5cGUpICsgXCIuXCI7XG4gICAgfVxuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkobm9kZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuXG4gICAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNWYWxpZEVsZW1lbnQobm9kZSkpIHtcbiAgICAgIC8vIFRoaXMgZWxlbWVudCB3YXMgcGFzc2VkIGluIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgICBpZiAobm9kZS5fc3RvcmUpIHtcbiAgICAgICAgbm9kZS5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihub2RlKTtcblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIEVudHJ5IGl0ZXJhdG9ycyB1c2VkIHRvIHByb3ZpZGUgaW1wbGljaXQga2V5cyxcbiAgICAgICAgLy8gYnV0IG5vdyB3ZSBwcmludCBhIHNlcGFyYXRlIHdhcm5pbmcgZm9yIHRoZW0gbGF0ZXIuXG4gICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobm9kZSk7XG4gICAgICAgICAgdmFyIHN0ZXA7XG5cbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShzdGVwLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYW4gZWxlbWVudCwgdmFsaWRhdGUgdGhhdCBpdHMgcHJvcHMgZm9sbG93IHRoZSBwcm9wVHlwZXMgZGVmaW5pdGlvbixcbiAqIHByb3ZpZGVkIGJ5IHRoZSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50XG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KSB7XG4gIHtcbiAgICB2YXIgdHlwZSA9IGVsZW1lbnQudHlwZTtcblxuICAgIGlmICh0eXBlID09PSBudWxsIHx8IHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcHJvcFR5cGVzO1xuXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fCAvLyBOb3RlOiBNZW1vIG9ubHkgY2hlY2tzIG91dGVyIHByb3BzIGhlcmUuXG4gICAgLy8gSW5uZXIgcHJvcHMgYXJlIGNoZWNrZWQgaW4gdGhlIHJlY29uY2lsZXIuXG4gICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFKSkge1xuICAgICAgcHJvcFR5cGVzID0gdHlwZS5wcm9wVHlwZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcFR5cGVzKSB7XG4gICAgICAvLyBJbnRlbnRpb25hbGx5IGluc2lkZSB0byBhdm9pZCB0cmlnZ2VyaW5nIGxhenkgaW5pdGlhbGl6ZXJzOlxuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICBjaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsICdwcm9wJywgbmFtZSwgZWxlbWVudCk7XG4gICAgfSBlbHNlIGlmICh0eXBlLlByb3BUeXBlcyAhPT0gdW5kZWZpbmVkICYmICFwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93bikge1xuICAgICAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSB0cnVlOyAvLyBJbnRlbnRpb25hbGx5IGluc2lkZSB0byBhdm9pZCB0cmlnZ2VyaW5nIGxhenkgaW5pdGlhbGl6ZXJzOlxuXG4gICAgICB2YXIgX25hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG5cbiAgICAgIGVycm9yKCdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBfbmFtZSB8fCAnVW5rbm93bicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdHlwZS5nZXREZWZhdWx0UHJvcHMgPT09ICdmdW5jdGlvbicgJiYgIXR5cGUuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkKSB7XG4gICAgICBlcnJvcignZ2V0RGVmYXVsdFByb3BzIGlzIG9ubHkgdXNlZCBvbiBjbGFzc2ljIFJlYWN0LmNyZWF0ZUNsYXNzICcgKyAnZGVmaW5pdGlvbnMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSBuYW1lZCBgZGVmYXVsdFByb3BzYCBpbnN0ZWFkLicpO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBHaXZlbiBhIGZyYWdtZW50LCB2YWxpZGF0ZSB0aGF0IGl0IGNhbiBvbmx5IGJlIHByb3ZpZGVkIHdpdGggZnJhZ21lbnQgcHJvcHNcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBmcmFnbWVudFxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVGcmFnbWVudFByb3BzKGZyYWdtZW50KSB7XG4gIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZyYWdtZW50LnByb3BzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmIChrZXkgIT09ICdjaGlsZHJlbicgJiYga2V5ICE9PSAna2V5Jykge1xuICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyYWdtZW50LnJlZiAhPT0gbnVsbCkge1xuICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShmcmFnbWVudCk7XG5cbiAgICAgIGVycm9yKCdJbnZhbGlkIGF0dHJpYnV0ZSBgcmVmYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLicpO1xuXG4gICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBqc3hXaXRoVmFsaWRhdGlvbih0eXBlLCBwcm9wcywga2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIHZhciB2YWxpZFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSk7IC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cblxuICAgIGlmICghdmFsaWRUeXBlKSB7XG4gICAgICB2YXIgaW5mbyA9ICcnO1xuXG4gICAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbmZvICs9ICcgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgJyArIFwiaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgc291cmNlSW5mbyA9IGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSk7XG5cbiAgICAgIGlmIChzb3VyY2VJbmZvKSB7XG4gICAgICAgIGluZm8gKz0gc291cmNlSW5mbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZm8gKz0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0eXBlU3RyaW5nO1xuXG4gICAgICBpZiAodHlwZSA9PT0gbnVsbCkge1xuICAgICAgICB0eXBlU3RyaW5nID0gJ251bGwnO1xuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHR5cGUpKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnYXJyYXknO1xuICAgICAgfSBlbHNlIGlmICh0eXBlICE9PSB1bmRlZmluZWQgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSBcIjxcIiArIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCAnVW5rbm93bicpICsgXCIgLz5cIjtcbiAgICAgICAgaW5mbyA9ICcgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IHR5cGVvZiB0eXBlO1xuICAgICAgfVxuXG4gICAgICBlcnJvcignUmVhY3QuanN4OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciAnICsgJ2J1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgJyArICdjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIHR5cGVTdHJpbmcsIGluZm8pO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50ID0ganN4REVWKHR5cGUsIHByb3BzLCBrZXksIHNvdXJjZSwgc2VsZik7IC8vIFRoZSByZXN1bHQgY2FuIGJlIG51bGxpc2ggaWYgYSBtb2NrIG9yIGEgY3VzdG9tIGZ1bmN0aW9uIGlzIHVzZWQuXG4gICAgLy8gVE9ETzogRHJvcCB0aGlzIHdoZW4gdGhlc2UgYXJlIG5vIGxvbmdlciBhbGxvd2VkIGFzIHRoZSB0eXBlIGFyZ3VtZW50LlxuXG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgIC8vIGRvZXNuJ3QgZXhwZWN0IGEgbm9uLXN0cmluZy9mdW5jdGlvbiB0eXBlIGFuZCBjYW4gdGhyb3cgY29uZnVzaW5nIGVycm9ycy5cbiAgICAvLyBXZSBkb24ndCB3YW50IGV4Y2VwdGlvbiBiZWhhdmlvciB0byBkaWZmZXIgYmV0d2VlbiBkZXYgYW5kIHByb2QuXG4gICAgLy8gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlIHR5cGUgaXNcbiAgICAvLyBmaXhlZCwgdGhlIGtleSB3YXJuaW5ncyB3aWxsIGFwcGVhci4pXG5cblxuICAgIGlmICh2YWxpZFR5cGUpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuXG4gICAgICBpZiAoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbikge1xuICAgICAgICAgIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbltpXSwgdHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICAgICAgICAgIE9iamVjdC5mcmVlemUoY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvcignUmVhY3QuanN4OiBTdGF0aWMgY2hpbGRyZW4gc2hvdWxkIGFsd2F5cyBiZSBhbiBhcnJheS4gJyArICdZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuICcgKyAnVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4sIHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbn0gLy8gVGhlc2UgdHdvIGZ1bmN0aW9ucyBleGlzdCB0byBzdGlsbCBnZXQgY2hpbGQgd2FybmluZ3MgaW4gZGV2XG5cbnZhciBqc3hERVYkMSA9ICBqc3hXaXRoVmFsaWRhdGlvbiA7XG5cbmV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuZXhwb3J0cy5qc3hERVYgPSBqc3hERVYkMTtcbiAgfSkoKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react/cjs/react-jsx-dev-runtime.development.js\n");

/***/ }),

/***/ "./node_modules/react/jsx-dev-runtime.js":
/*!***********************************************!*\
  !*** ./node_modules/react/jsx-dev-runtime.js ***!
  \***********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"./node_modules/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSx1SkFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcz81Nzc3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react/jsx-dev-runtime.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app!"), __webpack_exec__("./node_modules/next/dist/client/router.js"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);